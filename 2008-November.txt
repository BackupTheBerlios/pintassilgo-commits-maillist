From knitter at mail.berlios.de  Mon Nov  3 19:27:40 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Mon, 3 Nov 2008 19:27:40 +0100
Subject: [Pintassilgo-commits] r1 - / trunk trunk/docs trunk/docs/diagrams
	trunk/project trunk/project/core
	trunk/project/core/dataaccess trunk/project/core/model
	trunk/project/core/visual trunk/project/install
Message-ID: <200811031827.mA3IRe1i021440@sheep.berlios.de>

Author: knitter
Date: 2008-11-03 19:27:29 +0100 (Mon, 03 Nov 2008)
New Revision: 1

Added:
   branches/
   tags/
   trunk/
   trunk/docs/
   trunk/docs/CHANGELOG.txt
   trunk/docs/Convencoes.txt
   trunk/docs/LICENSE.txt
   trunk/docs/README.txt
   trunk/docs/TODO.txt
   trunk/docs/calendarizacao.gan
   trunk/docs/calendarizacao.png
   trunk/docs/diagrams/
   trunk/docs/diagrams/dgcCore.png
   trunk/docs/diagrams/dgcDataAc.png
   trunk/docs/diagrams/dgcGeral.png
   trunk/docs/diagrams/sdFlow.png
   trunk/languages/
   trunk/project/
   trunk/project/CHANGELOG.txt
   trunk/project/LICENSE.txt
   trunk/project/README.txt
   trunk/project/core/
   trunk/project/core/FeedAggregator.class.php
   trunk/project/core/dataaccess/
   trunk/project/core/dataaccess/DataManager.class.php
   trunk/project/core/dataaccess/MySQLDataManager.class.php
   trunk/project/core/model/
   trunk/project/core/model/Feed.php
   trunk/project/core/model/LogMessage.class.php
   trunk/project/core/model/User.class.php
   trunk/project/core/visual/
   trunk/project/core/visual/Engine.class.php
   trunk/project/i18n/
   trunk/project/index.php
   trunk/project/install/
   trunk/project/install/install.php
   trunk/project/templates/
Log:
First commit under berliOS. Added all the files in the assembla repository.

Added: trunk/docs/CHANGELOG.txt
===================================================================
--- trunk/docs/CHANGELOG.txt	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/docs/CHANGELOG.txt	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1 @@
+

Added: trunk/docs/Convencoes.txt
===================================================================
--- trunk/docs/Convencoes.txt	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/docs/Convencoes.txt	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,57 @@
+NOTA: Este documento ? apenas um rascunho que necessita de discuss?o.
+Nada aqui presente ser? considerado como definitivo.
+
+===== Conven??es Gerais =====
+As linhas de c?digo n?o dever?o ter mais de 80 caracteres. Embora sejam permitidas 
+linhas maiores, serve o n?mero como refer?ncia para que as linhas sejam o mais 
+uniformes poss?vel.
+
+Todos m?todos dever?o ser comentados, n?o devem ser submetido c?digo que n?o 
+tenha sido documentado.
+
+===== Conven??es de Documenta??o =====
+    Toda a documenta??o dever? ser escrita em Portugu?s.
+    
+===== Conven??es de C?digo =====
+1. Geral
+    Identa??o composta por 4 espa?os e n?o tabs.
+    O editor dever? estar configurado para UTF-8 com delimitadores de linha unix, '\n'.
+
+2. Nomenclatura: Ficheiro, classes, fun??es e vari?veis
+    Utilizar camel case e n?o underscores.
+    Vari?veis que representem vectores dever?o ser colocadas no plurarl, restantes 
+    dever?o ser no singular.
+
+3. Coment?rios
+    Estilo PHPDoc.
+        http://manual.phpdoc.org/HTMLSmartyConverter/HandS/phpDocumentor/tutorial_phpDocumentor.quickstart.pkg.html
+    Os coment?rios especiais indicados abaixo devem ser colocados quando adequado 
+    usando o coment?rio de linha. Dever?o ser curtos e consisos.
+    
+    TODO:
+    Indica??o de tarefa pendente.
+    
+    NOTE:
+    Indica??o de nota importante sobre a linha ou bloco de c?digo seguinte.
+    
+    BUG:
+    Indica??o de erro conhecido. Caso seja poss?vel deve ser indicado o link para 
+    um local de dicuss?o do erro ou c?digo do relat?rio de erro do sistema usado 
+    pela equipa.
+
+4. Estrutura do c?digo
+    As linhas devem ser quebras por volta da coluna 80. O valor n?o ? restritivo 
+    mas deve ser seguido.
+    As strings devem ser delimitadas por plicas, '.
+    Todas as fun??es e vari?veis devem ter a sua visibilidade explicitamente indicada.
+    Os operadores devem conter um espa?o antes e um depois.
+    Ao serem quebradas, as linhas devem s?-lo ap?s os operadores.
+    N?o devem ser usados overload dos m?todos especiais __get e __set
+
+5. Outros
+    O uso de parentisis em operadores tern?rios fica ? descri??o do programador.
+    ? no entanto aconselhado que seja usados parentisis apenas quando se torna 
+    mais simples a leitura do c?digo.
+    
+===== Exemplos =====
+

Added: trunk/docs/LICENSE.txt
===================================================================
--- trunk/docs/LICENSE.txt	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/docs/LICENSE.txt	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,661 @@
+                    GNU AFFERO GENERAL PUBLIC LICENSE
+                       Version 3, 19 November 2007
+
+ Copyright (C) 2007 Free Software Foundation, Inc. <http://fsf.org/>
+ Everyone is permitted to copy and distribute verbatim copies
+ of this license document, but changing it is not allowed.
+
+                            Preamble
+
+  The GNU Affero General Public License is a free, copyleft license for
+software and other kinds of works, specifically designed to ensure
+cooperation with the community in the case of network server software.
+
+  The licenses for most software and other practical works are designed
+to take away your freedom to share and change the works.  By contrast,
+our General Public Licenses are intended to guarantee your freedom to
+share and change all versions of a program--to make sure it remains free
+software for all its users.
+
+  When we speak of free software, we are referring to freedom, not
+price.  Our General Public Licenses are designed to make sure that you
+have the freedom to distribute copies of free software (and charge for
+them if you wish), that you receive source code or can get it if you
+want it, that you can change the software or use pieces of it in new
+free programs, and that you know you can do these things.
+
+  Developers that use our General Public Licenses protect your rights
+with two steps: (1) assert copyright on the software, and (2) offer
+you this License which gives you legal permission to copy, distribute
+and/or modify the software.
+
+  A secondary benefit of defending all users' freedom is that
+improvements made in alternate versions of the program, if they
+receive widespread use, become available for other developers to
+incorporate.  Many developers of free software are heartened and
+encouraged by the resulting cooperation.  However, in the case of
+software used on network servers, this result may fail to come about.
+The GNU General Public License permits making a modified version and
+letting the public access it on a server without ever releasing its
+source code to the public.
+
+  The GNU Affero General Public License is designed specifically to
+ensure that, in such cases, the modified source code becomes available
+to the community.  It requires the operator of a network server to
+provide the source code of the modified version running there to the
+users of that server.  Therefore, public use of a modified version, on
+a publicly accessible server, gives the public access to the source
+code of the modified version.
+
+  An older license, called the Affero General Public License and
+published by Affero, was designed to accomplish similar goals.  This is
+a different license, not a version of the Affero GPL, but Affero has
+released a new version of the Affero GPL which permits relicensing under
+this license.
+
+  The precise terms and conditions for copying, distribution and
+modification follow.
+
+                       TERMS AND CONDITIONS
+
+  0. Definitions.
+
+  "This License" refers to version 3 of the GNU Affero General Public License.
+
+  "Copyright" also means copyright-like laws that apply to other kinds of
+works, such as semiconductor masks.
+
+  "The Program" refers to any copyrightable work licensed under this
+License.  Each licensee is addressed as "you".  "Licensees" and
+"recipients" may be individuals or organizations.
+
+  To "modify" a work means to copy from or adapt all or part of the work
+in a fashion requiring copyright permission, other than the making of an
+exact copy.  The resulting work is called a "modified version" of the
+earlier work or a work "based on" the earlier work.
+
+  A "covered work" means either the unmodified Program or a work based
+on the Program.
+
+  To "propagate" a work means to do anything with it that, without
+permission, would make you directly or secondarily liable for
+infringement under applicable copyright law, except executing it on a
+computer or modifying a private copy.  Propagation includes copying,
+distribution (with or without modification), making available to the
+public, and in some countries other activities as well.
+
+  To "convey" a work means any kind of propagation that enables other
+parties to make or receive copies.  Mere interaction with a user through
+a computer network, with no transfer of a copy, is not conveying.
+
+  An interactive user interface displays "Appropriate Legal Notices"
+to the extent that it includes a convenient and prominently visible
+feature that (1) displays an appropriate copyright notice, and (2)
+tells the user that there is no warranty for the work (except to the
+extent that warranties are provided), that licensees may convey the
+work under this License, and how to view a copy of this License.  If
+the interface presents a list of user commands or options, such as a
+menu, a prominent item in the list meets this criterion.
+
+  1. Source Code.
+
+  The "source code" for a work means the preferred form of the work
+for making modifications to it.  "Object code" means any non-source
+form of a work.
+
+  A "Standard Interface" means an interface that either is an official
+standard defined by a recognized standards body, or, in the case of
+interfaces specified for a particular programming language, one that
+is widely used among developers working in that language.
+
+  The "System Libraries" of an executable work include anything, other
+than the work as a whole, that (a) is included in the normal form of
+packaging a Major Component, but which is not part of that Major
+Component, and (b) serves only to enable use of the work with that
+Major Component, or to implement a Standard Interface for which an
+implementation is available to the public in source code form.  A
+"Major Component", in this context, means a major essential component
+(kernel, window system, and so on) of the specific operating system
+(if any) on which the executable work runs, or a compiler used to
+produce the work, or an object code interpreter used to run it.
+
+  The "Corresponding Source" for a work in object code form means all
+the source code needed to generate, install, and (for an executable
+work) run the object code and to modify the work, including scripts to
+control those activities.  However, it does not include the work's
+System Libraries, or general-purpose tools or generally available free
+programs which are used unmodified in performing those activities but
+which are not part of the work.  For example, Corresponding Source
+includes interface definition files associated with source files for
+the work, and the source code for shared libraries and dynamically
+linked subprograms that the work is specifically designed to require,
+such as by intimate data communication or control flow between those
+subprograms and other parts of the work.
+
+  The Corresponding Source need not include anything that users
+can regenerate automatically from other parts of the Corresponding
+Source.
+
+  The Corresponding Source for a work in source code form is that
+same work.
+
+  2. Basic Permissions.
+
+  All rights granted under this License are granted for the term of
+copyright on the Program, and are irrevocable provided the stated
+conditions are met.  This License explicitly affirms your unlimited
+permission to run the unmodified Program.  The output from running a
+covered work is covered by this License only if the output, given its
+content, constitutes a covered work.  This License acknowledges your
+rights of fair use or other equivalent, as provided by copyright law.
+
+  You may make, run and propagate covered works that you do not
+convey, without conditions so long as your license otherwise remains
+in force.  You may convey covered works to others for the sole purpose
+of having them make modifications exclusively for you, or provide you
+with facilities for running those works, provided that you comply with
+the terms of this License in conveying all material for which you do
+not control copyright.  Those thus making or running the covered works
+for you must do so exclusively on your behalf, under your direction
+and control, on terms that prohibit them from making any copies of
+your copyrighted material outside their relationship with you.
+
+  Conveying under any other circumstances is permitted solely under
+the conditions stated below.  Sublicensing is not allowed; section 10
+makes it unnecessary.
+
+  3. Protecting Users' Legal Rights From Anti-Circumvention Law.
+
+  No covered work shall be deemed part of an effective technological
+measure under any applicable law fulfilling obligations under article
+11 of the WIPO copyright treaty adopted on 20 December 1996, or
+similar laws prohibiting or restricting circumvention of such
+measures.
+
+  When you convey a covered work, you waive any legal power to forbid
+circumvention of technological measures to the extent such circumvention
+is effected by exercising rights under this License with respect to
+the covered work, and you disclaim any intention to limit operation or
+modification of the work as a means of enforcing, against the work's
+users, your or third parties' legal rights to forbid circumvention of
+technological measures.
+
+  4. Conveying Verbatim Copies.
+
+  You may convey verbatim copies of the Program's source code as you
+receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice;
+keep intact all notices stating that this License and any
+non-permissive terms added in accord with section 7 apply to the code;
+keep intact all notices of the absence of any warranty; and give all
+recipients a copy of this License along with the Program.
+
+  You may charge any price or no price for each copy that you convey,
+and you may offer support or warranty protection for a fee.
+
+  5. Conveying Modified Source Versions.
+
+  You may convey a work based on the Program, or the modifications to
+produce it from the Program, in the form of source code under the
+terms of section 4, provided that you also meet all of these conditions:
+
+    a) The work must carry prominent notices stating that you modified
+    it, and giving a relevant date.
+
+    b) The work must carry prominent notices stating that it is
+    released under this License and any conditions added under section
+    7.  This requirement modifies the requirement in section 4 to
+    "keep intact all notices".
+
+    c) You must license the entire work, as a whole, under this
+    License to anyone who comes into possession of a copy.  This
+    License will therefore apply, along with any applicable section 7
+    additional terms, to the whole of the work, and all its parts,
+    regardless of how they are packaged.  This License gives no
+    permission to license the work in any other way, but it does not
+    invalidate such permission if you have separately received it.
+
+    d) If the work has interactive user interfaces, each must display
+    Appropriate Legal Notices; however, if the Program has interactive
+    interfaces that do not display Appropriate Legal Notices, your
+    work need not make them do so.
+
+  A compilation of a covered work with other separate and independent
+works, which are not by their nature extensions of the covered work,
+and which are not combined with it such as to form a larger program,
+in or on a volume of a storage or distribution medium, is called an
+"aggregate" if the compilation and its resulting copyright are not
+used to limit the access or legal rights of the compilation's users
+beyond what the individual works permit.  Inclusion of a covered work
+in an aggregate does not cause this License to apply to the other
+parts of the aggregate.
+
+  6. Conveying Non-Source Forms.
+
+  You may convey a covered work in object code form under the terms
+of sections 4 and 5, provided that you also convey the
+machine-readable Corresponding Source under the terms of this License,
+in one of these ways:
+
+    a) Convey the object code in, or embodied in, a physical product
+    (including a physical distribution medium), accompanied by the
+    Corresponding Source fixed on a durable physical medium
+    customarily used for software interchange.
+
+    b) Convey the object code in, or embodied in, a physical product
+    (including a physical distribution medium), accompanied by a
+    written offer, valid for at least three years and valid for as
+    long as you offer spare parts or customer support for that product
+    model, to give anyone who possesses the object code either (1) a
+    copy of the Corresponding Source for all the software in the
+    product that is covered by this License, on a durable physical
+    medium customarily used for software interchange, for a price no
+    more than your reasonable cost of physically performing this
+    conveying of source, or (2) access to copy the
+    Corresponding Source from a network server at no charge.
+
+    c) Convey individual copies of the object code with a copy of the
+    written offer to provide the Corresponding Source.  This
+    alternative is allowed only occasionally and noncommercially, and
+    only if you received the object code with such an offer, in accord
+    with subsection 6b.
+
+    d) Convey the object code by offering access from a designated
+    place (gratis or for a charge), and offer equivalent access to the
+    Corresponding Source in the same way through the same place at no
+    further charge.  You need not require recipients to copy the
+    Corresponding Source along with the object code.  If the place to
+    copy the object code is a network server, the Corresponding Source
+    may be on a different server (operated by you or a third party)
+    that supports equivalent copying facilities, provided you maintain
+    clear directions next to the object code saying where to find the
+    Corresponding Source.  Regardless of what server hosts the
+    Corresponding Source, you remain obligated to ensure that it is
+    available for as long as needed to satisfy these requirements.
+
+    e) Convey the object code using peer-to-peer transmission, provided
+    you inform other peers where the object code and Corresponding
+    Source of the work are being offered to the general public at no
+    charge under subsection 6d.
+
+  A separable portion of the object code, whose source code is excluded
+from the Corresponding Source as a System Library, need not be
+included in conveying the object code work.
+
+  A "User Product" is either (1) a "consumer product", which means any
+tangible personal property which is normally used for personal, family,
+or household purposes, or (2) anything designed or sold for incorporation
+into a dwelling.  In determining whether a product is a consumer product,
+doubtful cases shall be resolved in favor of coverage.  For a particular
+product received by a particular user, "normally used" refers to a
+typical or common use of that class of product, regardless of the status
+of the particular user or of the way in which the particular user
+actually uses, or expects or is expected to use, the product.  A product
+is a consumer product regardless of whether the product has substantial
+commercial, industrial or non-consumer uses, unless such uses represent
+the only significant mode of use of the product.
+
+  "Installation Information" for a User Product means any methods,
+procedures, authorization keys, or other information required to install
+and execute modified versions of a covered work in that User Product from
+a modified version of its Corresponding Source.  The information must
+suffice to ensure that the continued functioning of the modified object
+code is in no case prevented or interfered with solely because
+modification has been made.
+
+  If you convey an object code work under this section in, or with, or
+specifically for use in, a User Product, and the conveying occurs as
+part of a transaction in which the right of possession and use of the
+User Product is transferred to the recipient in perpetuity or for a
+fixed term (regardless of how the transaction is characterized), the
+Corresponding Source conveyed under this section must be accompanied
+by the Installation Information.  But this requirement does not apply
+if neither you nor any third party retains the ability to install
+modified object code on the User Product (for example, the work has
+been installed in ROM).
+
+  The requirement to provide Installation Information does not include a
+requirement to continue to provide support service, warranty, or updates
+for a work that has been modified or installed by the recipient, or for
+the User Product in which it has been modified or installed.  Access to a
+network may be denied when the modification itself materially and
+adversely affects the operation of the network or violates the rules and
+protocols for communication across the network.
+
+  Corresponding Source conveyed, and Installation Information provided,
+in accord with this section must be in a format that is publicly
+documented (and with an implementation available to the public in
+source code form), and must require no special password or key for
+unpacking, reading or copying.
+
+  7. Additional Terms.
+
+  "Additional permissions" are terms that supplement the terms of this
+License by making exceptions from one or more of its conditions.
+Additional permissions that are applicable to the entire Program shall
+be treated as though they were included in this License, to the extent
+that they are valid under applicable law.  If additional permissions
+apply only to part of the Program, that part may be used separately
+under those permissions, but the entire Program remains governed by
+this License without regard to the additional permissions.
+
+  When you convey a copy of a covered work, you may at your option
+remove any additional permissions from that copy, or from any part of
+it.  (Additional permissions may be written to require their own
+removal in certain cases when you modify the work.)  You may place
+additional permissions on material, added by you to a covered work,
+for which you have or can give appropriate copyright permission.
+
+  Notwithstanding any other provision of this License, for material you
+add to a covered work, you may (if authorized by the copyright holders of
+that material) supplement the terms of this License with terms:
+
+    a) Disclaiming warranty or limiting liability differently from the
+    terms of sections 15 and 16 of this License; or
+
+    b) Requiring preservation of specified reasonable legal notices or
+    author attributions in that material or in the Appropriate Legal
+    Notices displayed by works containing it; or
+
+    c) Prohibiting misrepresentation of the origin of that material, or
+    requiring that modified versions of such material be marked in
+    reasonable ways as different from the original version; or
+
+    d) Limiting the use for publicity purposes of names of licensors or
+    authors of the material; or
+
+    e) Declining to grant rights under trademark law for use of some
+    trade names, trademarks, or service marks; or
+
+    f) Requiring indemnification of licensors and authors of that
+    material by anyone who conveys the material (or modified versions of
+    it) with contractual assumptions of liability to the recipient, for
+    any liability that these contractual assumptions directly impose on
+    those licensors and authors.
+
+  All other non-permissive additional terms are considered "further
+restrictions" within the meaning of section 10.  If the Program as you
+received it, or any part of it, contains a notice stating that it is
+governed by this License along with a term that is a further
+restriction, you may remove that term.  If a license document contains
+a further restriction but permits relicensing or conveying under this
+License, you may add to a covered work material governed by the terms
+of that license document, provided that the further restriction does
+not survive such relicensing or conveying.
+
+  If you add terms to a covered work in accord with this section, you
+must place, in the relevant source files, a statement of the
+additional terms that apply to those files, or a notice indicating
+where to find the applicable terms.
+
+  Additional terms, permissive or non-permissive, may be stated in the
+form of a separately written license, or stated as exceptions;
+the above requirements apply either way.
+
+  8. Termination.
+
+  You may not propagate or modify a covered work except as expressly
+provided under this License.  Any attempt otherwise to propagate or
+modify it is void, and will automatically terminate your rights under
+this License (including any patent licenses granted under the third
+paragraph of section 11).
+
+  However, if you cease all violation of this License, then your
+license from a particular copyright holder is reinstated (a)
+provisionally, unless and until the copyright holder explicitly and
+finally terminates your license, and (b) permanently, if the copyright
+holder fails to notify you of the violation by some reasonable means
+prior to 60 days after the cessation.
+
+  Moreover, your license from a particular copyright holder is
+reinstated permanently if the copyright holder notifies you of the
+violation by some reasonable means, this is the first time you have
+received notice of violation of this License (for any work) from that
+copyright holder, and you cure the violation prior to 30 days after
+your receipt of the notice.
+
+  Termination of your rights under this section does not terminate the
+licenses of parties who have received copies or rights from you under
+this License.  If your rights have been terminated and not permanently
+reinstated, you do not qualify to receive new licenses for the same
+material under section 10.
+
+  9. Acceptance Not Required for Having Copies.
+
+  You are not required to accept this License in order to receive or
+run a copy of the Program.  Ancillary propagation of a covered work
+occurring solely as a consequence of using peer-to-peer transmission
+to receive a copy likewise does not require acceptance.  However,
+nothing other than this License grants you permission to propagate or
+modify any covered work.  These actions infringe copyright if you do
+not accept this License.  Therefore, by modifying or propagating a
+covered work, you indicate your acceptance of this License to do so.
+
+  10. Automatic Licensing of Downstream Recipients.
+
+  Each time you convey a covered work, the recipient automatically
+receives a license from the original licensors, to run, modify and
+propagate that work, subject to this License.  You are not responsible
+for enforcing compliance by third parties with this License.
+
+  An "entity transaction" is a transaction transferring control of an
+organization, or substantially all assets of one, or subdividing an
+organization, or merging organizations.  If propagation of a covered
+work results from an entity transaction, each party to that
+transaction who receives a copy of the work also receives whatever
+licenses to the work the party's predecessor in interest had or could
+give under the previous paragraph, plus a right to possession of the
+Corresponding Source of the work from the predecessor in interest, if
+the predecessor has it or can get it with reasonable efforts.
+
+  You may not impose any further restrictions on the exercise of the
+rights granted or affirmed under this License.  For example, you may
+not impose a license fee, royalty, or other charge for exercise of
+rights granted under this License, and you may not initiate litigation
+(including a cross-claim or counterclaim in a lawsuit) alleging that
+any patent claim is infringed by making, using, selling, offering for
+sale, or importing the Program or any portion of it.
+
+  11. Patents.
+
+  A "contributor" is a copyright holder who authorizes use under this
+License of the Program or a work on which the Program is based.  The
+work thus licensed is called the contributor's "contributor version".
+
+  A contributor's "essential patent claims" are all patent claims
+owned or controlled by the contributor, whether already acquired or
+hereafter acquired, that would be infringed by some manner, permitted
+by this License, of making, using, or selling its contributor version,
+but do not include claims that would be infringed only as a
+consequence of further modification of the contributor version.  For
+purposes of this definition, "control" includes the right to grant
+patent sublicenses in a manner consistent with the requirements of
+this License.
+
+  Each contributor grants you a non-exclusive, worldwide, royalty-free
+patent license under the contributor's essential patent claims, to
+make, use, sell, offer for sale, import and otherwise run, modify and
+propagate the contents of its contributor version.
+
+  In the following three paragraphs, a "patent license" is any express
+agreement or commitment, however denominated, not to enforce a patent
+(such as an express permission to practice a patent or covenant not to
+sue for patent infringement).  To "grant" such a patent license to a
+party means to make such an agreement or commitment not to enforce a
+patent against the party.
+
+  If you convey a covered work, knowingly relying on a patent license,
+and the Corresponding Source of the work is not available for anyone
+to copy, free of charge and under the terms of this License, through a
+publicly available network server or other readily accessible means,
+then you must either (1) cause the Corresponding Source to be so
+available, or (2) arrange to deprive yourself of the benefit of the
+patent license for this particular work, or (3) arrange, in a manner
+consistent with the requirements of this License, to extend the patent
+license to downstream recipients.  "Knowingly relying" means you have
+actual knowledge that, but for the patent license, your conveying the
+covered work in a country, or your recipient's use of the covered work
+in a country, would infringe one or more identifiable patents in that
+country that you have reason to believe are valid.
+
+  If, pursuant to or in connection with a single transaction or
+arrangement, you convey, or propagate by procuring conveyance of, a
+covered work, and grant a patent license to some of the parties
+receiving the covered work authorizing them to use, propagate, modify
+or convey a specific copy of the covered work, then the patent license
+you grant is automatically extended to all recipients of the covered
+work and works based on it.
+
+  A patent license is "discriminatory" if it does not include within
+the scope of its coverage, prohibits the exercise of, or is
+conditioned on the non-exercise of one or more of the rights that are
+specifically granted under this License.  You may not convey a covered
+work if you are a party to an arrangement with a third party that is
+in the business of distributing software, under which you make payment
+to the third party based on the extent of your activity of conveying
+the work, and under which the third party grants, to any of the
+parties who would receive the covered work from you, a discriminatory
+patent license (a) in connection with copies of the covered work
+conveyed by you (or copies made from those copies), or (b) primarily
+for and in connection with specific products or compilations that
+contain the covered work, unless you entered into that arrangement,
+or that patent license was granted, prior to 28 March 2007.
+
+  Nothing in this License shall be construed as excluding or limiting
+any implied license or other defenses to infringement that may
+otherwise be available to you under applicable patent law.
+
+  12. No Surrender of Others' Freedom.
+
+  If conditions are imposed on you (whether by court order, agreement or
+otherwise) that contradict the conditions of this License, they do not
+excuse you from the conditions of this License.  If you cannot convey a
+covered work so as to satisfy simultaneously your obligations under this
+License and any other pertinent obligations, then as a consequence you may
+not convey it at all.  For example, if you agree to terms that obligate you
+to collect a royalty for further conveying from those to whom you convey
+the Program, the only way you could satisfy both those terms and this
+License would be to refrain entirely from conveying the Program.
+
+  13. Remote Network Interaction; Use with the GNU General Public License.
+
+  Notwithstanding any other provision of this License, if you modify the
+Program, your modified version must prominently offer all users
+interacting with it remotely through a computer network (if your version
+supports such interaction) an opportunity to receive the Corresponding
+Source of your version by providing access to the Corresponding Source
+from a network server at no charge, through some standard or customary
+means of facilitating copying of software.  This Corresponding Source
+shall include the Corresponding Source for any work covered by version 3
+of the GNU General Public License that is incorporated pursuant to the
+following paragraph.
+
+  Notwithstanding any other provision of this License, you have
+permission to link or combine any covered work with a work licensed
+under version 3 of the GNU General Public License into a single
+combined work, and to convey the resulting work.  The terms of this
+License will continue to apply to the part which is the covered work,
+but the work with which it is combined will remain governed by version
+3 of the GNU General Public License.
+
+  14. Revised Versions of this License.
+
+  The Free Software Foundation may publish revised and/or new versions of
+the GNU Affero General Public License from time to time.  Such new versions
+will be similar in spirit to the present version, but may differ in detail to
+address new problems or concerns.
+
+  Each version is given a distinguishing version number.  If the
+Program specifies that a certain numbered version of the GNU Affero General
+Public License "or any later version" applies to it, you have the
+option of following the terms and conditions either of that numbered
+version or of any later version published by the Free Software
+Foundation.  If the Program does not specify a version number of the
+GNU Affero General Public License, you may choose any version ever published
+by the Free Software Foundation.
+
+  If the Program specifies that a proxy can decide which future
+versions of the GNU Affero General Public License can be used, that proxy's
+public statement of acceptance of a version permanently authorizes you
+to choose that version for the Program.
+
+  Later license versions may give you additional or different
+permissions.  However, no additional obligations are imposed on any
+author or copyright holder as a result of your choosing to follow a
+later version.
+
+  15. Disclaimer of Warranty.
+
+  THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
+APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
+HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY
+OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,
+THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM
+IS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF
+ALL NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+  16. Limitation of Liability.
+
+  IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
+WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS
+THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY
+GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE
+USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF
+DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD
+PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),
+EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF
+SUCH DAMAGES.
+
+  17. Interpretation of Sections 15 and 16.
+
+  If the disclaimer of warranty and limitation of liability provided
+above cannot be given local legal effect according to their terms,
+reviewing courts shall apply local law that most closely approximates
+an absolute waiver of all civil liability in connection with the
+Program, unless a warranty or assumption of liability accompanies a
+copy of the Program in return for a fee.
+
+                     END OF TERMS AND CONDITIONS
+
+            How to Apply These Terms to Your New Programs
+
+  If you develop a new program, and you want it to be of the greatest
+possible use to the public, the best way to achieve this is to make it
+free software which everyone can redistribute and change under these terms.
+
+  To do so, attach the following notices to the program.  It is safest
+to attach them to the start of each source file to most effectively
+state the exclusion of warranty; and each file should have at least
+the "copyright" line and a pointer to where the full notice is found.
+
+    <one line to give the program's name and a brief idea of what it does.>
+    Copyright (C) <year>  <name of author>
+
+    This program is free software: you can redistribute it and/or modify
+    it under the terms of the GNU Affero General Public License as published by
+    the Free Software Foundation, either version 3 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU Affero General Public License for more details.
+
+    You should have received a copy of the GNU Affero General Public License
+    along with this program.  If not, see <http://www.gnu.org/licenses/>.
+
+Also add information on how to contact you by electronic and paper mail.
+
+  If your software can interact with users remotely through a computer
+network, you should also make sure that it provides a way for users to
+get its source.  For example, if your program is a web application, its
+interface could display a "Source" link that leads users to an archive
+of the code.  There are many ways you could offer source, and different
+solutions will be better for different programs; see section 13 for the
+specific requirements.
+
+  You should also get your employer (if you work as a programmer) or school,
+if any, to sign a "copyright disclaimer" for the program, if necessary.
+For more information on this, and how to apply and follow the GNU AGPL, see
+<http://www.gnu.org/licenses/>.

Added: trunk/docs/README.txt
===================================================================
--- trunk/docs/README.txt	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/docs/README.txt	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1 @@
+TODO: criar descri??o do projecto, estado actual, descri??o da equipa, etc.

Added: trunk/docs/TODO.txt
===================================================================
--- trunk/docs/TODO.txt	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/docs/TODO.txt	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,8 @@
+Adicionar um header com a licen?a a todos os ficheiros existentes de c?digo.
+Completar conven??es
+Criar diagramas e documenta??o de apoio que se julgar necess?ria.
+Configurar o sistema de testes de unidade, simpletest, http://www.simpletest.org/.
+Encontrar imagens e outros ficheiros que possam ser usados pelo projecto
+    @Knitter: Ver pastas de ?cones GPL.
+Adicionar contactos, criar fontes de contacto no P at P, falar com o HecKel sobre 
+ter uma p?gina de apresenta??o e um email.

Added: trunk/docs/calendarizacao.gan
===================================================================
--- trunk/docs/calendarizacao.gan	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/docs/calendarizacao.gan	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,55 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project name="Untitled Gantt Project" company="" webLink="http://" view-date="2008-09-28" view-index="0" gantt-divider-location="288" resource-divider-location="-1" version="2.0">
+    <description/>
+    <view zooming-state="default:2" id="gantt-chart"/>
+    <view id="resource-table">
+        <field id="0" name="Name" width="55" order="0"/>
+        <field id="1" name="Default role" width="44" order="0"/>
+    </view>
+    <!-- -->
+    <calendars>
+        <day-types>
+            <day-type id="0"/>
+            <day-type id="1"/>
+            <calendar id="1" name="default">
+                <default-week sun="1" mon="0" tue="0" wed="0" thu="0" fri="0" sat="1"/>
+                <overriden-day-types/>
+                <days/>
+            </calendar>
+        </day-types>
+    </calendars>
+    <tasks color="#8cb6ce">
+        <taskproperties>
+            <taskproperty id="tpd0" name="type" type="default" valuetype="icon"/>
+            <taskproperty id="tpd1" name="priority" type="default" valuetype="icon"/>
+            <taskproperty id="tpd2" name="info" type="default" valuetype="icon"/>
+            <taskproperty id="tpd3" name="name" type="default" valuetype="text"/>
+            <taskproperty id="tpd4" name="begindate" type="default" valuetype="date"/>
+            <taskproperty id="tpd5" name="enddate" type="default" valuetype="date"/>
+            <taskproperty id="tpd6" name="duration" type="default" valuetype="int"/>
+            <taskproperty id="tpd7" name="completion" type="default" valuetype="int"/>
+            <taskproperty id="tpd8" name="coordinator" type="default" valuetype="text"/>
+            <taskproperty id="tpd9" name="predecessorsr" type="default" valuetype="text"/>
+        </taskproperties>
+        <task id="0" name="Iterac?o 1" color="#8cb6ce" meeting="false" start="2008-06-27" duration="4" complete="0" priority="1" expand="true"/>
+        <task id="1" name="Iterac?o 2" color="#8cb6ce" meeting="false" start="2008-07-03" duration="12" complete="0" priority="1" expand="true"/>
+        <task id="2" name="Iterac?o 3" color="#8cb6ce" meeting="false" start="2008-07-21" duration="10" complete="0" priority="1" expand="true"/>
+        <task id="3" name="Itera??o 4" color="#8cb6ce" meeting="false" start="2008-08-04" duration="10" complete="0" priority="1" expand="true"/>
+        <task id="4" name="Itera??o 5" color="#8cb6ce" meeting="false" start="2008-08-18" duration="10" complete="0" priority="1" expand="true"/>
+        <task id="5" name="Itera??o 6" color="#8cb6ce" meeting="false" start="2008-09-01" duration="10" complete="0" priority="1" expand="true"/>
+        <task id="6" name="Itera??o 7" color="#8cb6ce" meeting="false" start="2008-09-15" duration="10" complete="0" priority="1" expand="true"/>
+        <task id="7" name="Itera??o 8" color="#8cb6ce" meeting="false" start="2008-09-29" duration="10" complete="0" priority="1" expand="true"/>
+        <task id="8" name="Itera??o 9" color="#8cb6ce" meeting="false" start="2008-10-13" duration="10" complete="0" priority="1" expand="true"/>
+    </tasks>
+    <resources/>
+    <allocations/>
+    <vacations/>
+    <taskdisplaycolumns>
+        <displaycolumn property-id="tpd3" order="0" width="75"/>
+        <displaycolumn property-id="tpd4" order="1" width="75"/>
+        <displaycolumn property-id="tpd5" order="2" width="75"/>
+    </taskdisplaycolumns>
+    <previous/>
+    <roles roleset-name="Default"/>
+    <roles roleset-name="SoftwareDevelopment"/>
+</project>

Added: trunk/docs/calendarizacao.png
===================================================================
(Binary files differ)


Property changes on: trunk/docs/calendarizacao.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/diagrams/dgcCore.png
===================================================================
(Binary files differ)


Property changes on: trunk/docs/diagrams/dgcCore.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/diagrams/dgcDataAc.png
===================================================================
(Binary files differ)


Property changes on: trunk/docs/diagrams/dgcDataAc.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/diagrams/dgcGeral.png
===================================================================
(Binary files differ)


Property changes on: trunk/docs/diagrams/dgcGeral.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/diagrams/sdFlow.png
===================================================================
(Binary files differ)


Property changes on: trunk/docs/diagrams/sdFlow.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/project/CHANGELOG.txt
===================================================================
--- trunk/project/CHANGELOG.txt	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/CHANGELOG.txt	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,3 @@
+ at 27-09-2008
+Inicio da cria??o de documenta??o, linhas orientadoras para o desenvolvimento e 
+estrutura base do sistema.

Added: trunk/project/LICENSE.txt
===================================================================
--- trunk/project/LICENSE.txt	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/LICENSE.txt	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,661 @@
+                    GNU AFFERO GENERAL PUBLIC LICENSE
+                       Version 3, 19 November 2007
+
+ Copyright (C) 2007 Free Software Foundation, Inc. <http://fsf.org/>
+ Everyone is permitted to copy and distribute verbatim copies
+ of this license document, but changing it is not allowed.
+
+                            Preamble
+
+  The GNU Affero General Public License is a free, copyleft license for
+software and other kinds of works, specifically designed to ensure
+cooperation with the community in the case of network server software.
+
+  The licenses for most software and other practical works are designed
+to take away your freedom to share and change the works.  By contrast,
+our General Public Licenses are intended to guarantee your freedom to
+share and change all versions of a program--to make sure it remains free
+software for all its users.
+
+  When we speak of free software, we are referring to freedom, not
+price.  Our General Public Licenses are designed to make sure that you
+have the freedom to distribute copies of free software (and charge for
+them if you wish), that you receive source code or can get it if you
+want it, that you can change the software or use pieces of it in new
+free programs, and that you know you can do these things.
+
+  Developers that use our General Public Licenses protect your rights
+with two steps: (1) assert copyright on the software, and (2) offer
+you this License which gives you legal permission to copy, distribute
+and/or modify the software.
+
+  A secondary benefit of defending all users' freedom is that
+improvements made in alternate versions of the program, if they
+receive widespread use, become available for other developers to
+incorporate.  Many developers of free software are heartened and
+encouraged by the resulting cooperation.  However, in the case of
+software used on network servers, this result may fail to come about.
+The GNU General Public License permits making a modified version and
+letting the public access it on a server without ever releasing its
+source code to the public.
+
+  The GNU Affero General Public License is designed specifically to
+ensure that, in such cases, the modified source code becomes available
+to the community.  It requires the operator of a network server to
+provide the source code of the modified version running there to the
+users of that server.  Therefore, public use of a modified version, on
+a publicly accessible server, gives the public access to the source
+code of the modified version.
+
+  An older license, called the Affero General Public License and
+published by Affero, was designed to accomplish similar goals.  This is
+a different license, not a version of the Affero GPL, but Affero has
+released a new version of the Affero GPL which permits relicensing under
+this license.
+
+  The precise terms and conditions for copying, distribution and
+modification follow.
+
+                       TERMS AND CONDITIONS
+
+  0. Definitions.
+
+  "This License" refers to version 3 of the GNU Affero General Public License.
+
+  "Copyright" also means copyright-like laws that apply to other kinds of
+works, such as semiconductor masks.
+
+  "The Program" refers to any copyrightable work licensed under this
+License.  Each licensee is addressed as "you".  "Licensees" and
+"recipients" may be individuals or organizations.
+
+  To "modify" a work means to copy from or adapt all or part of the work
+in a fashion requiring copyright permission, other than the making of an
+exact copy.  The resulting work is called a "modified version" of the
+earlier work or a work "based on" the earlier work.
+
+  A "covered work" means either the unmodified Program or a work based
+on the Program.
+
+  To "propagate" a work means to do anything with it that, without
+permission, would make you directly or secondarily liable for
+infringement under applicable copyright law, except executing it on a
+computer or modifying a private copy.  Propagation includes copying,
+distribution (with or without modification), making available to the
+public, and in some countries other activities as well.
+
+  To "convey" a work means any kind of propagation that enables other
+parties to make or receive copies.  Mere interaction with a user through
+a computer network, with no transfer of a copy, is not conveying.
+
+  An interactive user interface displays "Appropriate Legal Notices"
+to the extent that it includes a convenient and prominently visible
+feature that (1) displays an appropriate copyright notice, and (2)
+tells the user that there is no warranty for the work (except to the
+extent that warranties are provided), that licensees may convey the
+work under this License, and how to view a copy of this License.  If
+the interface presents a list of user commands or options, such as a
+menu, a prominent item in the list meets this criterion.
+
+  1. Source Code.
+
+  The "source code" for a work means the preferred form of the work
+for making modifications to it.  "Object code" means any non-source
+form of a work.
+
+  A "Standard Interface" means an interface that either is an official
+standard defined by a recognized standards body, or, in the case of
+interfaces specified for a particular programming language, one that
+is widely used among developers working in that language.
+
+  The "System Libraries" of an executable work include anything, other
+than the work as a whole, that (a) is included in the normal form of
+packaging a Major Component, but which is not part of that Major
+Component, and (b) serves only to enable use of the work with that
+Major Component, or to implement a Standard Interface for which an
+implementation is available to the public in source code form.  A
+"Major Component", in this context, means a major essential component
+(kernel, window system, and so on) of the specific operating system
+(if any) on which the executable work runs, or a compiler used to
+produce the work, or an object code interpreter used to run it.
+
+  The "Corresponding Source" for a work in object code form means all
+the source code needed to generate, install, and (for an executable
+work) run the object code and to modify the work, including scripts to
+control those activities.  However, it does not include the work's
+System Libraries, or general-purpose tools or generally available free
+programs which are used unmodified in performing those activities but
+which are not part of the work.  For example, Corresponding Source
+includes interface definition files associated with source files for
+the work, and the source code for shared libraries and dynamically
+linked subprograms that the work is specifically designed to require,
+such as by intimate data communication or control flow between those
+subprograms and other parts of the work.
+
+  The Corresponding Source need not include anything that users
+can regenerate automatically from other parts of the Corresponding
+Source.
+
+  The Corresponding Source for a work in source code form is that
+same work.
+
+  2. Basic Permissions.
+
+  All rights granted under this License are granted for the term of
+copyright on the Program, and are irrevocable provided the stated
+conditions are met.  This License explicitly affirms your unlimited
+permission to run the unmodified Program.  The output from running a
+covered work is covered by this License only if the output, given its
+content, constitutes a covered work.  This License acknowledges your
+rights of fair use or other equivalent, as provided by copyright law.
+
+  You may make, run and propagate covered works that you do not
+convey, without conditions so long as your license otherwise remains
+in force.  You may convey covered works to others for the sole purpose
+of having them make modifications exclusively for you, or provide you
+with facilities for running those works, provided that you comply with
+the terms of this License in conveying all material for which you do
+not control copyright.  Those thus making or running the covered works
+for you must do so exclusively on your behalf, under your direction
+and control, on terms that prohibit them from making any copies of
+your copyrighted material outside their relationship with you.
+
+  Conveying under any other circumstances is permitted solely under
+the conditions stated below.  Sublicensing is not allowed; section 10
+makes it unnecessary.
+
+  3. Protecting Users' Legal Rights From Anti-Circumvention Law.
+
+  No covered work shall be deemed part of an effective technological
+measure under any applicable law fulfilling obligations under article
+11 of the WIPO copyright treaty adopted on 20 December 1996, or
+similar laws prohibiting or restricting circumvention of such
+measures.
+
+  When you convey a covered work, you waive any legal power to forbid
+circumvention of technological measures to the extent such circumvention
+is effected by exercising rights under this License with respect to
+the covered work, and you disclaim any intention to limit operation or
+modification of the work as a means of enforcing, against the work's
+users, your or third parties' legal rights to forbid circumvention of
+technological measures.
+
+  4. Conveying Verbatim Copies.
+
+  You may convey verbatim copies of the Program's source code as you
+receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice;
+keep intact all notices stating that this License and any
+non-permissive terms added in accord with section 7 apply to the code;
+keep intact all notices of the absence of any warranty; and give all
+recipients a copy of this License along with the Program.
+
+  You may charge any price or no price for each copy that you convey,
+and you may offer support or warranty protection for a fee.
+
+  5. Conveying Modified Source Versions.
+
+  You may convey a work based on the Program, or the modifications to
+produce it from the Program, in the form of source code under the
+terms of section 4, provided that you also meet all of these conditions:
+
+    a) The work must carry prominent notices stating that you modified
+    it, and giving a relevant date.
+
+    b) The work must carry prominent notices stating that it is
+    released under this License and any conditions added under section
+    7.  This requirement modifies the requirement in section 4 to
+    "keep intact all notices".
+
+    c) You must license the entire work, as a whole, under this
+    License to anyone who comes into possession of a copy.  This
+    License will therefore apply, along with any applicable section 7
+    additional terms, to the whole of the work, and all its parts,
+    regardless of how they are packaged.  This License gives no
+    permission to license the work in any other way, but it does not
+    invalidate such permission if you have separately received it.
+
+    d) If the work has interactive user interfaces, each must display
+    Appropriate Legal Notices; however, if the Program has interactive
+    interfaces that do not display Appropriate Legal Notices, your
+    work need not make them do so.
+
+  A compilation of a covered work with other separate and independent
+works, which are not by their nature extensions of the covered work,
+and which are not combined with it such as to form a larger program,
+in or on a volume of a storage or distribution medium, is called an
+"aggregate" if the compilation and its resulting copyright are not
+used to limit the access or legal rights of the compilation's users
+beyond what the individual works permit.  Inclusion of a covered work
+in an aggregate does not cause this License to apply to the other
+parts of the aggregate.
+
+  6. Conveying Non-Source Forms.
+
+  You may convey a covered work in object code form under the terms
+of sections 4 and 5, provided that you also convey the
+machine-readable Corresponding Source under the terms of this License,
+in one of these ways:
+
+    a) Convey the object code in, or embodied in, a physical product
+    (including a physical distribution medium), accompanied by the
+    Corresponding Source fixed on a durable physical medium
+    customarily used for software interchange.
+
+    b) Convey the object code in, or embodied in, a physical product
+    (including a physical distribution medium), accompanied by a
+    written offer, valid for at least three years and valid for as
+    long as you offer spare parts or customer support for that product
+    model, to give anyone who possesses the object code either (1) a
+    copy of the Corresponding Source for all the software in the
+    product that is covered by this License, on a durable physical
+    medium customarily used for software interchange, for a price no
+    more than your reasonable cost of physically performing this
+    conveying of source, or (2) access to copy the
+    Corresponding Source from a network server at no charge.
+
+    c) Convey individual copies of the object code with a copy of the
+    written offer to provide the Corresponding Source.  This
+    alternative is allowed only occasionally and noncommercially, and
+    only if you received the object code with such an offer, in accord
+    with subsection 6b.
+
+    d) Convey the object code by offering access from a designated
+    place (gratis or for a charge), and offer equivalent access to the
+    Corresponding Source in the same way through the same place at no
+    further charge.  You need not require recipients to copy the
+    Corresponding Source along with the object code.  If the place to
+    copy the object code is a network server, the Corresponding Source
+    may be on a different server (operated by you or a third party)
+    that supports equivalent copying facilities, provided you maintain
+    clear directions next to the object code saying where to find the
+    Corresponding Source.  Regardless of what server hosts the
+    Corresponding Source, you remain obligated to ensure that it is
+    available for as long as needed to satisfy these requirements.
+
+    e) Convey the object code using peer-to-peer transmission, provided
+    you inform other peers where the object code and Corresponding
+    Source of the work are being offered to the general public at no
+    charge under subsection 6d.
+
+  A separable portion of the object code, whose source code is excluded
+from the Corresponding Source as a System Library, need not be
+included in conveying the object code work.
+
+  A "User Product" is either (1) a "consumer product", which means any
+tangible personal property which is normally used for personal, family,
+or household purposes, or (2) anything designed or sold for incorporation
+into a dwelling.  In determining whether a product is a consumer product,
+doubtful cases shall be resolved in favor of coverage.  For a particular
+product received by a particular user, "normally used" refers to a
+typical or common use of that class of product, regardless of the status
+of the particular user or of the way in which the particular user
+actually uses, or expects or is expected to use, the product.  A product
+is a consumer product regardless of whether the product has substantial
+commercial, industrial or non-consumer uses, unless such uses represent
+the only significant mode of use of the product.
+
+  "Installation Information" for a User Product means any methods,
+procedures, authorization keys, or other information required to install
+and execute modified versions of a covered work in that User Product from
+a modified version of its Corresponding Source.  The information must
+suffice to ensure that the continued functioning of the modified object
+code is in no case prevented or interfered with solely because
+modification has been made.
+
+  If you convey an object code work under this section in, or with, or
+specifically for use in, a User Product, and the conveying occurs as
+part of a transaction in which the right of possession and use of the
+User Product is transferred to the recipient in perpetuity or for a
+fixed term (regardless of how the transaction is characterized), the
+Corresponding Source conveyed under this section must be accompanied
+by the Installation Information.  But this requirement does not apply
+if neither you nor any third party retains the ability to install
+modified object code on the User Product (for example, the work has
+been installed in ROM).
+
+  The requirement to provide Installation Information does not include a
+requirement to continue to provide support service, warranty, or updates
+for a work that has been modified or installed by the recipient, or for
+the User Product in which it has been modified or installed.  Access to a
+network may be denied when the modification itself materially and
+adversely affects the operation of the network or violates the rules and
+protocols for communication across the network.
+
+  Corresponding Source conveyed, and Installation Information provided,
+in accord with this section must be in a format that is publicly
+documented (and with an implementation available to the public in
+source code form), and must require no special password or key for
+unpacking, reading or copying.
+
+  7. Additional Terms.
+
+  "Additional permissions" are terms that supplement the terms of this
+License by making exceptions from one or more of its conditions.
+Additional permissions that are applicable to the entire Program shall
+be treated as though they were included in this License, to the extent
+that they are valid under applicable law.  If additional permissions
+apply only to part of the Program, that part may be used separately
+under those permissions, but the entire Program remains governed by
+this License without regard to the additional permissions.
+
+  When you convey a copy of a covered work, you may at your option
+remove any additional permissions from that copy, or from any part of
+it.  (Additional permissions may be written to require their own
+removal in certain cases when you modify the work.)  You may place
+additional permissions on material, added by you to a covered work,
+for which you have or can give appropriate copyright permission.
+
+  Notwithstanding any other provision of this License, for material you
+add to a covered work, you may (if authorized by the copyright holders of
+that material) supplement the terms of this License with terms:
+
+    a) Disclaiming warranty or limiting liability differently from the
+    terms of sections 15 and 16 of this License; or
+
+    b) Requiring preservation of specified reasonable legal notices or
+    author attributions in that material or in the Appropriate Legal
+    Notices displayed by works containing it; or
+
+    c) Prohibiting misrepresentation of the origin of that material, or
+    requiring that modified versions of such material be marked in
+    reasonable ways as different from the original version; or
+
+    d) Limiting the use for publicity purposes of names of licensors or
+    authors of the material; or
+
+    e) Declining to grant rights under trademark law for use of some
+    trade names, trademarks, or service marks; or
+
+    f) Requiring indemnification of licensors and authors of that
+    material by anyone who conveys the material (or modified versions of
+    it) with contractual assumptions of liability to the recipient, for
+    any liability that these contractual assumptions directly impose on
+    those licensors and authors.
+
+  All other non-permissive additional terms are considered "further
+restrictions" within the meaning of section 10.  If the Program as you
+received it, or any part of it, contains a notice stating that it is
+governed by this License along with a term that is a further
+restriction, you may remove that term.  If a license document contains
+a further restriction but permits relicensing or conveying under this
+License, you may add to a covered work material governed by the terms
+of that license document, provided that the further restriction does
+not survive such relicensing or conveying.
+
+  If you add terms to a covered work in accord with this section, you
+must place, in the relevant source files, a statement of the
+additional terms that apply to those files, or a notice indicating
+where to find the applicable terms.
+
+  Additional terms, permissive or non-permissive, may be stated in the
+form of a separately written license, or stated as exceptions;
+the above requirements apply either way.
+
+  8. Termination.
+
+  You may not propagate or modify a covered work except as expressly
+provided under this License.  Any attempt otherwise to propagate or
+modify it is void, and will automatically terminate your rights under
+this License (including any patent licenses granted under the third
+paragraph of section 11).
+
+  However, if you cease all violation of this License, then your
+license from a particular copyright holder is reinstated (a)
+provisionally, unless and until the copyright holder explicitly and
+finally terminates your license, and (b) permanently, if the copyright
+holder fails to notify you of the violation by some reasonable means
+prior to 60 days after the cessation.
+
+  Moreover, your license from a particular copyright holder is
+reinstated permanently if the copyright holder notifies you of the
+violation by some reasonable means, this is the first time you have
+received notice of violation of this License (for any work) from that
+copyright holder, and you cure the violation prior to 30 days after
+your receipt of the notice.
+
+  Termination of your rights under this section does not terminate the
+licenses of parties who have received copies or rights from you under
+this License.  If your rights have been terminated and not permanently
+reinstated, you do not qualify to receive new licenses for the same
+material under section 10.
+
+  9. Acceptance Not Required for Having Copies.
+
+  You are not required to accept this License in order to receive or
+run a copy of the Program.  Ancillary propagation of a covered work
+occurring solely as a consequence of using peer-to-peer transmission
+to receive a copy likewise does not require acceptance.  However,
+nothing other than this License grants you permission to propagate or
+modify any covered work.  These actions infringe copyright if you do
+not accept this License.  Therefore, by modifying or propagating a
+covered work, you indicate your acceptance of this License to do so.
+
+  10. Automatic Licensing of Downstream Recipients.
+
+  Each time you convey a covered work, the recipient automatically
+receives a license from the original licensors, to run, modify and
+propagate that work, subject to this License.  You are not responsible
+for enforcing compliance by third parties with this License.
+
+  An "entity transaction" is a transaction transferring control of an
+organization, or substantially all assets of one, or subdividing an
+organization, or merging organizations.  If propagation of a covered
+work results from an entity transaction, each party to that
+transaction who receives a copy of the work also receives whatever
+licenses to the work the party's predecessor in interest had or could
+give under the previous paragraph, plus a right to possession of the
+Corresponding Source of the work from the predecessor in interest, if
+the predecessor has it or can get it with reasonable efforts.
+
+  You may not impose any further restrictions on the exercise of the
+rights granted or affirmed under this License.  For example, you may
+not impose a license fee, royalty, or other charge for exercise of
+rights granted under this License, and you may not initiate litigation
+(including a cross-claim or counterclaim in a lawsuit) alleging that
+any patent claim is infringed by making, using, selling, offering for
+sale, or importing the Program or any portion of it.
+
+  11. Patents.
+
+  A "contributor" is a copyright holder who authorizes use under this
+License of the Program or a work on which the Program is based.  The
+work thus licensed is called the contributor's "contributor version".
+
+  A contributor's "essential patent claims" are all patent claims
+owned or controlled by the contributor, whether already acquired or
+hereafter acquired, that would be infringed by some manner, permitted
+by this License, of making, using, or selling its contributor version,
+but do not include claims that would be infringed only as a
+consequence of further modification of the contributor version.  For
+purposes of this definition, "control" includes the right to grant
+patent sublicenses in a manner consistent with the requirements of
+this License.
+
+  Each contributor grants you a non-exclusive, worldwide, royalty-free
+patent license under the contributor's essential patent claims, to
+make, use, sell, offer for sale, import and otherwise run, modify and
+propagate the contents of its contributor version.
+
+  In the following three paragraphs, a "patent license" is any express
+agreement or commitment, however denominated, not to enforce a patent
+(such as an express permission to practice a patent or covenant not to
+sue for patent infringement).  To "grant" such a patent license to a
+party means to make such an agreement or commitment not to enforce a
+patent against the party.
+
+  If you convey a covered work, knowingly relying on a patent license,
+and the Corresponding Source of the work is not available for anyone
+to copy, free of charge and under the terms of this License, through a
+publicly available network server or other readily accessible means,
+then you must either (1) cause the Corresponding Source to be so
+available, or (2) arrange to deprive yourself of the benefit of the
+patent license for this particular work, or (3) arrange, in a manner
+consistent with the requirements of this License, to extend the patent
+license to downstream recipients.  "Knowingly relying" means you have
+actual knowledge that, but for the patent license, your conveying the
+covered work in a country, or your recipient's use of the covered work
+in a country, would infringe one or more identifiable patents in that
+country that you have reason to believe are valid.
+
+  If, pursuant to or in connection with a single transaction or
+arrangement, you convey, or propagate by procuring conveyance of, a
+covered work, and grant a patent license to some of the parties
+receiving the covered work authorizing them to use, propagate, modify
+or convey a specific copy of the covered work, then the patent license
+you grant is automatically extended to all recipients of the covered
+work and works based on it.
+
+  A patent license is "discriminatory" if it does not include within
+the scope of its coverage, prohibits the exercise of, or is
+conditioned on the non-exercise of one or more of the rights that are
+specifically granted under this License.  You may not convey a covered
+work if you are a party to an arrangement with a third party that is
+in the business of distributing software, under which you make payment
+to the third party based on the extent of your activity of conveying
+the work, and under which the third party grants, to any of the
+parties who would receive the covered work from you, a discriminatory
+patent license (a) in connection with copies of the covered work
+conveyed by you (or copies made from those copies), or (b) primarily
+for and in connection with specific products or compilations that
+contain the covered work, unless you entered into that arrangement,
+or that patent license was granted, prior to 28 March 2007.
+
+  Nothing in this License shall be construed as excluding or limiting
+any implied license or other defenses to infringement that may
+otherwise be available to you under applicable patent law.
+
+  12. No Surrender of Others' Freedom.
+
+  If conditions are imposed on you (whether by court order, agreement or
+otherwise) that contradict the conditions of this License, they do not
+excuse you from the conditions of this License.  If you cannot convey a
+covered work so as to satisfy simultaneously your obligations under this
+License and any other pertinent obligations, then as a consequence you may
+not convey it at all.  For example, if you agree to terms that obligate you
+to collect a royalty for further conveying from those to whom you convey
+the Program, the only way you could satisfy both those terms and this
+License would be to refrain entirely from conveying the Program.
+
+  13. Remote Network Interaction; Use with the GNU General Public License.
+
+  Notwithstanding any other provision of this License, if you modify the
+Program, your modified version must prominently offer all users
+interacting with it remotely through a computer network (if your version
+supports such interaction) an opportunity to receive the Corresponding
+Source of your version by providing access to the Corresponding Source
+from a network server at no charge, through some standard or customary
+means of facilitating copying of software.  This Corresponding Source
+shall include the Corresponding Source for any work covered by version 3
+of the GNU General Public License that is incorporated pursuant to the
+following paragraph.
+
+  Notwithstanding any other provision of this License, you have
+permission to link or combine any covered work with a work licensed
+under version 3 of the GNU General Public License into a single
+combined work, and to convey the resulting work.  The terms of this
+License will continue to apply to the part which is the covered work,
+but the work with which it is combined will remain governed by version
+3 of the GNU General Public License.
+
+  14. Revised Versions of this License.
+
+  The Free Software Foundation may publish revised and/or new versions of
+the GNU Affero General Public License from time to time.  Such new versions
+will be similar in spirit to the present version, but may differ in detail to
+address new problems or concerns.
+
+  Each version is given a distinguishing version number.  If the
+Program specifies that a certain numbered version of the GNU Affero General
+Public License "or any later version" applies to it, you have the
+option of following the terms and conditions either of that numbered
+version or of any later version published by the Free Software
+Foundation.  If the Program does not specify a version number of the
+GNU Affero General Public License, you may choose any version ever published
+by the Free Software Foundation.
+
+  If the Program specifies that a proxy can decide which future
+versions of the GNU Affero General Public License can be used, that proxy's
+public statement of acceptance of a version permanently authorizes you
+to choose that version for the Program.
+
+  Later license versions may give you additional or different
+permissions.  However, no additional obligations are imposed on any
+author or copyright holder as a result of your choosing to follow a
+later version.
+
+  15. Disclaimer of Warranty.
+
+  THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
+APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
+HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY
+OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,
+THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM
+IS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF
+ALL NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+  16. Limitation of Liability.
+
+  IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
+WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS
+THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY
+GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE
+USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF
+DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD
+PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),
+EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF
+SUCH DAMAGES.
+
+  17. Interpretation of Sections 15 and 16.
+
+  If the disclaimer of warranty and limitation of liability provided
+above cannot be given local legal effect according to their terms,
+reviewing courts shall apply local law that most closely approximates
+an absolute waiver of all civil liability in connection with the
+Program, unless a warranty or assumption of liability accompanies a
+copy of the Program in return for a fee.
+
+                     END OF TERMS AND CONDITIONS
+
+            How to Apply These Terms to Your New Programs
+
+  If you develop a new program, and you want it to be of the greatest
+possible use to the public, the best way to achieve this is to make it
+free software which everyone can redistribute and change under these terms.
+
+  To do so, attach the following notices to the program.  It is safest
+to attach them to the start of each source file to most effectively
+state the exclusion of warranty; and each file should have at least
+the "copyright" line and a pointer to where the full notice is found.
+
+    <one line to give the program's name and a brief idea of what it does.>
+    Copyright (C) <year>  <name of author>
+
+    This program is free software: you can redistribute it and/or modify
+    it under the terms of the GNU Affero General Public License as published by
+    the Free Software Foundation, either version 3 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU Affero General Public License for more details.
+
+    You should have received a copy of the GNU Affero General Public License
+    along with this program.  If not, see <http://www.gnu.org/licenses/>.
+
+Also add information on how to contact you by electronic and paper mail.
+
+  If your software can interact with users remotely through a computer
+network, you should also make sure that it provides a way for users to
+get its source.  For example, if your program is a web application, its
+interface could display a "Source" link that leads users to an archive
+of the code.  There are many ways you could offer source, and different
+solutions will be better for different programs; see section 13 for the
+specific requirements.
+
+  You should also get your employer (if you work as a programmer) or school,
+if any, to sign a "copyright disclaimer" for the program, if necessary.
+For more information on this, and how to apply and follow the GNU AGPL, see
+<http://www.gnu.org/licenses/>.

Added: trunk/project/README.txt
===================================================================
--- trunk/project/README.txt	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/README.txt	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1 @@
+TODO: criar descri??o do projecto, estado actual, descri??o da equipa, etc.

Added: trunk/project/core/FeedAggregator.class.php
===================================================================
--- trunk/project/core/FeedAggregator.class.php	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/core/FeedAggregator.class.php	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,205 @@
+<?php
+/**
+ * Copyright (C) 2008  P at P DevTeam
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ * The P at P DevTeam can be reached at
+ */
+
+/**
+ * Classe principal, ponto de entrada no sistema. Embora esta classe pare?a uma
+ * redund?ncia da interface DataManager, e consequentemente das suas implementa??es,
+ * ? necess?ria na medida em que permite a utiliza??o dessa interface.
+ *
+ * //TODO: completar a descri??o da classe.
+*/
+class FeedAggregator {
+    /**
+     * Objecto que permite acesso ? camada de persist?ncia.
+     *
+     * @var DataManager
+     */
+    private $manager;
+
+    public function __construct($managerName = 'MySQL') {
+        //TODO: 'dataaccess/' . $managerName . 'DataManager.class.php';
+        //se existir carregar e instanciar o data manager
+    }
+
+    /**
+     *
+     * @param string $username nome usado na autentica??o do utilizador, ser? o
+     * mesmo que o nome vis?vel, poder? ser alterado mais tarde.
+     * @param string $password palavra-chave usada pelo utilizar, n?o codificada.
+     * @param string $email endere?o de e-mail do utilizador. A string ser?
+     * validada apenas quanto ao formato.
+     * @param string $blog endere?o do blog do utilizador. A string ser? validada
+     * apenas quanto ao formato.
+     * @param date $birth data de nascimento do utilizador.
+     * @param string $interests interesses do utilizador.
+     */
+    public function registerUser($username, $password, $email, $blog, $birth,
+        $interests) {
+
+        if($this->manager->findUserByUsername($username) == NULL &&
+            $this->manager->findUserByEmail($email) == NULL) {
+
+            $id = $this->manager->getValidUserId();
+            $saltyPassword = '';//TODO: gerar MD5? da password
+            $user = new User($id, $username, $username, $email, $blog, $birth, $interests);
+            $this->manager->storeUser($user, $saltyPassword);
+            //TODO: processar ac??es relacionadas com a adi??o de um novo utilizador
+        } else {
+            //TODO: lan?ar excep??o/erro
+        }
+    }
+
+    /**
+     * Remove um utilizador do sistema.
+     *
+     * @param User $user utilizador a remover.
+     */
+    public function removeUser(User $user) {
+        if($user != NULL) {
+            $this->manager->deleteUser($user);
+        }
+    }
+
+    /**
+     * Permite actualizar os dados de um utilizador.
+     *
+     * @param User $user utilizador a actualizar.
+     */
+    public function updateUser(User $user) {
+        if($user != NULL) {
+            $this->manager->updateUser($user);
+        }
+    }
+
+    /**
+     *
+     * @return array
+     */
+    public function listAllUsers() {
+        return $this->manager->listAllUsers();
+    }
+
+    /**
+     *
+     */
+    public function listAllActiveUsers() {
+        $result = array();
+        foreach($this->listAllUsers as $user) {
+            if($user->isActive()) {
+                $result[] = $user;
+            }
+        }
+        return $result;
+    }
+
+    /**
+     *
+     */
+    public function listAllInactiveUsers() {
+        $result = array();
+        foreach($this->listAllUsers as $user) {
+            if(!$user->isActive()) {
+                $result[] = $user;
+            }
+        }
+        return $result;
+    }
+
+    /**
+     *
+     */
+    public function submitFeed($url) {
+        if($this->manager->findFeed($url) == NULL) {
+
+            $id = $this->manager->getValidFeedId();
+            $feed = new Feed($id, $url);
+            $this->manager->storeFeed($feed);
+            //TODO: processar ac??es relacionadas com a adi??o de uma nova feed
+        } else {
+            //TODO: lan?ar excep??o/erro
+        }
+    }
+
+    /**
+     *
+     */
+    public function removeFeed(Feed $feed) {
+        if($feed != NULL) {
+            $this->manager->deleteFeed($feed);
+        }
+    }
+
+    /**
+     *
+     */
+    public function updateFeed(Feed $feed) {
+        if($feed != null) {
+            $this->manager->updateFeed($feed);
+        }
+    }
+
+    /**
+     *
+     */
+    public function listAllFeeds() {
+        return $this->manager->listAllFeeds();
+    }
+
+    /**
+     *
+     */
+    public function listAllActiveFeeds() {
+        $result = array();
+        foreach($this->listAllFeeds as $feed) {
+            if(!$feed->isActive()) {
+                $result[] = $feed;
+            }
+        }
+        return $result;
+    }
+
+    /**
+     *
+     */
+    public function listAllInactiveFeeds() {
+        $result = array();
+        foreach($this->listAllFeeds as $feed) {
+            if(!$feed->isActive()) {
+                $result[] = $feed;
+            }
+        }
+        return $result;
+    }
+
+    public function listFeedsByStatus($status) {
+        $result = array();
+        if($status == Feed::$STATUS_APPROVED || $status == Feed::$STATUS_REJECTED ||
+            $status == Feed::$STATUS_PENDING) {
+
+            foreach($this->listAllFeeds as $feed) {
+                if($feed->getStatus() == $status) {
+                    $result[] = $feed;
+                }
+            }
+            return $result;
+        }
+    }
+}
+?>

Added: trunk/project/core/dataaccess/DataManager.class.php
===================================================================
--- trunk/project/core/dataaccess/DataManager.class.php	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/core/dataaccess/DataManager.class.php	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,143 @@
+<?php
+/**
+ * Copyright (C) 2008  P at P DevTeam
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ * The P at P DevTeam can be reached at
+ */
+
+/**
+ * A interface DataManager fornece um contracto de acesso a dados, definindo os
+ * m?todos necess?rios para persistir e carregar os diferentes objectos.
+ * Implementa??es desta interface devem providenciar o c?digo necess?rio para
+ * aceder aos dados de forma dependente do sistema de persist?ncia que usam.
+ */
+interface DataManager {
+
+    //TODO: verificar a necessidade de uma fun??o para remover dados pelo ID
+    //TODO: rever documenta??o, especialmente descri??es de par?metros e dados de retorno
+    //TODO: verificar a API
+
+    /**
+     * Permite obter um ID v?lida a ser usado na cria??o de um utilizador, o ID
+     * deve ser v?lido no sentido em que n?o pode representar um ID em utiliza??o.
+     *
+     * A estrat?gia de cria??o do ID ? deixada ? escolha da implementa??o, podendo
+     * assim ser usados quaisquer formas de optimicar a persist?ncia dos dados.
+     *
+     * @return int ID v?lido a usar na cria??o de um utilizador.
+     */
+    public function getValidUserId();
+
+    /**
+     * Permite guardar um utilizar.
+     * Qualquer verifica??o quanto a dados duplicados dever? ser feita pela fun??o
+     * que invocar esta.
+     *
+     * Implementa??es desta fun??o ter?o de ser preocupar, mesmo assim, em lidar com
+     * dados duplicados indevidamente e dever?o manter-se robustas quanto a falhas
+     * provocadas por chamdas inv?lidas.
+     * 
+     * @param User $user utilizador a guardar.
+     * @param string $password palavra-chave correspondente ao novo utilizador
+     */
+    public function storeUser(User $user, $password);
+    
+    /**
+     * Permite obter os dados de um utilizador
+     * @param User $id identificador do utilizador a procurar.
+     * @return User o utilizador correspondente ao ID passado ou NULL caso n?o
+     * exista um utilizador com o ID.
+     */
+    public function loadUser($id);
+
+    /**
+     * Permite fazer um update aos dados guardados no sistema de persist?ncia.
+     * Compete ? implementa??o de DataManager resolver casos de conflito de
+     * informa??o.
+     * 
+     * @param User $user utilizador cujos dados devem ser actualizados.
+     * @param string $password palavra-chave caso a actualiza??o inclua uma
+     * actualiza??o ? palavra-chave.
+     */
+    public function updateUser(User $user, $password = NULL);
+
+    /**
+     * Permite remover o utilizador especificado.
+     *
+     * @param User $user
+     */
+    public function deleteUser(User $user);
+
+    /**
+     * Permite procurar um utilizador atrav?s do seu username.
+     *
+     * @param string $username
+     * @return User utilizador encontrado ou NULL.
+     */
+    public function findUserByUsername($username);
+
+    /**
+     * Permite procurar um utilizador pelo seu email de registo.
+     * 
+     * @param string $email
+     * @return User utilizador encontrado ou NULL.
+     */
+    public function findUserByEmail($email);
+
+    /**
+     * Permite obter uma lista completa, ordenada por username, dos utlizadores
+     * registados no sistema, quer esteja activos ou n?o.
+     *
+     * @return array
+     */
+    public function listAllUsers();
+
+    /**
+     * Permite guardar mensagens de modera??o.
+     * 
+     * @param LogMessage $message mensagem a guardar
+     */
+    public function storeLogMessage(LogMessage $message);
+
+    /**
+     *
+     * @param int $id
+     */
+    public function loadLogMessage($id);
+
+    /**
+     *
+     * @param LoMessage $message
+     */
+    public function deleteLogMessage(LogMessage $message);
+
+    public function listAllLogMessages();
+
+    public function getValidFeedId();
+
+    public function storeFeed();
+
+    public function loadFeed($id);
+
+    public function updateFeed(Feed $feed);
+
+    public function deleteFeed(Feed $feed);
+
+    public function findFeed($url);
+
+    public function listAllFeeds();
+}
+?>

Added: trunk/project/core/dataaccess/MySQLDataManager.class.php
===================================================================
--- trunk/project/core/dataaccess/MySQLDataManager.class.php	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/core/dataaccess/MySQLDataManager.class.php	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,24 @@
+<?php
+/**
+ * Copyright (C) 2008  P at P DevTeam
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ * The P at P DevTeam can be reached at
+ */
+
+class MySQLDataManager implements DataManager {
+    //TODO: completar esta classe que nem compila neste momento!
+}
+?>

Added: trunk/project/core/model/Feed.php
===================================================================
--- trunk/project/core/model/Feed.php	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/core/model/Feed.php	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,67 @@
+<?php
+class Feed {
+
+    //TODO: documenta??o
+
+    public static final $STATUS_APPROVED = 0;
+    public static final $STATUS_REJECTED = 1;
+    public static final $STATUS_PENDING = 2;
+
+    private $id;
+    private $url;
+    private $status;
+
+    public function __construct($id, $url) {
+        $this->id = $id;
+        $this->url = $url;
+        $this->active = false;
+        $this->status = Feed::$STATUS_PENDING;
+    }
+
+    /**
+     *
+     * @return int
+     */
+    public function getId() {
+        return $this->id;
+    }
+
+    /**
+     *
+     * @return string
+     */
+    public function getUrl() {
+        return $this->url;
+    }
+
+    /**
+     *
+     * @param string $url
+     */
+    public function setUrl($url) {
+        $this->url = $url;
+    }
+
+    public function getStatus() {
+        return $this->status;
+    }
+
+    public function setStatus($status) {
+        if($status == Feed::$STATUS_APPROVED || $status == Feed::$STATUS_REJECTED ||
+            $status == Feed::$STATUS_PENDING) {
+
+            $this->status = $status;
+        }
+    }
+
+    public function isApproved() {
+        return $this->status == Feed::$STATUS_APPROVED;
+    }
+
+    public function approve() {
+        $this->status = Feed::$STATUS_APPROVED;
+    }
+}
+
+
+?>

Added: trunk/project/core/model/LogMessage.class.php
===================================================================
--- trunk/project/core/model/LogMessage.class.php	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/core/model/LogMessage.class.php	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,69 @@
+<?php
+/**
+ * Copyright (C) 2008  P at P DevTeam
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ * The P at P DevTeam can be reached at
+ */
+
+/**
+ * Classe que representa o registo de uma ac??o de modera??o sobre um utilizador por 
+ * parte de um moderador.
+ * Mant?m registo de quem moderou, quando moderou e quem foi o alvo da modera??o.
+ * Acrescenta tamb?m uma mensagem descritiva do processo de modera??o.
+ * 
+ * TODO: NOTE:Esta classe pode passar para uma classe de utilit?rios que processe este pedido
+ */
+class LogMessage {
+
+    private $id;
+    private $userId;
+    private $moderatorId;
+    private $message;
+    private $date;
+    
+    public function __construct($id, $userId, $moderatorId, $message, $date) {
+        $this->id = $id;
+        $this->userId = $userId;
+        $this->moderatorId = $moderatorId;
+        $this->logMessage = $message;
+        $this->date = $date;
+    }
+
+    public function getId() {
+        return $this->id;
+    }
+    
+    public function getUserId() {
+        return $this->userId;
+    }
+    
+    public function getModeratorId() {
+        return $this->moderatorId;
+    }
+
+    /**
+     *
+     * @return string
+     */
+    public function getMessage() {
+        return $this->message;
+    }
+    
+    public function getDate() {
+        return $this->date;
+    }
+}
+?>

Added: trunk/project/core/model/User.class.php
===================================================================
--- trunk/project/core/model/User.class.php	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/core/model/User.class.php	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,205 @@
+<?php
+/**
+ * Copyright (C) 2008  P at P DevTeam
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ *
+ * The P at P DevTeam can be reached at
+ */
+
+/**
+ * Classe que representa um utilizador do sistema.
+ * Esta classe n?o guarda a password do utilizador.
+ */
+class User {
+
+    //TODO: definir correctamente os dados a manter em mem?ria
+    //TODO: documenta??o
+    
+    private $id;
+    private $username;
+    //TODO: NOTE: A password de um utilizador ? necess?ria em casos muito especificos, n?o ser? dessa forma,
+    //importante guardar a password no objecto.
+    //private $password;
+    private $name;
+    private $email;
+    private $blog;
+    private $birth;
+    private $interests;
+    //verdadeiro se o utilizador possuir estatuto de moderador
+    private $moderator;
+    //verdadeiro se o utilizador ? o admin, utilizador especial
+    private $admin;
+    private $active;
+    
+    public function __construct($id, $username, $name, $email, $blog, $birth,
+            $interests, $admin = false, $moderator = false) {
+        $this->id = $id;
+        $this->username = $username;
+        $this->name = $name;
+        $this->email = $email;
+        $this->blog = $blog;
+        $this->birth = $birth;
+        $this->interests = $interests;
+        $this->moderator = $moderator;
+        $this->admin = $admin;
+    }
+    
+    /**
+     * Permite obter o ID deste objecto correspondente ao sistema de persist?ncia.
+     * Este valor ? apenas de leitura sendo atribuido pelo processo de obten??o do 
+     * objecto.
+     *
+     * @return o ID definido para o objecto pelo sistema de persit?ncia
+     */
+    public function getId() {
+        return $this->id;
+    }
+
+    /**
+     *
+     * @return <type>
+     */
+    public function getUsername() {
+        return $this->username;
+    }
+
+    /**
+     *
+     * @param <type> $username
+     */
+    public function setUsername($username) {
+        $this->username = $username;
+    }
+
+    /**
+     *
+     * @return <type> 
+     */
+    public function getName() {
+        return $this->name;
+    }
+
+    /**
+     *
+     * @param <type> $name 
+     */
+    public function setName($name) {
+        $this->name = $name;
+    }
+
+    /**
+     *
+     * @return <type> 
+     */
+    public function getEmail() {
+        return $this->email;
+    }
+
+    /**
+     *
+     * @param <type> $email 
+     */
+    public function setEmail($email) {
+        $this->email = $email;
+    }
+
+    /**
+     *
+     * @return <type> 
+     */
+    public function getBlog() {
+        return $this->blog;
+    }
+
+    /**
+     *
+     * @param <type> $url
+     */
+    public function setBlog($url) {
+        $this->blog = $url;
+    }
+
+    /**
+     *
+     * @return <type>
+     */
+    public function getBith() {
+        return $this->birth;
+    }
+    
+    /**
+     *
+     * @param <type> $date
+     */
+    public function setBith($date) {
+        $this->birth = $date;
+    }
+
+    /**
+     *
+     * @return <type>
+     */
+    public function getInterests() {
+        return $this->interests;
+    }
+
+    /**
+     *
+     * @param <type> $interests
+     */
+    public function setInterests($interests) {
+        $this->interests = $interests;
+    }
+
+    /**
+     *
+     * @return <type>
+     */
+    public function isModerator() {
+        return $this->moderator;
+    }
+
+    /**
+     *
+     * @param boole $aFlag
+     */
+    public function setModerator($aFlag) {
+        $this->moderator = $aFlag;
+    }
+
+    /**
+     *
+     * @return bool TRUE caso este seja o utilizador especial administrador.
+     */
+    public function isAdmin() {
+        return $this->admin;
+    }
+
+    /**
+     *
+     * @return bool TRUE caso o utilizar j? tenha sido aprovado, FALSE caso contr?rio.
+     */
+    public function isActive() {
+        return $this->active;
+    }
+
+    /**
+     * Marca um utilizador como aprovado.
+     */
+    public function approve() {
+        $this->active = TRUE;
+    }
+}
+?>

Added: trunk/project/core/visual/Engine.class.php
===================================================================
--- trunk/project/core/visual/Engine.class.php	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/core/visual/Engine.class.php	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,7 @@
+<?php
+/* 
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+
+?>

Added: trunk/project/index.php
===================================================================
--- trunk/project/index.php	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/index.php	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1 @@
+<?php /*include("core/FeedAggregator.class.php");*/
\ No newline at end of file

Added: trunk/project/install/install.php
===================================================================
--- trunk/project/install/install.php	2008-11-02 23:57:14 UTC (rev 0)
+++ trunk/project/install/install.php	2008-11-03 18:27:29 UTC (rev 1)
@@ -0,0 +1,7 @@
+<?php
+/* 
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+
+?>



From knitter at mail.berlios.de  Mon Nov  3 19:35:40 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Mon, 3 Nov 2008 19:35:40 +0100
Subject: [Pintassilgo-commits] r2 - in trunk: . docs pintassilgo
 pintassilgo/system pintassilgo/system/application
 pintassilgo/system/application/config
 pintassilgo/system/application/controllers
 pintassilgo/system/application/errors
 pintassilgo/system/application/helpers pintassilgo/system/application/hooks
 pintassilgo/system/application/language
 pintassilgo/system/application/language/english
 pintassilgo/system/application/libraries
 pintassilgo/system/application/models pintassilgo/system/application/views
 pintassilgo/system/cache pintassilgo/system/codeigniter
 pintassilgo/system/database pintassilgo/system/database/drivers
 pintassilgo/system/database/drivers/mssql
 pintassilgo/system/database/drivers/mysql
 pintassilgo/system/database/drivers/mysqli
 pintassilgo/system/database/drivers/oci8
 pintassilgo/system/database/drivers/odbc
 pintassilgo/system/database/drivers/postgre
 pintassilgo/system/database/drivers/sqlite pintassilgo/system/fonts
 pintassilgo/system/helpers pintassilgo/system/language p!
 intassilgo/system/language/english pintassilgo/system/libraries
 pintassilgo/system/logs pintassilgo/system/plugins
 pintassilgo/system/scaffolding pintassilgo/system/scaffolding/images
 pintassilgo/system/scaffolding/views
Message-ID: <200811031835.mA3IZeJZ014721@sheep.berlios.de>

Author: knitter
Date: 2008-11-03 19:34:52 +0100 (Mon, 03 Nov 2008)
New Revision: 2

Added:
   trunk/docs/ci_quick_ref.pdf
   trunk/installer/
   trunk/pintassilgo/
   trunk/pintassilgo/index.php
   trunk/pintassilgo/system/
   trunk/pintassilgo/system/application/
   trunk/pintassilgo/system/application/config/
   trunk/pintassilgo/system/application/config/autoload.php
   trunk/pintassilgo/system/application/config/config.php
   trunk/pintassilgo/system/application/config/constants.php
   trunk/pintassilgo/system/application/config/database.php
   trunk/pintassilgo/system/application/config/hooks.php
   trunk/pintassilgo/system/application/config/index.html
   trunk/pintassilgo/system/application/config/mimes.php
   trunk/pintassilgo/system/application/config/routes.php
   trunk/pintassilgo/system/application/config/smileys.php
   trunk/pintassilgo/system/application/config/user_agents.php
   trunk/pintassilgo/system/application/controllers/
   trunk/pintassilgo/system/application/controllers/index.html
   trunk/pintassilgo/system/application/controllers/welcome.php
   trunk/pintassilgo/system/application/errors/
   trunk/pintassilgo/system/application/errors/error_404.php
   trunk/pintassilgo/system/application/errors/error_db.php
   trunk/pintassilgo/system/application/errors/error_general.php
   trunk/pintassilgo/system/application/errors/error_php.php
   trunk/pintassilgo/system/application/errors/index.html
   trunk/pintassilgo/system/application/helpers/
   trunk/pintassilgo/system/application/helpers/index.html
   trunk/pintassilgo/system/application/hooks/
   trunk/pintassilgo/system/application/hooks/index.html
   trunk/pintassilgo/system/application/index.html
   trunk/pintassilgo/system/application/language/
   trunk/pintassilgo/system/application/language/english/
   trunk/pintassilgo/system/application/language/english/index.html
   trunk/pintassilgo/system/application/libraries/
   trunk/pintassilgo/system/application/libraries/index.html
   trunk/pintassilgo/system/application/models/
   trunk/pintassilgo/system/application/models/index.html
   trunk/pintassilgo/system/application/views/
   trunk/pintassilgo/system/application/views/index.html
   trunk/pintassilgo/system/application/views/welcome_message.php
   trunk/pintassilgo/system/cache/
   trunk/pintassilgo/system/cache/index.html
   trunk/pintassilgo/system/codeigniter/
   trunk/pintassilgo/system/codeigniter/Base4.php
   trunk/pintassilgo/system/codeigniter/Base5.php
   trunk/pintassilgo/system/codeigniter/CodeIgniter.php
   trunk/pintassilgo/system/codeigniter/Common.php
   trunk/pintassilgo/system/codeigniter/Compat.php
   trunk/pintassilgo/system/codeigniter/index.html
   trunk/pintassilgo/system/database/
   trunk/pintassilgo/system/database/DB.php
   trunk/pintassilgo/system/database/DB_active_rec.php
   trunk/pintassilgo/system/database/DB_cache.php
   trunk/pintassilgo/system/database/DB_driver.php
   trunk/pintassilgo/system/database/DB_forge.php
   trunk/pintassilgo/system/database/DB_result.php
   trunk/pintassilgo/system/database/DB_utility.php
   trunk/pintassilgo/system/database/drivers/
   trunk/pintassilgo/system/database/drivers/index.html
   trunk/pintassilgo/system/database/drivers/mssql/
   trunk/pintassilgo/system/database/drivers/mssql/index.html
   trunk/pintassilgo/system/database/drivers/mssql/mssql_driver.php
   trunk/pintassilgo/system/database/drivers/mssql/mssql_forge.php
   trunk/pintassilgo/system/database/drivers/mssql/mssql_result.php
   trunk/pintassilgo/system/database/drivers/mssql/mssql_utility.php
   trunk/pintassilgo/system/database/drivers/mysql/
   trunk/pintassilgo/system/database/drivers/mysql/index.html
   trunk/pintassilgo/system/database/drivers/mysql/mysql_driver.php
   trunk/pintassilgo/system/database/drivers/mysql/mysql_forge.php
   trunk/pintassilgo/system/database/drivers/mysql/mysql_result.php
   trunk/pintassilgo/system/database/drivers/mysql/mysql_utility.php
   trunk/pintassilgo/system/database/drivers/mysqli/
   trunk/pintassilgo/system/database/drivers/mysqli/index.html
   trunk/pintassilgo/system/database/drivers/mysqli/mysqli_driver.php
   trunk/pintassilgo/system/database/drivers/mysqli/mysqli_forge.php
   trunk/pintassilgo/system/database/drivers/mysqli/mysqli_result.php
   trunk/pintassilgo/system/database/drivers/mysqli/mysqli_utility.php
   trunk/pintassilgo/system/database/drivers/oci8/
   trunk/pintassilgo/system/database/drivers/oci8/index.html
   trunk/pintassilgo/system/database/drivers/oci8/oci8_driver.php
   trunk/pintassilgo/system/database/drivers/oci8/oci8_forge.php
   trunk/pintassilgo/system/database/drivers/oci8/oci8_result.php
   trunk/pintassilgo/system/database/drivers/oci8/oci8_utility.php
   trunk/pintassilgo/system/database/drivers/odbc/
   trunk/pintassilgo/system/database/drivers/odbc/index.html
   trunk/pintassilgo/system/database/drivers/odbc/odbc_driver.php
   trunk/pintassilgo/system/database/drivers/odbc/odbc_forge.php
   trunk/pintassilgo/system/database/drivers/odbc/odbc_result.php
   trunk/pintassilgo/system/database/drivers/odbc/odbc_utility.php
   trunk/pintassilgo/system/database/drivers/postgre/
   trunk/pintassilgo/system/database/drivers/postgre/index.html
   trunk/pintassilgo/system/database/drivers/postgre/postgre_driver.php
   trunk/pintassilgo/system/database/drivers/postgre/postgre_forge.php
   trunk/pintassilgo/system/database/drivers/postgre/postgre_result.php
   trunk/pintassilgo/system/database/drivers/postgre/postgre_utility.php
   trunk/pintassilgo/system/database/drivers/sqlite/
   trunk/pintassilgo/system/database/drivers/sqlite/index.html
   trunk/pintassilgo/system/database/drivers/sqlite/sqlite_driver.php
   trunk/pintassilgo/system/database/drivers/sqlite/sqlite_forge.php
   trunk/pintassilgo/system/database/drivers/sqlite/sqlite_result.php
   trunk/pintassilgo/system/database/drivers/sqlite/sqlite_utility.php
   trunk/pintassilgo/system/database/index.html
   trunk/pintassilgo/system/fonts/
   trunk/pintassilgo/system/fonts/index.html
   trunk/pintassilgo/system/fonts/texb.ttf
   trunk/pintassilgo/system/helpers/
   trunk/pintassilgo/system/helpers/array_helper.php
   trunk/pintassilgo/system/helpers/compatibility_helper.php
   trunk/pintassilgo/system/helpers/cookie_helper.php
   trunk/pintassilgo/system/helpers/date_helper.php
   trunk/pintassilgo/system/helpers/directory_helper.php
   trunk/pintassilgo/system/helpers/download_helper.php
   trunk/pintassilgo/system/helpers/email_helper.php
   trunk/pintassilgo/system/helpers/file_helper.php
   trunk/pintassilgo/system/helpers/form_helper.php
   trunk/pintassilgo/system/helpers/html_helper.php
   trunk/pintassilgo/system/helpers/index.html
   trunk/pintassilgo/system/helpers/inflector_helper.php
   trunk/pintassilgo/system/helpers/language_helper.php
   trunk/pintassilgo/system/helpers/number_helper.php
   trunk/pintassilgo/system/helpers/path_helper.php
   trunk/pintassilgo/system/helpers/security_helper.php
   trunk/pintassilgo/system/helpers/smiley_helper.php
   trunk/pintassilgo/system/helpers/string_helper.php
   trunk/pintassilgo/system/helpers/text_helper.php
   trunk/pintassilgo/system/helpers/typography_helper.php
   trunk/pintassilgo/system/helpers/url_helper.php
   trunk/pintassilgo/system/helpers/xml_helper.php
   trunk/pintassilgo/system/language/
   trunk/pintassilgo/system/language/english/
   trunk/pintassilgo/system/language/english/calendar_lang.php
   trunk/pintassilgo/system/language/english/date_lang.php
   trunk/pintassilgo/system/language/english/db_lang.php
   trunk/pintassilgo/system/language/english/email_lang.php
   trunk/pintassilgo/system/language/english/form_validation_lang.php
   trunk/pintassilgo/system/language/english/ftp_lang.php
   trunk/pintassilgo/system/language/english/imglib_lang.php
   trunk/pintassilgo/system/language/english/index.html
   trunk/pintassilgo/system/language/english/number_lang.php
   trunk/pintassilgo/system/language/english/profiler_lang.php
   trunk/pintassilgo/system/language/english/scaffolding_lang.php
   trunk/pintassilgo/system/language/english/unit_test_lang.php
   trunk/pintassilgo/system/language/english/upload_lang.php
   trunk/pintassilgo/system/language/english/validation_lang.php
   trunk/pintassilgo/system/language/index.html
   trunk/pintassilgo/system/libraries/
   trunk/pintassilgo/system/libraries/Benchmark.php
   trunk/pintassilgo/system/libraries/Calendar.php
   trunk/pintassilgo/system/libraries/Config.php
   trunk/pintassilgo/system/libraries/Controller.php
   trunk/pintassilgo/system/libraries/Email.php
   trunk/pintassilgo/system/libraries/Encrypt.php
   trunk/pintassilgo/system/libraries/Exceptions.php
   trunk/pintassilgo/system/libraries/Form_validation.php
   trunk/pintassilgo/system/libraries/Ftp.php
   trunk/pintassilgo/system/libraries/Hooks.php
   trunk/pintassilgo/system/libraries/Image_lib.php
   trunk/pintassilgo/system/libraries/Input.php
   trunk/pintassilgo/system/libraries/Language.php
   trunk/pintassilgo/system/libraries/Loader.php
   trunk/pintassilgo/system/libraries/Log.php
   trunk/pintassilgo/system/libraries/Model.php
   trunk/pintassilgo/system/libraries/Output.php
   trunk/pintassilgo/system/libraries/Pagination.php
   trunk/pintassilgo/system/libraries/Parser.php
   trunk/pintassilgo/system/libraries/Profiler.php
   trunk/pintassilgo/system/libraries/Router.php
   trunk/pintassilgo/system/libraries/Session.php
   trunk/pintassilgo/system/libraries/Sha1.php
   trunk/pintassilgo/system/libraries/Table.php
   trunk/pintassilgo/system/libraries/Trackback.php
   trunk/pintassilgo/system/libraries/Typography.php
   trunk/pintassilgo/system/libraries/URI.php
   trunk/pintassilgo/system/libraries/Unit_test.php
   trunk/pintassilgo/system/libraries/Upload.php
   trunk/pintassilgo/system/libraries/User_agent.php
   trunk/pintassilgo/system/libraries/Validation.php
   trunk/pintassilgo/system/libraries/Xmlrpc.php
   trunk/pintassilgo/system/libraries/Xmlrpcs.php
   trunk/pintassilgo/system/libraries/Zip.php
   trunk/pintassilgo/system/libraries/index.html
   trunk/pintassilgo/system/logs/
   trunk/pintassilgo/system/logs/index.html
   trunk/pintassilgo/system/plugins/
   trunk/pintassilgo/system/plugins/captcha_pi.php
   trunk/pintassilgo/system/plugins/index.html
   trunk/pintassilgo/system/plugins/js_calendar_pi.php
   trunk/pintassilgo/system/scaffolding/
   trunk/pintassilgo/system/scaffolding/Scaffolding.php
   trunk/pintassilgo/system/scaffolding/images/
   trunk/pintassilgo/system/scaffolding/images/background.jpg
   trunk/pintassilgo/system/scaffolding/images/index.html
   trunk/pintassilgo/system/scaffolding/images/logo.jpg
   trunk/pintassilgo/system/scaffolding/index.html
   trunk/pintassilgo/system/scaffolding/views/
   trunk/pintassilgo/system/scaffolding/views/add.php
   trunk/pintassilgo/system/scaffolding/views/delete.php
   trunk/pintassilgo/system/scaffolding/views/edit.php
   trunk/pintassilgo/system/scaffolding/views/footer.php
   trunk/pintassilgo/system/scaffolding/views/header.php
   trunk/pintassilgo/system/scaffolding/views/index.html
   trunk/pintassilgo/system/scaffolding/views/no_data.php
   trunk/pintassilgo/system/scaffolding/views/stylesheet.css
   trunk/pintassilgo/system/scaffolding/views/view.php
Removed:
   trunk/docs/CHANGELOG.txt
   trunk/docs/TODO.txt
   trunk/docs/calendarizacao.gan
   trunk/docs/calendarizacao.png
   trunk/docs/diagrams/
   trunk/project/
Log:
Removed old project files and added new files, from codeigniter, and created the new structure to be used.

Deleted: trunk/docs/CHANGELOG.txt
===================================================================
--- trunk/docs/CHANGELOG.txt	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/docs/CHANGELOG.txt	2008-11-03 18:34:52 UTC (rev 2)
@@ -1 +0,0 @@
-

Deleted: trunk/docs/TODO.txt
===================================================================
--- trunk/docs/TODO.txt	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/docs/TODO.txt	2008-11-03 18:34:52 UTC (rev 2)
@@ -1,8 +0,0 @@
-Adicionar um header com a licen??a a todos os ficheiros existentes de c??digo.
-Completar conven????es
-Criar diagramas e documenta????o de apoio que se julgar necess??ria.
-Configurar o sistema de testes de unidade, simpletest, http://www.simpletest.org/.
-Encontrar imagens e outros ficheiros que possam ser usados pelo projecto
-    @Knitter: Ver pastas de ??cones GPL.
-Adicionar contactos, criar fontes de contacto no P at P, falar com o HecKel sobre 
-ter uma p??gina de apresenta????o e um email.

Deleted: trunk/docs/calendarizacao.gan
===================================================================
--- trunk/docs/calendarizacao.gan	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/docs/calendarizacao.gan	2008-11-03 18:34:52 UTC (rev 2)
@@ -1,55 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<project name="Untitled Gantt Project" company="" webLink="http://" view-date="2008-09-28" view-index="0" gantt-divider-location="288" resource-divider-location="-1" version="2.0">
-    <description/>
-    <view zooming-state="default:2" id="gantt-chart"/>
-    <view id="resource-table">
-        <field id="0" name="Name" width="55" order="0"/>
-        <field id="1" name="Default role" width="44" order="0"/>
-    </view>
-    <!-- -->
-    <calendars>
-        <day-types>
-            <day-type id="0"/>
-            <day-type id="1"/>
-            <calendar id="1" name="default">
-                <default-week sun="1" mon="0" tue="0" wed="0" thu="0" fri="0" sat="1"/>
-                <overriden-day-types/>
-                <days/>
-            </calendar>
-        </day-types>
-    </calendars>
-    <tasks color="#8cb6ce">
-        <taskproperties>
-            <taskproperty id="tpd0" name="type" type="default" valuetype="icon"/>
-            <taskproperty id="tpd1" name="priority" type="default" valuetype="icon"/>
-            <taskproperty id="tpd2" name="info" type="default" valuetype="icon"/>
-            <taskproperty id="tpd3" name="name" type="default" valuetype="text"/>
-            <taskproperty id="tpd4" name="begindate" type="default" valuetype="date"/>
-            <taskproperty id="tpd5" name="enddate" type="default" valuetype="date"/>
-            <taskproperty id="tpd6" name="duration" type="default" valuetype="int"/>
-            <taskproperty id="tpd7" name="completion" type="default" valuetype="int"/>
-            <taskproperty id="tpd8" name="coordinator" type="default" valuetype="text"/>
-            <taskproperty id="tpd9" name="predecessorsr" type="default" valuetype="text"/>
-        </taskproperties>
-        <task id="0" name="Iterac??o 1" color="#8cb6ce" meeting="false" start="2008-06-27" duration="4" complete="0" priority="1" expand="true"/>
-        <task id="1" name="Iterac??o 2" color="#8cb6ce" meeting="false" start="2008-07-03" duration="12" complete="0" priority="1" expand="true"/>
-        <task id="2" name="Iterac??o 3" color="#8cb6ce" meeting="false" start="2008-07-21" duration="10" complete="0" priority="1" expand="true"/>
-        <task id="3" name="Itera????o 4" color="#8cb6ce" meeting="false" start="2008-08-04" duration="10" complete="0" priority="1" expand="true"/>
-        <task id="4" name="Itera????o 5" color="#8cb6ce" meeting="false" start="2008-08-18" duration="10" complete="0" priority="1" expand="true"/>
-        <task id="5" name="Itera????o 6" color="#8cb6ce" meeting="false" start="2008-09-01" duration="10" complete="0" priority="1" expand="true"/>
-        <task id="6" name="Itera????o 7" color="#8cb6ce" meeting="false" start="2008-09-15" duration="10" complete="0" priority="1" expand="true"/>
-        <task id="7" name="Itera????o 8" color="#8cb6ce" meeting="false" start="2008-09-29" duration="10" complete="0" priority="1" expand="true"/>
-        <task id="8" name="Itera????o 9" color="#8cb6ce" meeting="false" start="2008-10-13" duration="10" complete="0" priority="1" expand="true"/>
-    </tasks>
-    <resources/>
-    <allocations/>
-    <vacations/>
-    <taskdisplaycolumns>
-        <displaycolumn property-id="tpd3" order="0" width="75"/>
-        <displaycolumn property-id="tpd4" order="1" width="75"/>
-        <displaycolumn property-id="tpd5" order="2" width="75"/>
-    </taskdisplaycolumns>
-    <previous/>
-    <roles roleset-name="Default"/>
-    <roles roleset-name="SoftwareDevelopment"/>
-</project>

Deleted: trunk/docs/calendarizacao.png
===================================================================
(Binary files differ)

Added: trunk/docs/ci_quick_ref.pdf
===================================================================
--- trunk/docs/ci_quick_ref.pdf	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/docs/ci_quick_ref.pdf	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,2738 @@
+%PDF-1.4%????
+1 0 obj<</Pages 2 0 R/Type/Catalog/Metadata 116 0 R>>endobj2 0 obj<</Count 1/Kids[6 0 R]/Type/Pages>>endobj3 0 obj<</ModDate(D:20060404180614-05'00')/CreationDate(D:20060404180614-05'00')/Creator(Illustrator)/Producer(Adobe PDF library 6.66)>>endobj5 0 obj nullendobj6 0 obj<</Contents 98 0 R/Type/Page/Parent 2 0 R/Thumb 115 0 R/MediaBox[0.0 0.0 612.0 792.0]/BleedBox[0.0 0.0 612.0 792.0]/TrimBox[0.0 0.0 612.0 792.0]/ArtBox[23.80957 19.58008 601.12891 772.12744]/Resources<</Font<</C0_0 82 0 R/C0_1 87 0 R/C0_2 92 0 R>>/XObject<</Im0 81 0 R>>/ProcSet[/PDF/Text/ImageC]/ExtGState<</GS0 77 0 R/GS1 79 0 R>>/Properties<</MC0<</Color[20224.0 32768.0 32768.0]/Title(Layer 1)/Visible true/Preview true/Editable true/Printed true/Dimmed true>>>>>>/PieceInfo<</Illustrator 7 0 R>>/LastModified(D:20060404180612-05'00')>>endobj7 0 obj<</LastModified(D:20060404180612-05'00')/Private 8 0 R>>endobj8 0 obj<</CreatorVersion 11/ContainerVersion 9/RoundtripVersion 11/AIMetaData 9 0 R/Num!
 Block 34/AIPDFPrivateData1 10 0 R/AIPDFPrivateData2 12 0 R/AIPDFPrivateData3 14 0 R/AIPDFPrivateData4 16 0 R/AIPDFPrivateData5 18 0 R/AIPDFPrivateData6 20 0 R/AIPDFPrivateData7 22 0 R/AIPDFPrivateData8 24 0 R/AIPDFPrivateData9 26 0 R/AIPDFPrivateData10 28 0 R/AIPDFPrivateData11 30 0 R/AIPDFPrivateData12 32 0 R/AIPDFPrivateData13 34 0 R/AIPDFPrivateData14 36 0 R/AIPDFPrivateData15 38 0 R/AIPDFPrivateData16 40 0 R/AIPDFPrivateData17 42 0 R/AIPDFPrivateData18 44 0 R/AIPDFPrivateData19 46 0 R/AIPDFPrivateData20 48 0 R/AIPDFPrivateData21 50 0 R/AIPDFPrivateData22 52 0 R/AIPDFPrivateData23 54 0 R/AIPDFPrivateData24 56 0 R/AIPDFPrivateData25 58 0 R/AIPDFPrivateData26 60 0 R/AIPDFPrivateData27 62 0 R/AIPDFPrivateData28 64 0 R/AIPDFPrivateData29 66 0 R/AIPDFPrivateData30 68 0 R/AIPDFPrivateData31 70 0 R/AIPDFPrivateData32 72 0 R/AIPDFPrivateData33 74 0 R/AIPDFPrivateData34 76 0 R>>endobj9 0 obj<</Length 1244>>stream
+%!PS-Adobe-3.0 %%Creator: Adobe Illustrator(R) 11.0%%AI8_CreatorVersion: 11.0.0%%For: (nonya) (biznass)%%Title: (codeigniter_quick_ref.pdf)%%CreationDate: 4/4/06 6:06 PM%%BoundingBox: 23 19 602 773%%HiResBoundingBox: 23.8096 19.5801 601.1289 772.1274%%DocumentProcessColors: Cyan Magenta Yellow Black%AI5_FileFormat 7.0%AI3_ColorUsage: Color%AI7_ImageSettings: 0%%RGBProcessColor: 0 0 0 (Global Black)%%+ 0.6627 0.4667 0.3647 (Global Cafe)%%+ 0.451 0.7451 0.1176 (Global Green)%%+ 0.8 0.8 1 (Global Lilac)%%+ 0.3569 0.2431 0.1098 (Global Mocha)%%+ 1 0.6 0 (Global Orange)%%+ 0.502 0.5529 1 (Global Periwinkle)%%+ 0.9843 0.6824 1 (Global Pink)%%+ 0.7294 0 0 (Global Rust)%%+ 0 0.6275 0.7765 (Global Sea)%%+ 0.5412 0.8588 1 (Global Sky)%%+ 1 1 0.2431 (Global Yellow)%%+ 0 0 0 ([Registration])%AI3_TemplateBox: 306.5 395.5 306.5 395.5%AI3_TileBox: 18 12 594 780%AI3_DocumentPreview: None%AI5_ArtSize: 612 792%AI5_RulerUnits: 6%AI9_ColorModel: 1%AI5_ArtFlags: 0!
  0 0 1 0 0 1 0 0%AI5_TargetResolution: 800%AI5_NumLayers: 1%AI9_OpenToView: -359 791 1.25 1666 1001 26 0 1 6 42 0 0 1 1 1 0 1%AI5_OpenViewLayers: 7%%PageOrigin:0 0%AI7_GridSettings: 72 8 72 8 1 0 0.8 0.8 0.8 0.9 0.9 0.9%AI9_Flatten: 0%%EndCommentsendstreamendobj10 0 obj<</Length 22806>>stream
+%%BoundingBox: 23 19 602 773%%HiResBoundingBox: 23.8096 19.5801 601.1289 772.1274%AI7_Thumbnail: 100 128 8%%BeginData: 22658 Hex Bytes%0000330000660000990000CC0033000033330033660033990033CC0033FF%0066000066330066660066990066CC0066FF009900009933009966009999%0099CC0099FF00CC0000CC3300CC6600CC9900CCCC00CCFF00FF3300FF66%00FF9900FFCC3300003300333300663300993300CC3300FF333300333333%3333663333993333CC3333FF3366003366333366663366993366CC3366FF%3399003399333399663399993399CC3399FF33CC0033CC3333CC6633CC99%33CCCC33CCFF33FF0033FF3333FF6633FF9933FFCC33FFFF660000660033%6600666600996600CC6600FF6633006633336633666633996633CC6633FF%6666006666336666666666996666CC6666FF669900669933669966669999%6699CC6699FF66CC0066CC3366CC6666CC9966CCCC66CCFF66FF0066FF33%66FF6666FF9966FFCC66FFFF9900009900339900669900999900CC9900FF%9933009933339933669933999933CC9933FF996600996633996666996699%9966CC9966FF9999009999339999669999999999CC9999FF99CC0099CC33%99CC6699CC9999CCCC99CCFF99FF0099FF3399FF669!
 9FF9999FFCC99FFFF%CC0000CC0033CC0066CC0099CC00CCCC00FFCC3300CC3333CC3366CC3399%CC33CCCC33FFCC6600CC6633CC6666CC6699CC66CCCC66FFCC9900CC9933%CC9966CC9999CC99CCCC99FFCCCC00CCCC33CCCC66CCCC99CCCCCCCCCCFF%CCFF00CCFF33CCFF66CCFF99CCFFCCCCFFFFFF0033FF0066FF0099FF00CC%FF3300FF3333FF3366FF3399FF33CCFF33FFFF6600FF6633FF6666FF6699%FF66CCFF66FFFF9900FF9933FF9966FF9999FF99CCFF99FFFFCC00FFCC33%FFCC66FFCC99FFCCCCFFCCFFFFFF33FFFF66FFFF99FFFFCC110000001100%000011111111220000002200000022222222440000004400000044444444%550000005500000055555555770000007700000077777777880000008800%000088888888AA000000AA000000AAAAAAAABB000000BB000000BBBBBBBB%DD000000DD000000DDDDDDDDEE000000EE000000EEEEEEEE0000000000FF%00FF0000FFFFFF0000FF00FFFFFF00FFFFFF%524C455A5A857E7F7E7F7E7F7EA9A8A97EA97EA97EA9547F547F547F547F%547F547F547F547F547F547F547F547F547F547F547F547F547F547F547F%547F547F547F547F547F547F547F547F547F547F547F547F547EA87F7E7F%7E7F7E7F7E7F7E7F7E7F7EFFFF547FA9A9A9FFA9A9A9FFFFFFA9FFFFFFA9%F!
 FFF7F557F5B7F557F5B7F557F5B7F557F5B7F5B7F5B7F5B7F5B7F557F5B%7!
 F557F5B7
F557F5B7F557F5B7F557F5B7F557F5B7F557F5B7F557F5B7F55%7F5B7F557F5A7E557FA9FF7FFFFFFFA9FFFFA9555B7EFF547E7F7E7E7E7F%7E7E7E7F547E547E5A7E5A7E547E547E547E547F547F7E7E5A7F5A7F7E7E%5A7F7E7F7E7F547F547F5A7E547F547E7E7F7E7F5A7F7E7E547F5A7E547F%5A7E547F5A7E547F5A7E547F5A7E547E7E7F55A9A9A985AFA9A985A97F7F%5585FF274B274B27524B51F87676CAA1A1A1CAA1A1A1CAA1A1A1C9A1A8F8%207676277652274B52F84B27522652275127F84BCAA1CAA1A87D52522752%524BA1A1CAA1CAA1CAA1CAA1CAA1CAA1CAA1CAA1CAA1CAA1CAA17E555BA9%FF7FFF7F85A9A9A9FF5B5B7EFFA152762776524B527652A1FD0ECAA8764B%7D7676527652764BA1765252764B7676764B52A1CAA1CAA8A85276277D52%76A1FD05CAA1CAC3CAA1CAC3CAA1CAC3CAA1CAC3CAC3CA7E7F5BA9A9FFFF%FFA9FFFFAF7F7F5585FFA8FFFF7E527D52CBFFFFA9FFA9FFA9FFA9FFA9FF%A9FFA9FFA8A8FFFFA87752A8777D527E527DCBFFFFFFCBFFCBFFA9FFA9FF%A9A8A8FFFFA852A8A87D537752A9A9FFA9FFA9FFA9FFA9FFA9FFA9FFA9FF%A9FFA87E555B557FA9FFA9FFA9FF5B5B555B7EFD04FFA9A8A8FFA9A9A8A9%A8FFFFFFAFFFFFFFAFFD05FFA8FFFFFF7DA8537D7D7D7E7D7DFD05FFAFFF%FFFFAF!
 FFFFFFA8A9FFFFA87D527D7D7D527DA8FFFFFFAFFFFFFFAFFFFFFF%AFFFFFFFAFFFFFFFA8A97E7F7EA97F857E857E7F7E7F7EFFFFA8FFFF7DFD%05527D525252FD0BFFA8A8FD19FFA8A8FFFFA8F8527D522752527DFD12FF%A8FF7DFFA8CFA8A8A8FFA8FFCFFFCAFD06FF7D7D527D52537DA8527D7DA8%FD0AFFA87D527D277DA1FFCAFFCAFFCAFFCAFFCAFFCAFFCAFFCAFFCAFFA8%FFFFFFA8A8FFA8A8FFA8FD15FFA87D52527D7D527DFD09FFA8FFA9A8537D%7D7D527D527D52527EFFA9FFA9FFA9FFA9FFA8A84B4B275276A1A1CAA1C3%A1CAA1C3C3CAC3CAC3CAA1C3A1CAA1A8A8FD09FFA9FFA9FFA9FFA9FFA9FF%A9FFA9FFA9FFA9FFA9FFA8A852A8277D52A8FD23FFA8FFFFCA7DA87DCAFD%06FFCA7D52FD047DFD05FFA8A852764B52524B4B7652A1CACAA1CAA2CAA1%CAA2CAA1CAA2CAA1CAA2CAA1CAAFA8FD047DA8FD0AFFA8A87DFFA8A1A8FF%A8FFCAFFCAFFA8FFCAFFA8FFCAFFA8FFA8A8FFFFA87D5253A8FFA8FD05FF%5252527D2752A8FFAFFFFFFF7D4BFD062752527DCAA1CAA1CAA1CAA1CAA1%CAA1CAA1CAA1CAA1CAA1FFFF7DA8A8FD047D527DFD06FF7D20272727F84B%4B7DCACAC3CAA1CAC3CAA1CAC3CAA1CAC3A8A8FFFFA95252527D527DFFFF%A9FFA9527DA827522852277DFFFFA8A8AFFF7E7D537D5352A8FFFFFFA9FF%AF!
 FFA9FFAFFFA9FFAFFFA9FFAFFFA9FFFFA852A8527D527D7D527DFD06FF%A8!
 CAA8A152
524B76527DA8FFCACAA8FFCACAA8FFCACAA8FFA8A8AFFFA8A8%84A87DAFA8FFA9FFA9FFA8A87DFFA8FFA8A8A9FFAFA9A8FFA9FFA8FFA8FF%A8A87EFFFFFFA9FFAFFFA9FFAFFFA9FFAFFFA9FFAFFFA8FFA87D7D52527D%7D7D52527DFD08FFFD057DA87DFD0FFFA8FFFFFF52A8FD09FF7D2752A8FD%07FFA8FFFFFF7D7D525251A87D5252FD14FFA852A8527D527DA8A87D7D7D%FD04FFA8FFA97E527D527D7DA9A9FFA9FFA9FFA9FFA9FFA9FFA9FFA8A8A9%FFA87DA8FFA9FFA9FFA9FFA9FF527D527DA9FFA9FFA9FFA9A8A8FFA9FFA8%FFA9A87DFFA9A9A9FFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA8FFFD067D%527D7DA87DA8FD07FFA8A8FD047DA8FFA9FFFFFFA9FFFFFFA9FFFFFFAFFF%A8FFFFA852A8A9FFFFFFA9FFFFFFA97D527D53FFFFFFA9FFFFFFA8A9A9FF%A8FFA9FFA9FFCBFFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA9FFCBFFFFFF%7DA87DA87D7D52A8FD07FFA8FD17FFA8A8FFFF7D7D52A8FD08FFFD04527D%FD07FF7D27202726274B76C3CAA1C9A1CAA1C9A1CAA1C9A1CAA1C9A1CAA1%C9A1CAA1FF7D7D7D52527D7D5252A8FFFFA8FFFFFFCAA8FF7DA8CAFFCAFF%CAFFCAFFCAFFCAFFCAFFCAFFCAFFCAA8A8FFFFFFA8A8A8FFA8FD07FFA8A8%FFA9A8FFFFFFA8FFA8A8A2CAA2A8A1A1A1A8A2CAA8CAA8CAA8CAA8CAA8CA%A8CAA8C!
 AA8CAA8CAA8CAFFA852A8527DA87D527D277D277DFFFFFF7627F8%F8F8274BC3A1C3A1C3A1C3A1CAA1C3A1CAA1C3A1C3A1A8A9FFA828275327%52A8FFA9FFA9A92853277E52272752272752A8A8FFA9A8525227525259A9%FFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA8FF7DA87DFD04A8FF7DA8%7DA8A8FFA8FFFFCAFF7D4B277DFFFFCAFD04FFCA4BA1A87D76FD04FFCAA8%FFFFFFA9FFA8FD08FFA9FFFFA8A9FFFFA8A8A8FFA8A9FFFFA8527DFF527D%537D52A8FD14FF52A85252A87D7DFD04527D27FFFFA8FFFFA87D7D7DFD07%FFA87D525252A8FFA8A8FFA8A8FD19FFCAA8FFFFA8527D7D7D52A87D7D7D%FD11FFA8FFFD047DA852527D5252A8FFFFA8A8FFFFAFFF7D52527DA9FFA9%FFA9FFFFA8285227537D7D52A9AFAFA8764B5252524B7DA1CAA1CAA1CAA1%CAC3CAA1CAC3CAA1CAA1CAA8AFFD0CFFAFFFA9FFAFFFA9FFAFFFA9FFAFFF%A9FFFFFFCFA87D7D527D52FD047DFD06FFA8FFA9FFA8A8A8A9A8FFA9FFA9%FFA9A8A8FFA9A87EFFA9FFA8A852522752F8524BA1CACAA8CAA8CAA1A8A1%A8A1A1A1CAA8CACAA87DA8A8A253A8A87DA8CBA8CBA8CBA8CBA8CBA8CBA8%CBA8CBA8CBA8CBA8CBA8FF7D7D7D52277DA8FD0CFF7D527D7D5227A8FD0F%FFA8FFFFFF527D7D7D52FD06FF59527D527D5252AEFFFFFFA8A820272027%274!
 B204B76CAA1CAC3CAC3CACACAA1CACACAC3CAC3CAA1CAC3CAFFFD04A8%FF7!
 DFD04A8F
D06FFA8FFFFFFA8A87EFFA8FFAFFFA9FFAFFFA9FFAFFFA9FF%AFFFA8A8FFFFA852527D5252FFFFA9FFFFFF275227A9A9FFA8FFA9FFFFA8%A2CAA87D4B5227A8A2CBA8CAA8CBA8A8527627A8767652A8A8CBA8CAA8CB%A8FFA87DA8525252277D525227FD06FFA9FFFFFFA9FD05FFA9FFA9FFA9FF%A9FFA9FFA9FFA9A8A8FFAFA97D7D7E7E7DFFFFFFA9FFA97D7DA8A9FFA9FF%A9FFA9FFA8A8AFFFA87D7D7EFFFFAFFFFFFFAFFFA97E7D7E7D7D7DA8AFFF%AFFFAFFFA9FFFFA852A8527DA8A87D7D7D527D527DFFFF7D274BA1762727%764B52A1CAA1C3A1CAA1CAA1CAA1CAA1CAA1A8FFFFA8537DFF7D7D277DA8%FFA9FD07FFA9FD04FFA8A8FFFFA8527D527DA8A8527D7DA8FFFF7D7D52A8%7D7D527D52A8FD04FFA8FFFD0A7D527D7DA8FFFFA1527D7DFD055227A8CA%CAA8CAA1CAA1CAA2A8A1CACAA8A8FFFFFF52A87D5252A87DFD0FFFA8A9FF%FFA87D527D52FD057DA8FFA85252FD077DA8FD16FFA8FFFF7E525252A8FF%FFA9FFA9FF7E7D28527D53525327A9A8A8A9FD05FFA9FFAFFFAFFFA9FFA9%FFA9FFA9FFA9FFA9FFA9A9A8FFA97E5259525253FFAFFFFFFFA9A9275252%A8A9FD05FFA9FFA9FFA8FD14FF7D527D5252FD06FFA97D7D52527DA87D52%2EA8A8CAA2A2A8A87DCBCACAA8CBA8CAA8CBA8CAA8CBA8CAA8CBA8CBA8AF%FFFFA9FF!
 FFFFA9FD07FFAFFD0FFFA8A984A97EA984A97EA9A8A97EA97EFF%FFA8FFFFA87DA8527DA8FD05FFA852FD047D7CA8A1527DA8F8F8F8272020%76CAC3CAA1C9A1C3A1C9A1C3A1C9A1C3A1C9A1A8A8FD1DFFA87E5A7F5A7F%7E7F7E5B547F545B547F7EFD04FFA87E7D7D7DFF7D7DA9FD07FFA9FD05FF%A8A97DA9527DA27D777D527DFFFFA9FFA9FFA9FFA9FFA9FFA9FFA8A87652%527D527DA8FD17CA5AFFFFFFAFA9A9FFFFFFA9FFA9FFFF85FFA8FFAFA852%7D5253537D7DFFA9FFA9FFA9FFA9FFA9FFA9FFA8A8FFFFA8535252278452%597DFFA9FFA9FFA9FFA9FFA9FFA9FFAFA97D4B4B52275252CAA1CAA1CAA1%CAA1CAA1CAA1CAA1CAA1CAA1CAA1CAA1CAA77E557FA9FFA9FFFD06A95B7F%7EFD1AFFA8FFFFFFFD04527DA87D7D27A8FD0CFFA8A8FFFF7D527D527DFD%17FF7E7F55857FA97FA97FA97FAFA97F557FFFA8A1A1CAA87DA1CA7D7DA8%CAA8CAA8CAA8CAA8CAA8CAA8CAA1A8A9FFA9A87DA8A87D7DFFA8FFA8FFA9%FFA9FFA9FFA9FFA9FFA9A8A8FFA9A8A8FFA8FFAFFFA9FFAFFFA9FFAFFFA9%FFAFFFA9FFAFFFA9FFAFFFA8A87E7F547F547F547F547E547F5A7EA8FF7D%F84B7652F82727F8F84BC3CAA1CACACAC3CAC3CAC3CAC3A8A8FFFFA92E52%52FFFFFFAFFFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA8A9FD04FFA9FFFFFFA9%FFAF!
 FFA9FFAFFFA9FFAFFFA9FFAFFFA9FFAFFFAFFFCFA8A8FFFFFFA8FD0A%FFA8!
 FFA8A84B
5252A1CACA7DFFCAFFA17D7D7D767652527DFFA8A8FD04FF%A8FFFFFFAFFFFFFFAFFFFFFFAFFFFFFFAFFD05FFA1765276A1CAA8CAA8CA%A8CAA8CAA8CAA8CAA8CAA8CAA8CAA8CAA8CAA8CAA8FF7CA8527D522727FD%0CFF847D7D7DA8FD06FFA8527D597D59527DA8FFFFA8FD19FFA8A852764B%CACACAC4CACACAA1CAC3CAA1CAC3CAA1CACACAA1CAC3CAA1CAC3CAA87D52%5252A8FD0BFFA8FFA97D5252527D527D277DA9FF7E7D5252537D52FFAFFF%A8A8274B4B527676F87676A1A1CAA1C3A1CAA1CAA1CAA1CAA1CAA1A884FF%FFA8537D527D527DA9FFA9FFA9A8537EA87D537D7DFFA9FFA9CBA8FFA8A8%527D7D2752FD0EFFA9FFA8FF7DFFFFA8A8FFFFFF7D7EA97E7DFFFFFFA9AF%A87D5252F8527676527DCAFFFD04CAA8CAA8CACAA8A1FFCACAA8FFFFFF7E%5227527D7D7DFFA9FFA8FFA8FD047DA82752FFFFA8FD05FFA87D527D277D%277DFD09FFA8FFFFA8527DFD08FFA852277D52277D7D275252FFFFFFA87D%52527DFD07FFFD05527D52A8FFFFFFA8A8FFFFA8525252A85252277D5252%A8A8525252A85252527D27527DFFFFFFA8A87DA8FFFFA8FFA8FD0CFF7D7D%52A8A87D7D7DFD04FF7D52527D7D7DA8FFFFA8A8FFFFFF537D53FD08FFFD%0452A8A8FD047DFFA8A8FFFFA87D7DA852A852527DA8FFFFA87D52522752%52A8527D7!
 DA8FD04FFA85252FD0EFFA8FFA9A8537D527D597D52FFA9FFA8%7D527D7D7EA8FFA9FFA8A8A9FFA87E5253FFFFA9FFA9FFA9AF7D52527D52%59527D527EA9A8A8FFA9A87DA87D7D7D7E527EA8FFA9A95327277E537D52%7D7D527DFFA9FFA8A85252527DA8FD24FFA8FFFFFF7D7D537DFD12FFA8A9%FFFFA87D527DA87DA8FF7DA9FD12FFA8A87D7D7DFD0CFFA8A8A8FFA87DFD%04A852CAA8FF7DA8CFFFCAFFCAFFCAFFA8A8FFFFA8FD047DFD13FFA8FFFF%A8527D52A8527D527DA8FD11FFA8A87D7D52A87DA8FD0AFF7DF84B7652F8%4B20272027F8272027F8A1CACAC3CAA1CAA1A8A8FFA9FD05FFAFFFA9FFAF%FFA9FFAFFFA9FFAFFFA9FFAFFFA8A9FD06FFA9FD05FFAFFFA9FFAFFFA9FF%AFFFA9FFAFFFA9FFAFFFA87D525252A8A8FD0AFFA8CAA8A12752A8CAA8CA%A8A8A8CAA152527D27767DFFCACFA8A87DA8A2A8A2A8A8CAA8CAA2CAA8CA%A8CAA8CAA8CAA8CAA2CAA8A87DCA7D7D7DA27DFD04A8CAA2CAA8CAA2CAA8%CAA2CAA8CAA2CAA8CAA2CAA8A85252277D525252FD0CFF7D7DA8FD08FFA8%7DFF527D7D7DFD04FFA827F827275276CACACAC3CAC3CAA1CAC9CAC3CACA%CAC3CAC3CAA8A84BF8F8272727205276CAA1CAC3CAC3FD09CAC3CAA1CAC3%CAFD05A8FFA8FD0AFFA8FFFFA87D7D52A8A9FFA9FFA9FF7D7D7DA87DA8A9%FFA9F!
 FA8A8A97E7D5277A8525252A8A9FFA9A852A87D522777527DA9FFA9%A8A8F!
 FA87E525
27EA9A8FFA8CBA8FFA9A8527DA87D527D525252FFA9CBA8%FFA8A827527D527DFD0CFFA9FF7D53527DA8FFA9FFAFFFA9A97D52532753%FFA9FFFFA9A8FFFFA9527E597D527DA8FFA9FFA9FD0552537D7EFFA9FFA8%A8FFFFA87D52FFA9A9A9FFFFFFA9FFA87D525352522E59277DAFFFFFFFAF%FFA87D7DA8527DFD0BFFA8FFFFA752527DFD07FF7D7D52522752A8FFFFFF%A8A8FFFF7D52527DFD08FF525227A827A8FD05FFA8A8FFFFA8277D7D5252%52FD05FFA8FD06527DFD07FFA8A8527D27527DFD0EFFA9A9A8FD09FFA8A9%A8FF7EFD04FFA9A8FFFFFFA8FFA8FD09FFA8FFA87EA8FFA8FFFFFFA8A9FF%FFA9FFA8A8A8FFA8FD07FFA8A8A9FFA8FFA8A8A8FFA8FFFFFFA8527D5252%7DA8FD0AFFA8FFA97E5252A8FFA9FFA9FFA9FF7E52527DA9FFA9FFA9FFA8%A8A9FFA8522752277EA9FFA9FFA9FF272852A85227527DA9FFA9A9A8FFA9%7E27525252277DA9FFA9FFA9A827527D5252527E5228522852527DA8A8A8%FF52FD04A8FD0CFF7D7D527D7DFD06FFA87D7D52A8FD06FFA8FD05FFAFFD%0BFF7EA9A8FD05FFA8FD05FFA8FD0BFFA8A8A8FFA9A8A8FFFFFFA8FFFFFF%A87DFD05527D27FD08FFA8FFFFA8527D527DA8FD05FFA87D527DA8FD05FF%A8A8FD0AFFCAFD0BFFCAFFFFA8A8FD0BFFCAFD11FFA8A8527D7D7DA8FFA8%A8A8FD0AFF!
 7D7D535252537EFFA9FFFFA827A8FFFFA9FFA9FFA9FFA14B4B%524BA1A1CAC3CAA1CAC3CAA1CACACAC3CAC3CAA1CAC3CAA8A8524B207676%7D7DCAC3CAA1CAC3CAA1CACACAC3CAC3CAA1CAC3CAA1CAC3CAA8A8A87D7D%FD0CFFA8FFAFA87DFFA9FFA8FFA9FFA9FFA9A9A8A8A8FFA9FFA9FFA8A852%52272752CAA8CAA8CAA8CACAA87DA8A1CAA1CAA8CAA8CACAA8A1765252F8%7652A1A8CAA8CAA8CAA8CAA1CAA8A17DCAA8CAA8CAA8CAA8CAA8AF7D7D7D%A8FD0FFFA85252FD08FFCF527C277D7DFD05FFA8FFFFFF5252527DA8FD06%FF52527D52A8FD06FFA8A8FFFFA852767D7DFD07FFA85252A852275252A8%FD07FFA87D527DA8FD0CFFA8FFA9A8525252A8FFFFA9FFA9FF7E27285252%A9A9FFA9FFA8A8A9FFA8522E52287D52A8FFFFA9FF5252527D7DFFA9FFA9%FFA9A8A8FFA97E527D527D52A8A9FFA9FFA9FF272727537DA827527DFFA9%FFA9FFA8A87D5252FD0EFFA9FF7E7E7D7D7EFFA9FFA9FFAFA97D7D7D7EA9%FFA9FFFFA9A8FFFFA97D7D7DA8527DA8FFA9FFA8537D7D7DA8A9FFA9FFA9%FFA8A9A9FFA87E7D7E537EA8FFA9FFA9FFA97D527E7D7D53A87DA8FD04FF%A9FD12FFA8FD17FFA8A8FFFFA87D7D52537D52A87EFFFFFF277DA8FD09FF%A8FFFFA87D7D52A852A8FD06FF52527D7D7DA8FD057D7EFFFFA8FD12FFA1%CFFFFF!
 7DCA7D7D7DCAA8FFFFFFCAFFFFFFCAFD04FFCAA8FFFFFF527D52A8%7D7D52!
 7DFFFFA8
7D7DFD09FFA8FFFFFF7D7D7DA87D52A8FD05FFA87D5252%527D527D527D7D7D52FFFFFFA8FD10FF52F8277627F820F8F84B272020CA%A1C3A1CAA1C3A1CAA1C3A1A9A9FF7E535253A8FFAFFFA9FFA9A9287D27A8%A9FFA9FFA9FFA9A87EFFA97E2852535252FFA9FFA9FFA9A8525227A82852%52A852525227272E7DFFA8A9A8A8A8A9A8A8A8A9A8A8A8A9FFFFFFCAFF52%4B27767D764B7652A8CAFFCAFFCAFFCAFFCAFFCACAA8FFFFFFA8FFA8FD09%FFA9537DFD07FFA8FFFFFFA9FF7EA8A8FFA9FFA9FFFFFFA9FFA8A87DA9A9%FF7EA8A9FFA9A8A8FF7E7F5B7F5B7F555B557F555B557F55A9FFA8FFFFA8%7DA859FD057DFD0CFFA8A8FFFFA852527DFD08FF525252277CFD06FFA8A8%FFFFA8275227A85227522727FFFFA8275227A87D2727525227A8FFFFFFA8%7E557F7FFFA9A985A97FA9A97F557F7EFFFFAFFF7D7D527D7D7D52A9FFFF%A9FFFFFFA9FFFFFFA9FFFFA9A8FFFFFFA9FFA9FFA9FFFFFFA9FFFFFFA9FF%7EA8FD04FFA9FFA8A8FD04FFA9FF7EA9A8A9A9FFA9FFAFFFA9FF7EA8A8A9%A9FFA8FFFFFFAFFF7E7F55A9FFFD06A9FF7F7F5585FFA8FFA9A8537D527D%53527DFFA9FFA9FFA9FFA9FFA9FFA9FFA8A87DFFA8FFA8FFA9FFA8FFA9FF%A8FFA9FFA8FFA9CBA8FFA9FFA9A8A8A9847EA9A9A8FFA9FFA9FFA9FFA8FF%A9FFA8FFA9F!
 FA9FFA9FFA8FFA9FFA87E555B7FFFA9AFFD05A985555B5AFD%1AFFA12720F82676CACAA1CAC3CAA1CAC3CAA1CAC3CAA1CAC3CAA1CAA8A8%2727F827275252A1C3CAC3CAA1CAC3CAA1CAC3CAA1CAC3CAA1CAC3CAC3CA%7E7F557F5B7F5B7F5B7F5B7F5B7F55A9FFA8A1A1FFA17D7D7DA17D7DA8A8%CAA8CACACAA8CACACAA8FFA8A8A2CA5276A1A1A1CAA2CAA8CAA2CAA8CAA2%CAA8CAA2CAA8CAA8A8A2A8A1A252A17DA1A1CAA2CAA8CAA2CAA8CAA2CAA8%CAA2CAA8CAA2CAA8CAA8FFA9A9A8FFA8FFA8A9A8A9A8A9A8A9FFFF7DF84B%7652F827F827204BF8F876CAA1CAA1CAA1CAA1CAA1A8A8FFFFA9525252FF%FFFFA9FFAFFFA9FFAFFFA9FFAFFFA9FFAFFFA8A9FFFF7E7D595952527EFF%A9FFAFFFA9FFAFFFA9FFAFFFA9FFAFFFA9FFAFFFA8A8FFA8527D527DFD09%FFA8FFA87D2752527DA8FFCAFF7DA8CAFFA8FFCAFFA8FFCAFFA8A8FFFF7D%5228A8FD04FFA9FFFFFFA9FFFFFFA9FFFFFFA9FFFFA8A8FFFFA8527D52A8%A8FFFFFFA9FFFFFFA9FFFFFFA9FFFFFFA9FFFFFFA9FFA8FF52FFA8FD047D%FD0CFF7D7D527DA8FFAFFD0FFFA8FFFFFFA87DA8FD13FFA8FFFFFFA87D7D%7DA8FD1DFFA8A8527D52527DFD04FFA8FFA97D275252A827522853A9FFA9%FFA9FFA9FFA9FFA9FFA8A9A9FFA9FFFFFFA9FFA9FFA9FFA9FFA9FFA9FFA9%FFA9FFA!
 9FFA9A8A8FFA9FD05FFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA9%FFA9FFA!
 9FFA8FFF
FFF7D7DA87D52FD057DA8FFFFFFA8A8FFA8A9A8A97DA8%A8FFA8FFA8FFA9FFA8FFA9FFA8FFA9A8A8FFA9FFA8FFA9FFA8FFA9FFA8FF%A9FFA8FFA9FFA8FFA9FFA8FFA8A8A8FFA9FFA8FFA9FFA8FFA9FFA8FFA9FF%A8FFA9FFA8FFA9FFA8FFA9FFA8A9FD0AFFA8FD08FFA8FD0BFFA8FFFFFFA8%FFFFFFA8FFFFFFA8FFFFFFA8FFFFFFA8FFFFFFA8FFFFFFA8FFFFFFA8FFFF%FFA8FFFFFFA8FFFFFFA8FFFFFFA8FFFFFFA8FFFFFFA8FFFFFFA8FFFFFFA8%FFFFFFA8FD05FFA852FF7D5252F8A8FD5DFFA8FFA8FFA8A8A8FD04FF547E%547E5A7E5A7E5A7E547E5A7E547E5A7E547E5A7E547E547E547E547E547E%547E547E547E547E547E547E547E547E547E547E547E547E547E547E547E%547E547E547E547E54FD11FFA852FF7D5252527D5252A8FF5B7FAFFFFFA9%FFFFFFA9FFA9FD04FFA9FFA9A9A9557F557F5B7F557F5B7F557F5B7F557F%5B7F557F5B7F557F5B7F557F5B7F557F5B7F557F5B7F557F5B7F557F5B7F%557F5B7FA8A97EA97EA97EA97EA9A8FD07FFA8FFA8FD08FF547F7FA97EA9%5B857E7F7F857E8585A97EA97F855A5B545B545B545B545B545B545B545B%545B545B547F555B547F555B547F555B547F555B545B545B545B545B545B%545B545B54A8545B545554555455547FA8FD05FFA87DA8527D5252FD05FF%FD04A9AFA9A9!
 84A9A9A984A9A9A97EA9A8A9A9FFA9A9A8A9A8A9A8A9A8A9%A8A9A8A9A8A9A8A9A9FFA9FFFD04A9A8A9A9A9A8A9A9A9A8A9A9FFA8A9A8%A9A8A9A8A9A8A9A8A87E7F5BFD047FA97F7F7EFD07FFA8FFA8FFA8A8A8FD%04FF7D53535252FFFFFFA9FFA9FFA9FFA9FFA9FF52527D52A8FD10FF5352%52527DA9FFA9FFA9FFA9FFA9FFA9FFFFFFA7FD0BFFCFA8547F85A97FA97F%A9557FA8FD05FFA87DFF7D27272752A8FFFFFFA8527E527DA9FFFFFFA9FF%AFFD06FFA8527D52A8FD10FF537D7D5227FFAFFFFFFFA9FFFFFFA9FFFFA8%F852FD0CFF847F5BAFFD04A95B7F5AFD07FF7DFD0AFFA9FFA9A8537D527D%52A87D5953525253A8FD04FFFD047DFF527D7DA8FD08FFA8FFFFFF7D5352%5352A8A87D597D7DAFA9FD04FFA8527DA8A87DFD05FFA8A8557F7F8555A9%7F5B557FA8FD05FFA87DFF7D7D7D52A8FD05FFA9FF7E7D7D7E7D7D537E7D%7D527D7DA9FD04FF52FD047D52527DA8FFFFFFA8FD05FFA9FFA97D527D53%FD047DA97D52A9FD05FFFD057DA8A8FD05FFA87F7FFFA97FA9A97F7F5AFD%07FF7DFF7DA8527DA8FD04FFA8FFA9FFFFFFA9FFFFA9A9FFFFFFA9FFA9FD%04FF7D527D52A8275252A852522752277D52FFA9FFA9FF5252537E525227%FFA9FFA9FFA9FD04FF7D525227A8527DFD04FFA8A9557FA9A95BFFA98555%7FA8FD05!
 FFA8A8FFA87D7D7DFD06FFA9FF7EA8A8FFA9FFFFFFA9FFA9FFA9%FD05FFA8!
 FFA8FF7D
7DFD04A8FFFFFFA8FD04FFA9FFA9A9A8A9A9A8A8FFAF%FFA9FFA9FD05FFA8FFA8A87DFD07FF7E7F7FA97F7FA9A9557F7EFD07FF7D%FFA8A87D7DFD05FF7D27F827F827A8FFA9FFA9FFA8FFA9FFA9FD04FF7D52%7D7DA85252277D7DFD07FFA9FFA9AF522727522852A9FFA9FFA9FFA9FD04%FF7D7D52277D52272752A8FFA8A8547FA9A97FA9A97F557FA8FFFFFFA8FF%A87D7D527DFD08FFA9FF7D527DA97D7E5253A8FFAFFFA9FD05FF7D7D7DA8%7D52527D7DFD09FFAFFFFFFF7EFFA9FFA9FFAFFFA9FFAFFD05FFA87DFD04%52FFA8A8FFFFFF7E7F7FFF85AFFFFF7F7F7EFD04FF7D7DFF7DA87DA8FD07%FFA8FFFFA852FD057D53A8A9FFA9FFA9FD04FFFD047DA8525252A8FFFFA8%FD05FFA9A8A8A9A8FFA9FFA9FFA9FFA9FFA9FFA9FD04FFA87DA87DA8A8FD%05FFA8A8547F85A9A9A97F5B557FA8FFFFFFA8FFA8A8527D7D7D5252A8FD%08FFA9FD07FFA9FFA9FD05FFFD057D52527DFD0452FD06FF2727F87EFFFF%A9FFFFFFA9FFA9FFA9FD05FFA8A87D7D7DFFA87D527D7DCAA87F5BA9AFA9%A9A9557F5AFD04FF7D7DFF7D7D7D527DA852FD04FFA87E7EA8A9FFA9FFA9%FFA9FFA9FFA9FFA9FD04FFA8A8FFA87DA8A8A8FF7DFD07FFA9A9A8A9A8AF%A8A87EFD04A8FFA9FFA9FD04FFA8527D277D7DFD0552A7A9557F857F55A9%7F7F557FA8FFF!
 FFFA8FFFFFFA8FD09FF7DF85227FFFFFFAFFFA9FFAFFFA9%FFAFFD05FF527D7D7DA852527D527DFD0AFFA97D527D53A852535253A9FD%07FF7D7D527D52FD07FFA87F7FFFA97FA9FF7F7F5AFD04FF7D7DFF527DA8%FD08FFA8A9A97E527D53FFA9FFA9FFA9FFA9FFA9FD04FF7D527D7D7D277D%527D52A8FD06FFA9FFA9FF28527D53277D7EA8287D537D84FD04FFA82752%A87D7D7D52A8A8FFA8A9557F85AF7FA97F7F557FA8FFFFFFA8FFA8A8A8FD%0CFFA87E537EFFFFA9FFA9FFA9FFA9FD05FFFD04A87D7D7DA87D7DA8FD07%FFA9FFA9A87D7E7DA87DA87E7E7DA87DA9FD04FFA8FD047DA87DA87DFFFF%FF7E7F7FFF7F7FA9A9557F7EFD04FF7D7DFF527D527DA8FD06FFA8FFA984%537D537D84FFA9FFA9FFA9FFA9FD04FFFD047DA8527D7D7D527D7DA8FD04%FFA9FFA9FF7D7D7DA953A97E53537D53A8A9FD04FFA87D7D7DA87D7DA8FF%FFFFA8A8547FFFA955A97F5B557FA8FFFFFFA8FFFD05A8FD0AFFFD047D52%A8FFFFA8FFA9FFA9FD05FFFD057D52525227527DA8A8FD05FFA9FFFF5952%7D53FD047DA87D537DFD05FFA87D527D527D7DFD05FF7E7F5B857F7F7FA9%5B7F7EFD04FF7DA8A8527D52FD08FFA8FFA97E527E52A8527D522752A8AF%FFA9FD04FF7D527D7DA8527D5252527D7DFD05FFA9FFA9FFFD055284527D%7D5228A8A!
 9FD04FF7D52A8525252FD05FFA8A8547FA98555A9A9A9557FA8%FFFFFFFD0!
 5A8FD0AF
FA9FFA85252A8537D7D27537D84FFA9FD05FF52FD05%7D5252A8FD09FFA9FFA97D537D52A9277D5252A8FFA9FD07FFA8A8FFFFA8%FD05FF847F5BFFA97FA9FF7F7F5AFD04FFA8A8A852527DFD08FFA8FFA97D%277E7D7D7D7E53847DA9A9FFA9FD04FFA87DA8FD057DFD09FFA9FFA9AFFD%077D7E7DFFFFFFA9FD04FF7D525252A8527DFD04FFA8A8557FA9A955AF7F%7F557FA8FFFFFF7DA8FFFF7DFD0AFFA9FF7D7DA87D7DFF53FFA87E7DA9FD%06FF7DA87DA8A8A87DA852A8FD08FFA9FFA9FD057D53A9A9A8527DA9FD05%FF7D7D527D277DA8FD05FFA87F7FFF7F7FFFA9557F5AFD04FFA8A8A8527D%527DA8FD06FFA8FFA9A85252527D5353527D537D7DFFA9FD04FF7D527D7D%7D27FD047DFD07FFA9FFA9A95252527D2752537D525352A8A9FD04FFA87D%7DA87D7DFD05FFA8A9557FA98555A9857F557FA8FFFFFF7DA8A87D52527D%A8FD07FFAFFF7D7D527E7D527D52527D5252A8FD05FFFD057D527D52A8FD%09FFA9FFA95327537D52287D5253527D2784FD10FF7E7F7FFF7F7FA9A955%7F7EFD04FFA8A8A87D7D7DA87D7DA8FD04FFA8FFA9847EFF7D7EA87D7EA9%A8A87EAFA9FD04FFA8A8FFA8A8A8FFA8FD09FFA9FFA9FFA87E7EA87DA87D%7DA8AFA8A9A8FFA8FFA8A8FD0AFFA8A8547F5B7F55A97F7F557FA8FFFFFF%7D7DA87DFD0552!
 FD08FF7D52527D537E7E527D7D5352A8FD05FF527D527D%7D525227FD0AFFA9FFA97D2E7D52A8525352A8FD05FFA8F82752FD0BFF7E%7F7FFD05A9557F7EFD07FF7D7D7DA852FD06FFA8FFA97E527D7D5252527E%A8A8FFA9FFA9FD07FFA87DA8FFA8FD09FFA9FFA9FFFD04A97EFFA8A8A9FF%A9FFA9FFCFFFA8A87D52A87D52FD047DFFA8A8547FA9A97FFFA95B557FA8%FFFFFF527DFFA87DA87D7DFD07FFA9FF7E52537E52537DA8AFFFA8A9AFFF%FFA8A8FF7DFD11FFA8A9A8FFA9FFA9A8A8FFFFFFA9FFA9FD05FFA87D7DA8%FD057DA8FFFF847F5BA9A97FA9A95B7F5AFD07FF52A87D7DA8FD06FFA8FF%A9A827527D84527D28FD0452FFA9FF27F8F827A8FD0FFFA952F82727F827%27F8277DFFA9FFA9FFA9FD07FFA8FD07FFA8A8557FA97F557F557F557FA8%FFFFFF52FD047D527DA8FD07FFA9FFA8A87DAF7DA97DAFA9AFA8FFA9FD05%FFA8FFFFA8A8FD0DFFA9A87EA959A97DA9A8A9A9FFA9A9A8FD11FFA87F5B%FF7F7F7FFF7F7F5AFD09FF7DFFA8FD06FFA8FFA97D27525252285253FD04%527EA9FD04FF7D5252275227A8FD0AFFA9FFFFFF285252A8525352522752%525253FD0FFFA8A9557FA9A955A97F7F557FA8FFFFFF52A8A852F8FD0552%A8FD06FFA9FFA9AFA8FFA9A87EFFA9FFA9FD05FF7D527DFFFFA8A8FD0BFF%A9FFA95327!
 537D7D277D27527D7E527DFD10FF7E7F7FA9A97F7F7F5B7F7E%FD04FFA8A8!
 FFFFFFA8
A8A8FF7DFD04FFA8FFA9FFA9FFFFFFA9FFA9FFA9FF%A9FFA9FD04FFA87D7DA8FD0DFFA9FFA9FF7D7E7DA87D59537D537D287E7D%FD0FFFA8A8547F555B55A9A97F557FA8FF27FF7D27F8A827522727FD06FF%A827537D7D527D53FFFFFFA9FFFFFFA9FD05FF7DA8FD10FFA8FFA8FFA9FF%A8A9A9FFA9FFA8A9A9FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFFFFFA87F547F%547F5A7F547F7EFFFFA8FFFFA8FFA8A8FD09FF7D527D53275252527EFFA9%A9A8A9A9FFA9FD04FFA87DFD21FFA8FFFFFFA8FFFFFFA8FFFF7D7DFFA8FF%A8FFAFFFA8FFFFFFA8FD16FF7E5253535252527D5252F8A8FD16FFA8FF7D%7D525227522752527D7C7C267DFD0EFF7D7DFD09FF7D52FD14FFA8FFA9FF%A8A9A8FFA8A859A9A8A8A8FFA9FF7D52525227277DFD0CFFA8FFA14B4B52%7D2E2DFD06527DFFA8FFA8FFA8FD08FF7D7DFFA8FD06FF7D52527DFD14FF%A9FFFFFFA9FD09FFAFFFFFA8527D527D52A8FD0CFFA8FFC3C3C3BC7D845F%655F7D7EA37979787D7D27527D52FD07FF7DA8FD07FF7D275252A8FD13FF%A8F852FFA9FFA9FFFFFFA9FFA9FFA9FFA9FD05FF7DFFA8527D7DA8FD08FF%A8FD04FFCAFFFFFFAEFFA8FFA9CBA9FFA8FFA8FFA8A8FD07FF7D7DFFA8FD%05FF277D2752FD15FF5359A8FFA9A97D7EA9FFA9FFA9FFA9FD05FF7D7D52%FD047DFD09FFA8F!
 D1DFF7DA8FD07FFA8F828A8FF7DFD04FFA8A8FD04FFA8%A8FD06FFA8FFFF7D2753FD0452A8FFA9FFA9FFA9FD04FF7D522752FD0EFF%7D277D27522752527D7D525227277D52275252F827525227FD04527D7DFF%A8FD05FF7D27525252FD047D5252277DA8FD047D52FD08FFA9FFA8FD047E%FFA9FFAFFFA9FD06FFA8A8FD07FFA8FD05FFA8FFA8FD047D52FD047D52A8%FD047D527DA87DA8A852FD047DA87DA8FD06FF7D27522752FD07FFA8A8FF%FFA8FD08FFA8FFAF7E527D527E52527EFFA9FFA9FFA9FD04FF7D52527DA8%5252F852A852F852FD06FF7D7D527D7DA87DFF7DA87D7DA87D7DFD0CFF7D%7DFFA8FD05FF52527DFD16FFA9FF7E52535327A8287D53FFA9FFA9FD05FF%7D7D525227A8A827277D7D2752A8FFFFA8FFA8A8FD047D52FD057D527D7D%A8FD0CFF7D7DFD04FFA87D527D52522752275252527DFD0EFFA8FFA9A852%7D537D527E5353A9FFA9FFA9FD04FFA8FD047D52527D527D7D7D52A8FFFF%A8CAFD0DFFA8FD0EFF7D7DFFA8FF7DF827527D527DA8277D7D522727F8FD%0EFFA9FD07FFAFFFFFFFA9FFAFFD15FFA87DFD1C5227A8FFFFFFA8272752%7D27A87DF8F87D7D52F87DFD0DFFA9FFA9FFA9FFA9FFA9FFA9FFA9FFA9FF%A9FD15FFA8A9A8A9A8A9A8A9A8A9A8A9A8A9A8A9A8A9A8FFA8FFA8FFA8FF%A8FFA8FFFFF!
 FA8FFFFFFA8A85252A87DF80052A8A8FD0FFFA9A8FFA8FFA8%FFA8FFA8FFA!
 8FFA8FFA
8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8%FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8%FFA8FFA8A8FD0AFFA8FD12FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FF%A8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FF%A8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FFA8FD1EFFFF%%EndDataendstreamendobj11 0 obj 17048endobj12 0 obj<</Length 11 0 R/Filter[/FlateDecode]>>stream
+H??Wio??????
+?uP2tz?Hb?????g,X?DG???!9?Ql?[,Z=?E>|????oW7'Q?????2?w??^????L?j^??4??l:?>6m??)?V;?????=S]?3?????}????}????p???j???????F??>OU?????t[????C`?Gp]??7?3\?>?;?????M?};3?c???[?d?A?????1N+?A;???>?ib
+RE?X??g:?'???9?X6t??{X???Ce?/??zf~?Z?S+????;r?? R?z=???Ce#?|??|????1?<6??J3?p??[?o??Z??iT?K`??>N?{?$d??z???ho???~'?????S??????-?=??????\??{??)`/???W?????T??N/?:???P#????(?wY??pja?8?V?U??I?H?rAC?Z?Y?mt???z0??5>NH>O?(?]3????_B???D???D=?IR???kN2^L? ??.???r7?????4???G????F????s%??j?A?*C?<???+???j??J?A:??4?[p???iU&M?4u:P2???o6?'%??7?????(db?????H????>?hx[???R?
+?JRt[???????J????h??N?n,??D?j><s????j?i-i??????????~[?B>7|(?Z??	????Ob?F?????oE?????
+^c?<j????jl&?Z4??????=????J??-/?t0?]??n?d??%T"?Q7??p???2???]7???J&??????O????fS?)MU??z?7%? ?
+??3?-??J? *??:????T/???4 E-R4[<G:3?Y?L??B?_,??b&]h??&].??????;??[???]???0Td1Z??E/?+???B?.i]?y????????:?b?H
+?q?m?VJ?????O??K???2????A???z?oye'???????R}?/=???4zsz??A?????????????*?-???j????????????h??!?,?y??{1R?k?,??b??????`_?T?/??r???9V?.?????FmA???????ZA?(????nv???r	??????o;-????????????^}?????$??J??yj????>B??i????+???X???g??'t?????h??q?r????o/[<<?q??m???}?????Rdg?.?o?????%?	?R??_U???W??y~6??	????A?z??o??)?+_????Y?+#??A?D54??????eU??5?b??A????}???R??O?"??5k????.?8???b?????????TKx?f?Fqt?l?	?o?V6?`?
+???????7
+{??]????????<J?????+6?;??=o at M23??e???1?8)??k6@???
+3?<???h+O9?1? 
+}?Q?Q???-???<???X
+mch"?l???$????????V???\???'??SF?G???H?8Y.!???2?=?VU?f99??"LY?!B 02?=\yP?v,???"???p?"?2??*?,?H?T&(F&Nh?,b??<? ?R[????/????A?C_?/?R))??T?|???fa?a?????ARJ??f?{??E?????$??/pVq??h??pSM??????????p?1~+???????W)????!???U?X?B?=k.U?X?D??k????F???{??????g?|
+?s`'A?-???8??#??Z?~????.??-??i%?.????z???i'??z??P??x??6	9?=?=?"DOO?N?`??a??ufLU?????scPHWymr??-?o?]?MZ?A?=[+???e????w???+?Q[????6????5??!:?+?,s?\L6?.?=???xB?$j<??Vt8?=o??? ?7?Jal!???????????????q?Y(?0??
+??g?7#???Gy?e!?D?L?\??v?p??)??
+???e?????Y?5??}?vO|??k?]
+3??3IQlC?U??(?(
+??J?N?????100B?d??^?.?Yx?<C?????|b?%p)??l0R?nn	??F??D???+
+8L??VC?????????lx0F?.???.>1????d?H????$???H*q8N??x????d;Y:]:c???'??9'???+E?G??^????x0?^??c?AZ?c?kio/???}?!oe??tV?>??x??G???~??r???4?*????2??????l??r5A?*?
+w?U??{?[?\?+?+?p?,vS??my?|%????h???Y??EQ??(??O>???m-W??23%???????????Q???g??~?G?W?
+GBn??w????m?I?#%?0/B????,???W!j33?v???fr??c?al?:?????:3?????g???????????o?tw&?9??MS_U?)\??,?.?.???5q]???N?????????????>?v??6yO??????U{?J???U??&j???? np?88n?&-?C?:N?{?Q?????n?X1?he4}G9o?8?6??Bn?q??T?hg!??N$???(?'?W^3?fa??Q??HI????$?T?<cr?F;??5ts???0?n?-??'N??????/?c??e<L#lc?o????????ty?H???$?%??hQ?$^??????BhP????10??|M?&???Ig?-??m??f????Y??)?kv5??Y??f?rj?|"?????%3??Q??9?z?4{?;ds&c?$4W??@??p?+?w<?~??????c?+,??*????????-a???.+????s0j?e?"?????-??"??A????PY???^??n at W??Wh?-????????????@???u?d??"????+ZL?f?#?G#U??]???D-?Wj?'?Ob???.??`s!?hx???C????9L`??'?Z]?????Cr??(4???cAC?fb61V??EiWA?i????O??#?VQ?p<HZ????~????b?|#??E???7^\???+"?xB?e??
+??XD#?Ap
+s?qC{?R???[v?]u?????meN$???;??/SeiwS???u?????<8?T????<o,?????273V??-lF???:W;?:wPG?
+?P-|6?VL?mZ?#myl???????D+??F$??/???????d??1???vl???c
+P?? ?r8C????D?e?hf??
+Nn??HS0c??q??\0.7q0=Fh?Q?c???F??v]71E?????3F3?0?q???[l??q??????`Yr??'.}VNP? ??????
+?@@PT?????????72d??????\???????BE??? ?db???(???,???m??K?im?A]_?&&?c"3!?7 ????NL????	??[??c?#??5?b???uY??zL???gY??f??=????	??f??r?Y??XvB? O???#Y??p????[??U=?G"=???#?GZ'#bKn?2?9??A????}????????
+??^??Z????W?Vy???lV!?????k???yK??k??nl;??&?5DykRyi_r????>||??????6e?????nn?^?}h?<8?4?/c??>?F????yWJ?
+??Q?Q?Q?IS?A?C|%?(?6*(?(?|???eGr?~?a?`??[?^$?t2?}Z???????`?L???j?g?????*IE?a????u??.??>|??\:1???d??`*?H?K???t?M?e6M?t?.?r????*??}???
+?D?H0;b()?(@HE????~Z?]?????:????H?????|?uj?&?ii&z???2?s??h(?zC??j???-?tj?????S??????7Ic??!?i?U?x??!?9?4?Y3???};nz`e?4hm?4E??!D,?
+?OR??h?C?!"@h|??????x|?J?????,9d??J??.?Z???;??`Y!l?Q^?|;????????????%????	r~?l#???v???ze??L???W?\????x?????}?.YE????$?????ZO????D?g]#O?`#t+?u????{?g?.???Uc?E%lPCz????`?z,????A+j#/???'KWK?K???yOk|??????????5?????K??\??J??????H#??N?=??? ?o???\y???7???ET~3`??JX????_Xl?M`????	?~??2?o.`?i???$[????e????B???@??
+??h1x??12???<^L]c??:?5t?W? fQ,w?t'?????d??V??U?{,?F??C?????????????\x.?|???P!d)?b+?!??7?OGo???:???5r+Z?{?D??s?9?u????p?a????9? ?B???Y3#?#??;??D??P??C6\:???j
+???n5VU???\?Y]?W?]L?~??fj?O?K?h?{???H=??'?	J??Z	?L????WQ?yU??dj??|????8?<b??X?>?b?????m???}??w|t???????????????????a??????"|t??;5??ZP?B8?r@??k?!??y[?05?{?q?????\;L=?]A?M
+??$?KN??
+????t?-ZX?Xn?m?!?c??64n0pX?P?Q?1?IJ????l??yW?? ???#"q-25
+=?"g6?}????3?D?n????8!??6??i??7?9|??pDB??i?????????S?X??OMh?lnFZvu??:'?k?1?????ynR???}Qw?F?H?tL;;???9}??/???[?????????? "DIh at v?/??F?E?.??S_?2?=??c???kB[h????a1{L?????a	;
+?
+?Z?8Sw]o???<??o??2]?(??|?{?W{??os????^???W????Q?|R=C<E]???f[n???'{y????u?V??N?P???+X?oZ?Q???m??????v?7??-???W??aW?????3i??=???B??(C??&g?T6j-???????&?/?_?n_?Ne?i,?A`f?/???N?"????sEX???;?7?2=??h?h5?p???w?+?O???j7??;?<??`e?4+???(6?{?p???f??\? ws?t??;???^Es????R??e??}W?k??j???T9?	m^??????Hd?>yf??V?V_????????&?8CWf<a??/:2?8MB?U?U?=???,???'r?J?g????1?XT??b??O%???? pm_1?D????\P??;?0??z?}???M?o???p??,???gS??]??+?????_L0f?)?%d?r,Q)?y???h?4??s*??6?{?7#??}?1??sLz?vw?y??^>F??s???$
+%4??-?@0?>
+?p????[??u84~\Z
+??60>h^???P\??Z)?o?  ???581??@VPN0F
+?V??????c?-?j-???2c??)5	2?!0*.???????I??D<?L>????????????&??b?ol<??/>N?,Nb5)???c4?9$jn???8???B;>?\k??jn?????????
+?N?i::????z??d??)Nkml??X???G???l?i?P??<h+44]??
+xW?>??`x?:V????R?$????=?z???N????yl???yM<???e#s???vB??P?(?^	AW"?)1?uIA?dA??A??P???X??<
+Ax at p!???????s????VeX?@#????Va-?5Y?#k?P?Q?fq,??RI5?P??R?(z2?????d??R/?c%"?Ar@?vx???Hh,??f???????1?A?P?{j?T2?Am#o?x??)??5X?Q????2?x???J$q$?8?Q?a?????=9vr?{???? #'??x???,9Tr?D?q??dt?Y?lR?????AhH???I
+? i?(?3I2Ez
+ $????y???iXaW$?^_}?E?}jK?????5+oi?????v:M?Un1?~d?.1?!???????G_.??.0Z>Kk???????s	?$?2??)???E????????X???_?????7????SC%m%w????.?B???i?
+?-??]#???N'f;t??HZ9g	I+P??
+YAS#(?9@?N?G???i,?????{
+?dQ?Q?i?6?5xFY??(???????(??NR??????R??C?????HC)?A?P?P?0?0?0?????@?P?(_??k?a3?`0	4????B?=<<??kx?
+4(????X???0??8H???9,??C6]8%??)?
+??????u7?_vm7?????F????x????`)?????An?a3???f???m?N??|?nt???]???-~_?n??{m???6v???W???!????U?L?????????????_??????????.????????u????????????
+?????4Eb?)???^;($?"?2?@OV(?R??&Tk???UP??s????????]?<?\(?q&?6?M?????????N.??8???`?6???4?T??????.?z??}??M??3?1B??
+v\??>Uu?R??????^?q??+?{RP?E????w???9?V????5XI?C??}Vh.?|?9A?????#FSK??B????
+?[?0???!??9?4]????a??t?]?b????|q?:?m^#-???5?s??f??E??M?U_gD???Qp?zJ=Oi??
+g????*????o4????yz8?n9???8?;8X`I<?5????_u????bl/:???z_?y???XSVG????j?????_????d#???? @Wuw???^$-o??!Y???#?
+??`.<?[E???(v1?}???n???Q?????
+??,???h?r13??Bj?9??i?5??ZdZ?Zg??&c????5??m??Mx?d?????B c?????/????MXMxM?v?M?%??j??83l?4?>?Zf?4?$?e??(3Lf?B?????%???\KC??????n??m9]?o???h?y?)??p??-\sK5F4?Q?"?????e??i????????'5???^?wnh;????E~9?/???W?1??u??=?????}?k'??,?|c???7????}?4?,???V????V??\???(???\O??}I?z)?[75R???I?Q?5_?[X???m?y??????????~?_????)??O/???~y	??????~?#?!????y6?LX]]]]Y ]!?j?"?#?$?%?&?'OX)Y?)-??UZ??Zy??zE%?????K6
+p?1NPNqN?N?N???q?O????m@?`?E?U?Z;?y???*?Tz%5CI?\???2?V??5?U??%?O????+o????????????"?Vk??	?K?5?P??m??b?fM?
+{Wu?KB????LQ
+w?B??4?V???????y"S?d5??pLY???g?z????V????? 
+????+?X???kQ?"?E?Kt/?_??,>zq13|?:?2?f????O??F}?8?6?nZ??Q??&6G?zbH'?S?g??pf:R}?:'9??1????!?#?????'?)?+#[
+_?1	??e?6A??|TP????????#??T$m_I?>?:?.i?U???did???????????E?????r??n?4w?'?IV?????Da??w????dLw/#N"?"!??)?X&b^$?????f???2?cs??f??q?????Q7??W????kZ???k\?><6-??s?F????p?h???q?f??3???G???=t?J<????SW?S???o???b?vA=c???8%##('l?S?e?f??r??vYod??z,???:??Tl?????q?<?<2?+?G	.?!?&k?'?X???W?+??????yF?????????3F??^Ulr'?Po?????qi^?!5??R???a??V??????Q??D?	??>?`??	?W??A
+'+Q$?XR??OJD?
+R??.?"w?????[??3?
+????n4?k?????J????|?!?????	BzF?L??w??=#?4?'??#?F?h5d?,??bz???2??$-?]V\?.?WF?_?e*?7vQf?\??#?^?.??&S?b??b??G.?l*|:(-2?(?fb? F!?W??
+??'??h???{>xKJ????????}A??j??cC??F?p????#?:J??QR???#v??G?v??9?????v??;~f^?)?h???0?R??z?j??zZ	?;?l?x C?zrJ?p? @?$?>?W??????[p?BsZn?D??.???Y?u_?5?~]?~???{?u????p?I??do?}?&w?????.?.?n?Q?f?%?I??7???*~?t??k[?Z???5?V???4!	-?+?A.?Q??8????pHf	?q?~??b?p)??Y?to/???o/??_?L?O??????el^??~???mA?	???@r??R%1?9?)???????G??I??h2???81k=??H?D?O}eQ?????????????CyE[??3?_???????\[g?????C??]w???t??mw???[???l???????K?_??e?u?^?y???/?m????uh??e????F'pW???R???[???sU???k?]r?B????f?y?!??gyi?????|???????????K:?????^^??????}<????????? ?r??V?;??l9<4A3?AP;ED?\?keJ1Ip??Qp??gh??S	V??v?1??bFv??O??#*y?????_~??W-P???::?+&????U?E?$????b??y??E? ??>??1??Y@??e\?%??????????I??F?7??%???_?Fw?p????
+?&??XU?U?H???_x?k&,????35??U??Gc?GQ?9S?\Lr?:?
+;?????xzIgB?kN??+E!?CQD?0g??C1?}5G??Y?^??h???&YG??zW?kY???????6?(7?^?#	~?a~?C????G'|??6??d??vu??	???\???c?=+??????T??B<??????&[]NEy??w?G/?,?Z??k??[??j????o???U?]??$?a8???q?W??????JV???*QU?*???R	?:???D?
+o?R??t5u??{?S??e=?bG??F??}O????F?s??h????G?e????G?"?R??I?f??6m?m~
+?4b???J?}q~~??C?~??	/k??;?9I??,.?C}^??f??gp???.t???RaK
+????,?o???w???Ta??t?x&?yP???$Zj?ARb]? JL?(?B?S?a0??:\?
+?E5G)v>J???z???x?nmT?i???NY?|Gi];??H??????????2.???>=8???1?)??P?-????c%J??Y?X?????????a~????>?w??F?s??n??tG?#?S?[?3???:??y? hHu`???????`??8?<8??V?D?2a?????B?(Q2???,?n?r?Lp&k,,??X>????|l$?A?*Rj?|LAks}?d???????\?w???d?\?0??>????5?Eb?????E{??k???a???cjY?????f????o??_k?e?;??k?v?5[k?c?Z???????)k???????_??O]?K???	?M??}???%????(??g:????	n?(9??? ?K;>?:?t?????;?c!{
+H??W?n?6??CmH6?D??KA?AVY4???E?H???s/)??RU???1c[e?$???=?e?I?g?:???????r??4??q????q???-w~?>???!f?!?????????????????>y^?~:????????O?[?i~??x+&?(~??e? /0?A?C??;??8????u???x?C?/?3??pW?CF??????*?5??????^oA??????
+m?????gN?????,???x+?f?|q??v?0???? n?????6?'?2??????h at 1&@
+?
+?G?-? ;
+?? ?
+R?? ?x???)??B+???"#g2R+$??D?D
+H?'?$?O???H4?#R9???$?\$??RS"AA?XY??q/??4U ?[#?'bL$???/H~??2
+?*?(??6??sV0B6 f?8HZ??lbAH?<?????k???Ej?<?.??DCA>$?d???KB?D???N?"??'Ih??????j???'Y???-?W??]Y???	V:R??t?S?E??????^?-0??:?$o???o?????U?"?\S:??E?H?6?c?,|?#?Y??
+?O??s?????&?K???????p<I28)???<?5?*NU??5?Ln"+??/???3]qMSHU???$???D559??????L?2B"?2"V?????"5&3?xZc?E??K?-&}D??:???????????(?UP?
+VN??f/??B?????l?G?66pj?sS?,??L?Q???1l?a?fC>?????qv????2eQ??A?^??j??RoI???K?6{?dv[UZ/???R??v-?W???J??undP*??`?h?hF?~+?^o?]????m;A]?44Y?Xg3?.r???A????&2?0????k?8<???3???-???k??????DA5f????~v,?????fnl*?Z??;n?[??????.??/?P?j?]T??;?	???]K?*??m???V????nN???zxhC???[i+xn?????Y[??fn????5#??????V?r?+Z?[+???Up??k%,?n?pi?>?q?<??????(??V?????????^Scn??????T12????=??W?????_bx??'|????i????????????YF|?C??????O??????V#???S???????????????P?<?Hw?I?xu ?u{|???????1????<??????/O????????????????????x???N??Q????Gl????W?????rZ???????? .???P? n??c?[??????q7?zH?????=??;????.?5?+_?#w??b?????o?n??8?i??or?i??+??:?W?????)
+??o at aw??uvDZ;v;
+:&?{??K?r?????O?j/?k???jJ?`??????je???f?B??tm?<%?
+??q{?~?2A?o????A\??
+?m?+_?#?C?;?&?X1?C?C??s??v??0???-?K??R??!????????:???k??jn_?????2e??\????tg?x-S?\?kb?h?;K-?2L?f(???????-??=?% 2`??g??e?0
+??'?+?f|$,?)Z??!?g%f??H-??????l4?nnp?C??????d7nc?~A?Co??U???7?)?:?*????h?????=54?MI???m?RKl???=??CSBZ???!???E??$u??v?[L?^B??H??Sro????????8??l?Q=???=2???:??G\?Q?}??????^ro??????|;?? ?G,s?1?j??u?.G?rf??+?V??R(EF?v?R???M?dO$?a??K???B??H iG ?B????P????;??8?icK{? a?c!?|??&tX??>????y?{?}????????9???X?/??*Xg?5??2?????????{????h???k???'?t?^[?k?5?????wA???????U???S?&?)????Pw??????????{???????S????'????p~w??;N?!w?w??<????????????????????/>????????:i?A???G)?Qu???a2T?????^???BA???_???Fb"f"?b?}>V?????A??"#1i?%?
+?R^F??zmiz??????	ACb?d4??B+?[??l?
+?\????
+???? =?????n?J?`Y?????CA(
+??&g?W??Pd`A?????X?t?r,l2????E4???
+?????????????s(???*?t?}?8"M??GO?Q?gj}??????kJ?B???Q5???gMa^(?gg?7%.:|6???xu???/???p???W-?j?T?*???Wa??\?|v??????*?u??^?Z?@?????6?????zL?pq??@?9?$#?*??VvY?22;#U^?<R???????????A_?x2$3}??yM?d>a@???;??G?I?K?
+E?TU#?B?%RPxK>5??V?&L????Eg??^?}??#??"?R?,?????*a?b?&oY??'???x??f*Ua?,J? u,(TL??P^?h??6??P?????6m0n@VM?????
+?????
+eq_???8?#/???????0???(?Fa7
+?Q???nv????(??Da?t?0~U??$???iN?t?|???{x????r?|'0'c?Z?tq??8{??]??=,???}????????c|??????????????~z<}.?Nz????&?i|?+}T????u?\???-5???????"G?:??t???????p?????6?]*_?^2??r????x??a????????o??? !?
+??,??k??K??W?/?s^??|?????xZVU?.q?j?i????hp?;?~?WZa{??0%&fW??$;?????iZP????c9b<W?!?X?u???y?1??T???+
+?%???P?E5?????G?6?e*??K??????>?????e?k4?;???b??!??,??l????
+????v?f?`iT?3??????YxGx??4?;bL0??a?\m???4?M???W??Q?4h?N?D???<????????pk$?2???uz?o=x|?%?	??^?\>?w??9Au????r?;N??u??^?????S???????|??e??#y?????????"|
+???&8>t?`>|??|?=??????=??2?9???c*dG|??|?Wq?Uss5?????-T
+#???j?|4?????)???)RQ?M???IrS9?>??c&$Iq{?1?!igQw??JYho??6? ??H???F?&8??*P?3??;#?r??-5gR???k?1C??T?v[?????S??
+]v???[!?;?I???!?3?t??n??K? ,"7B?#?8C??y?R???.?B6???:A?g?????#?)@+G8C?CdxE?k?p???A??e?xG8M???YaC;????X?CH????????CF:b?,????????p??t?>99xJZ3???%?u?"uP?
+??aW'????1???????T
+PC?C?c?d
+?HKzaPK?q??*?NEN?????Q~)??K??Lh ?y()??p\&????????x?v?o?N??\??<A~H_????=?
+?T<aD??i?F??6??????84????o???A'?????.a~??5!?b??0???g??E=jkjmja??R??M?E$?/>ZMM?MM????rW??1????k~I_Q??r?q?U??Z????/?8?A?b??N???gVa-?(?l????Nd"????????egO? u?"f?DQQt???!?kY?????????E??v?zv?G,??fJ?-???NB??F?\?HD#iHH?-?????x?(6?t?Xr?K???A#
+PT? Q?X???????!?f?[?N??	K?z??tG?	)???)?W6?+E3X\?,?dP????e???/BK?-c??.n??2Yz????????e?re,??H?[???E?B???	??>/??h_iZi??fD????J???\w??@?W?^??Q??C?O???????'*??2??????????05#???i??8????y2F?W?8?????????/?!????GjFP??@???%?jac?l??Ol??M????????Vc[??q~[?5???L?c
+\??X4??*??- at k?uGm?S,??X3D?kDgJG0*??d=?;???ZJ????Met??????Wt?L??T??????????ivR??`?t?d??=???xU???[???d??sMv,C???Y
+?s?n???:_Gh?A?,?????@?????GJ??HS?X?Al?	???Mp????P?????6/r??T??????q??|????-????m??i3^
+y?[?3???????%s?#?????A??u??0!:*?;h???j'????09N??n????C[?!?t?v??;K???C??+?????????n?G???V;?]g!??????G??@?8R?C?N"??!?AB9?^???H?OE????????b'x????cg(??????Y??;C???b'@?7????b??g>??????????6]????"???4?^?8??3Li?r??JG?M??wi$]@??|Z?0????A???m?J??6???a???4?s
+???V?m?d*??|6
+}??G?
+
+????&Z?#???;?c?D??2+i~??Ny?iv???p\?n?7?an?????????MY&???;?z+sG&??oA?%????o?<?c#&?GI?W?b!??%2%"YX???%C????L_????t}???*?
+??v?X?^?Y??z???{?????/pR?y?Ig?>????????|VA??~???+??]}???y????????	???i?)hw?Q:???#?;?????z??#???NB?????c:@?9}sN??~??F??????;???Gl7p_??"wc???[?f&?Q>=????A6~-0O??r{C?V??;?J?Ix??g1E??_	?kG???!?[??
+ ??4???FFG??	???????;???i/c?
+???o??bc???>??!??? ???0????uqC?????y????xo?5?????
+6K?I???9p???c????c?????:?H?k#N	??????C&??
+>????H??q?????????z?4?4?JD??O??C?!??BPi0dW??(?]?????XjL???A|<;?lD??X?????x?\7?p?N??9'?^%/???%v?????%?????q??/?C??e?k?w?~??<?k?'????.qo??V8?(?;/?o?U?I
+f=?K??q#???????t????x?6?T?!??>????~???????v?<}??<_?????????xz<|???g?w??Q$????>?r?o!q??:?7?W??U??2????F???????k??9?7|?L??I;?????
+??????V?T?M?k?????(V?N????>?J?(?w??X_tp9?"??y??R???)?????0?? aC?"v?/???<19????0??]Uq????
+?{|?n?K(6'}???4?T?F???c?
+?
+qOM?8|+9W???^???&??????ng????%SK???mdsK??\??lr??%??VWt?????x?????Sk?W????]? ??X??Y??I????~???a??4]i?.?C?????}?6?E~??8?
+?H??z??????ahh?????p?B??????q?`????rD?
+w?}??q??[\? n??"T??\ov rZ??J?9:N????8%?	.??8??X????5???P82?(6Hh@????
+:@?) yG?? ?`N?%?9??O.?d?N*I??+P?c?1????&jU?X??,!?B??t???S/>???w?z???X???]t?9g?v
+{;?fa??Yk????4?&o?1Fa?]t?Q{m??;QUVQye?Q
+{Re?Qzia$%f>????B?Kb????????????|?Q??|0Q?)i?p?2D?O&:??5n???2?[??;? >???????????<=??.???_??K?~?????O??????????U?N????/!_w???Mb????d7r+???Y?$?+w??????L?)?CC??A4??????@M??r???'?A??!??????*??y>a?
+7D?CDbB<????L?>
+?j??z?nD
+p??L???\
+?;2????*??S33&??2Cpd?f^?;??#???????i??LY?H?8?{/???`o???L0?\?3l:R,9?:?Tg??i??g?M?*a?2???3???I
+?P8???????'????~???:??O????(PdZ??g?$?5?N?7_{-+?Q%??r??{????????+?jV?Y????r?XT?X??gAF??e??E!??{?4QL???N??1?K????g??v6???
+H??W???F??????/>?EC0PU$???????s????QYY?"?==?A?????fw?Y??]w???????7w???>u??U????M?S???'{???v??P+???"X3???c????V?zGx?*|?????X?UHJWM??P?`?	?	4?a?ae??'?Q?????<.??7??????7?s?\?????_???
+????m???
+???*?"??`Qn???Z?%???X????q??0A????S????60Z??`?4???}>fF??0?f(`\????:uVZ"????@?=0??????[u??;?}I?1???]???:?8???#???9??Sp???c?9??>x????x?G?,-S???'7?IO
+??c3?????u?)7???6??Zk??????h?q??I?a?Q??cU??K???R???c?j%r???BN5B{?T??*?wUb6?P+^?Ru^????J!?J?H?D)f??E?2A+I)
+Z?}?fb?L??XF??Kb?Z1??????Z??V??????q[??qc~??
+??
+??(qU?}U???<???)??V_p? 7???D???{)???????>?u?k??B5
+?$???'??????q?/??7?%??)8??;??q?H???????t?lg$??9?E?PM{?wT?>??-?l?O??[f\3???A(_??=?G'Vh7F!4?????!??3???.<???????t3???????l??@???k:?N???V??A}K?h?????A????S??H?2??>?[3o?;c)+fO??(?-b?d=??1???b,??#??NW@?tH??y/+fU?a???>-??4y??
+??3I<?_h?]?I??\?? Qu???%???D??Ck??:A????????????Pq??v?????=`m6???i:?r*t????S??IEr(?!???5?P?u?????h??YR$?`q??X????(H???Mf???F?B?(aR???^3'??RC`'\?s??p?R???\???"$?i?;v?AWL??c? {*?I*L?6??QZ%?ql?=B?6?~????3???4??3??/???????{?<???J???7x??)=???vzJO??u?]??0(;???k?=???*lx?+?????7?W?J?F5????????>~????Y?[?????????Dx???????????>???????{j???Q??4/bS?U?????_?_??f?????4I?G?9bo?w???%?5??????>g??>7??i8?g?Nk6??X?F???4?????[??????????????x?M<?"xJ???d1??????????????f?l?&??H?????
+?Y?Br???n'??????%??	l[n??Z?E???w??wB??l?g#?8$?1y??7?f+?????o??a;????g?93????EA?iH?u$??P??Y.T?L?&;?$!&?Z?_???TB?D$?z?g??6??l??Kf,;??3-aa?
+#?B
+	?6FG
+)h?H?n?Kq E?rX????O??|K????????w?VHv??????F?X4?G+E0?????F???7M|g/[???~5??l??<?\??8D:?/??O?H8?????nqGH???f???0?QRoN?[{??.`?aC?}?$???:W)1?&??#?,?m@?*m?P??C?ml??d?
+S?wP7P??T??]?\?5??uC??D??$c2????6?v;?f#C3?`?	?P$??<kz???U???_??g?B?_=?x?Q3????'\?k???,?V)[)NR)CE[&[????}??|?"Y?6?u?N?o???!?$??v7?k??:?I?[:=d?????7?t?%?6?:???d???4'?9?!??:dv???{V???3????d???W)3HZ????=?#??&?d??)?'???Xi ??T7?Jgf???g??:V@l?Y"???Ael??Y???n&a??}???L??n9?1fP}???U6??^t?m?y???[???i,>?0?&?c??
+?Q???VLh????BmW??8????&??F?g+???)n1??3
+????L?????
+I??4'??FNB??F?EH?9Q5???
+B?"???Y5?\b6E?1?z$?jb^=?\enUx?0?????????ju1\_???k??.U?)RP??h*%TD??<??q@?p?$???r????cR<B???r??'??a? ?n ?????WB3v?v???j{D?,???uB?5??????M???{RZ?X?LS;????Doy??27??6???P??Kr'?}d?"oj????????Y??4,??/?oY?8??
+?+???L????d?jxv???^b???A??Y^????????lw-|W(\?p??e?????????????????O?><????F???LOL~????O???n>>?O/y?To?????????u??W????p?OL?w??????Loy??K??WZg?^?????q??z?7???y?/?????9zpIV?hQ?F1j?????$?????????l?RlR?o?P???x??????????%E?%??
+???pI?@tq1f?T?\?}4>?'????s???4???r?	?\?n'???B?[?.???c??X?<V?OvZv???6???9?%?8E??y??7a6*X??pc?,C??#??^?
+/W?p*?`?:?]???d?wx ?X[???7ys??<[hh?z??????#?dB??'???9?W??q?D??-+????5?4???m????J???'h??h??e??l????F4??&g???4y?d?l?J???7&?0;0?\?)cB??&?4????]????Iu]??[??j?KJS???o????2?%???#?????2??VqKY!nj?????Li?V?L??!bb
+	?3?aA??%X??'bB
+?W?q ??	!?]?0M6?2i??a??p?d=?`	+y?3?#!C12????D:r????f?#)?????A#?S?;?|??J?|?[M??e?????o?<????
+???d?	?????7O?????F?????X?%3??	???
+??^???,?F????"? ?QDL???RnN???????",3?S????s?2?ir8Q+Clq4D??Ct?4????(?,M??m?N???????|???^?v???G??O?e2??R??f?
+???%Mc ?c?D??Y???d????1T?n$???????????p"?a}?D???P{IQ?R??m? ?Mk?W?"??.*k???V?v??h????gJy3my????_?E?E?????N??x*dYc???!??tx
+?????3?*"??.?u??(??d??!????*?Z?aT~????<^teT?FJMQM<W?Z??*8??M%Q?Tx??K?R?@??ZxAV/???Y`b?R?eF??qs$L????g??$U? ?)??*`'k??z?JU?r?a??.??t??????6???d???????v}? ?|\E\??w?F@[7?h?a ??p\.???)y?I?!???1d?????%?)LEL?@|????vv????,\T??s=&??h?h?T[.c?ePq??
+?
+?R??G)9??v?*(
+?3?3 W??????
+(B?I??K?????1.?7???b??$?d?z?V?
+|%<?????yZ)S0V??&??.yw??Bx~????P???ky???t??JG??????qJ0?[`????B?Pi<c????7??$<r!???a????/m??P?r=?P??L???4???I5?~J,P???oj?jk????7??;????b7???M?@~?*???P?c?8??V){!???K?????HP???0?H9????3??j????????? (7??????@???????}C{4?Oi?]H??,\%??]????U???m'?LKKPe??X?&??Z??cu??
+?????/(?c??|??>?9)?=T,???3??)?'j?(?? ???
+?{???=?_e??&	????J!?dK???=??p??}?d?[??????p??N???fuT?}L??U*@>????eg??Y??{f??????w?~???jC?U?%"?:??*?<?.????"?oRk?u?3?L??$???T?B?,t?'[?l???iM?`?9n??"??nmohH?E;U,????S??5???s?|????Ig??9????H????1??mD???&uc_????+?d?&?6E?_???7A?z???Gw?T+C??M?~&K?Qm??r;T?????zV?v57??h?NsV=?s+???????E???V=plQ=1????D&C??U*?N????,dw?.??????C(???,?x??%?????^???FJ??8??a???????ki??I4??????????nYr6???????I??Y,a?????y6?n?V9v5?9?_i?#x;???????Zd??P?????nK???<?????\?MS.??)??K?^k&????NP??{W???b??Z?l??S???T???A5?Kg?~?L?R??Hb??V???5?*gv???%9%v?9??D??r
+??x49?\!?Ce&M_2-???????U?
+2??kr/u???
+-??????c??????????W??H!*?6?D#??????{??k<?\Z??6??i?q?N?;{?I????y\??;C?+?.?Z?Xl?????t????J?+#?t?s???O?@???P?)?>??B?#xB??z?'?????s???Nvg???hJ??)>O?)?Q????.=a?ms?U?iU?#_???L?3???%mmA??SD?5JM/??N?d?????*_?x???_(?|I4?_0??O????g{??ps?????? ?P???F?.\M??B??????????@.3+&$xw?Q??X?]0?{?GRF(?P#?????u?pP?????4?Ij?&?`?[???*=????59???????*h?Y?QB/b%???`~?O?f?(?P?0t;??Pc???b?:??;q?!????/Q???W??a???b7?+?C????M?hE????!?XV??u???) ?GC4?'??vk\??F???8kT??Y:5??'gQ?:h\???55?Y??y??(I????Z?P?X3m?g?
+h???`??????_??+?6????<??S???????????{?}v?/??|l????-z??/m???(1???/?IbF?\??,?8rr?;?b??????3D????<???@?2???m???z??A\Gz?T?@??fn<??)TRh?r3?R??x??	L	??IUg??w??m????Q|??????UsU??J??o!????Y?	R???*&???ep?&?GP)^i???_?????y?i??J???+Y??L???Vmh
+)????"??5W?.mj;"`Qn?F?)????)J?O&??3?_??5?b#??.?h?^K?+Ct?&"?]8??l???)y?c??[?U?xXrNr9??????^t?V??????o????:5?5?T??DzG?????J???_fu??ERx????8?F7??? ??x
+????????cZ?\/mg??M:a??>??c??_????????S??v?5?v??o(?%&?????}???qJ?m???L?a?L??q??K??w??7??????P???4??bh?)??t??,????E?B*??V??????"	w?r?+??NN???#!,?)7R&??SN9??O	?,g?=??N??&-?)???Q?8??c??~%a?????O?M?????\???-???N??Y?B?"<??*???'v??????'@F)???O^ts??fL??>)0???CF??me?a?????i^4????4?^??o}??)h?Ya^?KV'????q?????z????6	?[8?{?|??	???????s-????%j?:&p2??????S]??qEB6??W?D6?$????bg?>;???bc??????,w{ta??????]F
+?CI?m?(??4??R?np??????????,??PW&?b}?QEv??.=yb??
+??;???b7;rv#?W?g_POYX ?bY??|=??U??C?l}?????n=#?:	??? !?[^d?????m???U??????6???yFNr*??m???Y \??-?nA??N?
+L8{???R=??-??HYaS????A??G?|???BZ?b???ZR
+} M?%sG??I,???????s/?????8?$?????m???H?z;?[?9??]?.?K>?x?r?!K-??r?E.?,?\???kB?.W????????\?k???t?	??8?;|LM"?!? E???2?+m/?S??????@?!b>???z?????kwFf?cc??q??+?>?N???<??<??????????????
+-%????w?D??3a?b{*{?}????1?^49Q	??p}|&_?h??1??j-?sj?L'?YI^?N?b?J?????nq~??/?NxZk?^?????????x????n??Mg*?wEGSup?J??g???	?=jn`[w[;???/?????X4N???X?t=??7???Qs??$??M:??*S!?>?"?]j?a?	G5?????M?????????/a???7HD%?(?PK??,(???P6?^???{?E??????????l9???DDX?1O:?r????7?/5l-???`#?&:?9?Z8a???]?????=_???j?????????r?
+?>S???Tf??9/PF?r????lI{?A??
+?	{7??W???N>??????~??Dc?mU(??????O?_??{?.]'?w??????????p???u?x3[??4?W??mm{????%?'%?6??e???n1?2?r[??>?O???u?l;q??v[!?b???Z?????f?F?o??R????7?X?z?M?vY?5??
+?{???Q???W{??4?~#H?.???[?a??b?z???q:???.??)??l?3????:??3??%:???3$??$???D??s\S_hM? ?I?e?Z???????0?????????1?????""C?1Tmg?????'???????O???a?-???=6{????[f????fbU????.!?k?????q??(?C?X2??,A????G??u?F?_?@??kQV	-??m?????P:^???;????fAr?m?{?)d??????IC?'{???'Cj???[c]hs????????%|
+???%??}'yl????))?M?Q???C?????????qe?&:{????t???R???cA?]J??"e3"=??d???Hr??lF??t??yF?.-?????????{?g?
+<Ti?1?s1
+A?aW??????8???2?	??	?V???&$????#??>?????]M??q?????_&??x??z?/???dI???'H???m`?mV?8??~\?d????ZT?|???\?*?*`?D?
+b?I|?*B|u?i??I|?W?:?mek??M?$h?WU?r????x?d??eq???(?2????5?i?>l??N?Q?`?^`?G^mlQ?W?-?I????w??U-Th????
+y??N?d??+a35?h?zt?3|E???????ii?Kc=?/??!,????b?J????}?Or
+[{Ie?Ez?DD?0KQfk????H?A???/?::*?????'(1? H:?SC ??G????C?MT?P!?????k???"?Hl?!?K:?]????8u??S}>??k`?J}?>??q??'t7??bI?P???o?M??K?6?A??!:?'@[?$?AW?5Q?E????Z-{1?
+.?^9???`4P????Be?#A*?o?W.6]?ZT?o>.?\?m??>?{F.i?j*???&7?%z?+??????u|?@YB??Y??@?w*??8??=??E???C8????????P???.c?G}?@???g????m??)?V?d????}U???A?=0???0????p???1Q>?{????J?rdB?`e?9??_?w?8
+?[(<?(????????????E?G!??8???s?#?1?=?.???9]???
+??????YJ???????3Q?????????????siZ?D??n#?C???????Z?+!???W??I???d???xt??G`$}E??L ?????Vk??K`?-?6\??T???O?;????????(?@????????51+??[<z??,??????c
+??D`??&????|???8??*{n`???@	??%?Y??_?uGp?U?3?=?;E??C?>???[?R\?Z?d[jqi[6?r[k?E_?d?N???E+n????8?y???W<?^??%S???*?????tR??????`~g?W?D???@?O?S U?Y??Z?.??D????@?
+????JKw??^?????.??K???K?A??L\?j]?Kk+o?=?C?'Gl?Ub4?1??y????d?J???`Jx??p?????{9M?dY43W??5WM????^??E?X?????T????} ?KM?3yl????6<?*?B? ?|?\????????t/?[???????\??>???M???\?T%??5U?U??(M5:5U?8=??mz?yu??K?T>??9M??_?x????{?-?[R?q?p:aYH??1?k???0q{??ca???k??q??=??H?????N?o??T?P_&??)d??H?:?^h???SK~.LwOo??']??'?^?|'??0?^????????????KD?8?2anv??(k????(q????wL*?,&?|???L?????mq?{??d??y?{*?????????? ???H???Z?D??I?!??"?8??
+D???.?4~??o?Q8f?3qqW?J?\pC?y?-???G??7??e!???K?????eY????-O-?o?(3]2???e???e???#????w?
+??@???|R4??V?c????H?L?7???D???X?????c????i??B??;?C???~w??{??????,:m?<?K???G???????????????p?=9z????za@???#]?k??o.???l??"?p?1p$y???;u?Qpl?:?=X#"?[??{?0??srD1??.
+?EE??@????????2?%?\?F??bQ%?&?v?@b;6?=V??(????rB?????????T???????u??/p_?{k,M?w?l??O]
+%R????$J?b???????`??"??-????|)?&??[???D????9?E:??/???[??]<?!?G??? o-=>?i?8???DX@???UZK???hu?+????V???28??6e?D????A??~/zl?R? S???$N??^? v??L
+0?6?a???a.??U?k??*??U?U??O??JA???1o?&NBz????T?	y-?}?<??k?`
+H??W??%???C'???zK?a????'3?6????[E?jI???????&?Z??X??V?VS=r9kK?h?l?8?%?H????????5>????v?.]????7.mgN9?
+? ?????K????]G????????????S;j<???????`?a??????.?&?.???c?Cp]N??5??\???s?????0?|??L???qmA?]??????P??XS??a?*????*???W?"????~??"*?1??<?6??Z?-?q?????)???????/W?3?-C??v>?a??????9,	???? ?8R???a?RIX??????A?M????N???
+(?L .?)?+9n?-??PE?&f$;??1?0??T?2??*??H??Bt??????????xI?v7?z%?????T[??3BS?T_>??|JH??4?sh?H}??????,??%????V,?"z?????????o?ea?zr??i??C???U??(??d?D?	vM??!?R<?Ps??tFa9:??'????2@??V?Z?H?\?JV????J14TK?7???d????Bv
+???*Kc???N5???bke?@?fkeP?0un?????i??F?
+)?c??%??'"v)]?'`;Y??j3??????????????3Y??????
+?e?????_??g??H?q?????_?0????%xs??|????>??S0????????hp???YP?-RLv?S???^E9?g??>??*~?1??
+l?Q??^0???-?Z+?|Zl??`??v`??~`?_a?G?W\6/*#??3??B???????px?@????jK???2~?g??????	???????????bW??[f?????|?/??s8S????"G?P??SvG??Cn???+eLP?CtW???????!????W??????????~f???)?"???W.?????&?E?B????LJ????l?}?u????[???????*???*[??H?_??/????g?Mn?`Q????1????6?FhA???9?deU??a0??????Dd,"?u????^?"f9"????R???(~?J???n?e??j????r??2?#???G?j?!???B?h*/??g??u??T???X??5?@~???I????????*??xH-h
+??y?$??aM?????????_???zw??????E????dy???g?}^????b?????4*?R?BY???\(??[1??-????L6"??2?&90?]???b??d?
+'iL?X0m?U?*?+?d????,??D??Fz??+h-?0??t??Gd?!??????<???Yg??? ce:?<X?1?k?z@j?y=?P?;?K
+Bl'???k?;??]Ad?<A??? ????B??
+????L?????B?"P??]?N2c??-s???,??????,n?????#?t?????kj)???QS2?q???D??	?Kb?*??a?'+Q?E???,?ei at E???????\(CQ)???/]??N?<?S?+???Z*M#D?S?mY	??#?a??C??p???*a??+ at wD}?+???9p?s???Z^?A
+}x???2?G?X??Z%^?
+04W??Z?a-}2"???Rg?j(<E]R???;+{G?R?m?Rd9.(\n?~Da?z?&}???/x??[y	vT???b?B?Xf?????????|="Y8?311-?b
+|B3?;?('k??????_?7R?D;??q?|/k#&o??(g???1?#??H??n3A?5??`c?N_y???????`???TD??F?
+M?(?X?????l?K?yN?.U???????t],??\??\Y,?o?.?T_??W?L???h??????#??1??8???
+|Ut%?_D%?p7????s	???D|Ou?????????a??Eb?0???i?st?????HZ){?0?a?MCs???????4?"!?? 	?Z???+?\9sbPR???????Q
+#Z!D64S??
+???HZ???.??ZN;b??q?g??Xtq?F?-uX????!7R?J?B?9q??@???Vg??+?1??h@????]?,??+]8?$"Jx?yC???
+F?IR?????C7~o??.?u?a??????????????Q?Q???=??cA????)t????B???g?j}??u??3j??<ff?Y|@????&?]??K?(?k?rn=????;?f??????\?????B7??[??f` U??%?Mh???c1??_?????_*g?J'??????&.???5P?????w?@vd
+e??Y1???8???Q?8??????]?f?k?I??&?L??0g??N?Bf`?H?0<?{2?^????g???5=???|%??6?#1???|????\?}</?Q???z?cz? ?C?<>/??g[??
+?|`	 ?6?<?fs?
+???W?L?]d??5?	?	?i:L??R{?H>$4s????d?@???ZhTJ?y
+?D? 7????????]TcCYZ?-??uB??$?'?2??z?????U??a5?P?I???^?r??9z?{?n??p?????n????w!??%Ds`?????&c??!D?????D?,?
+?g??Bb????:?&	??#8U??i???j?16}?]D?3"?s	?6????:????B???3sd?????	?H>|?CP#??E6'?g@<{G??6??El??/?z??????0?	j?Fb?1?
+Ah1?@:??U???E??o	?t??o???k?2#T0 ?Sw?"?
+???9?tv??h??+???L?L^:bMx?s?
+???<??G???k>?????/s????g8????3??CAI????7N?Zz-??:?v>????????.?{?g?
+T:??BA???#????????/V??2??GRT
+???2kI???Es?{???M?P?e??????Qs?,?^g?? ??z???t?LO9??r?	*?4?}b}sj??
+_6=?8pq???e???^
+?F?f???jP??<???U?"?e4?[K3?
+bn??q??T?????' ??%??}?'}K???5HgG?;?&"Cvd???[G?d]?c'?p2??@??N??1?????`????j`?x?????8'W??Y???H???Ru
+q????h??&??7??Z???&tKmHQ????m	????/??<???n?;??fhc??'???=?????2??????tQCio	?'X?Y????:w????%u&g??6?vZJ????/Q?mE*?N???????????.???f????"??? =4!Wn?????????@??????v;????7y???	?F??Y)Y????N?MU#??R7???H??HT??d??<???=?ej?g??&????-??4??l????C?????8>???x??bRWm6my?{????DQ/??v????????9????Uf????\d??????Jsv??MD?????Qhu4??????Nz??`	.	???????+l?@?$?lP??m?!b?]F]|E/U]u?????ZR-<???g???.? :	?a?JRu?a<HE??X?QQ'?M?E??q?g????M??G????[?+a-#?????l\????,$?G?j/X_?O???y?T?_g??6^?<9K????j?????\?n?el?!?p?????l at 3&?????
+?8????u?-????9???TX?&?????f??(hq)m????"???????P?K?u??&??u,%?RC??pxY?v3}5?k????h?QY??<?:?{??	c????/o?"9,?ba???i????d?
+6?k??$?g???-??\?A??????UX?1??-?????Z*?0???????$;??L;?fS??m>1????TI?,?d?84%g??h??
+.h????????F?U?0g?????aX1_gaa??'P.~???N???X?k??????C?????Z?ec????b????}2?XB?J?"??K
+(f??????#?@??_???Tb??4 ?|??????8e?" ?????3b??r??Ha(?zy	
+?E.+uEU?N?b{2????eK}ZBB]O???4??=?Y??(4???'??n??`?*|???"[?-\/AI}Q$?H?????)q??[?e???F?$s?f&]??iJST???????e??|9????.]??x?!??~C??`4??O!?E?(?L0????<??9?F?'??rr?L??-?4 ?F?CX?pL???X???:?E?_?%???????$??C?}??%0g????R????LJ&?
+?j_$6???
+?	???8A<;?????#?V	?!??>?.<??Z?Q?+???Fll??><?f?|d?-g[??y???ls????@g? G?K???@??0c?#???0J?}?????0	ES1i?p?[t???C?r??$???a?1?sM???4??$C~??????????$???????D ??\K?=*`v<zc?{R?;?I?qg_???????????CH??6L??Zvv?D?:0 ??d?=5-??Z?5?{?????t?B?$[?l?rR??t`??R}??,?BK!?t?sQ?????6,??&l:?&_m?06I)4???]??j9???19 ??I???X??????\+??+???gQ?:???9|??#?}??K???t?I??A??F/???>"?Zb? a????J0?.?z?D??????ws1?V????5ex	???.?A?M?;?vIK?2-?Agj??N?z????*ze73???:?#??zv7???j;><A??=s???,h???i"????r??k????u??t?{??i?KXBJ%?O??H?m?A0Z???U?#????GY??j????l7??
+'???}b?<?Dz??q?}????????N?@?VD]??:??3??\????ACN_w?0;?P1???Q???v7?\?*& ?,?J??????X?????g]?????wE?????k?wy?m??5?;w
+-?y???T?F??T?????????h2b**?-?3^?2?T\??:???n??$$?????sJ??&uR???#W?:?WkgY?'?2????#?C>0GN?BB&?p'?R?h?d:
+
+
+h$?????!n??M???*?[Nn?T?n?^7??K`?G?????'?qi??P?p?8?????Kr\I??D?fk?v?J	X2T????b?A;y????????~r;.????2?r???+?`^&r?a?????????:UQ??|
+1?$i?(??????}????|?0^?8?>;?d??[?CkUr
+O0??gMq????L?tM??S/???????`DgW???.M????W?????3???(\Au??P^??c8?%???b8?N???@????"?
+??^????????>??????~W]?G=?~nw??
+@?k?.???=??%????p???\K????S?y??t?_X/???ql?R???,	:????A??l???????#Q?)?8?????C?0z2??7?b???I??g????&??B at NH?|???Yo??4?H)?=>?A?????f??"???C???{?F?????Z9;???&??GX]?????sQ???"]??????j????v???`?N?{,??????	??p?oZ??Da?2b:??????	???:???v?F????d?c?.??v??U[?*W???9??7K+W???N??????/}|1?CI???}?eg5?V???E??C
+??%????j)????'?h?WH???bKs???h??|??$??i?f,?VW?b???)??97?N?1?pO?Rnz????>?R??Ec'??_?8?T:???????Kk3??r?P?????<j??wb??I???K??za????u????NB?G??9)}\?m}'B?3_ at G?????-Abk???(?_???>B?
+t???
+??)??4I?n???!E?a????=???.
+?#???;???L????h(?5?bb89?C*?D???$_???~A??v??6????)?'???CQ?qr??(?Z??x?>)N?I?x??<)n8 ?[???P?kJG?#h?/????e????????7;?:??9??(??E?????[?X,s?+?U??E???{?????9qyK?tFR\/????6???	K?,?????qS?????*6??IN?.n?r??M:?@7?'*h???%?2??u?e_???p?????V6??MU1?S1?J%5mNZ??)???/????????????????????X\??8???ib??Y??7A?????L???????=????!?mIT	L?g#Fu??:wJ?l^????4P??]?;???~?C???!??'????????\?#|?C~^???&?c??E???~?????T???/????#???????
+?????F&???{?A?9v?;7f]?3???_??oqe?????XO???H/??6??/?????7?D`b??
+f??iY?&F	????T?1D?pr??1?F?G?P7???q?Y?2le???"`y.???
+?;e?~??m??????=u=???H??
+'S?e???@????S???;?:?i]|?Y????V^??%???;J?zW_??[vb??0??aM?"?p???c?*]?)?k?,Z#?8?Q??a???:?#/d/????i??????? ??;({??I\??>?~??1e?(?u?cX??5????6????:?E?lz?G?????i??K?P??????j0H`?V??h?????Q\?????????7?k???~??E???z:7????????B?????Y????g?/???[??E?????T?b??g9???164I;G????gO>f?j??=E?hE????!??|k1e#}?D'??????8?=`t(??Dx?).@?>U '#??S????%??3???>5??%??Y?????L??~?h?????lO????A\k}p??4?????
+??7?gMS??;??pg.k_????2]?8?4?3wTrE??p??1?6OB?s<?]???R:?V?$?-???x?\{{RI2?????g?48<+? ???!??X??E?	?E????8ag???d*:PV?4I`???b>B?@?X???dYV0???|gb|?'"?!O??G=?"??O?s??p?????E#??g???.?A??I????????a???Z????'??LM?4????`???NiF??3E ?rxT9???W?$-?~????zq~?Ru?V????Y????(jS?C?M??gjI<5?A,??96??(+????I?x?>F?d??
+Ce??????S{??VbKG?u?|????^.?#??%???C??g?/?????}?[?>}?@/??gY??5itP ?Y???*T?4!???????a?I?UUC$???H$=??5?}?&
+???????`+?pV??_5?????p{\U????r?????????ay?T?'	????????~?K2?x?,?=?Z???"?????2{???????HF??l???$t??Ol???N?Bq?????7~?I????[Lt?`:?f?#
+?L?th?J?0
+OH????]/????Q??W?E????f???}&?f???i2??'
+g9O+??,?p^?i?L??3??\>?????iI'g??????j4Q?l???s?9(?{YvS}????Q??\?Iv?8C??'??yX{[W?m????,??????? ?????????jS??m?YO?r?HLm|??"?????{??????y?????c??G?i@?gKT?i^?<V"vCLv&??<y??Zw(b???D??@?c*1???O??(???0:"?G???[>???l?>?cZlStio(?AF:?mW????????
+o?}?????3??????#???-???9?W????I!?H?MN???9}?h????C??Y.j??&?	5UG?J?
+????)*????<2??-????(?^"$?N?w???Z?(,???xt?%??qY3\k;?P??,??Dvi?y??j????KKk????????4???(???S?|g?%5q???
+F???????? ?\???j\????}Sz1?aO?G??????:4??????9???3?W??N'??R?
+8?g?[?-V<??oJ?????q[???????H????f???y?'??c?`?z?/?8??9r?
+?T?gg+%???9?S?7??XAV?????%?e~???]@?+?w?6?;??4Dd??X?Z??R
+m?%^V2?u\????U???u:V??L???6u?q??=???z????Q?\v??jJ&lp
+u?????????????a^????
+???????	<??mQ????Dl?<???iO'???|?)??G*?[??~?s?w?>[?
+a?Z?????Cu??m?`r???????t?&?T?U?X?D	?C?0m??<???e??R??w??LU??Z?y????OL??:??b????g~?q7?{OEM"?????? ???q???7?/o|g?PO??D?????1!???g?L:?-t?,??????d?????wN5???CG?0?]I?r?3<8??#?;?"???(?@u:d?.?;@??m?i?%O<?E>??iw?a2?,?X?R[KQ?y<?????SM????????}?J?~jE??l???p?e???0z?]vtLkK??iQ?????**?
+????\???[?K?
+??SM??f?|?<??3Ux????m?????]???V??????	>?8q?M??????B???????????&?pOD"R9??=/1'??c?gf?VE???r?1?&??\?w!w?????????W&?????2CV?U6??e2??{mz5l?3?????]?i???[?3?qg?k?ji??d????^??t?|L?O?E??Gg?O?????n?a76C???T?????????f"??MV?W?L?:EsQ?
+??G??q?o?<#j?Tk??LUZ???Q?????????z.l??;B/?V??$???8=?T?????g??DLe?>??^???@3Y?S\?p?s%1/?nn???????[??%??M?'?????
+H?????$?????????DJ$;??aG?a?????]EJ==s?u??m?????O??c??w?hv????~??/??????O??k?????i>&~\&?	o??z???x??x??q???\?_{QL???o4?G????????y??q	^???]pqN?[to??xY??????u?/???x???????<??{???zy??6?s????GjI??????\?W?8??kY_?????^??~???dD	(t*??????X??t^????|?D???7????p??w??\-)?4?>74??l?)2?u????lu
+?8??Q|???????pNZ?;?Z??????]?????.E>?*?be?????0Oy[}????$?(?|l?>23G$??*??7??Y??fP??b?R??7<T??:?O+?<?LNQ??1????e???i??i*???*y?n??v"??E?&x?Ny?[2??????sek??t?Pt??B:DYC??6f?c&=3q?U???`?N7;emD?a?!?-??7;Q?B'????.?K???P???^?}?k?	+?B?m&?+G???;????H?????????n	a??JgRm]???c??r=?T3C??(??;??H*?+lK?MN?&?z?[?E????u?Q??l?<F?Ii????}?k?6d??????p&??H????x[?"7?`???o???xZQ??t???P?h?,=??g3z4??d?{Q???y?c???#??4?Q_?&??? ?l??????S???????>?0??t:?V?e9??a???P?????%?E$>8????????\?
+?c??J??g?k<?F???F??	??t?c ?n? ;?.?X2G7??Nm???@???|????
+??,SY???>?*?;???5?g=??l??R)?J????;??????Ct??x???hQ?kpt9|aK?Y??3??????`?#?0???c??M:?q?5?>??w?M?l??A
+;???W?_??s?g???P?Fa?????m????gU??G???[cqE?H
+;??????-?CX*Wix?????w???M? .)????0r???xNF?nq?kL?x?c??a?R?md+3?;z7?zkH??????NSH??I??	?4?rt5?@8Q??v
+ at -?F?????M??????????st????1??{?nZ?%??9?G%??/?e?M?????????Z??o>??8c?-f???
+?R)v????)4????(NM???(??y??w?????kq?;?J????-?(?!E????UV??9LR?$t???wI?w?5*4??????@?2?I????i?-????`???1??B??j?]x?%&"??????9?4??VP?$??O;R??UZ??.?f??I??????-?.y`M?F??@55z8<BTWJZK2???r?H??PA??I]???fXh?Z??v?/????3?T?@?u'??????4??yl???J????.????w?n@?gi?b`???-?{?E??1?G?g???5?s???dpJ~????/?>se????s?9?1??juK|????p????o?n*?Re;&M??M?"M?e>??d?s?3?:v?y??D1L????n?f?????????_9M?Q??"?.??j???5v$?r?????>m??l??d??vq?????N?eu[????%;??^I*???$-nE"?dU?tE4?@:TL?J at 7??????c???U=?
+??????C.????>??[????A?#e.&???6?s?I????N??DD#?[s??L?"^?p7?
+|?<j}? ?k?5{/??????	?;??Bi???W?????????i?x??????????r)
+?? ??=Q?-?g8???&?1??}?:??KDQ?pkM?????
+???&?xS<?U~??%?%?X???q_P? +??8?@????0E?MJ?V??)??
+j????z?BL?C????X?U????7#?_<?XM?(?bA?b??????7?+R?)???*C8??Z4n#?v1??/?N2O????]???f?2.?,??????v1??<^??2O?????%?
+?7?k?<???E???U?????T??xm(Aw0?*?@????M??OYN?Uo????~w?Tz??????i???K????wI???H?"???5w?&?]?7x<?8?A?no0oH???+????3???c??+K??>????P?^?W?zAE?q\ckq?? ?xt??H?????/?^???V??l???)V;f;?N??:0??"?????O??'??#?|.?Z?$???A[????l?????D??5?U??o????eG>i? Y<???LYc????>?	z?j6o???Z?????Y?QB`nD?	??S?I????":??e?Z1?WTWR?W????rp???K??4???n??)F+?@???<@T??PzA???0?Amq???i????]9"?????fQO?Jqp?????"?I? `?bbYBW?%?{?p?'?&??et??
+:?9???lT-??W:??>Fu?yL??77?rd?B?U??4????J???y???p H?ntZ???j??(B]]??C7r???:??????m???????>???????????Rw?Do??f?7)???\gP??????q?E!?%	?0^>RM???1T?!?e???8??????_E?H???1????0*E?0?U????7y???)????????~U?Q"?\4VP?y????ABs??:?p>:?&?1emL??6?????-Z????I??^?+?WFJ?7??8@???M'+;?*?=??\>?T??)F]?-???Ss??8?#???(?b4?Mr????k???Y{j&~??=????)???Q??F?6,?????O?2F??8?l?k??
+???fw??????R?-!?E~???Iim?&7?Y?8??
+?r???2?G?C?? 4??XR??<8V?)L?&???Pe??!?????o?????ib?%T??m???&y?$?7Xl?m??(???QA???9r??w*?H?v????06???	Cdw????F?`}??)M?Q?S?J?=?x???9`?#?e?F??@??*!?J:?.??????F?%??8i?#8?E??s?l??!f?ltl??D?%\c???Xe8?%`?qr????a??	c???????-3?fR?I?SV????????W?j??N????%?G??4??????????FhP???d?P	L.oe?(w???B??BP?s??
+?N?????<7Lp???'P&????&A???
+?P??&1????Q?s$?M3^c?mG?B???p?dry?\_???q:??p?*??????4??;v&,??|t?]??e??1??"?`?f?????`1?0#???+?0???????????|prL?vT'-?C??r???$[3?r???~?*:84?j??8?,?u??8QR???}?K??Aj1?@jc
+?1m??p??{|?C???uh?&:rbGW???*???X)?????;>???~/??????]??????????*?X?^??ZJ
+\????????b??b??-A*??????u+???R?G???D?Z??|?Y???n4?C
+?Z?	???:?6???????L?a??|?fc?=? G~?!\l*K??hr?xZ?[t4?+?8p??3w?H?G????8y??L???\1(4p???!??\t%<Qy ??MW??	???????Ie?>7??D?0O?;????Ul?
+?_w|!???V?=??h?3??_C6???N.\????J????1??/\G??w
+*dT6??U at c??2??m#|/A???(???_?-???N?^?x@??Dw??H??A?L??M?:mp'b#pU ??o/????y'?}????.b?i at 1?`(????????Y???Fzbq0??-?-?
+ ??????/fq?? ??-????u?fv?p??????'|?H%?0?8A>????e;?LU`sF}????????[??5E?-/K?B?P??0?:4??Zs)?,??B??e5????K:????Pv?????6??u?bn?????bB?!????Vv?2??4Y??????N}Z
+????n???-?L?^?&?l???s?sQ??jc8S???%?'fZ??>Lm??K???t???E???k???_?|_????&??ZR????UBg?Z
+*?b??;??dsj.?W?1q#??A??8%`?lv?[?/BkK?(j??????I?Tc?:??\??:G?\?&?w
+???dr??s1kq?s<?t6????`??5??	?b??q???????5rk???4X}?>???G?????noI???dO:?????yx?z??5$Q???m?\Np?R???,?&?Ga?\?Z8????Mq?Ac`?M??|????
+??U?w?????E??????\?W??&A?4?Okw\=EL?[?yOX?4??@?4??[?Ho?E?m?????s?\d<???F????c???F??O????`6?????k?0?o?????44??}?XY?t?????_?.NP8?x[!??d??y?????q?EP?!)
+I?V?|????????sav???N?\??;?????#A???W?#(??x????5HU???????!?????Sf?\?tUo???{?v?????T,LE/? h?W7,?>??5???O?$*?f?XjfN?[-78?~*?g??W??'??fs????\??Xuo?5?wT??^?????#$???m?ou?7?]????g???wY^????"?????U?Z?}?=??h?+?m<4?E???'?U???????????=zcF???"A???x???~?t?<{?]??z]?D-???9?O#f-?>KD????!$J?????????y???????;?>5/????0???h?=W##?????2???{W,+?????V?@???????e? -?n??????
+?????k???????o?|?z?Vr????????b?\??p?cA??[!%?m??y".???o????????@????U??u????????:?4qk<B?(?H9??x????>??hP?y??\%Ma2EE???s?????>}K???xUt?:?d?O7?JE?#b?gQ?YJB??Jn+q?A<??a?q?????7j???L5|????z?xm???S/x??k?????F??A????3-KN@?w?98*v?_'?????*?H!e#??d??vX??????(5|??fL??apfx@[??=K?C????/?5?}??#?[]?~-?x???i!?W?5
+?Z?-<P?0?}bA????~??Q??8:?R?"O}(ye??i??!??e????? ??s??????^(????QI????bpFL?"h?.?H?eG??T????v??z?~ 17J)t?b??)R$?X ???7kj"??H ??%H]?????SR??d@??U?@??i?|???=???|Q4??9u????????
+(2??,?d	??C?u<?????_7LkT?)4s?6?j?$:-?mBT??(w9?av?nN\'?j?k?D=???????Q???q?T??HQWOav8D??Ea?F?"a]???J'@^???
+??9?tm??kr??o*???GX?5??_E????a@G????-S?????q???b^?"{d ?fs?+g?<(K?{????iI??m`?8'??l(????L{7???????????&2N?????L??*?sB
+z?^F?7???y8yiB?;F???#_?P&N?_=?fB?
+&L
+?Z<?v??A?	[??g???A???,??? 0?Oit??|?L?^??????#?U6???~
+V?=???bo??f?4??o?@E[?zU[y?}?????x?VH?Ok??<1t?/?o??????W_/u??????)?P???xE?
+?wY?
+??"??ba*qu??k?
+??K?wv??;t???o??Z??M?????7v?<?l?=4?(?(?????T?k?'=?Gdhe?.???h??a???L??R>?8";??K\????J/??}??&?8?CI?`????(r1?K???@??R
+T???/h????:;?h??+K1f????hZ8*??#??%h?w@???/f?c*?r???4???w=p????U????0?????f?o;?????????gX?ku+
+????QS????P?]xs?!~$xn?N:????Jt?*??/&??6?0?o:???tfEWxiZ???????|????,tN??mg??}$:??N????Z???G????P?DVO??
+[?y?R??5?i???vYR?l
+b(6?If? l????	kbS?A???D???Q???\6???s??y%???hq?5V?|V?A?>??)~?]qB???
+.J???????s5	Z????/?$j?e?????LF?9L??Q??d-??<????F?????c?X??@???K5??EB?Sa?A?rZ??J????q??-]LP(?9G??v?aM_?I???{?4??hWd~???g?{is?&!)??8?? ??|?????x???n?s????k,?n{??UKD?%????N?'gma?*??y??-7?k?????'KQ?ej?J;sB$%??y_vNP?H?Cg?l??m???Z?*Knm?????Q??R?B???|??$?w?m?I.?9??.????ZT??/??Y?\?L??????h?s?? ~????0s?V?????{?=???"%????>?6CZ|?Z????K?e???;-?????yl?j??U?m}B)q
+?%???1??????x????I???^BP??????-]???y?k?N?o??T????8z?7??]B??????>E8?vj???2p8? ?]????/?4????*a???_o?f????????g???f??S;?????).??e????$3N?*:?b??of??FMg????M?[O????x?^??p?Z>=?k???0C?h??|??????b?QN??7C/???????3?~?B???????toe?p?%?K??! ;?W?^???7e,$?(*S????P}??????(?????_?????G?}??$l????????9?a????????i??Y42?T???T??o?H<a?n????d?<0?Q??P????;dU	L?|?U??GE????D?????w?????????wT?????o??~k1?k?s??l ??I???q4???X???I??q????TY??*>???/??H\????r?	???*c?9S??S?Q?5???/?{???A?d?<?*??1t>3?.5?#???h[?(?h???T[??<?#?0?\????!c???v?????eP2}z???W-\?g????RZ?m8V??3??????k0#k??oGc???;???	??`*1???S`U??P
+?l@w?Ob??????J???N????Q,39SS???\?K#???\z?15???P??e??$??????`?#?\?%?m(?????S?C??c?k???????zR???(????`?:???tiD??0?:G*U?{	?"
+?S6r(J>????#{???}????;.?????y?/\Ro?({b?H???A?+???saa?CwN???????E??????m??x?2?5?(kSh??e????$A??r??3?{??26??wi??????t.>?a?????D?$S?Lz5?c???6}???t(?$??(a??I?^?c ?????tl???<%???:;?S=i&P???
+?
+?r????N???	??t??R?<????-a)???K ??1??MS???????@?v?'R??{??v????}??B+?..eqDn5??T???d?!?q?/\????M???i????????+???	J?)(??z?2????lermH	t_V???fvX?p??????z?yw??4C??4???????T?F??F?U+E?V=????????^n?`??W'e{#\>?p\T?X?h:..D?G\?I)?FhV?=AI?I?K??t??X???e?(???L????z???]??j,[X????JRNX?e??8?'?(?0?`????L?Oho??
+?X????c???$4U"5`??????F08?h??h?????&??tL?????h??J?Rt?1?????1???NG;~???g?I??q?$?#???"???q??x?4?????sj?????HT??^{R?=3b?
+Pzj?.???>?????u???}
+6??????
+???@??.?????????)???E?|8z??A?G????'~B????;@<>S?m???
+~[?T?Y[x???sgb?W??8G?du?m?w??g?fIs{_?Y???W*L??v?7?A???#=?>???D????~?Oc@?2??O???ix?????XN`#?ib??p?f?H??f
+?????="??~s]?)?*?f<
+~Q?-??g+_?=b???9???k??g??knF+??iA?ls?P??????[????e8K??_]?\#?UyJ?aC????RK
+???O????@??]~???]:???X?){???j??Z??r/??eZ???	?&-?(*kS.?O?\>;<??,??_???e??B>Mj??WU??:X???=}?s???D`?W???Q?KW~??c??C??K?T?{?MK????;?tK??4)G??	?Y???!?wQ??D???i0????????r??Ri?:?????}?Z?I?L?d???"U???>r????>??7~1?6?
+???ZB"t???LDH=???t???R?T?????E??	??R?Y4???????PQ?Y?????[%?4?? ???x?R/qm?Po?H?j??	??K?!??"??f??H<?o-]???4??_?@?n?????Lq??l?????	????|D???B	?R9?f??P-??-&????GE?t?O?9Z$:???n?(?:??????O????????|?p????+x5?P)?%?M??2"-??d????xj:??U??????Q&e?q?"??@Wo_?3??????%???HEg?
+e
+h??
+J???8??:`???B{??!F@? ??TTYj[%?{F?e?b??7?14(LqVH?D???-????F?+.kj???h?Pm??E?	a#;?V?;?????v vUM=\??q????ls????!?Gjd??IpX'?oM??z?1I#???/??U??4q_????f??K???oSY??????<?N4a@?m?d??|???&??P????c0??]0i<??Hk??????+&o??N??Dw??i?UTFy?OB?a?z?l?A?G? P-:???N??_xh^?????`?fz[/RO????n+??#Ck???Bk?g
+??1z[??>`??
+g???r?Kl/???????`??P?v4 ??n-?Nk??????0E?A?L5^???J{???#h??DLQEG??z????S??k?HmR?g?=kf?7?LT?>_*???db??x?q?m?ut?E???????]?q"???????KTk??XFr?E?j??L?$?9
+? p7?'m?>???v????,G??????!?&m????L?+q?????;?>?DdO=??`?????x_o???????3B?-???W??	??k???????7L.RHV?????j?\;q??q0b
+????|\?^?B???5??????GBK?RM?Y????_??IJ?MY|?_?vJi^???(??M?`???>1?p?z&?=S:?Z?P????9T?????*??G???WA??tDnQ?8c??????veB??????`?(?????oJ????T????MF*LT?^????????%]?wd?&?{&5n,b???G?D?,?0?? ??w?i???LB???X????c??!?@??;
+??????k?????8?Y?a?????h?????H??{{S?:x??????*???5B?z??b_?9??pC??_?????A???n??C3??mY??????\?"?z{OR????{????Gq??$HO??>???)??]Z??<?j?
+??H}@?k????%?????W???K0.????3??????t??m?~+????=]?????D???,??A?&P??Q!?BV?ako?E??(???
+???Xo~~T?
+Z??T[!???2???<?? ??^?s??V?P?#??8D?J????n????????????v?R??@??S??Oz??Zv??/???	R2 ???Y??
+?8K(????ap????)?Q??rSw??f??gb?(?W-???ds(??????z_??V({????O????????v<?KW
+??~??????
+???'?tL?Dq#4??_?????/?,?!
+{:'U??a4??H#???????]sD?~????jd???u??hS*</??G??Bn??? ????/x??Q??!?>??-,h(?|\O??9???WA??"??`OV???S*R<rH,??????'?#?r?|o??p?J)^?=2?-b?B|???l?
+s????p??????QiLQ??E?C?H<?;??%|?????O????6???;?G ?*6`??c??"n/G??X?(O{?(6[j?.q??O??bko^?,?P???5^"T"??\??_q???1??6{??????<???;	??-?M#in?B?Lj?QOU????,q????? ^??$L_?[???????????C\j??9???T9:A?zm	?c7???L????????+.??Yli?X????a
+??U%!?P???????/\????????l#???DC,???6-t?y??i>?)?t?],?4]5???*????0????s?`}8z?????k2??G?D&???J? r?r????J?%F?i;E?2q???Y??:??????:,'?$N?9W??*?lN???;??N??-??T??
+??iR?-Y?101?? c??.?K???`?[???????J?
+?x?2?>B??`)??0eS)E???m? ?V=??:9????{???????!Sm??b???|r_???O&&L??0(gS$?????1|<?,??^?Y?4u??L?nO??n?u?m
+/*/?e???61?0??ROV?*??h$Sw?]??%'?]??lI~?????J6???
+q=5?pj&???d??J?>^?}?*	????/1??YDZ??:p???R??jD??n?s\0?n7?iA<??R9UO%?c?Mc.2%?>?X??&r+??????3or?bKf??R??6nV?&?(?)?9?*??.??+???P??f?:?u????}?6?)?pVaF?O?n?e?? ??|3??
+x:?~??]??J????M|?/
+??<uD?8?I???1"?O???g??9????	??:GQi@???Q?^Zu ??u????\??????@4v?}|D??q?;?t?( ???+T??????H??P????jX!MX(?7??*????Ug?g?n??o?Y???J?Zu?????????\?_?2/?;???F??M???/?q$?m??P$?????1H???qb/?&??F6??lF?B2???q??????r???0??J???ww?%?b	???X?of?,7+;X?^O\H??-h6V2z??u??i???=?
+?j=2e???L??6?????x???"pn????])?B???J??q????N??U??C?~?]???g???.?:'??.??o??VR?????r??????1?b+RW?Hx?.?B?S??/???x???>???~q3??r???sFh????u??z???fT??Q?4#?????n5??\???z?j??}V??X??L??nvN1?i?}?&???b)?u???6?l?;?????????/??-o?l?IWs??iJ????@???u??A?d?+?????Srz??	X|2??9???'???YD:?\k??~?l??gE81???u
+Qf?G??)wh}??N??????~?O?#?????:)%r???v????~wl??g???P????<-?/2??&?N???Y?B??%??vm[???x?Y?????M?9????=?x#????????i???T?!???O[r-yB5[1M?2[???U?=R?+?<2???)O?c??y?'??h???? ?<{v8???`!u0e?????S|?s???????~???????i?^?S????k?o?K???"T0Sd`???B?S?qK.W?g??{?:?R?C?me??g1?????Ji??B????????b???:?B???T?????%j??<o??i??zm??4Q?????3(???\?,?[?????Y?U?z??T
+u?o77%%=?????@???????w?Kr]B???6???????Ec???V#?	??:[i?^??o??r??{<"??>?????1Q????#??G>???1sR}???B????f??Ni??/???_?D??P???E `i??Bd??
+q?
+(????	93?S?F>'???p.E??_?L?M
+Z?R?oC??2???????7?$??o?*??]G?W?#?%??????OQ??U ??? ??y?#??H@?u&sh???~???%!?=?H?wd?*O?h?}Ew???5?x[?rOo+?6,??????~?'E??"?*?f
+??????}??<S??????Zg????????f??$?Z_0hvr3?p?V[_?'>??V????F????"2*icX??v)\tC??~%?YWQx!?z$??<h?8 \?????(}?w?*???T??? ?Mr'??k
+(??m:?&o??????N??6?L9???1?B(#Z2??1?0S??~??%?w?4Y9???#EB ?97??%Z?*l??+???????bM?o5??????=lw???t$??OT??OP5I?V4??8?Q?e???e?UI?#=????e?+x ?^-6U2~???.@?N?????m_1Ze:+?%.M	???U-??????|?0F
+_?J?bW?G?@?2????.d|??????+??K
+????ia?????????V^??V??Wonz?????p?&j??*?I5??_??5qi??G|??]?-	?5??w?
+n??O?9?{=`?_)????3?\3??B?d?\?????????7???(????6???#??A1????#?
+[???????/??6?aE??.??B?L??T?Y
+?p<e!s?A???3r&??l?k?????????3?A?/'?????f?}i'????FI?V?H?I&z,'???}^<???p\:??"????!^?+??F?u?&J?????~??$(,,?B,???d]???q<}??<?48`?z??Is?????
+?Ujs????t'?i?w?1??Q+?8?m7?D???i??3?W`?????????????p?x?$HvJ??t?'????EP?}R?r?l.??dW?P???wi9?0?-??Y???`??DG?????????G
+?,kO??<??J??mY???-<`??R?????	???	?i??.?^n@?@???%}_?
+OZ?5
+y?@P??q???q???g?xGO?c?K?OZ*???(A?=?1-%?X9$v?????? ?*?]??So??N?<&h{??\????
+f?????I???y??????b&C
+H???]???????18????w??E?"??X?F??8?????s??g???B?<;?NWWU?s???9????|?cIk?u?k?.-???D?&?ymk5??S??}uk?^????j??B]j\]*}?n?9??~???_???7/o???/??????????????w??p?Y?Y????On???????o????O7O,???V??[?39???w?????ny?{???????%-]??O??3?????-w???,?y~`s?????????O?$??$"??1???*?V\?c????7o???d["khE????5y?]M???????Ruey?-???k[??i???%????,?i??R??{???4W^N?????s?\T??(??Io?[?#?L%G???mlyw?x???9?VNms??????B???9U0???\?:??|?????Z#?Z????/-?i?X???;k?l???SoGh>VC?????@??*W?k?[?B?-?????????m??4????o?k/'???6?9??????@{'x?????w??l?U?g????OMs?????&????7CC	?w[9???B??)?z?mn?`Tw?7LL?b??P!=1???o_\??6?m?wwe????????i???x{T#????L?????lp?!??]??xf?+/'??????m3?????m?A	?i?o?k/'?????n?w*??7m???2Jrf?k/'??????p`????V?`??Nm???c3:h?8<D????yJky'??*g?m????gN??????@?????????#?????h?vA3]hm?y?@;?I"w?l???_?S???G???i?n?&?>g?k/'??X:???3?6p<m0fO]?Q5?ls?????hY??????-h5?g6w?G?????]?4X???	??c????X?e????????:k??+C??g?r??S[?A>??<?jf?^xw???j? Gh??s?????-?<??<Vk!
 d???^8??f?)f?c??ls?????????A|?}?????=}s???m????{^??p'??~?? Q:?=???e????????y9.?/??mW????????o?o??_?????_??n,??????Xd???rm9??z?_v?}????6?z??C?\9?)???qCu?? ?]0?????n?b????{??????Z]???s?=)E?b?e!?C?????`?[?rN?lXki???k?9?^??????Z?7?G??
+.?????	Kj?oLsI?'??Q?F?%E??Q?5??R???'?1j??????+~y?}?Ue?x?g?5D??gI"?X??%?W\????m???X???.A????
+r???SV4FWT??e?Q??mo?H?5	DCu??N???5(??????ds?Z?!9D?%X?M???S??@??>??|??Cr_B?9i?q?hFO#?fyE5c????M?7?	Y?V]N?yF`???2?_n?-??6q??LvoGm???c???&?d?}3\??54(?4N?{R??$?*$??3[?{?JR??G??V?$???????I??r>Sx??W???h[?
+?B??;!??X9????	2??-?! >h?????zS???Dx??]w)??
+?V"evr"r??????a(???????????N???x\?Kvy#:??@?*}?THa?Q?????"?E{??Yd?
+?
+@?B'>oc?q???;?OB??z??????????$M?^????????P?:??8?'GGy?)?h?3??)?{?AG4??{7?b???v?O?B????c??/*v??x???H???;??4k1?:qt??pUV?XrH?,?x???.?/??9E?Cl??u?~??H4?E?V?i?K?
+??1??F??I?Z??????%@?M??]??I??jw_?#?o6Sq`?m9?E.u?J? ??B?g,?mh??Fm??????t@??T3??k???_]t?Ds8F??)???J?x?CUe??~P????????????v?-f?"?J??"??Es?$??T?mE6~T??S[>ome??,?????6|0=E$???????E]??pi}?????1?G?|+2k?????Y?:?$?|??(?I/??G??y?v*??W????????H!\?)JeT? 
+e??q?<?7?U!hK?=????K???6(b=?$???wm??G??A)???l?"NG?!?/????j?Ck?0!??J?]}?!9???kc???h0?yX??=s??|?Zv?n?????rX?????rW???N?M??? ?d????
+?2l
+|o???f??Eq?????o??VT=????H??R?l?Z?4????Y?????? c???"?1?>:v???<??O|????????w6%}??P???5~p???A????(
+?%??b??I/???r\b;AE??gM.sJ?\?!?1???????i?t?\*?@??.^$???"Z??x?$E?.?nt??????????~???=????+R??WE??h?~h??iO?(uE']???s???=C?~T?????y???????*?IG?f???/??u????6?RO?`?k??????3K??!?N???6?8+???????5??ILSr??%Z"J???~I3??$?!?Iz????iI???5S~uA,?U????M?3p?=s\S????8?K?U????TRz,????P?????x0?X?j?tR?eC????q??~?k9??,????d??*.????wmG2???S???Jou?Waq? }}
+??????????k?V?sNq?-????????b?j6??w)y<?O%=dB?9? ?q??vq4Uv???)?b?Cx???'d????O????????????o1???,ok?,>???&?Pc??#???I???9???p?X????
+?I?A?2?2C??hg}@?lO?9'I?????TUk#PU?p??`*???????V],])id???????(?D?c?????W?????~???nN??>x?W???k?????@(??YD|n??M?4???\sG??	\7I???q(9kZ????Zc??@?-??4\?jG?T???g?I;?????]???K_?T?q?-?????????)?????a"lWp?D?@hi??v???[?????F?????~?`h??rI??? Q5Z{??'??H.????la???o?)????????G???=???P?|M?#?d}?????>?O????t!??{`:?l???>?E?:X??;?W??8X??n????iM?s=%T?%J? ?0??b9?[?#?0k?Z?*?44???????????R??`/?"`?*?w=?_E???????n???"?n???X??%b}????/?H#??I????9?????U?R?M??V?????	&!K?))Jlw???#?]u????M????Wm??K??dK??z?n[)???????;??3???Cb?rD%????@?(?1?b???X?19??V?y?~??i+w????\????~????d??????N?+???o{?<COg???B?hWsZ??Rg=??r?]??'?????y??X-R??w???)_ fk2??h???*?
+?"?Z?Q?<???%?I?B?/]?)?]???G0?????o?s???x??$F;?O?!??:????1?{?^?O???m??????wA?.??????je$?;?=?I????{???C?l?-??A??O{??\v?'?w?n??????N?r??(?a???$?"s&?o?Z????sf??H???5?S]??????W_?S?(}???Y?1?j?????=S
+??:??_#?,?!m??!c?Wux??????KWMM?o???????sgOw???
+?J????L?BO@????K2?+
+i???g??%Sz	??_???Yv??9???
+&???\????J??/]?D??$?L??d??qE????XP@????z"?p/'?_y?&zL?p"J<^?T??Ou???e4"???x??PEj?@?."d??c??19
+iY[ZBT????,?f?MN????????1{t??Pt?{?]?????z_DWX07w??Un?.Z?sQ?l?K?????)	??u???|?????????_?????????????}X~????~????}??7?//??
+????Z???5|??G??(???????M{AW???q???a?????|G?????????e???Z?????????6_?p??????????????}??=??a[w???I?????;????q??r?????????????]??????c?q^?X??v`??G|>c??Q???uP?#???Y6???:???@??r??Zn????H]?U9????vs??uG?S	???Q??~????7?M?q?j?y??wI???%R?r??q?CO?	?vA????~??u??Q9??G9???:ZC?.?(??G9??~T"=??a???"????????6?r?T??0p???rfG9l??????'??gL????g????????
+????O3???V_?)?-?????f?????????<?|?'[yX???{??(??????a??3??????L???e?P???}??l??8m=?<z??@??????n?k???????5?:f??Jy2-
+?m?>???'?????1/G1f?~A?"???
+????b?	%????z?Z?&?rD?????m???	??????????>?????z??w?
+???FWjh?>~
+;%|!??????R3??w$tU?Q?@?%1???N???V	l??m?H3sff?)?????N??????,j??????hG?d??5*
+????@?P???jV#>sFu?3????
+b??????#??|??W????h????=y????J????2??????F)%;d8fJ:????s???????O_3?z?)	???t?h5???V??n?9dw??(???????Go??.a?!M??+???x?????s?pFU?$?b?>%*???? ???0???dCT?????s?? ?v???@??X+??H??2?Z?>?*,?<:??N)????\??t??r|??$????S?{?u?K??es;?*?)?\?.?6?8??:R^w)? ??h#?o9g????M??`o?9}?? ????a(?4z???Ug?F?]|??ci+h-#?m8?t?Kv*`?6?????YpZr'@Z?M?q?2Y??r?R+?zB??@QgZD<h?5U?(?????6?E]!??8??{@??~
+x$BJU4C??t???~i-?H?W?2?'?}O?o??\????B?\i???-E???{??)?,?lJ?????????jG?t?[8fY\?e\?????X?[|`S??"<K?<J?^?wj?a.???1?f?&E-?????<s????@?hh?????*l,????6??>l7/?!??????E?2k2??b?Vq'???Z8*???
+Rl?c??? ?=?W)*?
+U$Un(J?T0??2?????{0'????k}Z????x?????-??=W?????\s??????s&tc????]??j?????U?9????zwd??:{???|??K???zR?u??;??????r?E??????1?9?u??=?({??g?"??K????h?8???+?-??+o?-x??K?Q{?????????|?????WJS??l=?76?????s??Q?e???H?i?a?Y)?o??o??????Q??.??????+???????????????e??=(?(?(?(?(????(?(??@?u?w??%???v?m??(?(_W?B??@?F?A?}@y?@????T??2?????x?V?4???5??;?}??0N'?#?u?\?Y/T?:|??o?!??<???k????Ea???x????????b???4"??U??EJ??A???<?E=???k]???k]??^????X?'??}?Zgq?????8?j-?]U??=??K[q?+?=r??????????s6p???1???a???!?v??IKH????B?7?z?w????[EI?????\???nA??E?N*#?M??(??} y?}2?h???v;~??C?.???{z?]#;?EO
+??7?Eh??u?YZ?C????"o?o??^Ar????oZ=qy????Of??&4?uO???>?x??(?j??"?;~??5C?ft?y?{?%??^L??_????g???q?7oh????????m	KB2??????ZjU?????WM??%?T???????????????*6,5I?,?W?,%7??\?????????P_?BE?O?????v?+??!mE????jlcZ???g?l&(??P=?J?????h?lC?F?????^53[????+?6x???=??kdC?
+a???>0,j????9???Y?w:hc???????Or???+l_3Es?1???}s???3???"?\????`XU??^????????H?^?O9??W|Oyx-r\l???wp,??d?B????Mb??#U???x?????I??MG????"???t???u?
+v?*Av?????X??g
+????k?????6??3???-?o?_????a?? u??i at V	??B`???#?@4/`qClTf`??i????H!0?q?w???KY???E[?L,?D???,?
+#?/j???
+,??1?LN??????X3?+?J?????3????L????!??:??u;???_,t???p?B?;??a?L???c?rPhcfN??h4~???!X?m?????I???|imPV?????0fS_??("?z??f=?????+{??L{????i???pAF??Z?O???????%f}????i'?+j?>#y??sVDhLT>?K??S?Hc8B&V??$Lr??>?Fe??t?m?????'UZP:u?????6?0?W7$Y?_U??$H?u?CU5?h??\?L?f?V\HtF????!F??V[	??D??Pa!?+???%???)>D%???@-????F?VS?????+?????OR-????G?Gcy????|???e????EM?????,??;q??
+2j??+?U{?Pd??3?siM?d+~/?f???hH[??????UJ?m??LAH-????g?n????Lk|$?(???D??BF?$d*?)?b??"R??N??R;A[????[???{??`h)???u0j0xE?J!E!?V5f?????%??LT????#^?o	????????P?V??CN]??h:}-C??f*???9????]sT???i??rF)?????T??rapF*!B?u?n?]B??H?:???	N??????????E???4?08?p!?????	?|Q2????p	?/M$sME??bl6t?YvQ?x4i?XyMx??[?XR???
+?4,?jv`@????e?,?ryt????l????"??Q=????`??H~?z-?YV?P?N??s,2?T?EDI?4P?????"???<?hv??Lcqsq???d?5??hY?B?f??&/,{?Gc??U???P?????$c????\>??"?n|??n???;??C??%????[???=????"??V???nKbv? 
+??KYB?]?
+???h? ?*??"??????v?&??-742g?c?+???w????h3y?h8=?z??Hh??fjG(??H???x????-?o?<???????E?? ?>???y(S%f???n??H<R?5?\`??}???????????????]????????sH???BI?x6???~??_??vo)y?:????L????Sy?_r??@?I??6?&]9??w?(k?Vcq?Z???Wk?3Ud?1t???2??L?T??????(????sD??????"?Uj???H{R?D????9Tb????J???~?>?2z?????e?]??{?^??'?p?*c{?_??p??^????	O?,{8+{?;????	~?W"U	???????wD$?????J(?
+?U?MtD??K?x????3???Ov"
+?##???<!?H?, A?T?G?+l??:???=?????dR??*??????Mo?|??? ????[E>????E??)???(xU?(?GY8y9b?LV&7?Ohx|P	?Z[?nW??i>g??*?U???????+&?Q???kX?*????P???z=?a[HH??GZ ?S
+oe????
+?$?K.?XGV?}???'???WZl???????u??~?'c*???*Z?1???
+??D?smE?=???m/?	k4a;????"'??3?h?k?cz'-?${??i?c%?4s???XK?:??-?:?O>Af??L?<?G?QP?????_?c?-??z-????????ySS??*f6Ji?G??p?IlJg?d???^??5|?	??H??????????O??&Y?cq??????.{??-t?n?^????????h?3j\??????u^q????:?X?<J??N?[?t?0P?L?^!??~??|?bX??8????_??????j?#	5mO?.????
+q????#?=+??v>?er????C?{DW??bj?????????s]BY1?[??}f1???;???d???????????^D?+n?\?&??????4wF9k?????`6?{(??Pj?
+SN.[L?M??????|E??fl??R?3c[M?px?"(?Rk]?????%r\D????Z???g?eQ?"????????:?q?Aw????(PU????dq?t?(???sU?&?:c?Ug??H	?Zp??	??up?*?M??pb??? *??P'?C?
+E`?l?zH?M1?f?r?????M????JYO?b?W??????E??????3??7/'x??W??v???:?GD.?$9????`?w?V??V??n??Z?m;?(P?z%"?%?7?8??q??>B?J????5?v?Fx?g????Y?I-?????1???7%Jk,k????Xg?c=??q?n?&???????'??(OE0<o?}???=??c???p??/?8?????|g??X?????????A?????<6!X???jG.?RT=?
+N,???6}?s????????gQ?fm?}???k??:?+wT?X??-??C???y?e?Ir????7??M???????????X?*-#???????"?\??\??????v???????????U?dG_????|'??@F????????i??P52{d???U?3uiVJ??j??"]R??-Y??y1???0?8???)x>&?>????0?+? ?g???2UU02(?^?v?B???oG?v1??")"-/VN?Z???J?'?ND???i9?z-?P??}s~????W0F?0???????
+?????!????[4O?????????=???e??7?Dh!?B[S?_ at i?K}Asi???y??t???+N????N\?????????????1?g?1?C??????????j??.1q!??_??o?{???bkv8P?1?9W|DuXq???$?w??+?
+??ud?Z????+??n?^c???_??????MM?d?I??pD?>?RPMZg?????????G??????g?t?????#??
+?n(???G?"?;m??tzI?`Bq??<fY`rrl????~\|?8?+k?8mp????T-??????7?l??C?*?f??x??T{?:P?1?U/7?NC#?hD??+?$????x,V[^?/??V??6	U?J????F{???'L/X??Ds?x?T??_S???g?h???uFA??5????Zy??TVe??1R?l?=)???NL?	????G??r???ZX?	9Wmmd?[???`Q.z???T????c(/?.?e?
+2?P?yF???l??????VW??m???g}?k9c???hlW???s?????S??????;T??q:???~?VN?:?TF???R???{???4??E?
+,?1D???9Jd???Lg(?????q?????3?5??g
+s?9?-P]31r??????@UFu1u?v ?=?	}j3f???4?t&B&?*o?d??I??|Zem??????j?????JM_4????<?V?????r_|??qo?<???G????Dl???c??U|???'c?(?????Q?????T~Bp?J??K?????????vf???>?]2?5?a?Lxr??F?????|%???G_?.,W?FM?De?Vf??iE?????yg???5????%???u?Ak-?K?"j??t?G?
+O8????R
+o/q3?y??Tt?y=?K?gs????	xG*?>??)???v:;?+BW???yW{?ei????`???3]w?[_??+)?zG}
+<J|M???.?VS????I/?7z?VN???6?	M}?e??I??z???#??j!of8?????5CP???{j?<?W??!?????}?-???k$5??&??}\u??????&@,o\??E?4???????3??/???K??????T?3a??
+?$?$??Q?0????c?r??|???kv????????1^?\{C)65??:??5?LfEP?7?7??_&???*,????d?D???????w?_uOX?)DI??7F?#]L?HY??4i?8}????????k?	?????w?T?o?p?:???q????g7$pv?$?oq
+
+V?????+??O^?cT	~y0L??^lm???~x????z??U?!(?_?#???$?q???yr.?I{?u5??e?y?~e&?????i;?.F?v? 2?H8?-UQD?c??'(2?t?>?E??O?n????&+???k??+?Q?nt??/?J?pX??r??????	4???i"?? ???r????Gk???>?&?%????1Q0I????7?????O????e???Kd??M??RR7???*???BT???o???U2???I?*???????[?7?`??/,?I?????
+;)?*D?r@?????????`??/e????X5fFs?	_j???.?l????r?%:?C??$H^.??)+S?2??xF?S??y?IY?<m	??m???????m??P??h??	?+??=Ua?T?p?B{Cn?{:H!B5o8s??B??)?C???U?????????g{>?$?	?'?c??)?i?4?`H???G????&gWH/?L???H??:???T?%0?+???t???^a0)R???=??o?w???).
+,t?
+n??'x??!????(*[z?????P??,??%?2??????-1Y*?4bU?^?&?|??'??ScY????????C?h:??} P[??w?p?m/U=?co?#K??Z??a??W<???M?g#?7\??5)???2)??F??o??R??4lO????q?*???'?	???nn??n9?}+"_??.???r??LAo?(?	??????????A???=??sR?:?>?????&??aI??
+?M
+????D2??\??o??m,??Hy???????J?Cm?????'
+Vo?6v?
+(?
+??J#????9uJ6?^?o?X?q??6??h?nsh\jt???}?^T?;?in????8???Z6??m??????!7? ??:H????????S?uV.?v???
+j???( ??u`+a^+?,?e>9 O?V?Kp?X?-`EK??i#?$????(|\?B(????#|1?8??
+?-?????4??K
+-?+??C??{#u5U?r+F*F?q?o??<q??g???I?Sr#?3?W?	X?2O????'&?Il????:(?EMjb?"~???91J"/o?!ll???=???>]??5+??F?S?$????*?????J??c?(?`a?O`V???`?I?\?s???Y??????W??g5???EZ?}??8???[?)??*??Qq????7o?0B?[??????1??????@?????@?`??8j?XS??????????R???3j??Y???H?5Q?
+?p?NR????(?a?h?+<q???????eR?[??????!#?~F???oy??
+B6Ngs?P-?h??yz?Y?$?p??D??Y?s???2O????dU?^?igU;?`.V??????[?m!??????G?A???z???*????2
+???z?Bf?5?1w?rwS??J???}???????V?z??d???ZYj?l?8?*???Q>?o???P{??? ??c???^?????+?$`????I?#???Ut?	???Z[??C????%@Vu??"f?m?"??@"?NNz?le??!?Ko-??????????|.????l*???)=??????????i?{#&O?4h???????o?v?Z??
+? ?b????2/?0?i??s??)?.[,?x?p?!,?v?"TX????X?M?_??uv??`??+?%?:l?a;?-
+?5????k??1)?j9U?Dt%?5????0-???\???T?VQ~???(;&????4y?????)??;????????*/:	,V^??'|??=???5?X??\?Kb?s??@?6?X0?x8?=?"??????kl????*]1???B@??6?9?v??t??n?;K0n???y:????????A??P?9i?`?????o???F?l"?2?????7?^??U??+*Na	???~????????~???l6wY)L??ptU????????G???(??f??it??R???X ??|W?6?E?%??????r????mh?e?>??u??D??u???(QD4?^?h?????????_????????L)??NLi1??n2?!??8???r?Z???WP_?j???_?V??]???@???Ee??;*h~>?w??G???gE?6`?j?\??T6?3h??|?L?rk?L-?%4B????Jnf??_{Y>8n<8??<,??meF??????x?-????j????Oi??iy??L?@??;????$????i???2?jQkZ??m?L{????r!???du?0n???? ??????Lj???Ww??????|Ms??"M?Zu]?@I}???h$?c??w???\c???v???I??;??O?+	?:+?[^?a?-yZ??SNu????????[??l?h??@??sr?
+?#?????=????5?"?)?7?M?d?O????,?7?fh??N$U+?v???&-Q???Xk??~y?????T??R??U1?c?H?]?t?G??Z???????-?????u9?F???l????5?V???KnX??t*??aam???#>b?EWz????????0????r?????/???j??8?????Y??????&???
+x?::>IM??N?mU8????h?$?^???|??5???X$e????M???3ik?>?W9?f*]e?CV??q???|???t???3??Y??$A4?!R?^?4M??CY??e?H???_?+|#?Hm:???-?k?z?l>d???XwJ?4??????
+??w??4U?)?^r??.???Kcd?)wu??`?*??P+bdP?8?????l?????s?T?????????4??KD0Ym??mA?=?p|w1??i,'pXo	?UE?r?k?C????cRt?8?NS?9??<?U??????O??lD??????!p???	????P???'??Y??f???T?Z????`/????????z??x=5S????|???*/??z8?2?Ld?H???\?)u??@?<???G??Z??h?,*CEv??????A=qL??1?c??e?v?????Y?$a???w????*????V?s?TK?????f???,??dW????+??x*??d??ct?u??\????^??=?????4??V-????@WR}???j??????n9?;b{yH?y??d?T	??,3#??^????????????qC?0?=F?Mb?&??Rc????H!?|?x??????1? h??^??f0??-h????c	B??jY??6??????G|?'1	G?)q5??Y?.?.????s???SN?S??????8????i<???O??b!?dI>???????????L????BLI?J(?$?K?!O"/h??????~`N???j
+???*y???M?\??????D??G?2z??????~??x?sqK?H?v5vFGM????9?tF?l????J???h?q??9??g????j0
+??O%B?????;?_?}?0??q???GH??????dp?U????y?????y?KY?;?v??a??.??h?}SR??????? ??1DY?gD?*?e??L?:R??V???H?zW?#??>????iU?7	?s??d???-?'jZ???1)q????;????T4???`[r?)?c??F????? PpO?v?????j?[??6?2?b'mv?d??35?D'??I???B??????4t??M?xzJ??b??\??B??Z
+H??W??????????N?H|?Jo??????3????
+?s???/????zm?rj&?=??6Y??1q?`Q?7jj?i?m??(`??e3y??)o/	;?Omi??=`0?????_?MO{:~A??????h-?CS1??(?,M
+M#???????Le?6X???GN???,?N:&bQCn???nR~0?
+????5Y???2<??????Z??h?QV2z"N?/?e =W????z?62?'b[p[?5as?d`%?u 1R^???%,?WG?4??????G??0??d?Hu4b?Lc??"0)???1'_?2,]:?2????N^???a????<??~??????U??<]???9? ?_???:?+ ?L?<?#??}???"?u?B14?`?R`{?L2Q\??j??F??v?j?S)pS????4?8???
+?Jd?,??e?F??[EQ??????z?B?Zl??l??V?2??/?~??}?t??Rg??????????
+d???~Qf???@???
+,???*?U???S?Y%?	???g?????]??C?<???V?!a??]Q7???Dc???{du8?P#?%!j.??U)?3??U?fM?,??4?????MF?>??.?^????8????-??F??Qk?wB?,???G-gF??????????P?$???B???%?l??e)???N?F#??,???-?\?R??+???TP
+B?T?sH=?m7??-2?????\?????????n?????6?Z?j?K>??/???q?>?L?c?xw???Z?4?wj??2? [X???J?????????lc?~??;?D????I??%?t?p1H?_4??'?????	]???Ef7B?<:M?z?$?w?%
+?n???\(?-m???RyO?3?=	[???{?6??????<[???????q??l???????I???
+z^A?$??5????"<??w??t??uD???>XB?@?i9se k???lC63+????L?5N??s?>?]???M;h?d???????
+???-????.?A{????>7?R??N?<??d?????M???????????+w?f????Y???????????????}?lI?y9???k<?X???~??'??_1o????Xv?:?Q??o?r???????\{?$?????~w??
+?? ??E:q?l????|???oI???8??v??C??b??ssgk%C
+dW??N?(????l??zt?(???????V??%???nq?????
+q?.>MD? [?g[?ah&,D@??si3???SsQ0?)???!*R????1?}????9??TK?a???/*?u?v]?? b]????$??Do'W!???-?hU4???????P.F?????#????^?{aJY<\?-?!???K??K_?4??y???O?????????`??r??????
+]gz?	?>?Q?SewK??q??3>???F/[?e?_.?2?????3?T?m5?w??&N??%?!?x?5??c
+(-HI+e???k0/cW?P??R=LR??|?.$M?V???*i{?&>?>|?8?????O?d?1i-kf?M\?????????%DE7W???}??F ?OB?,n]?j???A4???DgXD#??????????	U!???a??g?
+U#??5?A????gT?.?x!?+?u?n_?+??Y??
+iM+?U?B?Q?Th???M?????j.???a?5??GIN???]?R?u?
+?FrL????ir???????5?@'&???+2?6D?????b?@u?*K+???????o?0????}??P-??
+?D?0f??k?x???????6P?vB5aubi?(n??K???~+MY?/n2,g????m??!?????????L?M]UT?ES?h??>H+?\G?j?n?U??,?lz
+??????g?_?z?~^?q??E?SW?"?!Z???X?we??G??Xz?sjq??>xO
+??=?S.?
+?]?+4#???7	??????~??_?bD#??R???[?o???C??u?H}n?Efo?	?~?e???xU]????2L?rd?s????(???|c?,??%?!???9?M???????>J@??29?%L:E]0???jW?k??_???NT?g??R_[????w7
+8{?z??????4K????r?)???D!??F?l?]?O???v??????E????`????s???Gx?2??u??#???9-?Z?H??????B?D????;?????/??r?Lg??????q?A??-]??q??}???"?>P???Oc?pHaI?p???? p??????$???&??6?Q?XB?M?c?P??7????????z??.32???????LR?????MZV???;??k??-Ud[??c*???????????????xe>??I1qd?Au????ek]??2:/?	C?/?.??m??|???Q}??e??m??@??????????Bl8-???W?*?b??F[mh?TbP?<??<????^????L?C0????e?'???6??"?%?G5u??????e#?Z??5?????t?X?wf}?-Dk1?`??P??????X?l??jY?C~Z^??????b?e,?&Oo-????|??_????{????Mgu?$?,1 J?]u??MSo?8??k|*\?????????r?K?/?????t??6]B?s???????];f??~???<?%??;??T??z?%?????R??h:?^?c????k?yW,]?Mn???<??????~B)c???C? 8??1V??#??OH-
+????&????" ?-?qOS??????^?~?????bM4??????#????AB3?{????V?^s??????g??Fg????r???b?k????9??(???wiC????\??V?Gj4Q???|$T????V_?0????Z????o?Ci?????%oL*?v
+?L?y7/?.??
+?'??_v????????3??$??[?0??q????^?l???#?%l?#?-???????g?Ne??g3??y3*
+??=?d??q	?"??l+?;??}E?????????:KbG???YP????.???}Xc?iK9`.c????t??????
+?\/Z????!??jI??D???"????m???S???w??^???[R~?K??
+???
+}???=%?f??
+???7Vl]~Ecr?kh???z??N>?@?b?uV???f??????p????9???&?h??	?_??qYZ `mQ??B&?2 mGR?q?K?#??/??4?G????e?f??P?y?
+??d????????M?pt?$?2b??v???z.?]?n?????Y$??wc???v?;???y?v?q?????G??!|?`?-????m????h???Xo;+?J???8???@1?`??&?.e????????{?]\??}9?:l???{G`??>?Z???`?G?1?<%?1?a)??V?Jx???????`E????G@
+?)\?o ??Z?r????N??HY?D?Xq????????9????x???c'iX?=??@?(o?d
+.S:???B??s?%???]?(???+??huw?Kh?i?? ??????k?H??C?????YO?4S?H????
+_?????h??k?qU??zC???B<h???Z?Be?z?/?-
+?>?}?0??U?u4??&M??p?`_??%??<???m??RT??$??0?0v1?S&?\y<?Y??|???[$
+
+??L at eA????9*??l;Q??J??&J?dL?*?*???D?b?^I:???J-;Q*?P?@?0?s*CjT????)?c???@?????gx?L??/?g
+?y??e?r?w?b??????lU???)??Ko?????1Me?v??D??@w8?%???;?????8???L9??s??O??P??n???^???????C???:?;?f???X?DQ?Q??N$?=?60~2?8??W?a?*l?&e??M?JhU1??}nt??&?
+	s??q??K???^?v?u1?s??????2D!??~&{C3?&??r?"?-?/?k??H9?CT\Rd!?j???G?9?bi???g??8L?r??C?E?z??k????K?%?e?u?!??????2n?8"?1?`4DT?\V=??????0]??z?!T?Dzb<?"P??	R?K|???[?oQx????W_b?S	X;?n??X?pFn???[D^S??Ab????y?!gE?????^T?{??v?e6??p0??????`?_?7?y?Hp*?>3_?a??#y??:??{|!@?C|WVx+0???U???????C>QdN]d??y;9u???????E????dA?R?-???V??T?@??b?=????2<]???]?z{)SAb?0??????]P?F'P(??R??t0???`j?M?A?CIQ?s?`i~?
+?NES????%e-???}zr??+?_?#?????l?v??)?????????)??0???x??<?d&??G???Sg????Ky9???????>????D???V??\????????E?UN~4?H	?F?? ??.????1*/&n?????b@
+????h?2&??????Q?>?^*G?[h???-3N	??@???EuS?uw?|??????H???;?n??0e?q???o???w??n????A???|zQ????_
+q?8?Gb????ErM??rK??3??????v?f??q??{??^?~????w????{???H?T??vV)??????Y????????;??y_t^??K????7D?I???????5'0u?????%?Z???u?	?u?	???{?????????
+ A?p?a???	?4#Zi1?:??I?P??g!Q?z7?g?????0????xz?H???`??{M[g?C??e?Q#E??`#?N?i??z???e>D???C?V?h$??Ok?X??????<?S???r???x??R4f?!/??q9??=??cT????4(??V?CG>s???
+P??q????"-7???%??
+??zd]??g??Q?8)??8vd?w\?Sk??p?a?DH??;P:??A?9?4$`???????6?A?????Py0???)???l??K>?????b?e??YS??j;'-vVB?L?*X4@&S7?????????#&zC
+g???f?=?I?A????s????X???/+??g?????3?????Pe?RN:  ?C=wG?J??y?s?R????Q?h?,?,?Im??k(:(i?7:???N"<]??	g?Q5lp`X??"?????`??3J?H???2???h?q??'~??,?Z?????-m?3???C???A??R????dZ^R?'s??-_???}?M?fM?o?2???P??"?]?z??
+??M>S?1??^}@??w???{???<H????(*?
+	?????7h????????????A7#h[?d?????????&/?m?w??]JI??N??S??s/???*?3?<?#??v?D???????{??}????i????b?[??+?$??9'?? L????u}Z>??t????{?w?r?TS8\Ft?A?v?
+??3???+????2?^???$????1?e???$\?R???l\?Y&??4e"0?????!?m?????????Sh??)??f??????g?8??>??+b?i??z?r???d?}??????????_??
+?e?
+?j??b?n?.Q?X?? G(T???'??O??+??????l?l?)F?H??+lA
+??p?A?K?U???a?	?+E?.?C!<qt	???????
+/??Z???L??(DC:L???G^??P??o&?:[!??s???F4D}?T????0??/-??P??f??3??D???<+=?J?????	t???|?-?y?Q?@"?3!???V???
+?????C?#?9??
+CE?m??LiH????C-<???:@??dS??????E??6'+e[\??,????\?F&x1[?,.A????:B?)%Q????????5??????????K???%??m????C:r&?s =???~@?#????5M??4W%?\frz????f(n???6?o???3??R??G???J@???T-?[V??E/??????TN?(	y"?0?k???I]?X????>J%
+?9??????M??%%?$?????L? ?_,sN?{?c_?Y?RzC??%2??????V5????w?oz1???K?H?	?(D???"y?TuW?o?=???d??????OU?(??b3R?1????7S6_??15RLg???n?b?<??
+?>?@$QV??J2?c??mI??Ly?7?n???r?J???GA?~?y???8?n#?Y^??????Y?ZQ)??L?Et?_(?l=??\??????????????6? 9?^?Lv&K?i??^?8?*????????*??Y??1A????,'g-???J?-<?????3?oe!)lk^d\???z????i=?b??H`???oH?68?{????D?V!AR{U???pu?o???b?jk+V?e?G?wSvq:Q??{E??fg2???M?,j ??R??;A???A?93?G????*??I??`?3OL?%_XB??j:?)??>?)n>??L2??RRF?g???a?Oa???????u2h"t9}?%?	?\?IA]??i?	,?bd`?=RGF??{?j7?z??/????<??'????yi+???????oE|?-?????@????Oul????m'?????z????[??:72'|A??N?S6???C?o?6?O???t??2l?B??,/(???:?s??o?E?j_w2?????????g???g??>g?n|x????????}????'??~??O?}??#w????=~?????????W????<>??????_???????????>~???oo???t?????????'5?_????O@?????????n????^?d
+a?c??}x??$`???y?"? ??r???]_????=??@4L??6pT?n??;????7?????%D D?h?=?e
+?0??	??|??????????????? 5?ec?-????????^?`?K?jr&V?*.?h.);Z?O??=h*????????R??S??????????????q???Iw??b?c0&E??":]?e??s???(?\???T?O?i???t+?????NJ]?????v?BTJZ?[?????B?BL?i:?????Lk?Bis?
+???V??????5??[- s:8?k??q????6???]??c??g???Qy??Z?????/??????X?k.??PD"?(z?.!w???Oc??4??M?#???n%??:A??L?P|???]?????Z?????C?????j?aa??=??L+i
+?????9???1|?$?>????y?tGPd!?^da@???5c????r8??1l??|?dNC'J?^.N?[?e?RD?5?p??u1j?:}?T??b?L1Rg?rM?2??HP?1?f??c
+???.ERTK?=G???^?^??lW?i_???j?=???T??;q??o??~?T??U}{i?????~???6?}pB??x}???
+?\jo?&=5?>???,?(???Lp\?))Cj?Q ?BgS????K??ho??M?'??#D/)kt-?{?|W;?+9[A?????/%?????:v??PT?????*?"	`?Ke???C????q??H?^?S???$ ?W?p?b??	nm?}U*g?l??d!?r`+?_??}????M??T?6??m??6?=?7??W??P?????N?SD??p???2	????K???2?????F
+<????8l??S??J?.\???yh?8??	??e??=??A`??y?d???????I?tE]?@?z?A?Av??4e??
+&QTk??j????
+D5H????eZ?)hf?x??}????????>n??M;????%???????i'<[[??????l s??YX;?v?=HA???!q;=C???
+?'?f???JoKp?G??>C??^?????;?h??????Lp7E?s{yo
+Pb??1?+??_??h???l?rr?x?I0ukv*	?	?vX?K?X?O?????N?:p?>???,P5X??5??BY??
+Gb>f?~$?CA??4f???:?? ? ?`	?p0g????-1^r?p??-y?g`??C$??
+?i?q????V?=?}p
+
+????6???????????N?kJ?^?o?`%. @???z??????????x?^O???o0???q???B[?@??~?o3?]?X???h?????6???????K_????5]Q?t??j??}^???V?p?U???:@?rGqo????p??}$????
+?????WZ=?????????0`i????CI??????'?
+?-1A?	?Yg?RQ??d?o?3??i??7?????&??O?q?????6??AW:?5??7?)1Km?????7h?^?????jM???????j? <i?G??W???WM???J????????????????=GQ??I?(??n?B??|???>??
+,???lV?o?qS??W?????'?J-??????}k???????-??`???O
+
+???4d?"c]?t9????V6??Wu???x??|m<?????????ew?]Ea???QwMd?????F	???`^???*????J??*&??X?[?S???V>??n??`?I??
+x-F???w U?M??#?>{??%??f???z^u`???Xaj<~?????R?o???Y??t?1+0?Fo?E^b
+H?lW????
+??98?????N??\?z??????C<???Q??Y?????
+?@vs8?Q`R?mL??G\????????^Z?o?/y???????????Z??????C???}?W<a:k7?f?????f??G?H?`y?/
+2E?????_???>??&????tiQC?V???C??]????N????9L???]?????cC?dG???&?M-?1?Q?d"?P?>??x-?}e??{?&?????r?Q??&???#?d??;??,??????x}??^/?N??H???Je??)#K?qe???1=xkKf????v??)???=z??P??q??8???:?3MG?+??????<PF??1!84??u??????)?????A?[D?????HBh?P???+?,????M?:U?j'l{?Y_g???z??s??G'e[7(?o??<w???#??e??Xj??????
+0??p@??J????akA??.?Dk???$M?????"?L?????????,?;3???X<????>?y??=?f=[????=????????F?a6????5??VN?n????6W??1?8V?Y?<?3?
+??L???d???YV??0Kt=w=????!nRi?wv2OK??w2-??????61?1`??cZ?d3J?C??6A>k?>+?}??=7?;[\?x????i?????S??8?
+???z?????=SRt$,?'?X? 17Fd?3@???L???_????=???Y?{B?d6????????!M??u5t?rx
+vt??y;X?w????W?n??M???uF???Yf,R??<C??@.$#9d?c?Ia?NSX??v??r??k???rA????3??,>??????o?$?e????K?5???9.??.
+	???????o???'G??\VIm??????????<_?????-?????????ok_?W????+?????????/u??b??
+???U+X????{??%?WT? '?Q??(?)?SD?
+?????d?{?????}
+T?	???????QQce@>?G??L?? ?ie'?rd#??*??5??]9?wS}u???P??|?9?????jAb??"??E?W???u`?i>V%:?????&??_?4Z6?`?	?u'j5???n?/?C??Zgb?~*?????~~QQ???=?!*??2?? )?QT?N1A?y???n????nr?
+?_?????)????A?5???[?|?7?g??VE????	Ai=.?A??5~????f??pJO??E?Vq
+?
+?N@?????76ST?4~??fx,j???"	??=v?p? Q?S???????k?,?Z??-C?@???+?;?(6wP???J?[oU???$?;i?Qwr??a???L????Y-???(?Zn??	???;J??\??u?b??I??*??:??X?e?;?????9?.q???YM?{??l?,?[??5??I<?I?5i?FVirF>A??$?r?G7[?o?d????g?w<?T!?2???>???O??_?/?{?z)K?J???|_H|?3??????T?J ?]???sG?A?^*0??7?6??Z??]O??w?!?;??K_?4UpM?d??0?zs?8????????	?PG????y?}'???8NPu?E{??1??x*9I
+????G?IX????+A??????j?????????5V??Ly-5~
+?U?v?y??!???h?`U?-????=?ZvA?n?5?????? /????S??????Wq???It???J?SQ'?0?.???:????c??6B?*????,?J???
+??s"N??s?A?y???Q???>??-?uI?W?!??????0??????E?y/"??4Egu???Y??~????T?5*??(1Y?{2?Z?YmDsj???z!N0w.???z?j?Y??Lu?????B0??}??????L??
+?P?'b???Q??A?????q,????{?#?)p2?j????A???,/59????z	??????`???]%?r?8??6?$???W?oO?dI???$|&???,???Z??.?j?\P?.ow?*kKg?mHS???Z?A???{?DF?sls	$F?Nx?d?Z2r?s??\?????!
+$IO??m?#???{???????I??
+????K??hIm}	?????????K.*??e???????????A?i??o??????h??u
+c?j?<?(???[n<M????\?'?vj??@?V???J?*?-?R??????c???/???;4G???nJ???"???-?E!9t!??aN????e??N???nu_?G?????M??d",?u]
+U[x-^?ym[?r???j(??'????OS^?????z?		<? 5?o3?{???
+?????`?????k????~?#?f?r1!??5 at x?\?d????EkaAStbx
+?,???h6?y????c\=?????o	?~??S?D???????l?????Y?Lp<???(??????%]#?i??#?G?946?Kp?
+G??3?$??l$PqKY;H?Bw??5w?d??a??h,?*???cU?3??)????Y??h?C?O? ?8????} ??.?;7?u??,??vT??k?)?c_????3)t???/?P??'??bM??????Tl[s?FY?E???"v??k?V ?E+????t6?\??%.??G?fD?????U???J`??N?\XTe?????u&(??,?H????.?h0?5mslj???#y9MLS?Urp??Fc??????????????S?G??>i???6*?y?S??D??6O53&?????2#???.??-0,k?N?|?? ???
+*[???$?NK?w??????G\?0[~??x?m??????OM2???Y??7??v?\g?????=M?????
+x????\????S?U*?J??Q?%?????~T?-?D?????l?!p?nkR?g%?E??6?i??[?M?@????x[???fz??????	???t?? ?kfIR@??ZP???LXJ???0lT^??r?????$y?v]??????3??1?|?s&??K?[?Y??g?E?z??}4=T??+A???????4??	??0????G??????????*?????!???w??i"<r? ????5M?ES??A?orv;??hF??????"???p?,?4??<??X??>??????!h???+?`???#???>|????
+??s?o,,???Y???3eov?oz6<?(?&????~??
+z?Y???d?]?|???<??la?!?!?\?,?o???T??????9]x??r&???0??-????2?,D??x?(-ar??C?{??X?J??????@??9+?%?Gva??'?9U?Yg????=???9???}	?3??5????????O?,???(???4?1;?pc?/??d??8??q?y?`?&K?|?jx?d????=i??)+?u at 8J???????F?u3#5????Yk?PEpP<?Y2h?6tV?4C????2,?m??y?v?
+??f1Ge???Y/?0_z/H`H ?3o+?????;???????Z??^M1?y??R~?r??sv>??|??-?}yUw	5?%???\mM??3?~?j]?<?f????,.u??H#???r??F?kEn? ?-^
+n??????"b??????r??+u????s`?X?'@???????0-n?`w??Y"a????]%W??0,???$j???N???`P?r????gI\
+Y??F7????z?ac??%??????;?|?WrJ????Ek?]vt?X9cF???C?]?d?j#
+=C???=????j??
+??z???U??`Tm???qr?p?\v?\%??{???66Gc?Cx?S??-?4??d+o
+???M?=?O}5?n[?1F?1*)i?M?????t??6[?^?Dh??????+?)L?u???GQ??xT???k?A?:??e/X?D??R?f)?J??\??Y?nO?#I=???,?j???b:
+p??<??U?????gx?XF??????Y??D?/8-?7?k??<wPU???>~??????hU?^?Yv?>?w???????4????S??S???8g???v?f??????ej? '?"?'??y?=6?p????P??M??ES?F???a[????h?v??04?m\
+cE?????4cfjY
+
+??????R?QU???*?
+???Y?????DR$????|m%?xR?'E??cw+?T^???X??Hc4f:??L`E??8?
+?>"???z
+???Cp?IG[?x5???7+?K1?'1.????gBg??[s?D????(????*???j?p,
+?XoB/?U2??A?
+?>??????????
+?"???A6:	jcq&aR?f?df$?&/? ?Z??2????h?EB?kP???%T?`=D?:?v?5zz???3??g??s??B?^?o?pkM]b?CL??h4?????????'??@<-?W[Q??{?Y?,??n\?q}?|?????V????7Y?&????"X??g???8Pz?????#?I?m&??=???????1??j?G???n??3?$fS<??d??????
+>????M+Vy?
+????l?E[?
+>%?8?z8I?1z???}???#?(y
+u?o_?D??x?4??P?r????`???S?w=??H?p?F?\e????	?*?g???ES????Z4fsFov???@??}?k???:\??%????????R?s?u?^?}???
+?>_k??=????3l??,8?C???p??,;??MC?Np??mc?vj??s?Hop??V???<??u?~??V[? (mx?Whm?a???,m?}i?S???z1?m??J?i?a???9?P?F:???
+???
+?|<?????M????S1???SM2q?M???9?????????S???9?l*????=???$??a???Dea??f?z<??c????n?kt$Y?XTc???iL?8?^?gQ?-???o??"?
+?9??c?????????????=?g??|?
+?6?????0????p?????W?A+??y??w??6??
+y?UY??6J??Cx??y????S?{?Y.k;?|?AE ?y??5?b????~?VD??
+???f? ?
+KA??uDSe?b]?i??N
+?.?$??h???4Ke+w:G????oGD???]?<?=$????
+?#?RC?71??]?`E???c?<d(??u??
+??f
+?w0?-????`????d??i?1
+?2?4w?
+?&????	??	?w???dVs??~]?[?O????\x????Vq~???}??j0:????$?????ia??0????C<?????p??0z?%?%?+??\??e???=?yU?C???????????ut2????~??????5&r???^$X??lU???q????B???Z>?U?Sm?G>?Rs-????)?.}[S??c-Y?kluj?????.?{L?bX?sIZXc???{??M??=?V?W?f???x?PP?NF??
+b^	????Z]l?Rf?F?R???+f??,?????~??u?????4?<??:%????b?A?{>h?????-?
+?EqA??????tmp0?X?.j?D0????{?~N?M=????{
+'?mDUGQ+Us;???JJfQ??l7O????c T????4P??W>q??9&z?????Y9?
+??CB??yW>???z+dH?'???6?X???k???8W??.1?=?"q?????=?mwS)?z at r?
+?3???)v???,a?}m|???>?t5???S=?nga?!A?%$f&?C??y?K????5?.???\R???{@>e???%]Y??D??Nw?BW????_}????'1??_S??a??`L?#?b??;[??????O???l??-?????<?#??????p??E??X??
+?B???>k*f???[??5??7??M??C?yW?d/?????Ip??->?E??Uj?|D?N???????]:mq???,??=H???%m?q?+????Y?C???R???N??????"o??\u??>F ?o*?3?\+,Ula???I???gA??
+???{i|R?B?m???a?#???`???2?<????R}??+?D8F{k?K???<?*??vv?EE;J\B?Q?x	??#??z?k??????>?7	?s??z?7	(????c?T}??,??fx??K????#@w???8??q???M???D??2??r????????W???%]x??5j`??*?????LS?????Q????G??&???~?r??3??f?????.???~?ey??e???}??B?hH^??IK`m???>`??8_???H?
+*W)5S??;?	-?)?
+??.GY???cu???9?Yz???Fj??.????u????P?[2J??????=??m?l.0f?b???C?xC4?????????
+vO?V at oLpz??$a?X?g?N?C?????C?Ug?(&<???c??/???CK??=?
+??q?B{R?????V??--??zs|??	????ZK??????????i????S?-??Z?W+??c?G'q??{????{?0?b	??S?<??0?Uw?*??/?
+????????`7?99????.T?%;?U4~??????_?@??pS?:w`
+???E?F}2
+?C??0.tR????l?Q?????????b?O[i{???f??I"X??u???g?????Z
+???_??`??RR/??@2,??.??Z??NZ??O???g4??B???_?@?\?b`T?<r??&_
+ ^Z???????????5??7J?71??fJ?4vH$5f??v"Xg? x? h???
+???x?)?i?-L??d3am?#g?B???j???-?.?
+G?t??+-r
+pD??????*???&??X?K??L?,]?>?laI???7?ATes?U1+#(?X????IA!?-Eke?X??Ump??UGlPJ?f??0????-?A]?^???\????n??]iI?&?Y?*???R0??Y?????\2?5??P?8??4??1???)=?????R1??a??{?????????B???<[??9#?2,?m???%?????cm?JX;?.?T-??w? ?mF???f?	?x???/??\1VS6?{?Hy?[????if0?n????P????55 ??>bi?x??^?k??r???1?,r???1?6???gv?
+??^???t?kZ?????F?u6ef?+????_5%Q?K?x????@q???U????? ##Q|zq?>?<???M?j?H?
+??{??1#????i??????	nq??CM???	??v????&Q
+?????k???a?q???5?J9? ??[D?92j??U?5H@?A?Q??t?,
+E5????H???
+????][?A????????q?`,MsE
+??Z????xg[TQ?????6T?{a4???$!8?`<????1?s?]?I?Na?B?Ws+7R????%?~?X?}?V?V{WB?l\vL??k??E???.?~???IQ??f??`p??42F????d`????P?????=-?s???)???w?.G!??7????Z-4V??_????7??fJ?n???(-??i?CY????&)?)??GQ????
+?1????
+^#?a*a????,)??4???*V?cj-??>:?v:2;???{????????????B?s?e;???????1\?B??m5y	W??2O?v<.??? 4%e??????p[Mk??@???6j?mi??G?/?:?sl????06??#*??v+?|?f???J????L#)
+??]1?|?????	0???/??yiE??????9nc.?x?U???TO?}8:>?z=??]b????rtd/Z???&#????rm??2??-)?(?(??^?+D??
+H??W]k^????? A?zw?v7???^???8$?)??qU??L????;3????2BX~?3;???A+??kk?&}???RlF??????m??Y?c???RCTF?PYih????"?g??={??????????wW????
+?
+0??]NL?=??8?3???5|????????35
+???V?1???T?Q???xXJY1???,@??S=*???k?Cv?
+j?EW?5?d?I
+????2???5??*8T??2g?+???S????u?c?$?4??B??c?m=[???O!??L
+??~Y?6?A????Kd????Vd???SO?/Es?!5!?j?
+ KY\?K???G?	tT?-???2<]e/????`J??P?q????^??,?I??????+?$???;n?
+")?????C?(5}?agG???x$h?????
+????3??D???????9?m?
+?j]?????ZZ
+??u?&????????
+v?ZP<?hP??&y??,???|??p?>p???[?xA?v??j???l:FAH
+?UYJ?3?K?Tb?F(?m?P??0c???xq??
+[?H??0????9SA?????????a&.?????
+?H?11co??CXS??????7?]?h\?Z????9?Rk<Uf?gm?????y?Y????%d?$?I?0?*amu:p*?s???????????.???vT?s5p??Q-y2??????g??<??????????????;@???K??]l?z???{???xqy}???????)z?}?????NZ0Yb????Ag??R^)?R?Wj??59P?I?34V??CO?L?>X?W?{??Ciki?QrgQ?y??C???Nx~>????????????????????????????????/?????>?????????_?????~;????????W????????m??o???]??S??"d?$d??h&??8?\?_?G?i??i??>=?????????0?2?.??$????/?(????Z???[?]??&?*;Jm??	V?????$!???&j?*h???K?M6(?:?&?`?s???9??]?C?
+pr?
+x.???A?????c?n?sP.?I???????>???UuqxH?A[?|????yt?]?"?
+`z????4?????s)?????r!????5rP3?????tn??o??)F??A???zC??????[??d??x?s??tM<Lku????jW?f&QA??E?Sk??Z???-?p?kf?I?A	j??Y??/?v6a?9?E6?M?.?$I6?$??)??!cl ?|?vm??gi
+
+???)?&??M?O[(n????????????`ka?%?.q?J?b?#?ai??1?g???????^y??T+?x?l?
+52??0K78ssmK=]?f?4?u??7??OPG??s?_h?I9??????O?~~??gn?m???e?M~6????'?8?:?6}1@="?5"?E???????7???Z?????M?G??????)i?/???)???E?]K????ts?q???->w?u???G???'?R?g???*??2? ??o??6??>?Z???p?F??#???P??G8.d5???????.mQ%???]?om ??A??
+P7?nv,?M?YA??{?@(?Q?x???-o???G<???oC??@?j:???????K?L??KQ?!s&Ae??w??zj/hm?A??S??'hN\&??a???2Q9?v9?<T??uB~/-?n???`??B?Lw?R???b????????K8;? ????i?????k? ?L,?:??????????j?%k%?;&C?uvx(????6X???Y*/{??!U?{?7??sh
+jn*??L?{0c?tL;lR)??6
+?-	V??N???j?b?'.?z???V`??N?U??????;W?/?@???S????`???"?k???e???v???)?Te???J??u??x??'k??oV???1@????eL?????;??????R-d,?6???F?E.??????}???>?,?o??4?eJ?;???\?j??5?`?O??????????
+3???????4M?? ?A???.?IO-???.??i???\? ?<?0?_GY?&(?2ho??;?6h4&?R?1?FM????????9?Tm?`???^?5V??Yi???x
+6?ua??
+`CRb_?E?^C?3P?=Wws??e?.???Z
+???Y????y?!a?)??\?-X??K???J?<????:???nM?,W???p{????	????%?C?????5???W????<??`?U`?J??j??!T?m?.@,J?
+S?`7nT???x???*8Gf?????9[{??U???L`??C?C+???z?rXG??????0!????i???o?z
+)???&)???f\]???0B3???9Gs???
+? ???j?r=(L??M?z???5???'@
+??]???qUk????u??6T3_?DS?D?&??j?????j??8??	d???Z\D??1?????s?!?Wh??V:??k???????k?f??(??q???b???????^K???W?U)???d?????H???? '?k?????k?\;????????@?(??0?z??G?y<?v[~W?D????wQ????U!????+!??[C?????!
+b?5D??0o`?1??5??|4A??G	l??"?J\1??s-z6@?C????8?7?F??N?mO??p-A$???o?Dm?|-_??????&?`?!(??S1(N?.2B?gm?
+??p/???3K?5u?Sm	??hI??
+???&6:?sZ??JzS??9C$0!!??h??4??G??W?????$?K??4f??6?(G?+???im??F$!????W?
+R?BN\?^_u???,?k??=-?]??L?????????hPLc%?5P
+?}1T?3??F?e?:1P?!??	???k$??}dA	}?fO="QH?H/G??9??????v?L_??"??g????8?dr??oN?t??`S?s????Y??&5?u?fk?}+?????Z?a??(??`?-?t?n??	??qQ?%4????D`??
+?9?#????:????^<???q?I?&?-mK?q?Qj???kaB=?D5?7'??HoV??	7)	???
+?O?+????8?
+?a?%	WI>c?%#??=ddq`????
+z??9?????%
+?gm???(T
+n?)???>????Y1???.-???h?v??X50?$?!fdu?,??(F?z?8??>?Q?U?vz)? ?]$????eqQbB??rkdr(_?5?UD???XjD?TS
+M3M?I??Hk"cX???`?L`???=J??2???yJ?gl???X??C??*@;LK#'?-??,)?P?&XV?x??_?*'G^{?Z?R??X????R??66w????t??hh
+????m??`?z8?????`??C??
+?^???R?J?F7smP????????J???????`(??]u??%hV???6?	?}???D??m?|????????7MB????[!?]`?92????vI?hi???K3?'???v?U???M?eN8??????p?y?)???rd?V~?c\?!?4?????
+????E???6A??,??$???i)r??
+??J?????
+b9U?????V?.^??y??Z???	?A{????y??xOg
+?#B???????A??????Y??7????#??V???.?{P???]?
+p??4%L???(#I?`??	??"??_????????????????R??wp?????t9?????????????R??O??#dI#???~??e??!?|?r??Zx?Q?????5*?J?'??$??
+?????NBi??s??G??j?m$k?M??V??~?h?U??*?l?>?M?
+ZV?:?J?s???
+?F????
+?}?W|YH??T at c??6{,6E???k'm??f?G_\V5??[$-J?????uU?fCk???o?U????????????6y;PH?1??9??
+????m??\[?Z??y???c???^?LV??<	??~??2?`?%p???S65E?????b?k??n?????u?4~??-e=??f??y:??w?u??}U
+????H????`^6?kZ^?{Ul3?vPi$?n??
+?8;A?a????<|l??
+P????
+X}????g????N??	t?v?[0?
++?b???R??????j(\xb??`??????k?o+R????I_c?k>?0?fZ
+??S?am1,???e?J??@o???R`??\Z	????,K?m??V????E?%??w?J?@?T at 0A??`P}?7\??H3?[?:??`?Mk?3?1 at T?y?
+p??q???????&e??~??@??'??;??I?~^m?????'?';?@???p?5oI???"???@?u??Vcy?=?iV???naHz]_??????R??Ju?l?V??r?iRh??z??>?7??4?|?b???q>?5W??
+
+??~?Gi??N???gHQ+?pT?P???Q??*J???$??H?s?????SX??),)=??\?w??m
+L?ML??5??????m??X?`0????
+????c:??RO?\???:X?5?&??i-?]??$?}??????
+????J5?f????i?#??	[???|d??e?d.?8????B?????@P??.e??!Q?g????zd/??2??????`??1?y?'??xy?
+*=?;???w	???`P?.?#Q>???q?g?ki-f?????'X??d???jwm?[gT!?f?
+7?-?8u?J7?
+??dt??s?
+C?T=???p???????x?????J?????*??<???????&,?"?j]????}?~?e???U??2E&^??????g?????????
+Bp?????V???Q??O???[b???,eVE? ?`??&(EvpJ?????,g??
+k{@#?^2e?]?'???J<??A[???
+?D??n???.?EW??????????Jj[?#?^|?\???[????h??re?e;?3-???Em??32t???????`?Tc??u^X???D????7
+d
+D???@2y,=Aw.kZ9???#?e55????f??S?"WO?????tzI?l????v
+\?m????t????vO2|?GS?h~???????`v????z4[???G???{?????A?	??1VyU?D??-??_??(4?wq??L????=D?o?4
+??????2|,?o??W???g?+K?f=u??i$8n?2 at Y]k???PY???{????6??????^(?oR???G?????????+
+?:?R???u>?M????gz?'??p?t??"???:??]?	~8?&?r??????(0+???&???&afGf????3E?;????+m
+X??A???2h???*?
+???7a?p??0?F?????X??|D??+X?o?f??6??=?^2??&Cu???a6?d?w?-'4?????FpX?E?:ZY1???????h?;l3J?7?)??c?.??????c?'`yP??1	??????????mes?`\???
+???!O??M?????????????+??)@?"}?9??C????#??p?6K??????p?-)?O_??Y????K?_???8a??!?9????]}:??(;??Wo???>???f??T??
+^??{??	????XT?P?????W??I??????`? ??D??^M:^f???mw??G????j???_?'???Z?c9t??????G??6??)??EA???,?b?M?????xBe??J?q??^8L`?&?w??q???	JE????PtN??V??Fx?Q?V
+?p?\(?Qb??{?)?S?`?@?1?1Q?Y??Y???
+?(?5?:?????%0C???$???'?a???KA??C`]C???`p?
+??&?e@!????}?Z??'?U?[}?D?|?8???a/????9l????
+?Oj????!??]?<??s???$?lQ???W?;0?{???0V/4??j???
+??\?Z-7????)[ {J?????w?????;?a??[&????1?????R?ki5?W???Y1?l0?>T&\f^??-T?f<???^j??????"
+?U?-K????%?}Ks??:RM?T?B?D	?[I2??)????-0]g?2.??[?
+?????k?O?8~<??|?Z??Lk?M??\????|??1xH=j??????qN??-e??17???5q]??`??h????x??^?>??O??aWcKz????e???$??aG?g?????^?u??#?6???*?;J?[^g/??B????
+??S??s?/?T&???[o?e???|?(?E?]?]??"?j???	hL?w9?+??W????T?s??P(?1W???<:@?cl??O?`42??B$??dJe?????H????rI???
+?i^b?:??w???????????O??6?}?nWn??w?
+????bi??l???
+ ? ?H?????r?D?U?4?a?Ym??(ooY????ZO52?D,lj?c?s?mp+C???/????]Y?W6??}???B?w???.J?5
+fg??<???P????h???;"
+???)?pL?????????Rk\??W?e#x??5???
+?B????_?
+H?tW=r?9;???p7?W??D2?3L??S???????"?g?????a}?D? 4???^?????Gu????	[???????{?\?$???``q?S?,ms??1?Q??ZO?I???!??j??K?6?lkV??e?}e
+?h??7??$(?Lo?v=???????g???G???sX??Ov?f(3AM?;???*L???????IPv? Z???JX?e?c??Q?Ap??w?#:??p\?i??=??Wn6??W??P?d?sot.??dp? ?F?Y8??????#a?I?{?s?h?U?Gisw???g?U?y????$h+???J???QKX???????)??'?b??????>??x??Fb?XN4????????I?d?????}q??		?
+4??_?Vrv ??w??u
+[?R??%?tX?C{??{?t?*?2?R?E???X+NQ?ju?1xv?x?5HfC
+??(?+???r3??sZE
+????$??????N
+?????S????
+????$?N???&?}e
+???o?In`-U?!???????[????b*??I;?ea4???4^?t?"??/????x&@8??NI?3???`;#0~?'???	?z9:??`?k>????-P'?/?g?9:	???6??????(X??5?X\J??9??#W?d???7??4?
+>???C??.?I??^c+i?z?m???A??RQcZ?8?e???}????1????|?Daf??1|0????F?^?Xk???????c?
+????????????O????????o~???YNeF	,?\M??LDk????]mb???3??F?A?{?????n?p]	k?|?OU?????%????>k?Y^??n?<???K%??0?F?h?\??f?%???B???`?&rJ	j???qb[:?
+G#?U?r???????YZ?Q??_G??fy????zw
+?
+7 at uz??'??M?h????#??b?p?;??c?4c
+_t
+]??9????>??%???{y(????I?eC?E??f?g6??y?????X8??)?E???>+???}?bA?	?V?B????????b?.??;,???z?`?o,????????V?@KW???l(?N??????+j???BU?J??5??;(XN???+Q?s^	yj???}?I? ?w?]??q??/?S?2`}T??h'M?????%p???N?"Q7????Q))
+??c??KrO?Y??l?[?H??^????@?`??K,??a???M?
+? ?e*n	y??$??$??*?????K?&B?J9??f?I??ko!?/??Qs'.Y?S0@?
+?2???9??li??i??(4???TYBk?V.qo?ZCk??{?T8u??.U2=OX?dw??B??Y?I???"??W???B?^????:?S???^`?YQd????%?????z????7IH?-???? X????~Tw??&????????????1Q?????x???G#??_?|e?n?v??Y	??'w??
+p??L???????T?j???GGKZ<???14?;O?|r?@??????U5??dhw?<???y?'?]|R?fZ??J??
+<??'?4?t<=4m>F??@????/????2F??zwS#%??M?rF??o?4?=X<???X?x?h??Y????y?&c??I_?5?
+?ZZ?%??VJ??_?%m<Mw?z????j'??rW?wJ??4u}?e?
+y?bi??????????+?3?????2?]I)?v?t????y????
+ ????tc'?P?^`?y+|j???MV$??????d;??	????'`??????c??????2????g?b??Pd??d?a????
+??6V??ec??2???????E??tw??|?o?????0x??^V/(??}?o?_??;?XX9???r????\???
+8?Bz(3??8?!Ubk\?(???#qk?Q??4????z?#Y??????%??/?&????S?????C'?S(]??*jJa? H}????^_??P??Y??bN at wV?4h?g?rI?s?(?D??D?=?j??&???K??????W?:#??i?di?h??
+.?6??A?I??j????c??	N[]M??	i,?x?bhX?m?EK??&?????F???w?lo`?k????J
+W?b????O?@?????i?
+"2`???
+?b#?}???:k~]Q(???Y??<???
+o?`?n?~???R??C?q3??;?!W?b?o????&
+?^?0?C???/??~];n?g?W?S6???M??Yj?uv?i?u#?8?Q
+???<???
+Q?%?gGD???`Lm??[?T?z/w???j??k??aJC?Mu??-)r??&???SV9????????R?}??]?N?pv)???(???9???^??8?Vq?WM???????{{yy\????%W<6????Cc??CV???DZ??g???`???b*F?;?E>??x??2_#?<Q???"8??PA!eX0w??:{?????????]???#E???z?X6?z??????[?Z?`Z???<_?
+?x?	??R%??\L???I?h?T?????,???$?R??Gx??????o???t?wxk??]?5?T?G?{??el?YsO?7??w[o???+3"?T??l??#P$??#&??Y??*???????0&(?5???k???N?&%??*l??
+w??%?/?????"????M????P8 ??b??r[????U$????Y?o}Z\?u??SI?T?n???r)??CS??Z?s?=??k?Q-???oE???d?????%???}??'???????=????B?&??n??????>?6=??-????>)u???lo???5???F??u?h???M]3?zOy????<???_????????U?fo???S????l??j?x?+???{W?????????o	????Ow=(L???u?(G????J???N??U????`????s??
+????&$o?sS???=:e??VX'?e?(?&??%??p?d?[F??Ygl?eIZ^?2????? ?=U?O??vD???????ZE?"Xf?yff??-???????*????n%???X%??u????/$?%?	7?UV??{+?2?? ??????]??D???u???r?
+8?%(??[6?????S7?\???}p??M?km?????>o?7j??????]Y?%??<m??pH???m6?YRW???G??^/p????%??i;Z?6???{p??w?xNED?{???mG????1????%'?</?W??%?U
+?????UcW&??w?AAiQ>??i?$e?0??RV?eC??
+?>;?I??Q3??????cg??Y?\?ZI?z?;8 %U4????|N???t?`LT(??k^?]?	?|v?????X??'?x?SK:w"??22?a?Q???W?S???8????????@?*@?????%?5]???z??A??.???mX?????
+?=?j0]`?7???S??
+8?:;??n?wp 2~??Ts4???U??f?g7e???0??]???Bz-?d??e?{+-??yX???^?????.???O????????????????I??j?F?|??????:1??B??? l????????03?+n?wa?-i??#?YB??????Z?H???"??+,
+ ??'c????[?Q?????5??
+?z??v???\9??O?f????\??R?Go5?	?p??`?V???3ms?a3?]+r???4?B??
+y,?HhNH??k???#?xt???????/?????k,3UT??H?p?I??#u'?@?7?]?y????o?p????u????h???????????jz?<?+$???????>{m'8?C?h5A??e<w?<Y#???cW`??X$.???y????N>???OZ?V?('??????"u?
+p?JphS????y2gT16?W-!*??~s??G=*?w<???/??g??/V_???$???T!W??.???U?_????5?O?wZkq]Gb??Bcc%(j??bh?
+Mj$?	vs2?????&?<p?N?h?R?;b??[y at FIB??????????J???d?'??8????hl???ru??x??ID?????M1t6%??????????9???+?^	z??????p????<?o?????]??`@????wC#?a?Z??\?i%qk_?l2c?;q;E???e????p9??p
+p??t?e?Vo??-@???#'Xn+?`=??}*?-?
+???2?>?2,*a
+?????_?"/}???/@?\???????\>?????}CPb????
+}x	aJ?2?w?H~??n??]?q????z??z??,P??ly??YVEO?????????D+Z9zb?h?}????1j?o8??BH???.???????V?&???YB4???.y5m?!@<?_?1?j:??u???u?????;??l-:??p?????????Wz0??o???ZaI??W!?\?\?N?#????0<???[??I??
+??+P?3?????.??~????????e=???????e?$#?#???
+??`;? ?fS*+?%??sD?!ZAlu??=?3????&(??`?yfp????	+??]??H??f"*?0Jqh?5?Ho'k???	_???
+??????t???g??????L???ef??X?	??????Tr??H?Y#m??FR?Y_????F	z7P\?K	P7???.X5???q?3k&X?r8v-bZ@?Wm?????Q?????k^?O&FG???x???|K?-{?U#~??#Hiu??Z?? ????r?}p?~i??)?|?????~d?? 
+???<??B???\988?e;?????
+??????m-??&?2???^?o?KU?~/??`;?DF??k?;??[]?,?'?5&}????G??2u???/?vQ??(l?V?/??????q?????~L??&?IFJ??M?4???h?Z?????Xk?}???W????j????K?OI?%?????{?G??B-???&?
+???[?i??c?+??IU??g3???t?+??q?t$??7?qRw???????b?i???w?x?k?Q?"?
+%F8h???VM?f???9W???3-??????Uh??(??Y
+?????
+?7Iy??J????p??,???????l????;a??????t?? H????z???q?????+4_?n??>??	???^???:?4??????k?v-j>Td?l]?A
+@?0w?E?_?.u?R??_??is?'?W}?oVo????S???W?#??G1j@?{?f??8M?}?#:'1?????m???\p???@?a?	??y}?Q2x???`Fy?P^S5J???gK?)?.1??????q??*?C})?{?YO?rbf~6P??x??+\????????,z0??S??Dm?y???On??????"?v?AHF??'?`re?
+	???g?
+??U? s-=7???)u??U?]I?O0w?L?? ?re?????	??J??^????e????,?.<;????
+???)@c?z?^??uu???n?Yhm?X?w???1?)78??;???={?O??C?????{??K?rF???R?d51?r??mQ??m?Awb]?????5I?qeo????g?5????????
+P?|L?m?????|?????C?>?K??D?l?"<\????<???'??p6=??pk??'??v?'VDP??>L??D[??!R??F?A;iHk??j??~??8??[??/?N?a???.??.?j?\????????>0?lK?B:???'?0?-??????sf?Q0	
+??{?	Ct?a????Fb?6?08ZZ?&???<??4t?f?1l???????????????>?_???.?b1?d???\-??????????~???m?l9?????V=????$=.?+/s???m??c??Q??u?K????Z?p??.1?*i$`P:n?r'?/g4x??(???2wZ8??u9j?????PlDX?%??5p????t8S?1?C]??????<-?0?C?j???
+?^?uxx?-????(.<p??`r?Cl???????\j?h?Z?X???Q
+?????\c?ML??5$9U7??	B?	.?
+?2 r???????V?l?Y????P??j
+?????%?4???.9qP.?bf??>????X4??d??3?ho[??^???]?i?^n??AK0{??,?????Z??`M2???_2u2?J????NF?mk??.???3"?Zk?????{]?|?@PZ?W?NX6?e?g?
+J??U?"??|2???9*?q?u=??3??????`8??"{????h??6p??T???7?Qf?d?f??'y?e??
+!??GdS???!.??)?u?`V??fd+ c?AH??Q?1y?p?iH~"A??????T??`??+Hx??ai??4??T??)??h?+????T?t??5YAx?!?d8d?b?B?r?PS?'i/d??H?	?/?73??9??K????gy??BP????7?@???3??%F?8?r'??C????a?y?|???\-?'44??;0???Bi?=@?$??*O?hM????S#0????[>??(csD?
+???0
+H????n??? ???J\?)?&?\?|
+?Uj???????=????	?????6C#???jK?;?[?^ko?I???????>?
+??),b6}e?YH?e??'.)1?8i1-??>3^_E?%pg??O01?w-Z
+??$???i??????\?P??KI??<?"$?E?^???$??????n?0???XJ 2[?&sO???1|?o???0?&B(?o??)?ig8t?#?i?
+?B???#??+)=>??J?????G??H???9+??U	?6?????SA????n??<??g??>8??jR)?)??!1?????????kt ?]?5z??w?????L???????\????????C~??F????M#?AF?e?8???G?m?9[ ?1?0??[B??lM?:??C?2??G}u?C?K'P+?w???YSN???R?i???-F???j??t?j6i~???????@?/?l??v?K/?	???m??????	[??>??owh?I?I??l?N?82=??3??!?G.??v????V???M????^??V?e[??%k??M$?z??<???6q&???J/?2t?Y]V?s-?????oUG??????R?OL???cq5?:?????
+NCJ????????2?z?8D?????HF????Z?
+??w?.?2St?#*???????????5??b?^?a?}???#?Z????????	??8?6??????N??;>??J?0??Om??E,??OD`??+y????}I?$????? BoCtD?x7?I?a?????????)????????#-?
+??$???i??
+??&???i???l?^?DMr?????<?"$.F?^???$?j????+???Hb?8A?{S?[$?{"??k??_??B?5r-#G??'?S
+d$p?&????Ul_?????4d?b?g??.???M???R?{?.Sl?\1?????rqI?~?VG?}??!???Y?????*?HC?LU??"2?TN?.sI"?jK?5F?-?k??6'?????:0,{??H???+;?H?Vv?=???_??k???H2<??&b??N?x??????;;?m??wl?????`?w~?|Cc'????3??WD???or7?n??m???x??B!-??JX?V??????v*H?u???Y????,??_??=????? B????x7e?a??????????8??????P?8?R?L=H??1f5?-?@Hf????p?d?ph???!b[?R???p?G????Z#L?N??????????S@?????4D?????????&??F!??S>???WV????O?P<i??xz?x"r??O]??D0??n/?\	?:0,???K??#????Dd[N9?C??Q
+?Bd[??!L?!?e??A?????j??P????/??L?#?cm????h?ZW???Z??:???}?~Q?!n&??7_??K???????n???}a?-??&!9?????????7???R("?Y0j?s7t???T?,3????4???-??S?3???H,3???3?1???$f;???
+ J?V?????}E}t??aSXd?<??d????]?vu63??????+)TDO;??F??!???o?0?Iy???????$<???$?!??v??5,???%?????z??MC????????n??c?Ig??;??a?!X*U???/???????^V???[+??1t"^?@??????x?e????=??`?l?[?)v?j?N?|?8??}??O??2??????'1?I?????Q
+i?|U?&? ?????SA????44y
+??????f??H?\b?X??????F?[?.?/?(??q????2???t?$V?zTF??:??z??+???f??yM??g???????2??{VT`?????D???>>g???cL]
+?L??e,?5??:?S]iE????5A ?(???0?%?T???}1?L?c???g6!b?9rQI?vp?@(?q???,????0?/T"l
+[???e.ISm???a?k??_N~??E?'Qg?Q0??U$6??H?????h??}9??{?72?9?m?a??(?M?OW???????(???R??!?	H?*????h???m7??z	_??s!??9v(???-??x??ffU???@3B????=1X???
+??`Q?4?	?? ????PDN????????}@??}@???4?????N???a?????h4a?w??$7cTO?Y?E??2o4??4??m?%Eb	?%??:??8????".d?n?+~?dy??M????z??5jBb?L??E<?|?./?#??J$!???B????E	:?	?nJ>?c??????G???*?~???o	????v?? ?
+????I??te???????N???)?nU????[`C?c??q??5???}????Q=?!Bd?Y??9?X?ED????????,????????4???]>?,??=??.S?a{MZ???ij??Dg?L?*?7?:W?!???R??????D?Bk?p?&??????????6s?c2R??T?cF?I????R?????vk:?????V???]\n??5??b?V6;?q?gu}x;[?47?	??R??>aL??????'"???Go??G??
+S?^?]\????B?tLeqwY?????bF????}?B??@?B????6?F??F+???K?I:????[?
+???D??A????????1??x????OA\6???]?2?O@???Sr?a???o???ed?t??4896??(?A?`@D?0?9??C??w??__???g?????w??,?L??????P???GO";d&?g?`\??r[2R??T?cF?Nk+r?`?Gx%T??Xk?Fl^?h????y?/?z??t??i?=?sX?Y??,??
+0
+H??Wko?8???R &????????b??i???"?%*bG]??c~????XrZN?\7F?????sx_??q??qZ0???t??????3??j{?4??????????z?v?9????qR>;8b=j?z?O?????Y????????&??????\nH6???C?z???x$,????[,???????`g?0v??$?Q?i?B<`h??pk\??3V?P??Hu?G?o?	????	?"???p%)??KFx?bCG?p??i?Eb?1}??????(98??v?;^????,m k??b??<'(??b?`8/R???Q;??o=?s??;???:???????H/c??7%hS?<? ???????????A???p
+?zJx??t??7???????o0)????|?q?K?C?8?`_n?O?w0.??'OT???$??p?Ln??5m($fx_???8?{???Y????(7?\?
+6*R???M(#c?A6j??T}??]??????C?M%b??G9>c?{!????n?S??3:Vq2t?
+l?
+9J/(??\??b??.;???-Re?A??C[??????i????b|)"???????Agq?K?	?+???dtXn?A?????2eL$H?,??i???'4o?@o:V????/~H??t? (???C'?!NW?0(<???@:?
+i?=?}?????#NB ????c?r??????t????Y$6??j^???)??????zpV??pgeiU?^o?
+6*R!@?UT:W1
+?????3S?????%?nj?55?ap?AC6??i74?D??? p?M?shr`??M???????????s????????????????y?YmT????Q)??)?#H???????x?????IBB?VPQ??????BhJ???oIRWdYe84=???RQI?hIQGJI???VV"8??s:K)Ue???????Xu??D????O??j??????O?$??t?k%5?-??(<U?rB???
+F?]:OPD?O?8?}?j?Y?J??^gC'?!?AsJ??r???vm???U?^~J?????6???U???????og?L%???}?:?S?A????0(,
+Ox?f5??z????'"??d[2;"q\?@??+?1??1?$?A?-?????
+?3J]SZ????T?9A?? ??jio?y>sr??;???>"u???5^?q?U85*??? ?R????????T?ioHNK?]3^??r???????YR???????c?Y?Z?J?u6t??T%???h???v?r`??;???Y??G ????5u ??u?^^?f8?Wey?7?)ugE?1?+/G
+>?'?M??[?a?j?????A%=??.:????/?X?W-A?rQ??S1???lW;?d9;A???5*?#)?=?\`??X????/H@?*????j?R?"A
+?}???Jw??u????Ik?F??>?Vg#??&???T??/k????D?l?/](!?l??????/???^F??fn{;?>x?5????`*?
+??1?2??jg??f????? ;d??g???	??~?m??"??0L?v?p??[??X??:???????;?G?h??H??9)??`z???H?????kc??:=x????5E??g??'24w?????4?????[???)????V8:?	???????&??U??	wID73??H?`z?z??;????Q[?(4???F????????g?!lu?c?F?BA>X?=???????uu???j?`??U_
+?^w?????EI?K?H???????A?u??	k??vZe???????!????O?Dx???T??d??7op??*\???"Lq?_?P???	???P7?l??e.G(-????}de?`???? ?^??`???N?????U??%???gn???b\???2B?d?/?y??9U?k??v?|??2???????k???(!
+???2}?
+??2 C?u???j2?6fI??f????v?a??Y??t?]??"q3^?M??}???E?C??z?d?'??J???z?V?M???B ?~????-?QM????z???8
+?u)
+??{??6???X?-??d?^dxkm??d??{???~????????????&v???xN:?2?/??????CpNI???g?
+??4.???k??~??v??9ZQ???H*?G????q?????@???K???]K??E?x???????? ??Tpr,?c0?N????3??n??7%U???????<Z/N. ?&????B??K<???I?X??b?!U9=???^5?????Xd1??y<
+Cv???Z?D?*???S-3_[Sr????^+$xb?4?fqI?Z&??????hz?[&????[???2??????bUrY?e???????zV?????ZO;???\^?&???g?
+?<,I???]sQ.?@? n?????4Li?z?????#?h9??d????g<??J-q?lvW?20UC?T???V?{g??c???Ql?Q,pB?????+A_????Uo??zW??i?!8\???????????U|@?,H????p-???G?0It?{????#x?\W???u????c???????d??[+on?f????(?pR[?LrQ"????W???`
+????L;?z??aLI????g???@U?????,M>O&??m$?????s???&1?+???3??*v?+[|qY.1%FD??g/<w????qa????]??FW??-H???b,>???xLo.????'???[AW?o?A{LR???I?5
+?D????R34???r?D???DY(8i?@U??????
+?h??k:?o{??l1???????C-|???P,{f
+d??????7?-z??Bj????Bx?W????????5????+????????\?~+?_?V???ID????A???'Z.???F??q:?No?f??'?????z?j????0??vy?e?+6z9?????)?o???x?CKG????&?@o?L?d???(?-??J????oY?vUA(??j???.R??mq?4????
+Z/`AH
+??Yb?A:??A?????rCi?@????????2%??@?~
+?Bap??x)???\???>??A?r???????X?1W!????????s?a?????-?
+l???#?>5??2??D??a=???6?FWmn{???IM???k??R???!A?J5??,'S?G??sZ$?e?H?????H6t??g?`w+????L?K?????Ad??????jCZwr?A~?+
+?t6?
+???vW??5????????aU???!??2?1??t4??Y4?H??:h?@j?
+??pp?4???`GO??$
+?5????????i??#,
+?=?$0G?<_[ ):iC1?o?u>??7<K?r$????,??FBADq)?#V??0?)
+!??>#?b?*?E=6fl?6!???????39?@o?j(p?_??Pu?.[_K???D?k????g????e????\?u(?]????2?`?g??0\N???Sq^?(O?)??p???6N%?x
+'???>?? Q???:Wc???G?P?Lk??T??z?yvhi1?Y?T
+
+!(T????u???i??z=?????O???????C)??zA??s?????0=????\?%???3T?!?Y????.L*[o??aafa!?*?zB)??'??W??~??2a??rZ?a???@????z\Y??\?v?yT?k?(?	?u????????a??1??\J???3?^>T????:???_+?T?????ot"H????g??? ?|? ????~l??????????_|)??G&y2??$??F?_	??I?T??e"Mj?3???Ebb?1??:V???5????i)?v???%??????a???????8?;(???ci????p?X?????3?$??????B7?E?5????%?h???A9???\y7????z?19???O???!_?b?? ??NSW(T???|l?f??<?T??~T???z?7z?????????"?????n?/?t
+???P?=??A?1vF=?E?"?-s??4%?@7?Z?g???lmT????I?5?????tC%?JU?34?iy??QTx6?n??x??????`28????];??n.?????4?=?M??^B
+??????5??u???K????$??h??a*EQ?1?a?N?h$?r????[??&??]???@?@`[4??,??????(?{???-z??W???\????yU??	?s
+?v?%?y@
+haI??&T
+?SM?8??*X????~J??????6?h?855h?
+2?4?<?g???c???P?h?.U4?c!??)r?#?hw????8i??k?K?'%%?(5??D?_?????q?V$?x?3Xh]I???g????s)Y??e???|7?e???Vt?~??S2?pr#(s? \Pq?~^x???Fct
+m0?D)Q??"?>?Q?#??K???oa???????Q???f^lzaH???%?[?p?vJ??&?r??@?Kh*l?=n1{"?5??]P?g?V?p?_?4??????S??3????j=???a"???&???a\?*??????[??????@????'?????e??pg???t???????Br"?q!??G?X?o0?-??????4?JxD?1?]|??!j?h?}???FQ?Az?'???|<?`??(QQgm,.?@u? ??'?P???????J????jg???d?1?92?`i?t?V??S????'C?4?????I????M?aQ^?!????S?=?
+???????????9??I?M?;A????%yY?9}?Y???$???7|P]??P?Ooq!f??+as??????vh?U>Y?"1????~?_?f????s???K???4??????O]??1L-?????J????<?7<,?(I?!?8??7??T?#?4?p6Hf?!?=.;?k?/(??;???{??M????Y0u(?SDI`h?B??
+??M`???6$?????2?k?}+?U?????z?j3?<? ?????4t??9???)F=	??#|e}?
+]???????????4hr t?(t5'?>(6????j???SPld?^I?D?[???Ik???`?I??U?????6??#9?Ia?=???H??7?A??@???????!?Ap,:?y?:????@d???J??}?z??!R??%b???G???Lj???}??
+K?Z ?j??????ga????_?1?????:-??	?g?v??9?r???+Z????Z??zjhBI?U3-l?????*?x?????m???f*??[???]??wm???=????$?V/??*D??"s?bj??`i?[?C?;E!DV3k??x+B?1???
+RS??O?7?????m?[?~m?c?Y???]?5?yU????z?x??Rw??{F?T?? 5?S??4?X?ZQ???+????b?????F2????!??PE8???u???%????
+A??/?\B??A?
+?m???0??f????U?e?i????????o.?
+P?????????C0s??e???2??$
+?P???A?`i????
+?????6???X;?
+?l|	?X??hu?
+B???	>vP??Tw???l??2
+H?????%??????YpAEJZ#o?[c????
+???????c??yL?P|?a???K?x[??]?CS?r)?L?c2_?V=p??L?????K+	?R????V?DR?SIV??<???v$???????????;P?1??	gDP5???z-=?deS??;P?T??P+??	?3\???LY??
+a5?????a???%?????????????Ca??+0??"?~????B?????H?f!8?
+?S{d:d+KA??#r'`?3?"???2?H???ea#B?vO??u^?Ld???9?F?fM??*`?}?R?H??n]5e??9??px?{?6$D(
+??? ?1?{?=?_il>v??????1?~??6?z)=??F?KX????
+???pB??ak?i?dP????-t?4??0B??!,	c?????????e329LH??}???G?C????
+??Z?55?'W?p"Yu(?(F?_p??????Ve
+???????????????^?????$?B?2??RbgD%????Hr[a?z?#W?:???6???Wb??xY?7?-??????)nQ??','D40?7?V?9?W????wHumU?+?]?i???-:6dO?-/?vJY$l??F??X?|;??ke-s?OY%Ye57?t?f?n\??????<?a???p???JMI???!??o??4?
+}??4??u??|o4???[??????????4]?~?\.Ak??,??a?J??a???n?/[~??????????????;???Z_	???	???6l?<}{A<????*?^<+l+?fZ?Q?}Y???6????\l}y?`tL?b??V?]??(l??????+?4%Wz\????@???C+?????.??????i?b???m??l?G=?!\??ra??k?8?'?%l?)???xIb??<N9%??????xb??v|????mC#???O??5???
+?.{?u??????????~??'?sb??/?g??n@?????R??BDq?w?	V???????~0?J?&?3????????t$??&xt{????^G=???e????? ??jO+4?U??+????????|?????Z?b?????
+9[??lw??z???????0i??(???????sL??z~n??
+Y?}?????p??`?a<)?H??iS???????" ?"i?????8?????67IW?3??Ko@???-??e?k?n?x??u???z?2?4??}????d???:?~?,/8??O????6;??bo?dj???d????????f9?A?R?l?p
+3????????l???
+w???^aK???4??
+W?i??	?O???ap1?#?W n%}?m??{?e??2?/???A???p?[Z???1>??Z???0?f?p??W???????P?u?W?0?????J~?:?
+d?h?Z???@bikz?RF??6V?$e?????x`LQ?M_?zV?>g??X??B??Xr??V]
+s??\?????>g?~???O?X??R???jA?H	.??
+??F???C3?ro?F??6
+??$?o?	x??????G?i??/?a?2?A?T???????"kI,??????u????r??2vR?k??6???<?4????????!Y???????S?FeO??7?H??y??-??4???S??&P
+~[?
+???o??M?1??,?nK?2l?2????2v
+??V?? ?V?K'???????x??J?z?{??[??
+?SU?NZ?\kp?x?A?????"^?m???_[~?>T?C???????N?oH!nX?????J?C????ch,?}J??? ?)?X?y????P?%?.kS(?a?"??$m?u?ok
+?#?????\??P?9???Vc???/?nk`[S?????i??GH??G?PJ;@??;?F?w??|?m????6"???3)/{,7???$????k
+?????g?0??P3I??!??]?9??f???K????z???????/?????4?f??4???%???U??r??H??#1O(*??u?:??Tk??M*OM"????-?????w????[???/???pR??GXJ??g?????K???
+??o????[?4?$??J?Zs:-????#k??1oT?e?Hn-?YZvP?`x???r^????1???w?}?6??]te??????d???k???c????~J???<???~??,?V??S??6U??:!*}vmF?g?m?OS?I0??{?????h??pj?E\?B?????JR8w5wt????^G?pR?z?tn??,hr?N/?l?K??:~_?]????@??X?i???1??q????a????)???=??? ??????d???r.????#???}kC??#????
+???>?=?M?Z J?	?,??
+?7.n??0r??
+?8'???@&?{?%?[|?????IeH*?
+??? ???Xj???2???"?b?j/?y?????`?????`k?7p?k?P*??????74?????#?H=????G?p?	(p??2hf??Z?Op???)?O?r??-?W????vl???0??}??T???J??0?F)????Z??6??a??????8???????Fo6!uY?-:V?c??$e??c?Z5Z?u??r?????Z???s?-4?l??tNf?'?-???"???Sav?x?#I???????????FP?+???????[i6N)????6?!????Yf"?6a??I?p??E? ???sK???dkC???EUL??d?1??3?f?	R????C?y???F??;(?n??}??? %??gT???Zp<-V|???l0?r?7??WCXq??+?M????{???r?j%?W\X??2????v???b]K)??
+%j?r?pLIOD??d????c?!?????:???@(??>??m4>?r?!??<???A?'8j@????b??:??lv?{V??????*a$)???????T?n>????4?&?????6?,??? ?U??X????????6_![???
+n!?k-?m%?L?:?m???.???c??`:???<?l???hs????e?\
+??fF.T?R???????5	k?n?????E
+!F3Q%???TH
+??`?5Q>1j???[|?N?0????y?Kq?C?(??s???5-IZ?F????A?f9 ?R];??,a?????{-J??@?p?_?9
+k6?k????$n??e<BVXs2???w?!
+????nK,?ZJ??(?f?:W
+???EU?????k???X?-~Td??#?????d??&Tv?DU????y$??(a??
+?:?R???O?q?
+??r(x??????M?9????C8?@???}???5?Tr??M
+0q???,??????
+?yn??g/?????,
+?Z??N????8?mP?*?^???L???
+6??Q???????????Q?????x?????`/)??0&n~???????l?@??? (?<????????a?x?T?l:duO??Q_??`c????tn$???????9??~C?p????
+??3t;????:bM+?3
+6?D??d??g?*a????Qp????]???v???????????5BJ?i???`??E?9Km???-??p???o*???????O??g?r3a???v?\?8?.|z?u??X?=`??????X??E???f?>????h??V?????c
+??)S?t???iS??;???r??*???Y??>O]x?@[??%n/??)t?r???V6??????r1???????6	???4?.???t????+?x?????7;?a?"\3?7xP8?h???Z????][g?q?P/F?)?????F?&?	?"?????0[W??q?k????)????;e????O?[?ar<zj?d?????????I???M??4??i?Z?)ZVK????Z??2?U??3???g?????w3?G???&@???)?ru?3??n?Gw?jW4[??6v??9?h???????8<?%:TZ4<ke?M??2????(??}C_?N?|?????I_??[)?U????}???e?????9????,??????"?%?|??tk?.?.?f]?TQ|?<???S????><??~??w8?==s?????????T
+"?[?%?:t??????r??Q!?^?n??p:l??????~o????J#.??jH?k????~L?E3??????VX???&>f?VP??UN\V??h?????m???z??:???u?o??Y'??0?d??}??_>O??"?q??k.?B??.%b?1K'^??Tx_????M9v8??5???O?x?g???`p?e??????.??2?????/????K*{??X2?M???z?tj?+Ff.F,~?6?+?:??l*?^???M????'??m^???w?????xvt?J?g???O??I???B???d?L?P'2vH????	???:L|??\????????4?????>x???a5??o?M????{?N??_5?}????S????????~?I6qs???[??t?????T?.u???7????J??W)?t???Z????Q?E??????\i.??I????%??"?x???{???rB???????O??*[Q?{@K?>=??x?????<?7
+]bs?v?S?Y?k?YJna?????<???yA6ryI?m??/~<???3crK]1???????????#??????.??/??9??:?H?s{ F
+W?G??
+?? jg?L?g???q{?T??u?x?6???	?????? ??~??
+???GE/??r??????9?'??,?I??????|????b?O???_BO???/
+|????????3?rM?ux??????l?,|????"???'??;???2????0?Tj???zN??k??Ss?QL????&/?v???d??>???:GLT>?A#?|?)?nJ"ZB7??;S?Q?C???s:??????3}??
+vX??
+??^????@\?9`)?????0??3A??3???`h?F????????S[???m??R?[	????{?????
+?Z??f!!?-N??2?Je}?tZ??Q?5,????;\?????'???}<Qz?U????b??;?.??1?f?????wsZ????p?EN??6(Q??
+?5%3?d?y??b???? ?k?^?9(o????(e?
+lH?	???\??%??????@?6????G?ZD?ez??\lP7X=O??Y???
+??5Z9g:@?
+??E????r?Q? ?`Z??c????b?2X;??y?!??{?????????	SX?ZkX?d?;??c?)??`yQ???9IJF????p??C2n???u??@??????[<~Ok|?*Z?U?y?c'???n Q?:????????Y??NfYd?????]
+lN???6?.M???^i_? T??1US????w?????=????2/r??8?8?&F1rD???lm???Z,$???@F??S?"Rk???-5?4?f??
+??H??l?~?{?@?,
+?w?)0?l??#`o??^?l[???t?"?Q?&????x?RD?%?D.G?8	??"Pk?>|5???`?y]d?????WWy???9???j????a???H?}????C??9????8I???`??_?>~_7????mTA?u_kdU	??????d??O?$?Zi????'\?9P????&?k?6719?[???|?4??n??_:?H?r?
+`?+??E??;?>s??e????s? ^di????E?~S??1=@??Z?;?F?ZuE$>????a? @J??]?8?v\2??`/??)?3 hh?6y0?.Y[?-lV???
+????l9vp5J??R?5i??3Ej|?d??4???a?A?????;??<z??Oi???CU???????w]?????v???????H?4?6??????~?0?;?tL??????l????R??????????????@?????DWo????C7:?????]b??c?? ?i??j?????u_???^?????t?????CY??O0???83x?6??F,ec?!k"	??sIx?S-?#?????{i;?????2?Z*??6???a3?l+w??~?V&%???lm??????X;?W??v??1?p??mz??r?`?->U?~??N???-?7?
+v??)
+????]????K?`????;????G???cU??0?Ux?= ???Y????_=??[??	/v=?Q??h??Ir?>6???4????
+???Ax??/?S\?????????@????Vz???_H?y?<?I?????	?l~e?7?j?????l|??^???|?+???
+? {j1\(????:?[??r???E/p?u?l?O????qzu????W?q?q???K{)????K????????1??,???r??L?^??6?(?@c???-?B8?????	??p>???B??&?/V??ci#D?\??e??M?T?3??:??yugZ????B?8????? L?'?2Z?A??P`]	?A?.|h???v??n?A????l+\1?Z???u????[(mk?I?]J???W??i7???_O??Z?n?X???D??R+??M?M??Q??6????m?A?5?D?
+"3tG???([??m?????&)??k???yR??vI???Z????n?7??J?P?Z???????1"]`~?)?Zz??6?qZ?{u?!^G/O8.?????[	?@?ZqD%???2?
+H???Mr.?	?W?=x? 1vUFw??<M???+ju?&??c???Oo?!?Cz?zi?????>?1??*???X??^?????????c?\h?%Y??.A?P?Y~[??S)},??&??6??"!v?????}???VT?{.mA?k?[I????4?.?RC7???i?R?V?????z;i???1K(?\k@C^????rNu??hW???~>?:?	?u???H?J???h?;-${??7??2?sAn8S.?????`?;
+FD??CV?'v??9]0??0[8????Qz????F??G?Q?d??p-`1????????/vP"cH????
+i?A?k4?9z?#@by?
+?K?<BV?
+?L??!????z?]?Z?p?W?g???#??????W?????BF??A%?]??{R?PS??(?zqxvo?v????Pz _????????)????o??|??:?Y9????0{?bJ??_?????????P??`?{?B?2??=]h?<???????cj???~??2Ri???Y????\?9?e'?!8??k.?Y???|(3T???gXq????l?@1?
+?p?a?vC?????r?p1?Brm`???X?1?|.	?g!?c?l??,??8???????/?B2l]U?|eR\??pkM??s?OI_#?????m?9Bbh?u???a}????u????1{??????N.v?????i???zm???j????#qU?(r??T?Fu?x?????6???B~?JY?'^?i?o{?:?	???50`??Z??S??2E??i?3??Pg???\)?
+?????}B?VB???iA'?+?z?\?????@????iO??.`U??????Y??n??vZ??s
+?#($???w?,??T?7?y?Z'Da+???=B?YZx??)??BeE;v?-RsV?!?k?????k???u
+???4
+PN??J???j!iURA%????@)#??|????? _,?-?a?Doh???~`V?>Sk?D?l[@??'-?h5w?R ??8.X??????q@??5?
+0?,??*1T?02/?{??`?6t???????????%?',??S6JX*????
+[?}?*?C??}/T???]?H*?ecFy??'????|?9???= ^?9d?
+$????O>??F??}C??a<?q??????+?u????h2????`E?????}?4?BsL??s%?G?-/Q1?u.QR?,l?>??6?vg?+k???c??0?O???
+??K_f??-h?????)o??z?p?~?{??#B?	Jp?????O=?K?)??Lj????
++?-???S???"??
+S????9#??s?m?????]???>?G:??????m2.?mh)
+,"??\H?	k?????g??P???\??????=q??]"???????Q'???>T????o?????t??X???????????6?P~?
+?b?|?????^YZ?'Sc?NYSV??P?k{?q?W??AJ?C?n_??L?oP1??c?[?????X;a?V??:?i?????R?J9?n?q???????	Q?pX;???M6?,"??tA?JQ;e????4??,?=???"C???K?? ??p$=?sL??5??G9??+??1??"dp?????0?"?#m??X???U????n%???
+?\?OaU?????\?4N?R????d???????V?
++??LY?<c?Yq???SQL?B0?(6Ea4??#[?r$X??V?v?rY??}:
+???TI???G"?n?m:??n????2??n??p:
+?$???XE??A?v2?.?i3f????<u|???ev$Y
+CQ?????M ??????????g~*?N??
+?3?:???&?6?n)`\?`?@?ai$?F??C? j?d??*?.??-#???{1????U?^Ly8p?kU?+? ?3??GVp?????vr?P??<???A?7??r???;D???~?E?;?e`{????AK???&
+?`*?7???y????@?????]?
+$+?7???[( ???(vqX}%?##??B?fP[V|~?]??????t?\;?e?'?????/????V?B??;??E?2??"??M???o?H'??03_?D??i?M`AY??a?????????2?s???0t???S?E??]k?h??dgi?D?????"?S(u`X|?Jc???Q??b-?????o??S??.???\???\???[x???`??@8???*M??<???m?>?0???????
+<eNR,?|??@?t8?q?p?12y??Z??????@a7??yt???u?{P??????Y??????T??uY=?yG????0h???fP_??????i?d?Z???k\?:??d_?k1\N~
+?C??n??\??O?x|VLm'x??#??[RPF????+N???MBR<??W0?9?N?C?J?dV??0?x????!?>??SR?$?RsR4?dmo?k]???z?
+ ??B???
+P?g?QK????!??ql?^_????$U} Ah????\??hZ???5W?_B?f3PG??$?R????*?D?~?UI????x?Sh???0???j?6
+??,0~???
+?D????????n?M????
+';???JQP????U?=?9?u?8+*??@?;????B4?'?Z?N??????!??????2??K??6)??-C??vI?s?z?A@??9Z??o??e??????P][??ege?,r(g??dhXf??#7n`???7?3xf?????ugH4]yV??????[?HU*????<w87c?	?????j?ih?4~?I?u;??K???w'??x}^???B???n;?a1t?4b=8??v????,???X?????5h??$?-?k6?????E5FPD??????A??8??o[???RG??<??{??:???h?u??F?5??F:???U3?A??jV?Al?)'LQi?Et"?
+;D??T5?g~? ???u=??7???o7p9??X?M?$????6??e????	??0???9g?L^[3?iL{i?E???`?I?hI!????_'??
+"??<????>.0
+Z??-?V,.y?@?J@?5?wX??n??qph??%r at 2????e{\5P????mFY?]????+??|?b?K???<???&?^????5??I?[???????q@???n??y??7?3/??D?6( ??a???\?as?5X?xT?*}R?KW????57@?
+?`|?1??????(??i#?X??MW?=p?k?????`?*?/?8????Q?4i\?-???/x??9?&?|??i@`j?0;H?????..\VO.O???1)??5??@a,6???:?\??8?????zi????Mb?Xb?>????-????8;L??5?pH?Z??D?Z;]?P????I
+#???a at e?[??z?9p5?????????V?C?IO?l??}??m??3??l??b`v?	??HT???y^	D????2?????t?????????1Y,?I?|??:??As???k?HU?
+=+??m5???T&??dgdm??g?I?R??jU???_?
+??$r??
+?R?v??0???p6???b?u%Wg??`x?[moC<?GI\f1???N".(?q*0?V?@a4?q??zj?,5?L~%?j??r<??v?;`???,^?"?????a??~???????,?\eh???Y,???????f?Qu??p?N?d??~=?????5?z??N?L#g???VB?
+????????E???L??????g],??fd?`D???!???'???u??D_?????t?
+???F??c<Hc??1S?2?IE`?K?T?? ????#???ve+s<???O???P??f???????
+5
+8''2Yhg5k????v???u?2??ge;qPcf`_?/?C????	????
+????U??e????n?i?;H6?4_M?0?_a)j?z0?r$??????????`?
+.G
+p?????DC??vCSs?qz?'????^????6???H?????3???p???????!?????G?2?????=\?q{?!????+??7)?m????X.???B5?c?rWH??4C?@?t?z???y/????m?@?;?7$???????gO???*?B?s9?i???????a??9??4????3?F???;?????]o???C2?????????w???PK???!??b???v'??lp???E????0?9????,???li??^??z[??,??}??? ?b??u?x?????????5d?V? ????H??WX}??RS(?pU???_????$y=<^"??Sf?e-s?{??Z:*????HB???Y>????jU?6?rl??3??C???(?t???v<:?"/???~?|cl??'???$??#??9^-?$??)?r??
+????:OuJp]q'????W8/??{????B?U#?#??????!???????????s@??yc?0??????U=???\U?KU2?r?VGq?5???6k???=l#6?`?RF??-?c?v'@???S?G?Rn??D?????0???dhN??#????Y,?
+B??u egl*?k???????j???c?????N9Z?????q@??
+<??P]Ykq??
+#?[WB??p????Y??>?v????V??$z?W??m5?pK?PGz=<>???yp???}?*?Du???????W?Ww?*?&_?[??T-?+@??-s?W?y?(?I?$???????7+?}+9?!{????p?+J<t?+??6L??m?? ?C?V??4?&U?D?wp?f?????~H)l)"4???}????????????k{???y?4??????>?b????`+WQp5Sw???p??6??3?%??,P+??k?+/???V?C	??0c???????,W??o??m	[???ry???"x?=l??\????[s?q\???#?????N????????7Ev????y???j???\4???<??uFnC4???(?@???xj???EM???o!??>?,??R???f?+`???0??G???~??<?g??/Y??E?f?????@?4?	??TC??)?4h )K4?	??=?bVA??@,?<?
+?
+?c?
+?~Q!?y?D??oi??)e????h ?9?????4TW????????/F??m???>???;Ls?qC??B?n |!+??V?4-yV?K?u??????,?S?jax?3????4??&H?$?) ???X+?????=I?????;?nF?^???????<?'??@?P~??8?$???
+>???gU?P??G5k????>????J}?9?nW??,?(???Km???o?????l??????????V????ir,?CL&?????8????qQ????^?j?=???Qol?|?Nu<??(~?A??p7@??????h????w?eim#????E?_?O??i?O?????????4???f??~???&?v?????Ohf??z?\6??hW??v????q #?#;@???-)??@N?'???1??+D??????J?S?Q?!????,?>|?Z??8m???????+?gJ??kK?,?????V8]?????Ka)K?????@?????w+?M3g??a(?X????7??4??????7?"TO????????I???P?????]-??bv5??#?l?^???T<,?R????1?xP3?^?@$J??\??8???%7P????c?a[Nx
+??+?,?H1???j??2?zEvS?.???$?g'???????ndG??9????Q??F??H2x?]?4????`?E?5?s??(??W^?H????6q??v????{A??\??:??P?n?
+???J??Wp???????t????i%A??86?+???8FN?????J??jzr??
+OMZ?S?\6h?7??Ie,Q????????W|T??Y.??m?q?q?V????Z?|s??v3?D.?fcP??9?????m???MS????U?jk??i?&3?????????????^~=???q`?6Z?hN??4q?
+??R???~??VeN???l>??*?:??j"???p?? k???0_s?(z?
+Yd??R[???D????s?h\??le?hbYv?t?\???>??u??1????b5e(?7\???}?J??4???;???IdV?????????h0??]?j?>?? "?zy??@[?YR???r7H?n???O?:??????Y????S?z%V.?{???c?5\??'??|L??i?:zyF????,?D????H+x??Bc`????U????????n??1ZUF ?????????V?H2?f?,?4????+??@?`N3(F?[t??s}:?](??en???M
+4?u???wA??-?????????#X????#?w+???????$/??? ?$R??Q&???y??C???*????#???q??x{?o?????7Rt$I???r??Gw??x?d??u2Y?D???O=?)=??S?)
+???l?G???k??????:??v?<)?u?T??????u?~V?F?^?????????????!??Y4?T?+?:X_#???E???V??????nb?????!???|????l?????5?VN?`Kc???"????sh??????`?+v:?u?"-1?jh?gc	A????????:?{?[?
+w??????s??A?I?Gx?n????m-?!2J?>Z at L?jJ?C???+,?6/H????A??WX???????.)???6?n
+?&mT?0??0?:Z???,?J;v?????D?N???
+??b?h`?????%??K??c?tU?"?kS`?q??r?;hXP??b|??f?H?:
+"?n,?=?+Z??]'?}?z????T??????????<???!?akC#iDM??pp?NcJ??X?S
+???????_?S??[???>??=???q?\??4????Do??^@0???&w}n?ov???{???Zy??K3?B???n??F?	?c?N0?????a?4?u?-0b?>??%?}?????Q?????????f9W,w?
+?????
+Lek????xz??!??>.F?_?z??h??????n?c?v?Rb 6ZUQq??G????? ;??n??	Ad[?Q?]?????GP?I??????Qf??w????c?????n?Rwf?uP1wT?i B?????EJ???=?1V3??A????-={U?a????????Yv?"?No??v+?J05N??KS"??B?|5??N'???r??o???0?????[?K?{?;S?????b???=?klV?????~????~?j?_^?;??#??uN?=???A>?%?I?y?tw?pO?=l?v???1q ~y?#?r)?s?	n?????{????????j?Wlh?_???k?1???|@L?j???@?k%}? ????pA,7?`??lMc??X??za?vp?,@??(;0??LpN??????????c?????????pp?nc%j?'#??Sv?
+?m?????z\s?zX???lk(????|???Fx??8P??H"??#k??M~?
+O????????uC?`[?????L?m?J?<???@?O?1?';?y }^~$%???s
+?7???3?/?? ] ??Dw,???T?Z2x?4??P
+d????[[?K?|??J???
+?XX?7?=H/??[l>??2?g;Z?????]?rg?z@??Z]l??6*??v?E??~???H??N?M?*A?m?n????6?S.?-?
+|?a??*?m0??)F?r\?)?S??2??C~??%I?????
+?E??`? ?{??t?p???G?d?V?	S]?~
+?endstreamendobj39 0 obj 18593endobj40 0 obj<</Length 39 0 R/Filter[/FlateDecode]>>stream
+H?????%?E-H??????j-z+?{=@p?Y?]?-?G??bi????[j?'P???0?h0?P???R\8??JIm????????&?,?.0??F????t??P?^?F?pJ?o7????V?~X{D*_?qJ?QC?g?Sj??B!<)?|+dII?HRg???B|8?f???Z;NO(?L["Q?9??._KS??????*q???????{O[?-?byd?d?-pRXsR??e\?@ ???a???'?????:%j??!??????	??y??j8W.&P)??V???by?P?= 9)??OH?d????F???$:??RY?V??f\??5???T]tw?????R??[?$?????&?
+k??BM0?A"? ???????\4??l?F?7???+0u?c?<????
+C@???/m??k? ??u??HI???$??m?O??G?S?V?V{??R-?n???1O????y??}??-?????8??O???(???????$J???4Q??q?z?aon?-x/?%?g7?*!b??H?Z??S?~?.WP????%J?j???
+e???1?????????73???_???????=???	k)>=??SLm?_f?????r??b??'?6?|?v?I$v??/??2V}3xG?
+?SZ????&???oh?E???s*&?g??,X!1?`%?,Xq	)_?-??B@??3?	?iTt??A	?FYc?S?i??????r?&??d???N??"?;??V???-F????=*?t;3?'?V?Eg?
+K??0H???*???	??????"
+K.C#V?6@JH???2?V??k???8 ??0.+x?j!
+L???a??N?+?k0?{?,??z|?????#??O?????E????3??{?v?????3???=W??\???/????K?W8????%??c8m?,|1?????1?????????+h???????C??X??sKt_???=A6?f~???u???U?#ov??k?&???#x??????>????/?3?????????2l
+??8-???????L??v?Yjw?K?????????IY?m:????sN??t??y??s?????>???/>?O?I???6LO?3_?_???ZN?7Z?p??y?hg?????}&|??R?9U??????N?n?????g??Eu????o??p-??b???kp????V??W??%z]???+?8??j5?T???@?o??a?I1?%>;?(???D?&????
+?g?X??d?l?????5-p?6vi at v?W?"?H[?WVb???s??????-7|m?h??A?[??i?K??u???!?????l'LY??%?)0u???G?q?>!?d??w????y<??	rN??????FY???Q"G??)???Gq?@?Q?e?~^f??Bi??(?Y*?
+ =?j?1q?`
+Q??xJ?L?????l3?2???&?@???x?#???2???g{?&??
+S???????p???aO?pC.R??	?X???????????????c????*???M ???K=l?????P??68B???/???\p?5??u???a?c?q
+(?D??????????xE???j?]?;!&K??;DG?%i???3?W??6$?\5??!?[?'???N\?nN?U?x?	?@K??'tU@?H]<p??8*??????R?0r?e{??
+?\W? ???t?_5??`??H??????????hS?nL???
+G??G?s	,???O??NP??Lb???]???B??~?FTt?mn????????eE???>A?Co?	dR?K ??g?m??i0?????TI*???8?????S?T??Q5????dzr,3?T?!I&???????VY%???O&N??z???Q?`?Lo????NF7?e?????
+? ???0C4fY??&???c[[???PSU?ck????i=j?z??^??K?D?????#VV"???t?? ?J?Qa?F??F???{	G?{V??????:H???2????<??z=?Wgk?????9?a?3?XS??T?Y???=???Z???*?/?/????6K??c???f?Ng?????3???c?4?p???CJl???O?J??O9??nC?lD????%?????????J`!>?T?	@??>k1=gar?g??y???_4o???K?????????8?????5f?t V???:??b??-??????p??l??????a???	??C???1?R??(
+???	LU?YR1???-???I?g???_o??e?????i_??zs????'q?????=?Y?Lx?1??7~??@?"H???yN???uS?@'?ni??\ ?!?u5@e?`?v%0ZH?????b?c ??[P??fg?N/P?w
+???V@?.F?&S?XU???I??????Y?-??z???????|??XZ0?N?h??G&(eiJ&A???????????voo?K??`??6?????duW?^?{B??e?~???>?r???e???8??????!?W)???t?[0?"4?l!{P.???_rel5???????????-?<xF??0??!???%=c?7@?5:Zk(?4????K"R4Zv????6ili??U???e(=?u-?$???(??\V??E?????5d7?W;?(???`?????3T`fu?`???}????K?????????TG???"?z?%?yk????!?y*6:R.?yW?RM?:????m?????QWHX?\]$"???;ve??~W???2??????My????V?~u??h1????	?:Y?K?G??z??#?;?}???_k???7$KV$Pu?+??????????4e??????????u????i???m?Zml[R?n?D`?m?3?sz??????f??U?-;De!?
+N??{??$??
+h
+I?X?P????m???D?[@E?S???q?????;?v??~??'?/???y??V??????l=Kw?<^?"8g?ph?v??)?????(?ak?R?2f??HX????$Q?ulm?@?Op??3?????=O?+(|?????u??8x???z??W??Uv?????.3??is???h ??????"#q?*C$h?u?/?)P?+=] ?E?]J
+?I=`?D??(q?(G[???%J????I)??y??(tB?F??FzXp>?,i??Xl??s0*R??E$?8???e?zM?E???_(???;?%,_o?s>m?S???}?#,????m?????*P??Q??0???m]d??|? ?y????]???h/#???W???Z?T
+????v?Q????y?{??kMb??????>l3????`X????X???,?l?8H???????x?=?v???jI^?P?35?/?
+c?????5$%GP	? x?Z?b??	????-K?Z.?=??k?H???h?/???J#?
+??e?=???4??@_?8??n?r,?D,????????h??'&??S{??v7?-??? ?????@?-?K0h??}t?P$?e:?????g?a?c???r??@X??J?
+.`5??????3}}iR?--?{}`+?:??Q???2????v??VK?????]??r?jG_cR????bT??)?b??
+??????Mm?.z$+I?A??m???????,?z?*u???#???%??&6?U?????,9????jA?5V?o??????
++??5????Z
+?|x??}]?`??,??k???8LA?@#0On?5????):??r
+??$?8Z1??!;????{?T[^0?v??w?yl??????????~??????_????/???_??????
+??{#s??1?`p?0d`?aI????lG?Y?Ik ?H?cw[c??????l{E??k??_??2Q?????e?;????SF????]????s?A????????*k?FT=??u?5??N?U?<?z??6??W???x?C!?|l???????b???r??oYg?CN??n????a?????)h?DW??????C???
+x???8?B?hU??N
+D?(VH.:?p?}>?W?B?(??X?????GX2??
+\;?lz??V?>?:??]8?M?^3???zb.?0????XQ&??A?*o?A???`?f9d???eS???B??5e??Q?Dc???0????A?oz??????;A?k$??\*?wo??v?? ?5.?	C?>~??FF?&?(@?J>????"???y???0?Y!???G??[OG??1df?'b/C? 91xSm?W>??0C?????"??5*???/????I??o??24k??Po????????(?&?L{j????o???a?????Y??9y'??%[??#?[???b???z(?1?0??=???v????Eq9?????N4?
+??i8? ?
+-
+EJ??^n?VwYw[??w?+???*1@$?uj???S???,o?BN?5????????\dI????{????7x???|i`?4???
+4??z????8k???|??'???&?ex=????????vGs^?%??-v???2???/i???u?????`v?C?@???HC??O`?????+'??/<?qfS	&4g?Io?f??V?yh???? ???d9T?w?$??0MBc???4???y????P???>?qjJ???X??*?b??2?xHOC??l??bT?,??1?fI??X?B???S<?m??Bh?
+	 .?_,???Rt?D???!@????????x?X@=z??|?????????P;T??knq????K-m7x?|v??r????{Sy[/?%???	R'?(?"enQ??CqDa`h????+z?a?N?LJ?R?Q?v+S?V?Z	??:?lx(xhOC?=??*0?AK/???!~???#?R\?P?Yjw???x?	i?p4r?\?????.@??Kv3TM??>?mh?4????@^qx??m ?????@?9?fTD3?rM:??
+??$AI????C??H
+?Y?!??
+??{?(??????/`},?'??d??<Qt+1?<??1\??e??????BF?L??7Gs"S???????#!????e??0X.v???	R????Z??cGPNg?T?C?????8???,f`????vYo?%?['??W\??? ?????eEE??_GO?$??|?I??'????B ?`\?;??o?~u??|???'?~5G??????[??????t?g?;?V???dy at w?Q???$??J'$?\R?4$k???_?T?
+? ?"??[@?P???4+??7??V?Q?Y&???-+a_????w\t?B???????B(????x???)E]??2?n"???p????:j?\?e}h?? G?5}{??;?Z?bk?a"?r>???[?^?l?????5??????(?R
+?}ke?MH>??z%c????????????s?v??Q??u?wK,|
+?U?X??????c??nd#E?>???:??\??2d2z????^V`8)??a.?? /?u???x?a?B???e??1d-Y?0N5!?!3?Q@?L??!???.J?b?s?u?f?>??????s(?ua??<??(b%??!>?e??nR??&????|"? ND
+??????#??B?*{?
+W??c?j?o???>???_????)??7P????S??O???; 0??lh?????U?9\0<X??H}@]????????m<??2)??L6????n???g??Z??\??y6???>8Cf???m???|??eP??????n??BGo???????{???Dl???,?!??jQB???%?u?Q?????C??G?=it?B{?#??'??Ls?(??\?.?Q???{??'8??!^?????????}
+ ???Z?t??C?AjZ?p?=?5??kHq?????A}?+??	?T??KAQ??[!?2????J??9FQH??t????O/?9??X?v??kh52???hT?V{?9z at z?1??????????p?a0???n??|????f?\Q{?Dc{"????c?Z????????@?????)?z?(C?O???0I ???#?zz?WT???u?[??Pm???CQnM?n?????TW??8??3m????r???X??.T
+???v??t0t??M??0%?F??|??H???Sf???kI???{????GG?Q??:?/??z????????	?ZA?U?mB??A??Dc?C?F2???????
+?6\???x??T???Ax?j/R??2?????w?|????s5&?o?l?x???S{?7?[?????WO?????????^wW/?WB?]?]??4C?R?sNH?????W??Vf??{-w6+K?`{??5????/??f???4??]?`z?#??{qA]?a?S?????*	?k$?h?c?E#??????m?3\l8k?PBn? H8?n??Es??*??p?j??x<x7p?Xf|?3]?D{?1RD?rb??m???????s?.
+?AqI9X??1??5?@S.?S#F+?k??0?gM???????M?0??k?k???(!$?7?#????<yJ??f?D?"?????!w???????T??3?:?H}?_H?????:??N?k?PJ#??g@??!);g%Y?iD17?Ik@?Iu????.?l?n??????h??+'?(???*?'??6!R??~???,??<???H?
+rMJ??Mc??C????8?9???A??m???Ol?A4??CX?p???(????1?y?5?p???)k?d?]???3^?:??6?W&??????M{??M???"Y?t?{??<zP?*?6????[|pom?&?`S??o?????c?Jv?a?ro4???H2f?}??? ?+;Xs?W	??b???Y,???`?7?{?H|(1y?
+?;6	P??T?????e3D3g?lQ??	`??Qq?Q????,l
+ ?I?}??ilPsq??@`U~O_?????$???p??A?{?m4?Q<	H?ip??;%?:`[)878%@g,_*?H.i'O?QA??^D.?Y??_W?????{??B?1 ?E??{??V?G]5v??B?6;??????q????ju????O	???)??dkN?m0t4?
+R?m??sd?		?Z?,??_?B[q:9????`??Q??+5?$a??O???G?w???f?@?????=-?(????8????????l????W??`^?nJ@?b:T?!?????T*?V???X??????1zQ?L!?????+h
+??H?????Sko`<?g??? ???w??v??_??J?Q?w????y!?0?????a??c??????r.U?&??p???K?mz]???P$u??
+??$H?YA?j?[w?\??dS???5,&???????????Q??H???ih?V?-??	J????????OS??*(&??9H`iF?>??]!??M
+X?ZN?:??*?
+?????]???'I>V0??X?????|?#&??????G??q?P"g???{?V?~
+?=!?????T?
+v?}????l?B8?^w??G??? ?U?K?*F??1???r0????p??N???
+????`5!?:i?
+?z+?F??????q^Q???-
+?6]??b?????"?????3?H???????1??????\%?>????5?uO?0P(??"???V?fC?]????Y?n?????i?j2???/??*????C
+????[?R?<??????P]?dQ?g??,?????e??r?{e?}}'s????r??????~W?d?I3@?
+?D???
+???P?xO?*
+??????????Rj?Nk???BK???"??z???' n?????Wp4:??? ??VM?
+?s6?????!??????	?W'???&?{?[??*+?u?? ?^r?kS_??y3??K^S!~????A?4U???J+{????#?????\???qo~P???Jjk?p?=??W?[???m????m?.|?c?.????P?????X???Q4#????-B$}LN?1'[?1[??SW?j?}???EJv?wm?{??[b??????m?{PQAcs?4??o3R4?K??.??+^Rpb???|:?F?HbbD^?_Z}?<n%?l???{??D???
+???A???d?
+????
+|nWh?LB?N??p?a*?H???1?[D(???_?Wk????????I??48??]??????M\?A?E?u	R??@?????j??S?z?*L"????D?}??Z?h]F?p?%4	vy???[}???#???)??f?b?
+\3????\&?????K?(m??;??*??R~?`
+??Uf??-?e8_Np???)?l?4?X?4???.?????c??=G9?i?[|?????#W??
+K??Y_[s???)O?x????Y?] ?0*?'????-
+$?(W@?2?a?2???5ah?J?-;?SV*?J?R at GD?\
+??I?	??????s??L????(	?Z???D0?Cx???3?????w??jy????????Y??|????????@???KKB.?&???L???g???B?y???KB?e@?u?um?a?/?
+]?S????1(P?u
+??b#?0rT=??LG??<?5?T
+?XI?j0/????T
+S-???28)HMg??:P???ATY ?r
+9??B??U???q?3.'??['|t8|?m??.??m!f???@?!???)?8??@P??r???,-??{h1Y	???LD??#?q????=??t6?vs"J??'?n?B?}t2a?a??;??7?<??I??F?:?	??
+?R???c?d=`j?q????????	bn?v"?Hs?
+?q|??B??;?????^3|???z3|9S2E"?5x????? BRPS??+????MH?i)9*???e?i
+i/d%??o????
+??b-??????U13????M8Wk??3
+???s??f7?V?t??n!??F?}???l???
+???
+?? K?? <*&??h|?y?#,??5?	?9????lGqt??o&R8?H ???/>??EtzgV??e???.l???????\?????G?\?h?q??I?K?P????z?4T???!\???/?,?8?Q???4?6??2wB?D??$x&????????]?cu2/?tH=??l?lsw?????'?)Az+T+?N???X
+?Df?Q?I????^???^??;'[????F?<???@??)?y+????q??
+H??W]O??????%?	CwWuuwVy
+????`?K????r,x?m?,?U??9??/+sj?|??gA?_:[??\???Y?T??\?0?????a;N8ZI?????;??t?rC?r??hP?>&?????8?G<?????}qv?4?'??+@x?tA8_NGo???n>L''???o????3?h??t?????????KU????????????N?_?.B????w??Y???/_?+???????W??>??=?6?'u????-02V4???????V??4?L
+?????5??i??[?<#?m!??2?u!d:?X??????Q!?V????`Nb?(????~?????@???4?^??H???Rm??????Q????LJ?y?BI???????85?O?:T?[?0?5????"?X?5d58$I??}v??=~???=????xN??:??Q<;?S??r?=?!??????y???	?P3
+?rJ?w??w??-?|w??????G
+???@:-`&?"???ZW?@??(e?)4^???4|?24?B5@??%\?5Ve????(%?????`k?b??Ty-??W?+_???????bT)j?9X?Q~?? ???Z??a?????]`?q?
+?jTPQK?@+?EcY???/<??J???r=Z?*?]Jh?~w????[VV???l?V???????6?.C6l]R?(???????)??>W?nf??MP+g
+??? u?t?
+????UN?????????????m?????J?C??t=l?????w7??????????????????~??~???~ss????????~??pu???????Op???o?<l???]?????a?7i=???[??@?O<}7???i?T/?7.?P??{?x????
+p%r,<?K?N?{?T?5??0????H+HH*eJ??t???(?jbm)Q?*!?K??'???+??n\vQI!(?vt?9???t)?C??????*l?jo?i?G????Y?a~;???=bi?5?j?????
+???B???A?v.?o?3???"?
+M?????"?x|???>{???????+A6cHp?@???W???{??$???h5?w?lhU?z?J'?!???~`??????Xy]?????n???bW??e?^?y???4??d?EQz?V'Z?-?W?u?j??B????Eo?Ub?
+=!je????qx????)?'??{_??N Z??-89?x]??????u=??!wr??y&???{????s?n.??v?nL????WL??!?$?>??[D? Sc?+??C?r?v?[?&&?UHg??Zv?o??L?F????l4??RGF%?T??}(????.M}{???b^??`????D[????	f??1?eN\??$??5???j?m?8?????_?n????T?-R?H?????T[iU??????{f?????d?X??????????tb??
+`I??%k?{??S?i?X[?v??l?8???a:8n??CR??<?#?+4a??5??????M?!?a?D"?Usz!?4(p??AK?E?`??$??Z??n!L???n????
+?i????????c??????UL??????/?????BK?@?gu??Z?6?L)???^????E?T*?d?????W?}??-??\?????$?????	L?:??'??2??????aw???"????Xve????????????????q??????Irw???lxu?9??Yk=??k?????;???VyF9?>k?8?c?QRZg]????S2{wV$????Y??>k???/?o?r<??F??;??i?????+
+B??2o1>????tU?
+?k?%A?z?r5RK)[?S?"Z??)????b?Z?@??mC?H9'?:?`%-?>X?Z0D0?f?_???????1?jA?~,???Q?????Ra??,Fpd?D????xr?+?bR)????Ei?<?s???cW??SL??kn????mml??S???T	???K????%???j?HU_F?@????????@?J??N?????$1??^:\]???S?k?	N-T???L?T??l??????????)xv??
+?2???U??&?U??????(t?d?/???v??^&???
+H???\?%&	%9??#?+??qja@???h??[???(??>H9??2Z?F???Uz???_<?|{????????u?Bn???????????~|??=~y?????o?????Owo?????????~?Z?????????_^>?????????????????}?v{???W???|???????????????E??????a{???????m/???????{????????????W??/???u?????n?I???????|W?/??L??6SU?*R??[??k6	?D????j???(?_?8/??????;??0)R? E??4f)?G??0??ZU?????1????]?u???j?K?XE]?<???t?4+`??!????g??^<???I?@+?;A?<?eq? j'?@?F?0,?U? 3??X?c
+?]??O??(L?
+?'??xm^Q???
+?x~?m_????m'?????y0???Y???#(?p??}????|<T??}???????G???;?'??????m?@????.?z?1???X???bb????X?:?~???C?}???????????bAv?]?\?q??x??F,SdU???W	????oR??8??F]P(?????????gj???Uj??{??5?J???a:?????z???>??M??J??????t??j????<Mx?f?7^}??l?Ow M?yu?]??f??w5l?????o?S????w????T???qO?^:3h?!?-M?Z??^}Sn??U???????	???j:??oE???1????YK?G???I?Gu????<???R??VX??i@??\???,?n???6?f??e9P{?????^v2?V??k???f?.?f?Nw??S??-?J???????@?	?2?E???O????a??m???)[???????????eP?v?????i?:Z?Wif?@;???:?^O???????I???P4?zeU??k??Ay??	??E????Z?:?#=????Tz
+??T\??w?u?I2?=
+????QA???(N?^?:??1T???r?T????I?3^?=?
+=??S???"O??*??I-k&Kh'Kmp?\?m???|?k)?H??q??~if-5??D?????L??I???[u+??L~M?_?Da?h??U)?/??kS???D`? 8?'cW? ????mE?r[?|c??0?(6?p?`?C??2>?JwLM5?e.?T?&??????????j???gQ?<???????|?.~?	?1?+^??|+?a??hcs1??nk]?*??K?e????=??0?D1?bU?(??AXC3E???????????V?
+????ru	??~?????E??p???8??#XZ5????r????^m?
+?z(???]x?tO? ????8??"<???Z!?B++k?\?'??L????9?6?kr?~t?5??\N??Q?2???{????.??L?
+?????^!]?B?B????7???F??e:3?????K?????\?V????%??A???5?kJq?~lr~-(>\8??j|??X?N1???5q?)??y??R???W?M??)Lt03?K???????=??32??s?|?&?x4$?h??9???'??*-3	?C??Y??s?	L? ?f??T2z??p??TwJ
+?5W??N????o?x??w?O?????????????O???G?8?w??3q*7???R?k?4$npn?iE?X;???9J?/r??m???[??0?L;3?T%)?S?r??8RA&??<omF???B?c
+????h??:_x.??AC:?Ar???????l3^?1?Ug??X??Y???
+??s???d???:??Kg?b?????im???y5'??;??:9?????????+?Oe????????????]??e???????????8?m?-???Eyu?xz?6?'??
+\^/LX?Z??????&?????ZN?X???B??b?8?Y???D?8]J??f"??^?)L?&?6N?-1T`M??m&?v~^@fg~?7????G?Y??.z?r?I3o?`??????-??O-???-????V(?uY?^?(?qs2?8G???????u?4??9TuNXw????
+9??????P?E????%?Xz?r???z?#f
+Vs=??????f??? <?M0?????Wj?I?p??g3????Mn????=?????????"?]7f??ST8?????x?_???e???~???O???|z????|??????(N??|y???>}x????????/????????????????Kzi???x??+7G?Z.??????Yi.
+???7`4t????
+?7?x"_????????o?k??4??LU:??
+I?)?Aq?????S??N????fwX?\j?j??????Mu?a??
+r??~??j????~+k??????m???-#?%rn??m???????>,nk????2?k;Z??tN*c\?M???bJ
+???@????9j:?\i?K???V?6??????C&Wb??E?????~<?=?T?_m???gW	*H^??Q?????g0A:?#???
+???V????b
+?}???????1\????R(??07q???9lq?+P?X\???eU??~??Co?r?/?h9????????!	??????s?N??fFq?????$&??^???1?_?n?????R?GH`)?rJ?6??????Y??k[???P?)?i??u?mLnk???u??]??M|D#?}?_`
+??? ???}}5!X??#'	???SQo:????r???`"? r???h5?k??G?B??6aV????)5#?A????>?	,???Kr?IhQ???	??1??%0F????(?N??%?B??\???p?^??E?K????x6fg?~??W?F?v???s]?}vy??R??p???6?$K???H?tt???????????-i??????????D??????.????5?8??r(hlQEJk???????~???'??^gr????g8-Lo?,-En`????]??7?@m]??
+V????~????o^?`vt??0??t?%Dv?I?m?MY?@Y?j]X,.X?????B?\O?Lew???e;@?v?y????????Gu09UHo??+?A????3???v???
+??kR?j?!?.?cVt??? T?????!?u??2z??n??K?ayZj?\r?-L	w??????o????HH?XN?`?]?[9?????J[b?
+R??i?*`?=??R?g????6V?>?m?|m<??????Z,??????z
+`J{Z???|{??3???"?A?w??t?|??N??=	????NF????????J:??<@
+5????>T2xc?.???????[,4?Us????????+ ?\?????@?%?!M	?mk?qp?T?4;????,?OB?+?"F???>???E??????g?N???}???M?]?oZ???Q#s??jY???dm??{????sF:??r:"k?????i??$???i:(^d??j	?7???Ggz?
+???f???\}?~?c??P
+????h9,?MP?????????Y??b?KH?V3?H??/c????%?????w'?z2j<
+?O??~??j?EJb?u?j?*b"????6?Hc?
+Q???]?????.?U?t7??P?=?i?jK ^????Isk,???????!??C?'?D?v??	????0???????J????P~?O?A?5n????V?t?E??`???5v???.0V?????r???????.7EP??V??^Z?|
+???!6?*?u(? ???[?X?`7??u?t0??5h#?k???????l$a?k?:k??FG????5?$???w???_????~????????>???????????_z??B??dG?XHl?_?E
+}>'8??B????#W?%5???~9?UVh??[ ?:?
+ar?,0?}H??&?G??6?'WNe??n`Yy????PQ?R`???x??dt?%k??W_?????t>?E+?`?s}?}?N\?Z+2/??"??????SaP?+V???????????YG????>'5????l7?+??D??E~???q?(???U????}?3xc???oQ??	k?-x?w ?a?L??:???_.???q1?????7NU'R?1?r?%??.my?
+#?d?????????oo????????r???>Tgw?%?
+??@,9zw??8??,????A.?^???aw????r8D??Gqa?U07kd?9??q??d]?7??X?@?_?&????????s?n??3F??e
+*L????????.h'Z?????4?k??Y?{?X????	???	?I??7?lb?#?????g?1Ww???7?e?'+pB?????7???I????`????.7w??0?4L???]?F<!=?z?G??i?T????PJ?M?7?GZ???-?b?,?o(??Q?A?Q??A?3??gqu?????|??N??????$???$J:?]?Q???je??6#8j??y(?|qL?u?[?6?M??k?[??????\???ZZc????T?{?j?G@?X~??\=k`?????h??Qx0??????9;?$-?f??p?W?X?2?'V?RvD+?m??F????G?d]?`0+?1??A@=-F?j? G8?W????4[?:?????(?Q?\?{?T?n??s;?])?zV??????i!??????]B??K???'?}??N
+TE??N$0j?w)??S??}V??????d<?*y???\?
+?T?,??T?????d????6???M*??Q?9?f?????A??h?#?p??D????Bc??\7?.fI"?[4P:????0???A??M#???=????@????m?13~l??
+???>?????_n??1???	+'U?j?r;Ww??$??>A`W???At#?j????0HWn?Kx?D;??/PO???q?qe7?q??R???
+???ePW??36+??c\=)??eG??#??I????gna}ePL???C?A???B??L{@Vl1.SO%%+???W?Kb?_?0??+?????Oj?uH??????l?@??B?????R??g??iV3?Fp???-????,$??;??qu?????????/?s?[?:??7?jF-?3Z????C?AC?2?M??4P~???????P???k?H??		?'?P;??9U???{
+'hSR&w>?mp??j?FC??+??r??;??F3??I/?????3I??`X4?8?jb???N?u+1???I??UA????]a;?HT?5~??.I=??$TB???j???D?7B????u???%0?i?#1t|?&?2X7?{??????????s?'?Q???l?,>?Eo??4????m????`Y\?va???V???????V0?6-?p%??E?ev??????w????a?dx&=?x?7???hl?R?x??#w????L???,???q?=?7??
+C!???)?|???jt????[$??Fh??sP4L?.[???x???s??Lm???I?q?cF?`???>l??D???N?al|????????I?0(Qw??????jG?4??W?l
+???q**R??xH?)
+A/?d??d(	&????(?O<??`F?0[?n?????h??gu??<C??A??m??s?$?f???v{?y?x??{6??]|
+z4??>b3.s???`?5vs??T????{?z??Wd]???a??????t?.?@??? Z??]ld
+??At?S?M?"@??]X?3?!{*u?6?Y&3
+??"???? ???)?????M7W????JH?wB????????b?hy?????]x2,v?K????_x-G
+????\??,????O?$?,=??iB.?&??+?2?V???(l????????k?7?{??????????.I????????4
+?S(??gZ??2I[?QK:0?$?@	???)+lk?f?.K???>uc?F\k??}???C?&8??x??@R)??\?`w	n??????$?v?'sbhu??Y???[p??4????9's???L?f???[?v_Mh?8lJ??G??/Rp??:??????f:????^K-w?
+:??s???lX
+?S%???????wU/?t?5s;??@???????Q5?7??
+|?w3?;q?N?]?O???
+I?io0?L?~>???X-?<4??ys??80?i?yn@???;?)WJ?m???YfB?Ds???c?D??????&)??@?_???s???)??*??/%?|?%
+F??
+{?K??>???	U?o????b???#v?
+?????2??hZ??????L?9[{B?
+??/C??A ?&)?]}??WH?rM]???j;?P? 
+????????XA-??????s?Y????e???y?\R???	_&A`$7?"W???3?v??n? %??8??H5$?gqQ?)??V.???e?@?	Y?8????~f
+sw????b???u?C???3bh9???p?????W<???@????L????:oMw??????_???"?,'F&?????8L46?8???+?X:*?|?????n6c???????????+(^?.??W?hL?????~?A?Z??C(?-D???n??i"?Zqz??r?q??????a?M?E?ll?j?h?R?f?K???j?hn}fRu?????
+72?)?????>O??z:??????1?8?G8\vD???4????5??f#?j??Tz???tXEy???K V???m?? ?x?IBp?)??$S#<u??a?*?7?*??dQ??_?????-?[??>os???0uV????fu+r0}&??#??6???c#???7U??viD?`|	?r?F0^?F?`??hi??'??#;@4OC?S???????"GS????@???l?$?N+v?S?Q?D?_??V?
+???????c???(x??;?
+s_%?%??14O????1J??br?me??y??H#?i????y????U?i-O?A???|:??a??	?y???OC?)3??>Y?????CBX9C?M?k???b?	??V??M????S?n?c?$>V?	z???f??@;??f\1!C??? C-i??DbKyMJ?\?<S4?l?j??`y???S??}?????>?????z8TE(v?
+&?y??9?J??eV?????*c???9?|?@AyZl???PW??jb??!
+(?1C???L????C?)??b??b1?a??$???A??????y???@:??w????j????|w?8t?p?}i
+??!?V
+3??4?w???J???F?`???h?>o????_N??????\????D?q7?K
+?:?GO?:?mv`????u8??ri???A???9[@sOll4????Go????Fpv??U'	????n??:??0 c??
+?]N???
+.??Aq1???~???bW=?"?`@}C??5?m???P?????q?ISwf?e???5hT????????*?pr????3?g9L8????????=???c??m??)?q??!??t?N?m??
+??
+?????=?%2???????????\c??e?G?|^?	?t;QL????O????QU????q???=e?"t(???*?????4k?+?C??d??
+??S??/?W!????;e?z	?cu"Z;?G%(aH?o??q?['???o%??'?
+H??W??%????I??D=???????,?l???.??{f???3?E?????|??ob4??g????i???????r??50?z?:?y?	???&%???????I??Z-????m6f?,?N??\????-??????\?~\?a???????0?;?uPe??.?????m?o?F>tl|GDfuD9???l??O9??y*?+?????	)
+WP??t?{??4?=??TY?u?????z?a?Y%??xnq6[6?fv? VF&?6??s?$h??k??Pe1?=(ko???*T??;g??;????eZ
+??<??pY	?;]?????:???8??L??b!
+????W??3z???d?vacT?uE`??PV?t`?G??g???@??F?k??\?o>?;?{Y?????x#??b????E?????@?d?2??????Vvg??C?FZ? $???????R?;??f?????
+q???{4B=??? ?D??????? h4??Q???>aX?????n??????-?#?"p?????n?_l?9"?r?z????9?l?????EN??"?<6?}N???3??N*M???Q??????g??5?.?N?P7???i?r???N?(s&oT?>Ns???U???>??+.??Z????C?+8?	???g?? ????L?r?>???c|<j?0??f??q?kG????j?u????T? f'?????}???????????:??g?`??j??j??
+mC?M#)nj???d?`T??g?:?????y???R???l???/#?.g????w?I???-=%???15#??
+D?CL??SY??????+h?Ag??=?Bo??????xth_? ??i?\"?v???B??md1b4c^i??9????????/2?u?!?CqX???(??o??T?p?S?a@}h?oT???6<?
+???
+?\o?UG	?y$#?#.=??W\??n??O???I?*?x???_?&???_???z??b?}?r??????4?iR???w???????T?uWP???xO?'???A?=? ?so*:???\P??8?Q.????? ??'??????W%????tJ42??\????'????T?1?fkG1?5??:?N9???????
+ at L??8?.(!z??S???K??[??1?+???J{4??{u??R?j??<(?u????p}?<	???'??:?Q?k{?\@?H?u?'?????g???LM?[?y?????L?????????5?4e???z?~?k$???!
+?6i*??`v+?v????0yH??6???Q7?J]9?@?->*?:S1?(?????:??d??
+qA???ZH?"8t?,??+?B7u`s[? ???w???/?)U????9??L+????????sU?3?J?????????<?>m??~?h?2mR?W?#K7?a?7-?????n???++?m??"fx^???Zj?S???o*GZT?9??d??0??^L??v?l?????????k?j\d3M+7?KV?P?W?
+?[???*Rg?]_??p???/???h?W??q?>9E??????#??????2*-I!3??G?$?Q???$h??J8?s???Z?~???M*9$?-?Y???r+0??v??U?? =?1?]o?x?8x?:M?&I?
+.??\?(lg~?^a??
+???^q??}EA'z?????8?2+?R?OH????-Q??:k?c????????@?????8?t?E??????t????>?}??)&?}?#6?fd?	??c?hlG?V????????	e2?Ou?????9?&H+ 4D?V???P4????$8?R??`w?4???
+?????Mz??^?~	?j?|??????@]?p
+\?^-)N??y??]?2???*???uz2????<h*9??/?a??@??
+m1z????em ;K??"?d??%n??|}?_???R??P]m}??????yp?????@???H???nH4:?#?b:qbB?&????_?????R?1?X?d&5???Jxx?U?P?Z?F?y?<I?B??k????9???M???bJ?
+?????5^???A??????Adq?Y'T?s x)??Gk???L3D?fI?;??#9??>k?!,s?atJ?;??aS?e)HZ?e??$)???'?????x?????9/????x^?%?i#P?c?T???????HW?=?V??6?Bf?B)={?O?2?$7??BIW?Y??1V?~???????E?????M?W"?HPJ*F????M?3????{`?F??F??7???[L?????j?v???H!??S?@?;?H??V??a????*?g???
+:)?Uu>R?.?5??D?W)?q?+??q??)-??E??lL<cP??J'!?kR}??rx?@???qX5*G????yd)Y4b,8?q??0????^?k????2?????
+'h?VfiH???K??????w?o?Q??????L
+4	n^W?A?=5??E??c?D?]?H~)??3???1????Z2??4??:???!???.?h?????y?)????%???????????.????????????w?{??z?????p?????/7???????_c?o??}???k?_/??o?~|y???????O?<]~?yZ???S????p?????????????E^??????????????????_w/??G??_?}????{??????#?u??????nM	??D;O???q??'??????K?R??`'}??
+??BL/????b????;??9?uu?jzs???N??}???????!??
+?(?!?!?<[#???,??
+_ ?:SD/?	K uu?1r??+??? ????{?????`???.1???c?Q??l?;??n??G??TpC?):???ta???k?ai?36uwPUW?hr;ze?|J*Oslk?LH? ?s??d?'`?E%???XR????E
+"j,?'}l
+6R??"??????0a7K?Z????(%)	a?J?P?n~??AD?,SxU?????????U??KV?v?q??_R?TU!??[?????;?%[???&s	??*???Iq?]?9????h.??"G???]U?&??W=?[6?5y???<)?_Qz)?RW#?Jn
+?(J????(????
+? ?P at .??D={?0??c????B???g????????$PZ????`?@?,P??N?F??6????*?W??????v?!{?F
+??t????? ?3S????j??v??7??D?D?l"???]???,FVi` 9???????nhE??X???A??ldJ:?g,n???e???D&IN????`5???????8z=b?qq??U??*h>?%T????z#%h???lo\:Q???f6*B0?????$????????)v(??q3??}???ix?-Gt??-3
+?Y#????F??T
+??#v7???y$?\u?????j2?Z??????D????<}???N???X
+?????[???Zu???|,D?^%?Q???@??[?VZ5hi7?U?d?????????m???L?q?UFe??5??.O?v???jU??9KP[?/?K?(??(????j),?y???`??Z?Qi?5?W?xN??;???n!??D?^?N&?L?F????9??I7??5$8???1N*?d??????????X??m???#v?.6R/?<L8Ia?0??\??8?+???4]/??>?=???D^*t?p??B)5???b???X???y??-Ki??Z?s+71??????X??z?8????,ng|?;&???v?n}?????u??}?p:?E??\~G?c?q#??????????3w?1??{ ?????R??a?GV'??B?&?L?????yS??_?? ??o???4?Bb?M?H??#??? ?"?E??q7'?*?R]????G+?B$??%O 	?Y???+*??U???????X|p":f?,??m?J61??]?'?}b??r?a??X
+?x?#?k{
+??f-Q-?F4??2???>@,?D??JQ??U???F?P??H'??
+	??pQ9??j?Y!???*?Bi?]??R?????L?e?3?8??"?#???8?I+??	"??zw2i?6?<??????????????0|qw_1?q?e?[?.n0??????N??
+Y7????:\<?C???;?I??4{?{???L>??C*?u??{S?!??????\???a???l?K/P????y~g?=}?(???<L??????????a??????!]\C????????.???i???T5? ?^??
+vg???@??+????D?Ib??L;Ki????v?1?????OYX???????Bom??Y??2?z???~?pm?X(???????;?<???{'j??E$?
+??q???0uR0?&q??]??,???j???+W)?r?j??	?k1?C~??1?RZz8??Y??D-7?qR<d?
+0??-i'R??:Rnhs??=i?D	9\{?<%??t??Y(*j
+=Y??LY??XJ??Te???F?:????]?~p??V?	>???tI??5"bc?x<#??cg[o?"??G????lW??????y	 ?"??{???	?@??AA?H?X????^?????????????"????+t]?<4j??????hD????'
+?????}?!??x_;9?>???aV??\?w????U`:????<??|??qM???:???92?=$?7rOaD??~*:/???L?yNgccN?t???H?k?
+??,i?/-??????j);?????d Jy???|vv8???"X)????Q????K(??Q4?<Rr"?~??)?q??u?x=???f.?,??O?|9??n??|?????M??F)??h??#?l????F3\=??B??68???z?NX<??^???+????????D???pJ????b?s??S?I~Q/	TB?$VLj???4ni!?b?????(?$?.
+<x?q~X?,E???????/???>Mpr!KpT??h??h?F&??KD??;j0?-?s? ??X?Vt?L`m???-??c?M"k???R)???m?P???l!???X???;?????-????e?6BK*`S-? ?@?$ ????z&]hl,Z9Ax?I??"?????d1?g??&??'9>???ki?pYK??89Dq??TY?X??v????lw?	G6!<???C??Y?*??C?bc???/??Ol?X?ly???,?H"{??A?K??.l??N0T?e??4w)??<?Xn?Q?4???-???^^??Pvn?e?myv^K?]z??N4?/?it?y???K^?l?,??9^f?ZP5????!?eem???
+E??g???CK?????Z6?(??tB4??9t??3C?C?@????Q?IP?J?5?u?????{??d?}xs???
+?n?r??r??J?K????R?c7??-?#?l??r?i????!y????T?f??`%|b?2?<?	:??????x??xb0???&?"S??/????|Ze?JjD????z?wXx3
+??,??3?y?]??p??[????/?F?????}???!??R ?L,??e?+??0???"??*-*????8????"???h??@j??!???H=G?4,X??:??Uj?K???15o{??Uk???C? V?q????s??Qs4!????r???dL???
+R???S?E?%?(A??
+D?^?PE
+*8
+$(>qPllD1??j,?hR??j??e?X?Z?+?????w????}\%?_????9?????~?$??<??
+??0???\???????????K?9K?YX??k?I(i?I<?8+????g??H??
+???W.p??sp!??
+??QYQ?8E????$"?=t
+?2D???u
+??h???)??@??<x??D"?D???7*Pwi??PZ??7?&?`Ih+E?x?ciV?C???)?6?{??	????dy?????T??n4???GD??K.?X|?&
+Z??/?HF.??.c$????nDO	1??? ?
+?Y??E?za5g?
+rUp??s??????S?=????A?'k??2w?h?!??????;?r???a'Y^3?3??#jL`lB?8?????gf'???,??????H;???b?????v???T?o?-?????Eu?????L?Ylj??[?
+BG??(???;Z????~?0%q?????r{????f??-?YA???????????D????|??6n?T?8??EA?????d?D9?'U44?????Bd?????u?2?7??????????~?5h?p?^^??????!2?a??,/M~?????:9??>??K
+????5t???????????@W???}???^d?????2^????2?7?)_??QbTrR???Q??}??P??w???	Q??z???}?J?&`???R????B?]? ?L??.b???`u?2???E?
+?iZ?NH??T;?h?[?k??????ujl???F???.?_O???bmRD?????~9????u????G?E???R?M????,+?[?????}?_yhQ1?1!?NhJW??*?QKw???S\^G??u?XQ?~???e	?????????qaB?m?rp??????[Vg?????c??H? ?Y;[E???x?????M%??m???O?H??l??????E??ml?Ki8r????Z>?o+C?M/*???k??0'>6?????u?|???+'w-?kc?s?????<}f/?????????'???k?<?{?D?b???????j??{9??,H?yG??u???????w?WE???*????<?w$?}F|jJ?*???;u?Yww???5??26fY?????@???????2S???n???s???????j?9??5??v???z#?#$cI?AT?o???,?D}??j[????wgm????I*_Y???.r??{ ????#?!??????~??:?7D?#?pm???
+(?[????sT<Rl??????
+>? ????H??0E6???Z45?"f+?S??V?|?????
+T???D?B??@x?????????Gk?~7K
+=?^uBs????E?K)Y|WW????q?B???]B??d??	8?`o??g???uU`smd????gP?M????r???&&?x?Cn??????w?X?l\?.X???'??#?b?5??P5
+?Lgq?????R[?1?e>????0????N?+??/Z??oVN_??^??N???RK)?????U?c??????d???????~<??uB?@?B?-_?@?}????????u$,v.?-?????q0????1????????????????ep?+??????V?J???F^??a???D4???'?????z?2t?OTL??5\???Aw???dH{?U???????!???<?-?C??G???j?:u????1?j?o[????pwXc????jh??@1l1?????,?te?e??!?!?R<J?ROq?F????{`??EcT`f?????t?WE???aX?|Fu$???x=j??b)%?*c??E?u^?n????^>?z/w5:?]OyD???s????Z4?*?<8S5??M"???N??4U*?){C?l{]Bc????F??O??	??????h????????lJ???????a?R?|??A????3?H?6R???&F ????C??J
+>o?=r"???d???????????z`??7????????X??WO???8RFB?9d-8?&?R?????8Q;)?Z?TX?=R??W??X?Y*?<?tB?f?(%???Uz???2?=P????I?NDln??kP\j,?????.?x??h???[
+?[H^?0p???d'?PK?N?0bn)?	N?Yb???{??O?od61?:?/?oI??`?3?T
+?lu??>TP????r?????	%3?N????g%J??k??????q??L<?D
+?
+?0?U???{???61?E??h??y?jdU?#>?y?JNH? ?s??4R?L?.}??U????w?? ?
+/#??$6??/[c??^H?????/r??4?t}?~$V??am,?%?F`????C?j_??T\??v????V/$????m?yP?t?.?X?qE??-?e?)8?????p"??oWq(?s?)????ep?+09{??6?a???-0!?J???ml?{?6>??F9???2?~?2?]?(_?K?f????????!n????CuiX??a??}1??-`r?]Y???0?Ob??v??x??:r?-Rf???,
+???b?tO9??.?`??M????mi5J?F???oX??A??'?Y?${??L?[dt?f??0?????0J??"KB?K??????8????P???2j?O.?M?!`?x?@?????)`????i3??oA?	9?????<???"?y? ????j???8???M+WJ???U?m???????nS?
+Ef?c?"s?????9???~??a???]??b??`???F?Td?[9^?H???s?????lI?q?MB38??d??^??0m?0?????0)1?0?9?\??r?`Sj"x??R??ILBm????-?
+?6-???"??4?!?H-???Zn;Z???<?r?v????lb';??	{?2????l?La?lAX?,0?)U9dPF ??j??<?KXTrmc1??????????%,?8???Q???????Z?,?X?s???Th&?
+?D0?/???a?iz???a??B-???P??j?T??	RB3?%?8?[???a?/[j?9W??D??dJ?:??
+?W
+??????S-L???t??	?C???^??
+??x?
+?D&xe{L?S?t`?z??K?LQ??$?A8???x?!?iB+???D?X?8?T?KdB???????nZ??k0??ZL???icL??)?E`?(b1??n?V	+??YRi%?Bw?L??????t??@?E=p?;H????????72myf%y??/?9?:(,?q?6f?????{nA??.H?W@?[Y?'?@????R?b	t ???<????ng???!?8<?DH????zU??Pp?h c??I????? ?G%???>??`G`?^?N?I?P?^W'?J???xLK??;C???E
+??C????t?%DT??-??M???rh?:??f8T???r??p?@xZm?????g???L0?H??J????MOG?])of?edVD"??`???????f?#?? `???c?????#yc?J?M?d???D \Y?????H??Fm??=???????X0L?|?2?6?W?????7?=6+qld?54??44 y?|`?????Rsch??????
+?L|???^O?/?????jyu?&4????qG??d????f???Y_i?2?2??V?y?N???E??w????kN?7??P8??g?"??`?(?*??$?SB???1?B?V???B?????'????^d(?/?l????^??????VZ??????wR?1,U??2S????S??}?0E???0KM?bY?s?IT?my);5??h?HI?b?[??OI"g??-?)I?=????9)I?.??j\jFf?_9!5?_?X?K{??$??i????g?Cq????x"?????f?*JK~????q?8R???F????S	6???????4??O???+???V??C???&4???>?R c?
+,?"?????!Cy?4??t???t?}?K??U???????U???6?????(]??hw?K??M?5&Q?`ql??;t??????}?IL^?j?G?l???.?M?D???o?0?#C??t??/??p?n?@?a???G?>???????#????7???????]????????t???;?x?(?q?u????\??l?D?????????~?<>???V5Pbj???y????????????F~??$???????5]???{??<:U?i???$???$?H???mc4??9??hctf??????6?$J?8???I??>????&??}??c???????|-:????(R?I?n?W???S??lo????dLb????}??????????sL????W?{R???t?*??u????j\y at V?eE?B?{???=2???x?G7??uk?v]??ZI??}?u??+i?xTu??gz???????$??*???]0?*?O??X??Z?qo?3???<?w?"?\????>??????7??
+??
+??C?c?????OO??0?0*g(?'^????????????????=C?T??^dI?????p??v??????q9?_x?m???x?r???U3w???_???-??a????Oa?wGM6?Li;t???O??Q??g????GO]?S?
+o~o~o??*??????z at k??U?????I1????.?,l???yWp?m??5??????wVX???A?+?g*`?0V??&??0>?K??;`V8?T?gY??Q?'???-???XA?y??gR?Z?-???r?$??{??'?	????GY????2??s<?J?B??e>z?
+??'Y?t???????4??Z?`@?0?a??*?71\Ux?E%??mt!$????s?a^P??CH??s??=??)k??,t??#c?dSM??JV%?@??Er?4?????
+#A?i?? C ?"??!????????3TF?L???,
+9	??ObB+:?r?1SL9?	?E9?+?J??a?N??????	?J?=Y?"?L1?l?.?N7?otp?!2Ly0???:????em)?T?J???*?c?B?=
+???X??aPF?*??40??W?<?IEn1J
+
+?C???)?j??od?i?z
+B??????t??0?Pz?Y-g?(???????'t????????<?? ?<??K?f?W8???@Y?Q?????6?a?????,?*???(?D???<??{<y????)??R?v?S?x???e???a?V?.??8-?mn"p?K??Cs??YH????;????`?Sa?^6???
+? U?tB???.l???%?K???L????A??`a??[??<????d??*?K?``?+????.-"?h?M?X.z??A?x???O??Z?????%}??4P?q??$?1@????QgJ?Tc?oe????9?`??????????2?^?Ha?B'?$+mc??\,RC?v?!??Zxh?Pf	?6???+??4???z9??u	
+\;??? 5???`Z?]?P?????[?|SnbZ??J@???k?????4B???vA0?8:?
++?W96???
+?%?z???k???K??S???d???Dn?"e?;?J2??[O??B_k@?v???!???0?i???4
+????;?Q_?(?dT?K.5'@4??8?m{CVt???gNO
+????Qv+????=1??^:^???????C?_???_o???"??Q????5?'B?????biLm??????N????A?@?n#??%@x?Y?	+`R??%?S;%anu8?
+7x????.?4c???4??q????????	??%???????o?S?UU\|??VQ!?C?E!??+>]q.?\?>???R?v??e d??h$?T??g-?h?Yy??
+H??VmPU????????LLj?FQ4r8?{v??\?-EE????B?? "?3Q?	??Q??G???j*v?_1?i??D???R'?TQ?Q?O????{/??(??Os??sv?}??}?=(????aQUY??*[?J-]? ??
+	a??
+i[??l???2d?Ty? '????,?V??*?)`?PU????r??b????@?[
+??c?????B?x?!W??*?U?%E?.P6?P*???RE?1	?dBt?UeV??nW???$8sDX(??n???OME??UX1??D3?`
+????/.I??^?[X?.?#?0??,E?RX2?;????????=???Kv????p)rD|R??z??????? ?,V???f{3??h&??Z2'?????X??=)??o???9??K???AR????G????9??S?hWaa?????^?0?Wp????$3sdn?7&????r??g?x??E ?D?????oP/?????N?????)=???????8r3?OaQD?!$?K?1??Z$,=?'?????A?????]??3?O?9z??/?L???b?9???]?OxY?2??????$x????kO?c??nO???9I7?=0???#?4<t???$O;????0=?p?????????C(??|jB<???'????????0N??CUA<????E??g??)s?????nO?!????9#???9g?g?Q?#??????G<?N?+I!??????}'????F?L?y??O??????????"g???????.A(?]Z??P?pj?v>G?C-KY,a????^yp?????7F???$???,Y]??
+??"?m--{?g?;H??[/????,\???????m????y0.z8cT?fo9??{?f?m?%BP??w?N?H?????K3??????????i??G????|,?R^nG??~?????a@=?b??q??X?*?^>??_?q????f?YZ??vl???I???o?p????S??X?9?5??????xj?*7?e#<???????o????N_??w??D?<?m???g????TW[???6?????6?g??;??o?w?J????RI?Q??[G?>]??r????llx??(?k"???>({????m??????=wQ??{7?????x???jM#?????|O{?????oN????R+w?0?z?\NRw??Bs?????-?#???.u?\??	r<?<?yc???w???{????????o?e?;??u?AI???????YZ?e????y??#?????qGy??????/n???
+???5??iO?}?c+\?(??"F??^);??m-{?????!?????{!????U?$1?Y(?_?ww??C3?BH??OFr|???????5cR'?d&]p*???JT??q?pB????v0?kS???Iiv_$??T{?~??)H??s?Y????qt????u.;?X9TU???<k?h4?!Ik???8?>3&?V?????G?*?&??85Hr???!];u??9??W??h??????We???????(??R??uM??
+?t???F??????o?????7~}??c9@??W??z?O$}|^(I????>???NH???+????>67?#y???K????NI.n?P???!?]??
+?u"B??&4?U6CukL??UkU$??F?rW???T?L?%?X3y????*V?J,>&???%X??&?bh????G+??? B??h?Y?X????m?rZ??.??????)VM4w?mr?D??>?, 0?
+(T?S:B?K.)??T??F?6D?-%?D??.???S;_#??e#x?"S?G?A?h???!?+??db????3?,??*??I?]?H??C?f????Y?n???Z?x??F??@??????&D?;Tp?x'??3.?;?? ??*??
+??bj?C?=??????X??0???Q??:#??????????	??$\r?????????lw????G???e1'x=Dm??`??ImE
+q?Y???C?,*????EWaw2?.?"?k?@S?????GUo??vd9"!%???|?\???_??Q???+%O;]?%X>?h??)??W?;6`???Q?2<????-?ZQT??/o???? D/????8?Qx?#?N3m???h]?4o?Od1??MrIu????}m0	6iyI?7?X???2??}?&b?|?
+kObWzE$!?-(/B??<?T]??@??~?s*]???d???S??4Ih???![??@d.5??? ?????b??????uS?fPJ?D`4?<9pI?5?`?F???po?-??{lVv??.g?.?\???FB
+%c???4D???[O/????$???8:??,62???a?rD???.8?m?x/YPQ?@?]B?U?Ge?X?!$??+#??/??s]?QRIqy[?m???(,??W???????k??l?[????6+J'W?fz<<5whJ5?o???nf?//??/.4G??????Ac???.EM??bP????Q;?F?q?A?q?o??LE????v??hE?I?\cT?=????'{?;>u??????>?e???_:<XZY??W??I4????{e?g??JN??????-{{?v???????3?c{	q??+?????lbk33??rh???ViTY??3g6?tO???q?R????T???D?(??r ??"????lPY????bk{?qXl?? ???r@E9??M?U???>?g?BU?????{???^J?$?d 
+?F?Hp??F??a??!@?q?+??h(
+N5?&??4zC??????8????\+?C)?f????!????_??????WL??Osg}?o'?????]hL?
+A&(?g?|D?4????V??),??K?O1?6I??[?p
+??D8???s???2?2??:55???JZ??B???,???\??Z`,Z46????.???B)c?D&????v?????l?????????????B????RA???|????~??1??;
+Q??????'F?????AM
+?8?w2m???
+???o??7????=$`{V????	a??A??mC?.?x
+????L?$???:?9-??:vN?jP{Y?!v?????)????O?]k?JS????!??s??@['???2?D??@?J?>???}?s??H??p??#83?7?o?????#???S8f4??8????{WOg???:N?
+g8???I????f?~ea'?_y??](?i??.???_??)4?gR?J??~?????&??U?"????PGQp#<B?0f??<>?_??}???,P?;s>?qX???Q?g?Dl$????N???Ux?>?(?J+2??1,?:?Mx:?n?cx`?,?Y????
+???p???"??!yUG?t7??<r?H??<3#<f???wF?AX>???
+S??3??S?QT??}???P?????H
+?B???i>????t?G??w???{\??	????	.+h?}?????e]??????g??K%+??wq?O?B??Y??N?[	r?????????S.????`P?{Z?s??T9?????H8t????nL??A????-????=y?rUq;??m>??b?v?????R?????t=?<?????g?EqU?Jd[??n??*M??]?I??????b ???ac???U|?+zuo
+?t????)t???O,?\??K?s]+???M??O?t?0????????mSR??t?u???4??!?n?_????P??5PT6V&"?V??I>??O?$????b?-MO????oU?#?????	?:L?E?YH???UG@????7?M????`#RML?G???P?z????f???2`?"???q?Zj?;?D??Weo??u?#??>g???e??8???>?p=/?/?o?}??|x??Ju??G?????~???w?N????k?????????p???M?%h???I`????W?`?!???????1?Q4??-??????Fa?9G????????? ????????????3?>????u?????x?\?????/??
+.?%1N???-??=R?-??4????1
+?V?^?1"F????[1?%?????
+B? ??????r!$1	???^eZDF??%Bm;R?)L)R?B;2(??d?<o???sOb
+3??:?=???????}???@???
+!?b?5z?M?A??Z?%@<,4f!?S]?*<@?_????:?"???YT3?N
+W???:@t?T!?95?Z??w??kS??-??h3??a?L4E???d?Bh??l??N ?J?e)???z??????*QX???bS???0?? 7?????????#?y?.horW??N?ML+???^??L?mB#tlK:
+???
+L?*?
+ DU0:???wi?.G?h;?7`??R?R???L???osj?zp??4\'?T2LE?!?&-P?6h??????eP???T???2???a?T??wy=?V10???B7???"3??7muxX?-P????!?58?U??X^A??F:<B585? pA?HS3t??e?.I
+???p?zv?S?:7qg???t?EC2E????(Z3??T??BG??J??)???V???c?;?1??b`????&??O?zm?80?W?/??,>Q>?zt??K98????q?S?YVX???30?bRQ4'?m??^Y??h?M	$FH????x9?~?>/??/???????}???xQ?????????WD? ?&p?f#3?????N/?A[??xU??????2?uC?q??+R?	?yy?"?dN?a}?????w???-@??-??????{}??>zg
+7?!?{?K|pNd???????!r7^??.n?j?
+??^?k????]??p??k!?v????	??????????nL??N??????%.?^?d??aS??_??X?o??~z???[O%j?+?N?????:?G@????_	?Xs????????X?R?????rE?q???!m????^?Oo?uV@?\???o??C??j????|??_=x???^Z?1x???n?r??KGvo|}|????????????k7[??gzs??>????,???G??????-?v?????}??r??b????}??}?????'??>z`????n?\??h?????1y???g?Z?v??Fg|????????X???????P<[??????,xMe??X?hxUF2??????x???)9????7????*?HI????y?E?3/?(??????jY$)??r??Ef?+??FAb#???A?Y?3??{??Uew/???T??x?????????????_????:?V????/??/??/????????i|??~?W.???.=??????7?g??~L???????V?h?????c????CI????G?rMp],<?9S??????G?????????????3_????u?????.??{???4???#-?L????????1??-??E?[?]k???x?Gc??^???i?
+<(??????ZZ?#<??4??O??p???j?=\+O?|??|g>?Z?^?????K?????	?t???9??Z?????z!n???t"?iwU?O?>,??_????mG?-??l????V??!-,Z?_w??a??????jlN6???i?J???U?0?fQK[7?VK???l{4?.?????A?p?1???Z[????
+?boag?N?q?&???>???ZvDH??????D??2?`T?,iT y??]?U????????5Aa/Z?C?????*??????6	?;ge??%brTlT?w??^;?W??????U????<?Aw??|?????q8?e?^EsW????wCw? ?$?? ????G??f5&@?KO??N^ppl???#???:Mx? Z[?F@
+m	k????? ??|q??(??????4,?^????M2??9?H???ox???q)???AG??z?f??:4???????M???5E-bU?hX?x?&>??????X/???
+??0r4C?P?????
+4???j~`k9*??t;JvDK?B?
+???3DT? V??@W0?>F???;>??#?Q??!@? '8?l??I
+??
+p?@?Tv???????Nl??9Q?X???B??4?n?????^"{Ss?w??????[}Z??i?s1A??x??G??*??!???Cm`???i?_??%???E??is\jc????}??vz?.?Y?Q?X?????Z?
+??z??G???R?4??qt?wwi??!??JV?*?
+??-??$??
+?f?k??%?:??H?????
+|???????4??
+??P??)??y4?:????`F??? ?v q????SS???
+??????????|>?O?????W;=w??Y??? ?x?5?????2?TK?,?t???^????H????ut?????W?M???!?Z???Z?@jP???	?^f6N???)??E?q???l??2?>0?Pwv????n?yV???1W???????????m???
+~??a?&???_?)x@4#"?B?$???q4??S?.???/??GNu?w??T?j?Dz????z?L?H?p?8T?3u??????}???y\???v:,?fr?L?l???L?YV,%??????%????	?0(?aW?G???????dpcfZ?x	exgYK_??Q????K???Y?7XlH??8??3????c???i?|?N?>g?#Ji????/??$`???Gh???*?O,?0?,??{~?\?
+=v?>c?r??
+FY??	%?!???y?!*?g??{??c?2[:???rO??4*?^?x5?}jK?????#`j??te$T?@
+?\?????$8v??S?xB????|PFZ???
+&kgq??R?g~c??H;w)???
+?>????8`??Y??7?G??_A?LQ???w.
+'??dw?c???+??`??????????????T?&9(?P??1JNfW??????2h????A?#?????l?q<b?h??
+?Zm?#?-%???J)?Yvsn?niPYU?k?a???y#^k?!?Dz??S?(?D?????O?!??2?Q?z?(~??6???w?B??s?Pt???`?fr?+?'??V2>b[$ ????)	]?k3M?)???x????t@?G??=?????k?D???2????,??_???7WY???\?'???????/?-?`A????&????Z?????0???q??N ?w?B?t??X]{????l?o?????o???tw{??u???@?|w???z?]??????????u}???>???~?]?????9?'{????7??y?????ww?????<??x???????????}???????ny??????7????8??E???????/???=~?O??W??U??????????????_??<???[FwV???[G.O?&???Mq4s???JA2%
+?P*???5M?f???,?6??????$"??:T?'f.?*a??L?F????|???????????????M??|yr????Z????UP?????JK???Q??4V?n[????????????7???/?|??OK?Nf????A??????LGnR??K????=h???4?K??x??l,?D>?-?N"??6shg???ex&,
+#:O*??f0?b????iz?5e???+??&?X{?????)(A??"???m?2??D??B?yh??r???%?ahU????&U???<5R5?`)&?~?j(aWl6?????F?????a????a/???u
+,?*g??hzj???V?X%SY?Jr???{????vf??
+SRc?+6/?d=???LVq?mj?KV??????C?Ns?>m??fGTa^?T?,?3?q??k??(?E.?5$sa]??|???J??7k???L??J??	 ?R.???a????dk??t(????Z??5t3????E{:Z7????hX{??@?????:?F	@?6W0E}+Z??fQ??MzZ?!??????M??S?C???	?/F97??#=???`-??}?g???@$ROb?>?)???w\T_???0??????f????M??	?B????L???d?%???Q?i???j^??z
+?+?##???[rx??c??&T??Ol???m"???X???}IY?'>T[?PW*??Bl??Y??=b???-?q@`?T?????]??El??(s??q?@^?I^'??
+?3xRQ???C?p,???1?[G?;,????^J6???&}L???\4
+???x?i? ?I?	.\?a??T#|a???3??t?k????????<>:????}??{787,8?,z?y?(????\}?epr??`JsFp??????`?H??aL?d??u:?1X??J??N???)7???:~(}???M????????IJ??M?S<iWb??mK???}I)??1?C<ag?m??wZ?02??A#6??(MdQQ?8-B?9??n???[K??Kt??w?|q?????W??s
+.f???C??`?????3h?A8#???????????Q?e?%P?(w???
+0l??W ?????B???#??Fn?????b5? ?uI???{??)h??????vQQ?!????1?abz??s???*???}?d?~?(??J?u?4y?P?j?i;????????L,f?*uL?/?????Ed,}M}??$?'?????????r<#?jl&9g?%mq??z??>????-??o?6??????z????~|?????~x??????????u????????s??O????????&???W??~?/?y?????W??y???W_>K???????	????C?0&?	??%?a?3Ct?U??g0???x%?W<{??3???~???_n??g?}????%???????hy?o=?e?a?2$=?Y?????l?? ??,Mc?p??*G????o??I????"??	????lh?????k????#??n?{???!?'???p?D+??-??X????
+sC?@g??>i_s???i1??D?v??NZ?d???/w=??Y:
+M?????^[h3r?A}?k"QU?{(iu???Uc}???;????*!2G??)?d????????[?s???7Ua?`)?P?8k"???ka????????-??7?Su???|??)????R?F???????? ???????????O??5h?x*?k???.??????????"7TB?&Z??h|????Zgg?N?M^n|?z???%?C??Y?0?5??mu?@s????~j??;??vn ;??e5?k<
+??2?V????	????>??'?,???A??YW?9n?'?????)7????A.&?mb=??=?z?%??0???,????c??-
+m?m?5E??BN???*k?rXsW9?P?y???i????????%?q?????Y.?}???H?1?8,?j:lN9?sw1,*?Mn?5?????????????t??? ?????h??a?aqPnMC???+?x????aeL??????`T?1?4?k???y???k??'?v?/p???\?q=??i?????I)?p???%?|??????Q??x?5???\????-|??[??M.5????????W?
+qOM??EU??Q`%4:?p???$??l??P?B?z<?eT:Go??u0?<????4C?*&x/??$???@??Z|[?<-!+1???????????Y??YK
+?Y? ??-i???????$?z,???wG?d??wN?$???S?7??_{u?^?u~/??]}?\o????C?????(??<??g?3?cu7??,.???v??.?n?j?|?R?6eb???o?>????08??az?Y?)?????&?^?r?????p???o%?????0?}?hZ^?D?6:IJ??M?????q?R`	k??(??M?]G?f?D2????lN?uA,]S?$?B
+?%???]??N??l???
+,?Q???,_;?'????[?????; ?EW|_?m?=Z??O|y?<g$a
+?o???Hy{???g>???"????????????{dReI|k	<??3??2p(^V??ro????z6
+>,s_wq???[]?8s??fS/???@??$-?r|?L?O?q?Z.;FT+?n???8?n_???[?)????:??!?c&????Ok{Z??Y????T???k??Q1R~???rHH=j??(v?bM???????5??x?8??Hv??G?!???2??C\M?????%??Uw?y?k?eQ?T??????e??????~O{d?s?CM???.&????.??G]???[
+E{6????????
+??	???q?	O<???x??!6{??7???l????7?/???r???6?s??????'/?(M??????a.?????(C>?r?
+\n??????n???
+4?e[???"}T?Z?k?e?????????u?t`??u??Q??_??<?Jge?M???Gf.???-f>9???#???????j?N$1?H???q??/?Ca??	?}U@#.2?]?????<r1?>??????OO?-??&?D??#$?ni??y"?[G4????I*E??	?????B8=?]z?li??,?^??}m	~K!p???|?K?#??t???<?s?uV0?????R???;)??W+zF????yW?'5
+?1J???Sb??7u???V??`0?Nw?!D?if???K?K???A?jYi???[k?&SG??
+??Dv<??W?%^W?^??k1??C??????*@:r`?6?????P???g"?'lz?/?]??'?????????$??#D??????K?&W?u]e`?
+f?%3??5$Su5$?j50??j??Q?b????!h??b?M?$?jy?z?????i3?r!?????	?i??r????V? ?.?	o?UV??`FI???;]$?????C?&Y?zsQ??+k??c????)?
+Y?F@???w??H??T?L???????3
+/
+??{?A???a?D?3????|??4l?LJ(?@??=d????????v<?D???<???xbLQvMU??#6?';???O? O?
+?????*??2??i=?B?wQl??[?^??????<C???p?????pH?<??D|	E|???4l??X?^?%?7?bY%,BU??>ei?4s?{4??e??+??K??!"J?h_?GM?\#????Y?vMj?`R?I?i?Fl???????,??I"B???~??nM?????mi???|???????????>~????????=????????????p?Gjp~???C??SdU@???Q?]??X??????CpCQFh????5?""X??6???a????????? ???????sH#]ei,?#2?Yf?o?8?Q?
+U?Z?{???p??wA?.???G??1TB???d?'??N?Q???g??i?L]*??S=,he???- ?c??M?p
+rg????*2??CA??$???(??????Xt?Q??D??p!\P8#???U8N
+?
+S???m_`???nm?"b??Z??@????q$m?=T%?FQZZ?*????2??`$??%s????k???d?M??My?C???W?vn?c?????DGvw????kg???0????e/????H_??<*??HJ??mS%????bg???4?cQ\?[?x?nwA???2u??????i???#?????s??G&_??0?
+|?%?TUf??&Dv?^?M???;(?VSc???;B???)na???l??t?????%???L???`??x'?2?:NJ???SC??????0l?#???&T?????????}? ???? ??V^?M+????'2QT6?fV??sYZ(5?[jBy?~8???????0q???????_?!?4I?s-EMmZR?-??wa??????????~?}?rg??[o?-?[?????m?
+|???/^?|???????W????O???%?Z???"??????????{ov???????????[o?_??oys?????9??ov?n?}????????=?q;s????n={>_???=????x?????/???e?6_????????????=?????O7?=?^??z????0??<~?????D??OVG????[H!N?????m???f^?m4	y"???:3?o??????P{V}r???}??|??W??????>_???M~??@??a~r _????Xy{g}~??H????:???gut?KD??F? %]??c?nu?t??-??w????"???$Gq???????????:?yBW????????A.??A4?	?2?#Q?O?vVz??}]????????C?*n??>W??]@?AN(`????+pq???tW????F?g??3:p|l????w2_?d?K?3?`k?]?^9Pa?????6.?s??r( ?
+dr?w??{??7??;=?wf???X????u???lr?T?ojX??H&y???
+yB??j*???
+?nGc????cw??????X?o???rW?????9Y?%_???r? R?E?????
+?e??
+(Cg
+??|???>U??Q?z?.??R???R?HN>V?:??X??BZ68????E?~???T?!???q,e??xt?w??
+7z?v??Rr??????V1_8?}n???2I??`????
+?C8
+??7?'E???:??V$??1S	D,}_?mN?????6}?Z??????I??\9??=Tf???LnFfh+T??
+?
+=?B/?a?n?????oR?(???4??x?^?^???
+4?#&	3h?`?n??n*Ou???7??WJ???n?F?(5RF7>?M??f??`q1I??+q@,?jN?Q]U ??
+H??W{PT?v?/?>?e?eay	?,?y??????1??-`D?u???Fc(?&?D;M'?$5FD?L3??L58?2	N???4#`?*?~??O?
+???????????????????b???????|??:W??t?????r{Tq?f?Y=3#2?*o?2/???T?{???(O????h?P?8|.??b???????????<w)$< $D???-Ad???TZ??B??Lu?US??.tGW??????????qK?????l?|???5??)4G?H':'U???p$?-???*>J?U?B	?N?M?D|?\????Q?>"?(28??(sS? 8##F???Z??G?kr	???d?o"??(?U????E???g?H??v?d?Of????#??"??)4A?T?UK??HQr?$#?????c?T?}??
+#T{?[??t]??}a?'M???
+?(?y@$?J^??}H?J?? 1?L s?$??A.?%??)!WE?uJ!??&???????????
+??]E?/@0?????? 	5??F5?]?C???O?^%??????&8%?Sh?6K?eK?1?b???????+?DI!?????L:???????????? ??6(`?5
+??D`AuF??1????S".z??AM??e??R1U?+??I?!??L?????>1)H?L?????a???4A?Z? hO?c
+?}??P??{??"Q%l?$?$F%R?????Gq???O???c??jbT?D?xZ??Q)4ShV?&Z?|u7?@???`
+?_h?I???j1?????????eqF??q	T?[5?&z'??NS<?"9????? =?n8A??w??????Cl?W?B?
+?;d?c??w?X?la@??0?+,<????x|?@ ??y\?D&?@ ?%?T&?I)?H?Cs,?m dr?*R???1z?ZA???6X?Rp???????i???,?)-??????1P??`?H7Yl?????9%???83?roTZ??1?J?z4????????]V???'j???-	JpkZ,6?/GH?I??3B<Y?????{???6o~??UK?g"n0??Jd?(???@Ja??]??[??q??;????__???vi?3I-???s??????S??MJQZ^???????}{???tt?G?k?M?iZ???
+???4[?????R??q???c!:r????Ov}???;;?????9f?T?;???D?e?W=R??D???[^|y;??gz??????????}b????ed?P\?L??S??q??????{???c???7p??/]?|????wZ?+?q
+!'J???/Y????{??;Jq???O!?_?z?????}???m}j?3^??ED??V5n?K??C?????:?q}dd???C_???k??UAj`?)]F?????v??T?YR??~f??h?y??W?????kkr??b??-??d????;?{?.?R\f???~???^]?pA?F??Cq2??l???>?:wqp? ??o7?]?=???gj?i#??<?VQ??????WG?L????????9&]@?^??????>.B?????????\]?%F:
+??aK????????
+CF???M?76?l	?Z?7?y?F)M?%????nE}Cch?P??n?[
+?Jc???p????o_Hx?$?)??`$????mG"??????&!????AxX???????sqE?&??????H????]??cM.>?65??,?;??:nhk5?/n:?1????a??????????
+nA????????kO????{[>?\VX?A??
+vh???&1a?}??V?I?{B^%??`??YV?.?XWX??#Q????Jd??T??b?X??[$?SJuFck?),?"T?????BU0?o ;?j
+??2??T?`?I???W???'????f???W????M??G?P??Eh???????5????	??Y?NM???2X?7X?`K??
+G???<~??~-?s=*?_??1?`?\?m????@?_?????d?a?]??d???~???K????|?????1?d???????b}?/Y????????X??7}????yM???8???".????x?KJN??H[??,?????B?u??yU???2?V?n;xz?W?8?3?aP????_^?????]j??.??ly???????o_c??????uo?#R??j?????ru????KWz"??g$?y?
+J??+?u????^?<>vahr????*??????I\??,?:?(W^?x????????????S???'??=V???'????+??NO??iuMM????&?nx?jM???~}vG???f??OtG~>5?3???????r?S?????||}???%63?|p???Pt?v]??*???????????????iK????s??V?M?R??y???K{?ZrS<????o?
+???C?z.??>;+{={????\?de&%?u"v???????u]????@y??????????C?,?:?VW_y??k??????h???7F?{{?c???F?M?????????'????Xt???0`?^??????9??XW]?????]??????	S:9?:t1Z??????????Z?W??o?X??W?b???<?f???G/?????.&L?2:y?ll?x?s`n?@?qH+X????0!??????6???X????=:{???"?????????????????????V;E??om?mh??e??????T?)2?[?l?s5??????T?z??/???^????C????C?8???=o\??#????zqk???|???]?/??vw???*??p??}??3E.??y??C	?????Y?r???jx???|?????Lv7O???_{9?c??dt??-?????O?|???iq??????????k??Qzi????wf/?f???w????>?????brO&h??????+&???
+*?f?@?Hr\?B 
+???HC?_D%???|?^R??T???<?H?QD??T?E???????$?	?&?c?\???#TRe???.?l l?]Qci????d8??~????????MHm?VwO??=?T??J?y????T>??A??1p?[? J:?I??"ehYedM0t?@??L???*???AWX(0?? ?)? p?D?D]??T???H??????S?F?v??)#?Sej?!	:E??_????k??j?rFSR?dQ???,y?n]??.;?(9r??|??7 at j??(J?l???8?\???^???Q?`*??^??!?f?????%?????1?w????1 ??I????$f??g?eRM?4YUkZb??nU?? C??????Ue???d?JZ?|@|??????????K?5?|?7?K?L&???1,HV????.??E?Z`F????y?tA?-??e???	?dY? 'r?n??/Ik
+?Z?["?
+Z	i??dS???TD??A???$";????wP<?!A??!??W???LV????X$???? ??'QI?B?}t??6I?e|??^?`.??2"??88????~???R??9Co?kb'?v?	&??E<C?cOI?? V?g??????3?N%O??? ?	QGtV????V???T???	Z%?D?????h???{????n???yT^??!<>????1U?p??4?#w2?H??L?b???)	1U?????????!??)??AC???????g?i^!???Mf??|?x???>x?A?V?m?q???@|???>??a????d??
+???9?6?b??h"?????b?,l???Q???|???[?Rs4?r7??Aa???E?e??fCL?.????X?C?O????{????L???l????v????9q??A??????`I+Z?^F!?4?X??s0?J???O??j??{EyZ0i_`-?????
+R??R??3?????&[??8-?????#q??/????????O???'@?\g??C?d???0??.??????HwPY~G?????^??????1
+1"?C??*N???f??G}??%???????1??V?8JL??i??2???T??.?^-h?D]6Xp??0-??VK1},ADK?p?>}?iERI?,?P?K
+{?????*????????g?????=???Z????z?a?????????"XL???????*??[??U?V??G????g??$??#??j????J????=?4?~|D??r?s?{?@?*^?b?h??$,!?>????|?n?o????+???*???_??A??8]J1t?a??I?C?J'??eR??FA?ryD?!qk?s?R??m??cl'A?8?X?Id??????A??
+m???"r?;?h"??Qd????r+/??(1?kZ?a????e?*??]?[
+IV7>??WK??????-?<?N(?#?t???????M?*PVe7??"?#???P?????^it'?Y??k??X???5?g???k???;?????-??$
+??g$??????qA???????u?z?"??S?????
+?!?s?Rro??????????m?`??Kw-=?
+?G?b:Cp?`j(
+?x?0???????.?V???\????	??s3???rbjGp????^????'???/]?>{???&mJ|??;??????4X?[n???n??????????C?????????|?q?[JVw????WOAU,?FW0^0i??2?H?)%??n<?I??W=?a?S??MO?x?[???Y?-OZ??I_??5;?n?*`'?[rq????*??Tc??????w*?aX??wpt?}i???]?~B????*?^T?n???}???j.'6y6{???}?X)/rzCN?u?|?q:?=8?+????O????G??\6Wj7*?Kc?~j?)?n?EJ?????5y???h????a??mr?j???e??nsn+??!=2
+InP+j?^N?b?0I???i?"?????'c1Y,?L?`G;l?1????a1?J?Y?C,A?w4*?j%???@??
+??g?????????????????_j??\???b?????L??e.6??`?????\jL?8?c?2Ut;??>?N/x?????c;:?}?????A=w??]?\?????9?????my?9]?NE&?M?V?&?C]-?+?????h? ??h\N?U"??3?=.???g:?????!???????[^?
+?!e_m??a???????S?ton??g??r??Z4:?VI???*?k?j?k???P?gX?T<?fF??2?!????R?????fBz?q?P?????0???W?????z?????h??d~ ??k!???|?I???v?eT?????\d?V;?V??<i?U???|?B??????A??|?????_fi??a??@Gn`9+???o??'m?~_???i??<?7=4?2?x????
+?f?W}?h?????O?|???d?A???WL???[?[=??wb_??L????R?u?0??g?/??J??9?KK?N&??pLc????????QH?=^?)?;?qZ???&?4z?????Y??)???Gi???,ep:O/?Rv??Z?y_??1?K?\?[y????=
+????]?x?g[-0v?y???d't??? $????#??D?9*.???`??~????????r?????"??????d????u?.?%"?<??T?.x?R????i???5???ZN?G??????G??z at S?{r at y[h???}?!$?S?????i??j?^??c?4K(??,??`????G'??^R????u2?-):d??L??k"???X?]yyya?J??5N?vONXT?&?;F?1???y?O??????`??^db???8??<???Qi5(??A!F????Rj???5w?%????#????{?i:U??G'4*D??(?a???????????*?z?Z?c??r?jGD???$?6U?2???M??Us?]?[?5'?-N5p?????5???M?{4(????
+?!s?5`Y?t??	W?
+/???t?R:???????J??r?:??v?p
+???99???1?f?Up?	?e6??K?2~B?????B?<??2?YJYx^1
+????t M???~??1E??DF??R?G:??>??|??A?8puw????fcR?$??????????MH+nE?S?M????t2hC,????@???)???z???????#???f???:?D?+??Y???<4??]?t??)?K?3?p??5?30?vd?????b???X?????7i8vam1?a?Ig?jl???x3c<?*?ff?R??-9??7l?Q?????t??=??I??N?8???????Kf?6????]?????!???|???A??????bg??/_??y'??d?LO??????[g?w? i7y?JNn??kI?X??aYg?(
+?:????nA???+g????Q?????+Y????~IC?????PC#E4?+Y$D6??????)AT?)??3?V:\?AC??I??5?V?~K?????????.???)h?w[???Y?U4?d-?Jk??U???dki?H???e}%[2???Y??'?L??S?:i?,??M?)?(?EVT??1????????d!?Ej?U?????
+!????&ek+?4a ??X5/??l'#?o4c??SFz???z?JFWl?z???vM]-???vk???99?j???^_?U??????/]?u?	??Q	??s\:?5TL??d??.RE??lz]l+K	G$?????x?s?Ak]F?~.E?
+?S?Re_O)?????'??|W?J"Azo?Dx??0??	?] `?8?Q??<???9?-Wp4??&?R?)?\???p?????????
+
+?W2???\???^??9A???n???m}?]?r?
+????????rX_V??X??@?x??b?A??@E???N???????^?>
+??[1y:\?V??'f??@f>?UB?~????[I?i?~v???????,??x???A??^?	?P]?oZ??*??9??????}?S?(D?(qC??G????]???sqO???????????1?-?
+Y?zendstreamendobj49 0 obj 12397endobj50 0 obj<</Length 49 0 R/Filter[/FlateDecode]>>stream
+H??Wks?????????$??Xv??d?v???]K?l??d ?P?
+qo-?A?*r??@?g??X??B?8RTiD?$,.m?Y?fA???bZ????~? ??3??\x{?iNg?:????4*???n???????????}??>d^V???????.f????3??<e!???;D?E?2O?J?:S?)\?	???Pf??^??5??? o??????bO?S??????b????f??W/???@??:??9?????c?{?#O??h????$?VPn-??.k?|?l??p3??WUd??
+7???'(?'?O??C???Pc>?\:.??cM????oy????Xcu??:?????K?}??tU-?X?e????s??<e?cB?????%a?e????3????nT?y?N?/?,}g??e?P?U???q???:5?
+?D0??P?cM?Z?wd??=?{???J\H?,???g?Y??q??l??,#?N???t%i??r???2hh_T7Vm????o?f
+??+Y????(?y?P\?oa?Y??`?1e?H??n?ApcP9?>U ?8?k
+???l5?<an'?\?TEWd?c???	?6?$"?$ ???L??;$x[?v_"}M<p)S?\?Z?=?P?UD???c?Y ?k???v/??5
+??L??v?i????,#&;???kH("j&?FA??????(!)???Y??	?Q?et???7c?I
+ex4Y??n?-?@#?T8l?.zht?R#??	T??]??"??!^?ID????0?h$<2qE?v??`J?`??`;bi??a???fg??0??^sj?`v~bW?????p>???8;?=??????+???
+yY???ri??5??g?- at 2?i.?????*????~\KS??? l???aLg??F?k???>?S???\0?JGk3???\??p???~]?;??rW?hZnv(|t?s~ZQ9.x?0??w?"27V8?R?@h??@j6?Jx?,?]X???dO0???*?l??????8?`??4?Hv???????5(?`1y???=6b?:?j?1%\???CyDu??zH??????D?j?-?????s??GXi?E?*JW(?f?q?W$!?x?wh?+?l??^?=.????#.sr<?`??6C~Z?6e?	?????=???hOj?*d?.?j???????4A`???!d?a???>??(E?8E???????\?wMT?kU??8??0???????:?4???X?Am?1%Es??~-.????,??7y,???!??h ??}?5?h6$??Q,W?|_q?$??B?????O????p???????????P???6}??|#?r?`-6 ??4J?+3??A?mJp????Ns?N???h[P??O,X??S?Y(j??]?	*?)???A]???n???Ov?j?i??{#;(FG'O)??3??-?~???p??jvP?-m??C,S????z!?A]???E??h`????oMJ?v4???
+>??????mY??N5?u"J??\?y?Cm,t?&4?|???4???P>?'?t??JU???	????D?ZQ????o??W?s?%'??D??J"},???>@]?W*e???3;(.?????x?-?
+(?X?h???5??S?U	e,TP<?U|?
+??P???:Vw??h'??u???P??B??YO?<*e?????E?b??$?9@??L?t{h94*/WA???0??r??:?K?4?w???=T?\???e????(???.D
+N?2?9?X(???[w????e??#t2???tD??Z?A?/w?j?}?h?:6??#t_?|='?2y??i{_k,?9=o?!????nW>?3?Q0??KC?v?I?}?hj??v?O
+???c???????????:6???Wa????	??kj?%?@???????M?????m??4?????????J??_?)??g?E??f??M???6?hKR????VF%[?2?h?8???????s?L?{?V?3???{S????*!y	S}J??9?*v?S1??%jc9??F???j?????Z?s??.?r????W????a???JM?l??P?zy]O':!?????@?pl????
+?~??s?+???gC1????N???*?v???A???<???E?&bN?f?b????l???9???>?G??w????1?[%?W??????Y????~V'gP???C}??f???d??zU?p?V??o????!bpW]vP??[?i??c?@?T?g5?k*?7U??????^??~???N}?~???5?%??
+??t?hiI|??q-M????'???^|N?9??]/???'??Z%??8V?!??.B???5-jx!p???P)????m??6?$((4????gw??,V??f??"!?l?@?_v!?41F??B?W?[u?c>	???%P???(?C????$?x??s????????n?u^=??4OM????q????#??&?>???????`?2???-??/`?)???(??/?P?n??OV????????j@)????1????????`9O??g?93i`??!{%?Uv={,???d?RZ%?
+G??gf`?)J?JJ&??*2????(??W???N?X?2~d?????Wx\?G??????L??V?A:8?a?a????C]??B?\????_9???~?o???$D7M}1??K?qH?-?0??R at Bs??zF??C1o?hu??C??gn?|?IX*????????[A??+G?7DL??k?)???t?C????G???W??B???hL2\]D?A?*??'?V/1???mj\	???.?lV??zUAY???:1???	?q{Pa?????P?`???*??Wl/i?l?????w?Z????m/:9M??kL?^uWJ?V1???Nd
+?????H??x??w?????Z??P???I???'_??8Z??K]??????*R???I?c??u?+?\q?????????????	?,?,??2?X???Qv?Y?.K?l?y?\??[?i???u?:&"????T5???ejM??s^??b???Ra?[?b????E??bXm????
+d??k???I??HQP_t??o\????
+?????????K?ud)	?Aw?5J?66}*????!D?F????0???iwt8????M??H????1???W"??Y1J?X???X???b??c??C??c???B?O???k???t?!!???V
+b>?5??J)?????m@?@??p]?J<P*$??:B?y+?b??N???]????????9Y? ?T?? ??Ou,??1?j???T??w??cS| 1???~?h?P????`??????????LfZ
+????y b?v??Q??f%"????K??W?N2?r?"?@???Q?s'	
+o?V"3?.?????1??mCC?`CL}q?Sw?	??6??Un????K??/6rO7?C?????G?n?K?m?w??
+h??/b^|????]@????R????????}?3?{?{M*Q????n?=??}??C????-????t?????~r??U???5?&{?N?j?=???????"?'???n???tC9????GSxK&??1/Y???>?g??=?l<??????????	q|???????t/?h)3??>?{???W=/???l(W??J?RdU|?B???o?w?????p?x????????{???B
+?????????.??wG?o|?2?w??Z ??oC?????iQN??`????f????????c????F?1?D?v????b1l]n?2;??????????C~?%??=??ReR/I?L??Ti???X???N?[????(?W??????g/?yJ/?C+S?P?Al%??In%??5?Rcd??VN<???????D?s!??%???
+z??0???V?v?????????J????ArkQb???????fi?W?A?i-i~K??P?u??4 ?xXI?a???????????????q?#<@???|????q?*%??????u?	?>???40]y?7??xlF{???G9?t?d?Z\?L?M???b:??p%?K3?B$d????$/??jv1?QD$^?e??M?m+?v?;?Le?2?x?A
+?_:?_??YbT??"Ri?c???=mR?)e?)?WI???
+wOI?b???(???6~\????????????wz??x?v????????,t6?4z??z???-???w;??#??Sh9?>?3o???!w????<?????<#j?6HtN??+D?f? u,?W?0<?]l????=?|m?)?&+I????
+Y?.?p??s????>??>?N????9^?i??a?????)??7??Q??A??n?g??u?>??v?a?_?c?:???;M???U"&w?1B??Qs???o?????,?/????`??TGGt?.X
+???????e?/??I????{?K????????zR	?hy?I:?e?????e???F??i??c	?i???5?5-?_??????u??ZR?2$???????w?qIM?2???d.???m?n"??,}????????????iL??I&???B$?9>ord)V??O??????H2h???lN?????{??us]D8)k???????;?????P?~?7?b???\??O? x????!f?E.j??R???N=P??NT??V?=(???Z
+?v$Zp???&???R??cL?H????,-?p?7H??????????y]M?(?j?????/????>=m??R??|<:???p?3iU?M?v?_N|?GSBk]C??????(-????@???8??K???y$?y)???????>???W ??l???*??Of??%????.???_?Z$q????sy]?.?T?P?&~%?????T?b)K?????*?)L??E??sr%M?j
+??)~?Gh?KG?????Y??|)???T]?kd?wh??/????	???]!E?r?????%X{;???I~?\|9?PE????K?-???7?????E4???n?/???U!????*??h??(?e?/?????U?q:??.n????V}o?Nn??s?c|?p??/?\??X???vJ????+?`F?J?? %/?9WIH/{t??nF????N???1,L?;M?_?u????q???7[r????M)???kh??~???m?'S|??]??\*|?,?w????"???&L;??]????
+???2,???gU:J_~j?X+?O?g??U????=){K
+???=??M?&? 6:?????;??_a??f??\3@??8?$s?{^l??Bg?K?`?u?1?N$?:wU??????e??F?$7L?m?!??Wz(9G?q?!{??????_y??.5?7n(j?l???\??X??,7P>aX??i?ujBSr??4f|c<-2??8? ???d?+?D'A??,??????e??J?&??r?? ?E?=?T?????405??d?-tm?	????E?b???c??????.per?{????c??L??H60S?O?@?G?@??????"???j]J?	?O0?????J	?????WtKJ????gr??'?@???6gN??s:? ?G	?????,&??i??\?ziR?t????????6?0?]8?0??6?I?I#s7?|i???z?u?AB%??
+??T?SQrD??0H??k????5??
+?????,H?M$HH`???+?~q??*(T???Z3?#*??~?????wM?}?????n?d????;}??)?:9=t????????&}??2{??????&#??????2z\??+$x*??????E??B_|???A??n8?H3??q~??1??=i.?????v?0??K?*???[?"?d?????	$o?Q&?????E????	?1???*m??e???????N ???????4??????H????z?????pE?l???!? ?M??TE?P{?$??%?,z??a7??V~???Xi?;%?N?O?j???_?'/v?q0(NH
+f,
+(?????B2?$&?KN???_??????`*N3g?vYM???`Y??W???{H???????e??7???.?^^?????<P;V?6??>?P !????>{g??m?D?{/T?e??W???X?e?bL^??2;i?~??U?=m???WzA?]???!]??O??????.?C>?`"_?Uj?)??B??/???T?WwU?????]je=c??4?????{???????>d??:?}?=?s??a?sw_0???k?T?"?g~	m?\?O?7???*?????y???!&m??3??????}?zR?1*n?7?L?5??l??Yg??7????d?????4??c??O??Dr?LTd?L?b]z??O=$?*B3??S??zIH$of??d?:??O??????E???La??9??l???<r&????I???x??????<??C??????OC?[??w?P9??:?|"?????C?????5???/??HK??r?]?=d?E]??7??MB??O?J?Mu????6??{??N????f???8<CB3?{?]??t?54??S?[?u|Kcv????S=???2Qk?ce"!h?O7?TE?=9H???N???y?`??\?6?????}???C?bIf#?z??Kc?-???/??1*?lYei?????"d?x????????????????????[???I?uc???1????"?s????0@????_?]??/????
+H??W?Z?J}?<%???
+c?p0???n??n???S?W??Mi?.+??????P{(y6??B[??????/?Q?????i?????-&x	?ex?????&wy%?8'?L???2NdQv]??????D??????$??
+{?N????9??(??z6?I?Aa7??l?Ht??$??zv?<?eqZME??%?g?#\>~?????O????9?i6?/?+?C??????????wN?c:????J??N??'p ?1?J[x\???u?.?a??????&$?R??>w\??I??/??z????????x???4?Jq?.???p#p??5?^EP$0
+$????O??i+????<)????[??a
+???R7??2???}v?8?8??"?^??b?8??B?vYn1?c?#??5?4Q?SC?wT[??NU?-Z?;??P????L??<?h??>?:p?????Y???)l?e??????j?????? ?w??B
+	?<??5Om???/0??T?<V?AXt??H?????l?LK???? ??C"??'I7Y??;p&[?>&?=q???????{?kd??????9U`??J??E????
+3?O?S??-??#`?[??E??=?nR????5[?b]???????U??m?P1??;[?g?}?l??????'???e?I^3??\>??=???tW???m??x???}???3??|??'????'???7??7C?F-??6????8A??C???`N??x?]?G?_ ?f??p?u?/?s??G?;6'A??'?V?"????b????A+???????=?v?K?v.m?w???Rz ??1??<?|??K?????H??u???c??@U?f???^????Yo1?p?V?????]?????v????Y?????????7k??x}?a???D??????]???????????m????9?[.U??y?w???w?^:???
+??(?qS)?L???k/?i.???&{?-+???????Z~???#?/??8?????
+?Z??????7???.?H>E??oWig?qlu?/?]?? ????????S?%l&?????9?.???Y=?XL+CEB!O?B?G>?%)b?????p???J????u7?[?pa#P???n??t??|pX?a3?|qS?l?N4B??L^i?i"?{?????T?tsV?"?1?M??^???????z?&V?~t????. ?Bw???;??k?C;?uw?>kd?7??????j??!???C????'?9J4?R??J=???ib??e??-?D???Q?D??.;|U?????5\???ZR???c????d}?9????<_?a?????W??5_Y?4X?.~????-?vT?Y?%L3??"??K?	??U4????g%!??6?	`n?????|?"?i?4????D3b?OKh???r?L?????65&?$;j,??T?????I2???gB?E??(Y~?????%C?XZ??K~5????????B
+???`?M,?]??,??"?1w??i???sME?tivZT?.??RSw?????9W?F|~????)!??#^?Y?T?S???,X??? ?|+??7?I?|?br??(?????CNI?"??o???$??J??????_>???O???8??wm72g????J?4?A???+5?@R	
+3^lbT?????u?5`??)I???N=?E=9+??p_??????JX???t????U2+???=?#?%h??G?k???D?o?*??p	?d????"??L	g??NmNi???$!?n@???Qj?@>?=?R????????w??"l?$???7?
+A??sq????=????t^?q??r[H N???????C.?f(1?x??K
+3S??n??B???T????
+P?????}?v?ZI???|w?f?i?t^\R1???H???x8?]?O??/?Z|????.J?uE??;?a?Se?1?TpZ???$rf?3?|,W???B????zW??|=?????t=Q??^?a"*Q?7v?5jt?bp?????W?j?d?????G????:u??i/??:V?v?<J?;?(u?1$?x-C?$?J?>?`t??	p?*r|???ZC:???&?3??Raf?????.
+??vg?t?L??8<?{
+?Qg?lm??|??b@?W?u*? z?r???G?B?\???q4nI?????????&?L?Z??mg????>:w????"?G????ZUA??????P???P?!D??7?*?dV???%????{????r?Ww{?????6-???3?G??%=?~??s*=[W?,Gm??B?D???kv?zP????q?^?n??????.??&.??]u??
+?????W?W%a0?c?????_???
+t??QF????*8??'P????K:?????V	?+???????H?	?$???????c?W????L????m?@???9?1u,M??G?&??0L?%{K8?Y?V:????DS?/?\!K3?|??cR?uY+&??x?-? ??pl?.V
+j???}E?F??k????I????f???S????????+?<???(??????lX?AK????cy?}????????]?_????I/??4h0?"??YwX?h??>?S????5?fqYS*v?nt???Q_???B???A?BVT?O?;Y??????(??8p???y?V#???2?sl??S?$?????I???>??????c???e!Yn??j???Js2?qQ???4W???D?C?"V??i??j?*?M??z??7-?}bN?N?"?0???????~sQ
+du? J???????]?Z??p??x?mR???G~?>?UzX??n????????????c<?)???7???????Q?\?T?s?? ?P??<?A???@??nXX8?h?/C????=?C?pBnc???1@????%?????t?dY????g??s)_`??e???p????E??s?:?????|??0????x~3(????????dP??8R0?t?/???$??8r0?x+Y?oO??Zo?{?B|???2???6o|?M???(?O??N??k2C??2v7+??2w3?rsCb??#??~??3K????}??E?p`?!O?????F??*???n? ;?&@??M8_???4o??z?b	????|??T????@,
+?P?;#???d7???JNmH%?}??#CGVg??@??p??kq?fu.ua|?????#?7M?vli*
+7??5Lb????S???_????#????;?????U?ufbs?m?D6L|^?
+09??@	l???DA????A??sh?a????x?????V ????nU??j???,???=??e??*???O???D?!ao?D?q?l4K?l8????F??:GK??}????????^?????C @?????_$???7$??}?HV.q-?d???B=w6?????pwHV?W$?e&???????e at l?%+?`a?5?m2=??T}lM?c$+.?"Yf??H d????hAl{U??<?<c|rt<??rb?????ZRP?{.????gA}??????^????
+?C?^aF?Xw?C???qO???9??g+P???8?e????1?S?|?YN???Q?`?p????,;D?D????:?o4\?>?3?E???????.g?pE(????????????@???u`?d??????j?7.?
+?U?[?8?;?A2i6??N???????n???????o4\?^??q3??p?~??6 ???????2x?c????>???? ^W#]N??????E?G.8?&4??
+?/?
+k\?qRj?a,???S??@t)??|????A?Obi??`?????"@?G?e??{??EB?px??n?'??d?????W??!q?F?
+??????W?????R??????????????)???z??i=??rD?*G????`???9i???R??[????x?v?????19UG%??:Z??B05???tjv????G??s??R?<??\m???2???D??)?&?^???????*?ug??????IEg???[0_?h+Y?r??)-N!0	?UI8"?sb???9?@U???q???MM???Q??7cZ?u?58x#Z??pf????A8U;z??>V??D?y?x<5??})A?d?4??n??_1??<e?rZ??/!O???X?`4????+@?3'[??vD????.??????TH??bfT??a?????}????=??H?	?{???~?&??????y]
+A	?2?S???????[?Y<?}*????<?g??eX?????V???2??,????&z?????2???f?'0?M??? ,??7
+????U?Y]??@????????#??b7V]??kpK7j?-9&?H?T??F(x?r???>????</???-???FW?Q?Hs`5E?*?`?Mp??aP??X?3????W@????_,??	??????V????????,p??'!Va#?WQ?r[???_	=?9????>??2?-?%?D?????????s???
+F?z`?n?a???7???(4?4ER????~?2k&l???$,????=?I?:CS+^h?fx?P;rc0hp?????D+cj??dX????~????`/??9??/??1	,??f!?U???O??%?[d??HOFe?6??{?L?8??v +XM%e?0C ??.9??d???????U#I?xd??m??2?rl;?'0^?	?G??	?b<e??????7?_{6??f?#???8??-???TT?????i??/l?{???(????f????Y???2?F???WkqU?>??+V??Vf?Me???A??Vp?o</??-????|?C?	}?k6}??>?M:'??+X??9???~fLE?y?>W????$?61???ZD??EV??+?S??&?r??????lV7??<.?????^???h?)?n^O?~k!?5?N&???[????C0??K??????9?? 1#m
+???j?&??N??D"6???/d???L%in*?Y?&????XN?
+YN2?"W??0???0???4|?c???*i*?|??GwV???\z?y2?L7fcGI?????w?;~???Z=>}?6??p?
+2R???????/?%?????	?qP~Q?eYL?6??????????l?'8w???,??j?9???7!????`??ef????~???-????????eR?K??![??4i?c??;????BC?7?Cf6+]?{???VV?Lm??=?>k?*-Y??(????4??9}??YF?????8?C? a??1??Pm?{'??@Y????f?c[??0?#I?????bd?n?4	b?	?)??y?o??{???Cf??"????t$?H?????~~????F??:)?>c0hd??z???7!??wm??Np???ug???????H}?i_?Dd???qZ?u?.???????>W?a??\k????p75??]??4?????K?J?4?v??/????e0?}?7???]?J?????????/?z????Q?????8YQ}??.2??????7p?x!??:??~???}P
+???\T??????7???R?b9??D?zsN???????N???m]??)?J?jz9??W????????a????O?7??RP???cy???s?j????.?;?&??N???d??s??h??x???S??E ?????f/?`?m??}????????????\8???UV?/I??? 6Y???j??wu?*?m???	???? ?JuA?A??:(W?7????p??? zge/?^??P??ouP???"j,Y?98(??h0??^??~dPA???W[??e<?[??Zh%!??|?e?????H_??$???M?T\_b,????, ??Ku$?N?k,2oF?;???? =?x4???jj?\z??NS????&?
+??%1?*?Q??<?????QgP~?W???,c???]?bw?*???	?%=S?,?z'???)? OUAP ?#`???r??	??vF??????g3LN??????&??????wMP$
+\w????eb"p1???U???N?H?/B4?????????R:??#?~'???{???z???q?Yd?	GG???-1v?$?PJ??A??>?q???a?u?4??=???j?H,P???/e?)x??iAj?z??o?uT???W?*C??X??+
+%??j?`r?h???+hE?y?/C*GD????H?/??????K)??u?C??i{0?\???;??:?r??>/???@?????????Cd????????G???cE(????bfb?9????tY	i?B??y????????3M????gV??? ??<`?D?X??F?h??Wx?^.???r?)?)?_ %56?@????Qs?R??}?E{*??"????K??PGYGK?b7?? ???yX? ?M??p???p???????Y??????a?Q?gdeD?Aru???,??pk??tT?+p???TPm??3?;???#J}?Y???JJ?j??F+P?D????s????R(??l?R???
+?a?]??	w)??i????????V??????(?9??1?KP<?z??F	??????H-?1/?n?Y?kuJg0??#??6U?iZm[?7??xh?B?@?5?p??3>?U?1?J	?|???i?9?S??????	(?Q?%YfD?u?N'??H????-k[?l?Xw&V??34b?~?U?`}A???6?5>??f?Z?7Z??D?b/?? U>:+??SqK?iv?2m??X??I??c	k?j???m??HG7/?-jf?d?7p`Bh??!?????m?17??d?)?H?N??B?4z????o?Q?h??2??f????d???%???????Z?%??T-????mE?T???h4????Vr???f^???`?B?q?8???'{d)Fv???>dW ?A???? v{?H?^9@90b!?????-?+?"@/?B?`s?5?<??/	?V?"???!c????W??+e:!?`???~?)z???$?O/E6?b?]b???l?t???????????n?D%//?/y?c???ubJs^?KS????8\?(b?K??@?n?????????Z??1?T5?)A?M?c?)#C?????a?ia??mL?I??-??^Yg0?/t??z??M?.?c	]?2?6?
+_A_B?Q?.??????:??|??:?3"x?_%? H%???N???????>L????~???|????????????i=??y*?rJ4?????y?p????>???`8?|z5???/??JmT?ec???b?.y??S?G??`???a?up~?eZ}%??1v>?2???????)??I|???8??E??????]Z???e???!?"?b??????S<l,???????????	?????<E?4?
+??'??h?i?'5??&U?j??Z\??_??:?W!-???V??t??#?????7??8??YN^G6???ga??u_=????lm?????M1?pT??
+???\??a???????z?`t?*?????L??a?S??.?7=?R???Qv?j??Hl?????]"???Z?????!??W?0P?>_Zn^??2??l???????????????^?s??????????_?????Z????????y{??k??{??`??BO????#|yUl?????M-??????U??\??A?}2?6????t&?<???	??=W?g?~?cv?NUi??x???S%?SV?gtP??8O????p?{???X????????H????_?U?pKYz`?K)??:?C?????:U?u??Q>Q6??|?~do??(x'D/
+^?	???:??(x??t?E????????C/
+??I??J?qB???5Nlm??/?/p??(x?w?@/
+^???????4?E??V??????E??%zQ?2?9R?(x%z?g???7???/?
+??^?????B?^?+9?.zQ?2N?^??..????V??Fjb????_????????F????b1YM~(G???$?C`r?}?	0?&??????N?)???P??+f??P???^???????Df%???C???@'QI??+??#U???Rt/??{?eYM?6??b?3YZ? ??i P?=??w??}??2Jw?4?@???!?;?Zz/???M???0t?E??8!z??\??$zQ?
+W_?(x??<?7^?j4<???%??"R?.e??H?2?E????)?r&?g??????????????y??>?B?=O??g^??O??g?a?y????/0??(x?rL???'D/
+^S??^?3?,?y?z????*=N??g^??O??g?i?4?
+??K???????H????Y}*???u??'??????????(x'D/
+^??????:??(x??t?E????[??????C/
+??I??J?q:???e\?M??1?	$???,?_?U?Y??$???&???e?K2?????d??I?qC?????L?d?s1Ti;e\?P=?i ?
+???Q?/L}t?E?+Z}!???E??zQ?Z??L??????
+^????????????E??8!zQ?A??????qB???]HI??m>?=%?c?,?_?1???2?%H???d@?v???d`;????I??$c????*m???[?a\?P???qCH2_7?n??\U?NawC??SP???J??ls4Ti;?s0???'???e??(x?]??????????wU??F/
+^?%zQ?L&C/
+3c2???5C?^?V~E?yL?U????zQ?2N?^TzP:???5\??(x?????d@/6f?K2V'?P	i?a|?e?K2????:I??I2?,?U?NA???*m??.??*m?L?P?????d???Ivq7Ti;e\X|vj????J?)??*m??^?U?N????P??8?n??vj????J???/.?j?i_?N?i??P???qC??S????J?)0??P????t!?O????A>u????o?|??hc?|?l???d?|4?D??f?d>u?S?i????2N?O?m?? ?:????/??K?a??(x??????wU????U}??|????C/
+?U??d?q??$??C/
+^c?pF??(-?d'D/
+^?	?????1"????]??K????V??r?e?K2????I?}?2?%&(>?$c?$?2?I??}?e??(xA?t???*??/?
+H????Z???? ?@@- ?X??EF????????????^=H	Mh?o?1i????]8?L-[??y?(z??R)<??????$/??K%???T???????.]???????Y?z??K?J??c????2)????A>?????R9I???*?O?k??????W2?>?(???4<?M??.6?!\?d???????7???4???H??>???~'????W??K???$S???|u???O?Z??????H??U??_h??G????z?p9?tdY???CN)?/?j???B+?????9???+???L?Zm??????t???*????:?V????d?R??/w??pb??Y?g??UO4j??LH?w??}vF?;??~h?T??.;?l,??(?????s?D???y????R???",??u??vA?U??W???????M??V?=w??U?zx???<Y??kW2X?????????|???*q?<?????R,?']6.?????i?,vsY???H?e?l?Ua<?????J??c????
+~?/??o???$?/j? !l{?????"?y????e?e?c??Kx?<?????????5<6??????R
+????qa'???????=?zo?????Q??UK?[???c?H?,Tx1?:??????\????b???B*[O????????dR+u?p??L?W??@6?jE?6*?%??3?????-0???j?G?f????????G?qw????@/?Y??^?b<?P6???C/??J~?%Fa??%?????w?????|x?l0????C??|???????*?&????R??,?~?z???g?e??E???{??~h?x??|??bv?VG???o?vI8'?Yb??"??)??b?)9??l?"??.??H??"??#:????E??i??@K^?k?c?Y?6??4???????w7p??H??8???^"x?.??D?n?????Y}n?%?h?z?p?zER?7bHH?w??@B?????????R???44??^v?E??z????l???'?l???kudF????7?%;/?????0G????c~?K??1>?%???N?&???????;/,???;/???????c?^v?5??j???7b?Z???g?^?v
+??l????a???Q??_;5?>???^??)p????n?P}?????"L?P}??O????v??gC?|7??.??w;]??]?w;????P}?S?)??v*??7m?$y??^"x?T?B/?;??m??V??&pz?'??9??^?b??K?5Y?B/?YM??^????x????K/0?z??3S??D????^"x?Eor??,?9? ??2?M2v?????$c???e??d??4?I:?z?	n?Zz7T?????P}?S??wC??N?LI????N??VG??^"x??^"x?V_?zT?z??????R??l?)T??z?Cj?????tk?????>????w at t^?????y??????[/???ya?^v?5???z?KZ?????^"xO???????^"xO?n?7U??.???????V???????~~??l?2(?rC
+se`~????m?>w?rCJ[}!E?M_?o?=GS??N??hJ1????M)S?}???)?~G???????^"xa~?%?w?1?%F?z?????m??<???y??3[/??B*????y?0??????,?j??[????]???^??qB/?<??^"xwW??D??Sz?~BjMI?FS??:v?g4??????"???RwJ??GnHQ?~?????R???#7?@???HT{o?n?r????vd????????#wQ??A??kGV*]?
+???G.x??\?n?d?~?.j[_0~?.j1?z?????5:Z???5??pb????;^???????\????b???k[O????>K?Z????Ee????C??U+??Qg???v}&N??????\???(P?D??G?VF??{?D???=N??*r?-z?6??^]?eK??$?qX????????Qq??b1???}???d*6?U2?q?	?D??\??D?B]???^??S?????????{?uC
+????R?7bHH????i !?????:????!M?;y??y-??M)????hJ???M)???/?FS
+??T??^K?|??7z?????C/??M??^b?O????zC???0???;/?1f?ew^81f?ew^?????y?Yl????gD?eo????h???av?eo??c?^?v
+??z??i5Q?h???wC??N!???w;E????n??]x5T????/???N)?K??JN?%?a???U}~?%????l??
+???C??z?C???^????~ !5??j??!Z2[?R?)?P??????.A????R???#7?V^?~?Q	)??GS??"?{4????R?????????????	)??{)??zV?KHT???"?????	>!5}?Ax??e???gH???'????%?0
+????~?v????>?o????@N???h0?u?Zi7???s&?E??.???Q?b(??c??(?e?T#?("R???8l6??x,[JE??#l?h??a#??????c?Y?6??4?bl?4c?????:?\???C???????;??}?(?r??i??1?)?"1?.A???????{?q????/???7?E/?@K~?%????8??^??D?B*???^?9??^?d~?%?w?M??D??'?	??gE?#z??????5:Z???????ux?
+L?\?-???[?0}??+/?Y??I??"?NU??N?|?f#???H???G?H!??G?HE??'R??QEj?E?4)???i* RB?OS??N_O???#?43?n8W??????M??KqD?8}sG????DJ???z??gm?$u?j?1????l???????k??q????gg1k]sG?????&<b?]i*9?%??????v??Q.dS????a??c???j?w?>????OO??j?????`??M?t????dkR?????o????Q??O$\s?HK???yO?C??/???iX??6DT?iu??@-~*?$h?eS??NB???#?%>gu?jz'?????g???3??=??A-U?,?U??7?6?'???X?H	??v??$??T?N-U???vJ??i*`??j????e4?r?;?1?r?iM?\?.??z?????????^B??/?????6?\?????/??h?u?\?????^.xg?GA/Wz????????$~????K??rv???d@??[??%C8???d@??[??%C?s??/??%C???j???&?_2v?????*`?v????1,?r???\??N_?\?r???^.x?????R[?,'??^y?*?z?E*:}=????!?zkh?y???R?|?%T>??g^?1??+?y???^??K?|??G?n?Ke^??\???????L?\???^.x	uRo"?*??^??9Y:??g??MM????J??+?y	?O????o??`?S???*?z???P??+o????^y;?M?1????Zv
+?\n??v
+?\n??v
+?\n??v:?c??*o???P????%z??&????O{?H???w??e??/?A?j[??!?\??&???^B??/?z??e??4?8??????^.x	&z???????^Bu??u3Nd^?%z???????^?????t??-x???Z?,P???<??{?A??+?OC???J?s{?????'j-??A??qg?/?U??Sjc??q??p?:qnO???;??_;??p???r???h?N?
+
+?J???:????W??????V89?????????k??x???,%?<lC?K?.|??6?U?2?"`?8e4q???
+v??He?l???3?Y???m???,'`jn??^??GD/7`????^w?Z????73??K??o??	l?	???aiY ???%H?&???U ;?^*? ????4??????b@ .y at -(???n?\? ??@\?
+??B?X????e.???8Y??nv-?g.??u?NAP?u?W?a?=???i?S*c???o??B?T??q?cQ?r???&EC	?????1??\,?7_??i}?O??Sc?0??????Qp/????????GG?,?1?q??"?????a[r7?>?*?;?i;\n???\~D????????nto?????oi?a????E??!?n??&???[????m?w?NO?O?:?????????[????#{A??v?u?{?v?\??c?/???0?K=?????????Q?~>?:?????FJ??Er#??????_0??j??|???TVB????^2???|#?g{?cy??O???`-~W???	??-[?n??R??@_\?R?x??/??RE{Ec?U???????????????TSY???Y????3??1?????l?ZU?F???WSm????yE??_??????x????SY?;?h??DWn??3?v????D?????3??^?\?????? ???7????	u????e??&????1Wwv??X????ws '???????`???????Te??2?}??#?"a?Pk0??????(??W_???cy=o?7R??d?'?jL?\?)?\?Q??^pU????T?De???M?:&?[???PvU???????L^;?I???vG9	Bo?0*?j????U?;?+??<??;?t??h??VE?q@??{Oj???z%????6?3?????>???:7.??@t?L?? )?.???(??M?<6P?c?f?7?U?c??Z?}?"???n????2^???b???dT???9?'???ogK?U???:?Z?.0???q?;?KS?n??i??b?
?C??F
+$V?3?.#?:iT??????+??`Vd6l?s???|??V????:X[i?/e?1??u?"????FY?bm?.
+?Vl?c???rAe??o????`???[?????)???98X?????T?6?Lo??2}????X??{?4=A}?0??????G??p??7???????%1ek"m??W?}J???hh?4???????????,g???A??8?A??o';??E8??2h????sz??'?U?>??(@<?U
+yw?,?<?G?A?P?h???H%ev????AE?F??/??_?s?,????LGn??$Ekl?????:[
+?Kx_7???U?F???~y?????,'??????[????K??'/4???,g????}-/i???d???(???G???3???????1???h??F????pi?$?@?Ilq2x?0??2??w&?2???h
+u?j?s?E?/?j?1i??x1=N?T $??n?	? ?h??Im?2!H?;i??Z8jL?&???????r??M?aO
+?$Z???.???y?T???8??p-??Xx:]????yNtA??
+?? _?-~?@????.????n???g?????Z^Xg?L?@=??pl???????D?j?8?????B?FO?|A#?L??G???\?{)???b)?3?F?@G~j??8??,VT???O??????.?0??
+?)?-:?:\????
+BGdVB???7?^R???#??Q?P??r?s?????c??hQ??EY1a1????MU.L`!k??7$?????$U???/5FL????Rc?]?u???\?\`??n?[Z?$_?E?I?6?b??B???(q??sr????$8?F?mZNj6Ht?n??gwIz:?2Yk????4?}$T?|?M??q4???d>"?V???V??{XQ-?O???O????E??Xv?{?LPh?1R?Y?W???Og?w|8??Y???????P??K?y??I?B?(]?]???????&??????`
+V;7r2??>?!>u???	?L/??Z?KW?yX?!
+?[?a?j?QHa?????	l?@??
+?7???2??v@???d&(E???.h?R\ c>??-?-??_???i???Bt????9>]?_??<m??5??<?Gf?v?o#?J?RPBP3???%?p?+???.?5??????2???_r?D.DhE????K???vq?*???b??7?????5?e?jj^????v%?Dm??gC5???s?VG??d@???T?<?(1???:?????
+??????????k?l
+???ej?@???I>w?????n?P?f? ????!??n?M?j?p???????#f}%"(??}??????8;???3[?0?\~??o?K"2???K5}??0
+H????V?H????? ?!?0!Ce? 2O*? ??@??O?j??[o?'keQ????W?x/??x???j?Mo???????V????7??Lm??)Q???@?j?L??2?w?%w?o???tI???y??Y9?\c6(????~??\PlC?V???x???????N??d????xe??i?Cv'???4+g?v???A??'=??tFK?/?D?&?'V?????o?)i?/??????t?g?f?G???|??p?)??'j?z???mbd^?]???Cg?ywJ????Rr??l? ?k??z??/? ???;?7???>????????!R=???i?!???6]??????QK<,??GY\??c?,???vF??r?e?XD??W?$?+??F??????b?????????Ide????*W????8l?;}Um?mtN???6??N???LU?t?????^b??EIQI?][???Gk??*NB??yhbxE?J?qGm?????CPA?pa{?@????X?6f????Z???@..#??,???????O??"?E?W?J???-??)*??4(???![??ie??T??o$???y;]A???E?????6???w??????????6???UA?v%?????kK^??Cf03??????T???/g????T????9??????w?MD???e#Dh7?R???????NQ?k?C?	.?!???[?[l?????]\>v#&N??>7T?6???y??IH?@?T??<??5|3?ibp??r(>??????_>????,??Nw?N<<?EA1[?{?7???b???K'zbfV)k??rs6/5m{??b?9*hY?I?c?DW?)?????7???:j??q?H???
+??\q??U?\????c&???d??F@?vw??;<???@m???D?n(??.???V?AHU5??~!?&??>:?????]?8:D??v?thB?2?1????W?k5U??P?Q??I "?y1?\??y ??w??[??????9??R???????????Y?D>????h??????O?o?Y*r??~I??z:?*?+)j;A??[??/??z`?|?pS??BK??F;jR?fb???b?????-g?WO?????g??9M???Z???x???H????J?`[????0[?+?t???P?Y?-a4???5??????`?k?1eW ????	???@????=m?0"????y3??t???-??r?Ux???ZuD?jv?XO?&b?Q??e??XIHN??WAF???J???S???????gy??e"?'?}??o\?#j???H??}2NF????3.???'???32~?E??d?????g?VdR???3.??,?s??=.????J~???q????K???Hh??dd?Y?????B?~??"??72??^V(?3[D?
+?7j???????~?zhT??g?,??Y????qf????????q??%P??b?@<??fE?^r????3M?3???????)????D?\O??J
+???d???`?;???H+z????@!H?B???%>|?u????#???????[??-:?6&???<&??;???rip???&?.Zhv?????n?M?????gke?M???z????^l????I?zZ'?`????-?2Z??.?#CH???p??????=7
+L??U????????sIk?????????4??ox3]?%???????f#%???Y?,O?
+??S????I ?ib??"X
+qK?4????(<??'??Px/?-
+??W?v????;??8?:??????73BM???d?Pr?|??P??S?oF???9'3????%?OB?6???e??Dx?????K???n???{Bt??z ?r?K`R3N*?(F?@??O?`p\D?WXO??n!-=U???&?v!?m7????m??6????[??j\tl?S1U??1S?r?N]????Nn`????xfgW???j% ?9?T???4HW*I??
+??\????:Xe?(?Q!??\u?"???'{5f???P>v??06????/?7r0'?`i?VV?]????8V?=?3k}?}z^?r???	D\??B???D?
+?? ?y???
+??Kd?)?+"?]?p??????W3?+\a?|??I?!????e_^????<Yx?Vre8?D???N?D?xE?2?TT??	+O?3??r?uZ	2??U??????u????_d?ft?????68?N?3-?X??,??2a???????o?%p??x'2<?;?Ku??P+????b?D'???{WKs??_?)W3??*?/}-R????!?\P'??_????~??L?U?o?)|???)]????/???(?)f?J??!?S?????u???$-???V?.("???yDk?j[d??o?O??D??m?N#K???a?OD??{<[w??h0Yl????'f??p?0>?p?r?A?LxV?@????,??^F???m?+U???????????		????<?+??'??eJ?D%"F?%??!"c??????"??????R?????????
+?????,^?]!??G?i??)s?n??/?sA??h???
+??T0?%`????x?q???m?`???r?????3s?f???L?R??
+#?????Q???~????u@???????8???Ur???P?3???????G??T???i?;b?????i??w???U!?ue???V?7j?????>?[
+?(?L2LG?xs?H???*??M?
+??????
+?ND???F??a???n;?d1??aB3m]??A?)<A??9?i`????n6Xee?}?????@Y???y?'D?J>??%g??8??k??DCW??v????r?"???n??9???CY???.O4??[?}>F???{?v?????V?
+??r>?y???z?n???<??.???7Z??l?-?Ms?f,?WA2????????<??y????@?R^???	;?0\t:?\}???}F{????J:\?????I????vL?'?\?h?a6L?wDsQ;??=??q0?0??vt#?x=CF?&??\'`F???w?z?"?:9?X_?M??V>	d^z?na??c5b4?[{T ?U?I???x????;?]????o%e??58??????k?O?b^}??{???%??UJ??XG????q&w ???T??	O???d?A??G??*?E??>?????;???R??Q0??0??q?}b?XhF??%1?
+??????`?["???@?C?tB?W{??U??? WaZ-?L??,U???{~?rUp?j?x?*?d?p??L?u?g9gh-??m1?f??b(-;Y??V???t?}c ????'????msI?H???o???=?????}y??%????q?C9??`?????_
+???p?
+}0_M???h????"?,??k5????;??
+'??*???^V??P??M????@?????`h??Q?`rG?P??;y??????[?2?^N???)F??H??????Gw??TZn????5??B#?????x?rHT?1DF???C??kC?m???nE/?J?+?W*?D:zV???qX????????-v?Y?q%??g(2??}?/y?@??Y??Sd<t????????7?l8?+2d??"?^?_Td,?????????y?'?n????mZ??0R
+???Q??1??{?H?>?RM??=?|
+02??d?E<?;2?[???? vo3
+?{?????y,???;3????>?3z??J??x?t???~@?????< ???M?M?*???c2~c|?$:?/??'?????????????m???|????xG+????z<??I?{?w??[??^??(81?e~F????XW&T???u?)???MS?=?????Im?D?.??hZpc??Bd:??/?*C??o7?{>??E???&?{x?h
+???>9H?&?v?;'?)??SC}??CC??=\?_
+?:?G???V??/?
+Y?x2?x^?m??3???5???b??YO?f^u?$j?s?i,?1?S????!???\2????+?
+F?_@?$	??????<|?m?|Iz?QK9?????m?h??$??AX??Mz?XY.?^d???jQ2??J7??7????^???\??E?`??E?W?K???{T/?ac~h???Z}H=???=??P?????dLl??\???mb???9&?
+%`?h?{?w}a?????d?JS???f???????y$?/ycD????-?w1?7?]?R=?h
+?g??h??????B?y?k!P???6_?K
+c?9?E????????f?????Ob"w/???????a?????f?$????i?????
+?N?????p?K??r???N/??C?g?a?W_?b?Q\*???]??`?_y7t??y?k8~?????W?6?????w?'??y?Z?*s
+????[?$}P4*?/?L?T????
+?zDc????x?|e?-)7?t???y?g??0l???D?????=`??`??o?t??!???H?E???W?d?%?J???1?????????}z?E1??y _V??b+g????nzU??n	????~D>D????k????Kc?????T91`?c??A???Kt????kY<???)V??K????8???s??R???3??<??!??lu??l??]L???'nA.???`M?.?fk??[a??=?6????>_??
+??Z?z?H??Qb!?y???X?^y?`9??U??zi?n???h????kD;?5&x?Vm??!??9Z?GS??d?k:???u?????l???J?????{?Q???`??wChQ?9.???}?8=??C????>
+?Y?%F?e??WkpT/?????M?D????t-qm	?W?EDL ???A23"???(
+?(????P????<{???B?U???????!??z???M??x\??oH?c?d?C???z???Y\0??`?????w??Qw???tM???n?r6?]<?$????e???97???L?" cc??Qj??c?@?clQ?e?{
+?[n ?
+F]y??Ht>T?@?????O?????t?N???????e?r?????Z???2(?*???bs??GE??C0j??????N????q???@????x???
+(?[?????w??Z?8<?w????????Ta{?Sg??/???W?D>H??sIP??W??G\&cdg?{??&S???9?z???^???F????(?k???????????S???????C??eY????????5????-?a1?B?????]???????>'??9VL??|??cA?r?6???B??_B*????????]?`?F:??s?????g<??V9?'???0??,?f??Vh?7?
+]?
+?7P??#?J?.?6L???u????{[??E5?5?,??ls?JN?R???g?????J?'6Pwh??N?$?|T?N??TO?y?]????7C???H??8>??/?O ?&0:???+GL N??9??/eN??Z1sn-e?g?n???9???m?6???In?[m???????z[??/??P@??*x???	?D;???nm?????#fw???????)?1??b??{wd!&???G ?]R??N)/?a8??o?j@?x5m????N?@??w??E??o:X??^(gT7?BH?R????[??P?????SX/{4r??_?B?\x??$t9???R???????????6?a?????????]?q???Z?T?"M???B?pqSXL~R?{z?????$08e%x???z?C??W#?}r???N?3?g???C????r;?B?????1??C?k?;-sew6??p??????9??Y??Ou5??^2????]J?:????
+1?L_??;?Q?@???????????5?S?E@?$??-z??76??h?????{}d	???kz?Lc??19?#v'P??k:A???O?k?3?6??^????RJ2Ex????????6??9
+???^?9	???:
+L?:????!?hV????????????	?%?|??2??2?????1Y???-???QYd(0????gr???????:y?I>F??%?X&?	V?????Ix?&??????f??w0?	?_??????<??L??c?w????I\
+??f}c?lH?n[?b?,A?{?????????6??;?GO????cc<l?/???7C?=I??F?usc?Z&??/NZ??X???*'g??w<???\}7?{???bf?d??w`&?f?p??????|?]Y1?a%?3?`?H0?|?>??q?r??M<?	??????30?????PI??????{{?O?e????	??eK???&h?}0??7?????????&h?
+?7/G?y|v(.?C~
+????s
+m??????#!???7?)??5bGD??oZ,?	r???[2Y????
+??hV?n????.???w?@?0?2	L?g?x?I3?P??(?jt?N???????????
+?5?!??VU???2??V?????H6???%;8?1?46pX;83!?t????F;wp??N??xI???Q??3???h??cZJ?f?????????|?OM????P??M}\????I?%3P?.R????D????2t???????{>?_?b???X??*????6\?l???g{U?F??r????N?4?u????e.?7Q?j?:t??nv?(%??g3"???H?x?-2???^??? BGA at of4Sy????D?????#?l??N??>"20?.?]?{??M?e????????G$??#?XR???GX??????))XNGO??3?<?w?h??????^F??N???n????q???3 ?Mw?1??S??2?J|??+J????=o????=????l:?f????YEW*&zC??k
+#i>???<??iD?L??%?????8?O?D?Ze?7??2?>?+??$Na<??M\??4z ???0?x????L?L?>? ??i??$?yr?>	N'??i?G4?????+?B??6?G?4?????/???c1[?w?????\??b*5????;??c^?????qI??o??[{?w'?!???????>????????[?p??L$%???r??M???5?W??^????????
+???+??q???$?q?????R^??$N?J??^4??????????N|??Ak?X???pLk ??`?Z*??I?X?B???Q?$'?BEf?j???Z???(?&i?9}?3???Gq??k?-??PD???P??l?)????k?Q??????~C??$?_~?y?E?;?<??oh????)vE?V??H??e??~g?b???-????L?????(wO?????a+15???y?F%????=M????w-?$????\?h?a>M??o???`O???'???????#?jM	?????? ???%?=??H ?0?w[???7????%7???Ne?3??r??8???{?z????>???*{??k?'?}TZ
+&??/G??ll??h????s<t???:xUY?\???=!?d??`O??H?Mb?a??Ix_??"xa??????S<?a"S?}????Ug6???uc?J{?Z?<h????9? ??=??????1???/??R,@??L?!?}G1Y_HE??&?j?????X?5?T????-P'?Bi???F?G-??{????pPk?"?R3{WT?Pc?
+??=?h?f-???x??/???:??,?5?t?|>\ ???;&SI9??5????[?5?{???
+???R???2:?[??0!U?L)??D???]&??#x?k??i8??.NO?>?<9?9?=???Mv???l/}J_??,9?
+S?{?aN0??	??B???b?=ywM?s??n?S??O1T'qE?iv$>?><?
+?lzdL??I@????s??q???~H=%?`????{x??S????
+?*??]??v^"?g?6?U???i4?Y|W?S????L?w???????????	5J???]???????????;y]y?@~)??w???YZ?????q?(U?r?7?Y	?7??i?D?W??????}?"?=7!/???S4?x0????(
+s??l??????p?6???[???F?c??????	?d???b?TC?uw??Bg?
+?h`}?Z????V???????SN?%??}?r?L???\?,??E?{??{O?wr?v?d?]7?????p	wK?J4S????k?(s?z_????K???MnLF?????????U.5(?mR??6???^??#???p?????o?O????f???Gp?..???(?*?C[??????vCf?c-?=????p4??????????K?`wD?^S??
+???U??	???~U?qF1?i?~[???=??Ls.???J????-???S?x??~?8?D??i(??R?W???:L7s
+?g????j?Ef??eVYf1????gp?Zdv?7?3O?{xE???N!??????i}???(??3??L?!MSFL???1[+??*???????Rx?X5M?4?AC??,?????\???FW}??X??{1??U?p?#??c#?:M????h???	???U????L>
+???XW?K<??<??d*??Za??:???@?Z???b<'?UIC/???ym???Q?????qC?,*?'
+y?%?N2???`?5	n?3?Q????cI?????Bd??
+??K}???;s1???@?????%cN?%????	E??????>???!????Y????hU
+#???ng?.?PY?`}?=????????K??Ye??????	3?{??{??$s?9@?????5U??????2iR?O!?=???b5???	?f;W??W????p?h?????[????w,??????????K???dF?%??(0C?/o?*??+???K???t9?tx?-??$l?x<?z:??k_????????????7????D???L??|G???1[?i3?z???	E????HqRdP??D??O???o???X~??+/????/???;]?J?`V????c????S"K??Q? qD??9g???f?c?R??(5???????1???~?Sx???r????>? ?,?a?????h??????^????????iks?B??T?6"???|N?&M??(?8o???kV?C-G???????bG?o???on?Wu?j
+/?{?G~???uq??C8Eh?????H"D[?j???????k?D???????y??L????k]??_L_??*???Z???X??%_??P6???4???!s?????Z?-n?3I??|i????o?O&??5??2r???o???=?? ??E??F?3?0?A;m??>?????????%X??x??h"??v$?R+??q?B??bOP?"?????$|@???F?E??F3????s?Q?3???!??????M&:K:???L??X5?v??r?T*???9|?W?I??E>S?Zp?eO+??i??Sj?????YjA?
+?r?{??v*?v??&)L??R?Lj???;??????U????XU,?n???s?%?D??]??E??O?T=?v?.?
+8????HO;S?k!?h??'9?O0??!??&7?@??1?l?A?{???!????O?B????]?0?ck/_B?>?1$? M%??Z???oE??FE?UFA?G????G<?p)?jF??R?????r??,?+?8^|?Q?~?/e?Nu?3d??"?C??????TK??2}^?G???????p%????&?+???UVa??1??p2?z???RF?t2???P??????Wc=??P??????~??\???I z:?x???U???V??B.?D????x?d?
+??????X?u?[R?p.??QmQex5?;???A?#6??[x????mT????f~??.o:???:Xwf?????Y?????????????R>k??q????Y?/??O9??j??LFF/??`??????W?3?????a??	@I0??@	??^?????
+^?[1?!??,k???jKsy7?????{o>Z?
+m??e?f?}?l(????;?K1g???P??h?x?Dgh????H?rJ<?T?D??bs'mG???8j|??*??(??????g?W%O85Z@%[3?????????A?_???d^/-n?q?03???`P???;????!;j?s???e9k????;,2n????+y9O~?E:?H?X?M?l	D?5?,S?;Cc?iX?w??????#?8S?mQ?pJR?"??F??u?K?n??O?????X?????%?KR?A[l at +??&?x????^?}?z???
+/?Ba?K??K?p?B?????????????0pO?-?e ??Gn??d??0???@??,???C?;5??????q.?'???????h??????g:715?L{2?if42r?b1?;????/???d??#?\?A??G?FQ?SK????}`z??F??u?:???n?pL?{>-N;H!?v??'?5?e???????d(?q?qZ;?G?????1?xVT?5?M?0? W????(?c???%?.O??O?????;??z?fu6?x?ew???}????b??k0+???]?M??????'??
+?^C?i?????]?O??[?qs??+=3?zS??I}V?????>v????:???3._Y???:?6?=}j????<
+E=????????,o?U????
+??qX?}?K>J]\?L6??|?$?R+?{??n?4?P?>kO?X?Li??D?u????_`VB?t?????3!???&???-??XJ?? [???|:??3??.n??]NX???????O????bgM??>?~?;?]?C??(???????r??????s?????QWU???y?QN%?+?????K<????????;???P??w?CH?_?x??QVZq^?H?w?:?`p?C"<?KpY[??F88??4?C?????X??'???????o?]??p???v??	z_??p
+f???????$a?`???+?#???C#q
+???SQ?????K?_:?T????.?~?Ww??}?V?????9?|J?%$?>qg???	gv ?????b????????
+^?&??z??????Z?K>\?k?c?gj???O~??A?x??cOq#???Z75???[t?c??8t[=?B?`?Jze?;???"????
+?K*O???fP1??>n????V?xs?y??1fx9?<?????I5@_N???C1SG???r4??J9??V<*YlU???o'???	??? ?d??b??&2?t??U?\xX
+???Z?????w????g|?FG?{??\?>?I??]??.?{q?L0?<??`_QE?D???9!7????c)?????\??tNu?I?hW????c??`cO???.???/D-????W^:?????W__S?L=?T??u?0_?<??=???Eg?2??
+???b%pB???????~?+>??k?a_?V0??y???????????OzE??E???TMW?E??????
+".S?,?r???:}?
+mg?o???M???$?1?[???|~???'??*?`?T^*?;=1?q?{??[&3?k?E??d? ??X????Xlj}c@??????????:0?V?E??D??.?2??:u??n\??]????gE???????yl?-????????g/QnpK]???;??=?^f?g
+)H^w??(?y??
+H????v?Z????@QPP6?b??$?8?&?????j????>g??Kv??Se???.-?????g9?g?g??P???{??????am????J?e4???3d???????$?[??1
+	S????!???q???
+?zN????K?^?_-$?Je
+?>??????:v???J?s??????%??2?G?? %7;?;????z?G???h[??3g?0??I?????LVy??==[??>???'???>O????}?)???C~?@?/&??_??TQ(?(dl..??????IV
+?vtf-??
+W+d??'K???O??%P?????5(}?t?8?b??Q?????6?R?-??"??5~:u?y??"?n)"?T??6rta?p???l?^?*??????0#?1???I????O????y='??????U ???????>
+t?c? ?G[?X?L?Bl?4:Wg?????;l? ??x???!z? 1?/?_???))?0]; C??Y??QvWf??0??_?G_JI??I???w|??#?@"4?????NfE?x??t??/'V?r??G8??n??$??l?O$?T?y4?????/?)?r??F?{V	?F ???????7"2CE?o??r<???l????	.???B??N???F???6?^?c?La+?}]??!?VA?s???O?????????u??	?l?6J??T??
+&?S?P?G????E: ?T???????{By????jR?B????s???~@>J??????{??3?<??C??v?TD?a???~????W????{??????#?Z?C??41?t??&??V?)*??????A1???E?>???????b?*mGXx4h{?Y?h????Gt?{]?P?????`bW ??????????L?#???N|9?e????|?l^?r???9?????Fvy????e?|q?gNA,?R}??5??F+??`?[???z&?????Z????By?{???<?Vf??_Av???
+=????y??x/?$?.??}?#??
+f?Qb{???J????3.?5P
+*R?I*? ??6??*M???4^-?V?r?w?$
+O????K?W9?moW1???????W,??1?Ul?9?/?w?tkJ4???Up?a??)>?>?a`?????%?#?rb?u>?????Z???N4??+??????j?????
+d??=/?s:???	?X??> ????2??&3????u1?J{#?????b
+"G?4mEc{??0??Xq?_v??|?G`#??a?u?w?lE??#?v?6t???????
+????????;6A/???@^'(C?)???C?{?-?`|?%????	??dN9tX????$?0cY?X???????_???5P7?x???????D?,?$*?7??s?@??W??[???p?????|??x?OdDc(?ny??n??X&??{t:?H???qQ???.K?;???@?@?????m?(l?U??J
+?q+?JA?????AYRBO?;3?a?+<?~?xW??/Z???m0?n?R?)????Fu?&?? ??)!?D/?v??E?>Z?c???fr??*?4?u??MC??]???6?a>.Q?/???9O,??/????7jdvp?????r,q)???6#????_??g?)?%?;???`zMZf|U????e??????}??^??s??B?K?CU;/.???dR?d????k?"?????+]>?-2??f?D?
+??)?<.-u?????p4?XH??C?IIP?^'d??????
+v??????5yh4QS$??X1??Cq??\?E???.~	??v???"??????P????6??C??C??<?f??????Ck????UNe/???2u???#???E-????????h????????A????Y?]?!&S?????8?^	???X??s9?}?L|g?w?=?j?t?????????+?j$?/?o;?!????_Ao?#S?{???!+]
+?=?b?*|?? ?O????\?>a}b??b????'hWw??:b?4??-)?[
+k"?{?w?=?H????M/????????????0?
+#X??????HOIS|^?.???N?zW?'??p?Yq?SDK?????????
+R????a/???X??%?????MQ?;?????nM??!??????yw?????
+???$?t?w
+?T???????K?Q"???4G?<T?O;?W*?^?'????q68a??,?8-X*??v2?)<?????:?&?b????N???nWN	R?cE??Z?z?j?;??R)9?\a?????sH?$?????S??7?aR???5?q????w??n? ???xq^J?nP??eM?m?K'?;??[+?????BnN?{(??=X?BBD???r?? ???(`1?_2X?0&??e??SRCD?????W-??P7??&Os??h)???kU???????h?	??y
+K ??T?I????????t?_?&87?t~????N
+???L???9?4?
+???w]????S???8o???N#?????????>?M????S?\??}??oq8???w?d?2??????y????Me?,g?s;?{?-Y?-!??YFs
+?V`?TBNc.5?wvY????B?<????H?Y???}?1&?????T??g???)??(??_`??}??gQ=?????U???u?s?h??Uc?B^?h?;??W??J?n??}u?-p)?zV(???????~O??rs?G54;?/???`?r????LO?%?\???W ??V????&jvCnN6sa????<1s?0g? r????/>?yx?DL>??????UA?V??????j:???q?h?	?r??.?1??<=b??B????Y/???h?8?}P?YO>?Vg?T= ,A	n{???>?D+??rYq?zT#h????w ??	z??I?R?#?Ol???o??u?????v???
+?????q??\X?qx???q???zP?\`?c_?"?VyR#?Q????????9?????? 	g?F??????.?gf?~{?VR<L??F???#?????u???Ef????
+?ba?g'???Q??Otx????[????pH?eX`?u[?4?V?I??L3[??a0?? ?4?????jZ?r?K=?5?>?)???}r?<~???4??Yn{%f?!dW??l?? ?N?????Z?zQr*??qU?????c?"?BVYm??cf????????h)???Bs?4?2?X??v]?f(m??? ???{?i???^C)^???D???aq???U?zhH6?Q??	????Swn9Lo???]S??-?]0????~bk?a???"??aq?%?t??{?opw????Fo"J(?rc??L ?L_e?Ri??<?%?G?????r?7?a?zx??Q+???(?4???W????X?t??yhbJ?6????1F%?Xz????5O???G?e.??fmZ?a??C??uz2?h??6]eyy???u??knw????%?
+?"C??9??(iy`]~	?z???si???3?vaJ ??;1^<2?&^H??????????O??s??$}J??v9f????-?dU?Y`??7
+?K??56?+W?W?????"g#.??????o????X<?)?JS?	zq-'d??;?e??.?TE?";s??(??????Q??H????_C??2ti?f??0??9?~?????l??D??J?}_????Jv?'??eY?`61?P at 3Z?dlIE???s???J???????Y?`!??4???QB?????9??oV??]???v?=?q}]?<I&?)?????(?T????T?3w???e?XE?-X{`?K??taj
+s???:OP/????b??????gN?L???gQ=??xV?*G??E5????s????i????U??a?5M?_???
+y???6?+?n\u?IO?j?m
+??$????????g ?
+????K??~cI????????;?$?ea????Q?#?F7?????y?SC??=???1A%?(S?4??p?I??H?]?????)???9F<?zm??F7??
+??"o?tr??VW??]?B}8R)M?X_?,|???m?FV???"?????x)r??????6?arx?q?|~V8???<: F?Q??v????
+ql????_?3?.?O?????K?(&'>?.?K11??4u??iD1?=?Z?????m?i{B???{?n??2?P_[??N`??S`?9Zb???Z?C??????????J5??w??{R????h??g?r??"??k??????tu?%?P??_?????j???h??T??
+?w???i&??m????c???Bt?Ej??,?????W?p?s?m?????2}????H*?F=?2?I?R-?\??Q?7MJsnC???\????]??H??,=M?iv?N??Q?|??3??0a?????
+?E"mt?S??Y????Z:???^???M!???vd?#Z0??)9??X????oU??L????dU???i<?/??????A^&?\????C?[?????Gl????eSK3????t???G`E?L(??X???$??I????R _?(9?s????_LE?????????xa??-;?
+?[?|?i???f?????&B?J?_?D??????6??7??????r	??m????W?{?H{??ULT???d
+v?\Q???o?e?????
+?u at K:?U??B^???0Bf#L??-Tcs??????????3[?1?????(+????"?8?n????2a??R????????p?6?DR?n??d^ ?oc?k?^???Dn??*=??/w[??B]??Y^K^?y{????y?>?z8?So????I,?t3?w??K at WvZNlEk+?????t??+???E??????33???on??E???}??*z
+????L??_??O??W???Xp?Z?KB6??9?????h??>C???S?jl~?]t??<?v?*-h????????v???)g?V=??)!??E(K-P?mc????Sh]??m??Z56?H25???z???<??Ul???E?????5??W???C??a??A???7?v??q?????#	}???k?|[mv????qQ??	x???hR??????_??d?-?W?????p???]?????2????.?????'???@?.??S?&T??(b???
+"_AW???z???Z??]??E?????gZ?y??]?i?????B????h?/?<?g,?<?ZS7?????]??O?-???-v???5{?&T???A???6?x*????q8??r?;??a,????my?*??"7??9?F?Ub?(s??_L?3?q/??G?????&???(s?j?eY??P?Vv?O?5J??tx_5??1?
+9=????(?(p??8???"????
+
+? }?Qx?]s&??F????s??H*sV???K0|??Y}&??WT"???S???????:?}????7?\}?0r??b??)aq??f?O?U??_?,>??\,`??
+??????H?
+???b???4???^y??F)?[;?????l???????????k.U????x??~?V?x?????7n=??f?;??!?L?????????=h?(?@???????|/c??M??2?????d{?goK?[????/???l?N?;?????e85??8J?????6??I??L?c<?R]Q^qE;y2???]G~a)	f???a*q?
+?^;????wx^7ux_m???3??????:??I??:,?=?'?rf???1??Zj?'?|q!????8???Z^?NFjQ'
+??????????????'Zj?,hd??2[<|3I?R???FM\~n?67]"6<?@?2?+????u????:?]yd?L2FO???D???4?;b?p4??#????l????"???;???9??kT?!??d??2Y?????G?s?S"5?9oc?CB?+O?+(?D"y????|V.????Q$?Kj??a?5????=&C?VL??v?SB??n?Y?{??)??W?P???`K???b?\??(???q??
+????i|??????M??`???7?%???c???5??`==?(???.?wM???????]Q???/<??r??$?????????????????1z0??Q????*??|S?q??8??N???7?UvX????????????\?lo?Mx?b?6?&??M&??e?&??
+???????s?u?^???n????wS.l1?^?]z/O?Kq?8KS???)w?8?>?UM???_?V??I??9?s-????k?U?^??8O??n
+`?
+??!1?9??_?0??Hm????Cj?c1D[??f?Q?%n???b??????{?L????j?c?'?W?bX?Ha^?U??=?\??g???bh#???k?_?j~???ia??.??%a?????>O???f?????H7q!??Z|??v??_L????w??8/|?Mq6?????DCSy0?????7????V?????D??j#?My?ri?Z<??v&?4W[?)??.??|o?<#?nH??????R\?Cu??1$?v?=??Q????)4??#?y?????M?u?-???}??E???l_uap????rP
+?5??,?{W
+???	?1
+???L?*??vA????{????,.X???0!??????????[??z'Qh??To??h??????0_?L???l?%?=??M5?=?????iv????????v????
+?N{p=?????W?q\?n??:o(!???|vL?]?d}i:???oS?X??a?????Oj?+W??m???c?>|?6??kT==Cw?P9?TW2??T????l?	?????u?
+???????D??.?b???X?*?rl????G?yk|8??U??_?????????S?9?&&Ze???'?}^??m.?I?4?o9??H??dn??Y?*C_O???s9?p?z
+??
+??`??LW??7{????kz:Rm??qV?a{?w}?????Q???F??8?[wR]M/=M	1N
+?*K?G#l?d?j`???'u?9f??P?E? (????&#?ysw,h?Ib?`??:?h?8???$?r-%@??TfP?K??WCQ?q??!E?Ax8????p??????Y???????-YKoOx????8"??0A??? ??{l??`[???.=
+??????8??)?????q?_??1??F??yo?$r??M?z?j?]?u ??
+CUmX???K??M??c??V??J?????rN5s??m
+?/??g?P'O??????YdG??_k?????FK???????G?N??q???@K??????k?p???
+	??v???z'P9???c??j?j??dX???q$?V?8?UE?o??G???|?UC????)X??+????2,????}?T?S??TG????X????K?
+h|v?]?K???s?.?2???q??e??q??q*???????????K?P/w?=??^???5=\????w?%p*??-w??'???z??(??x???4?/??$E?????-#bk???+???]vD???Sl?????'?????aGc??P?9??q5+G?6??
+?????fw????????1?C??s???D??HT?;*??Fk?q?f?g?V??????&???????????dCJ?z
+???????Z??M??????s?Q??????NI61?zC??????6$?nx\??b?A]???Q?g????? ?v??C\???}'???c?5?&?>'4???1????a???????v4??W=???H??
+6>??w????^??)?x??@?$|?????T?Se???@N???V???uG??W>??0n~?????<?C???????*y?{????}nu?a,??<???>???w???bNZ??;^????;???qy?/yy?OD[??	-?L?nK??a???fJj?/???WOFb?$?DJ??bCD?.?djKFa:??xW7?_???s?l?^???? >g6"6?@l?l6?k?8??J?B????gc??T>E?*????z????r^??????uW?&??\??l????.x??d?	??]?~5|U??]a|)?l?JpyaR?????<?K!??6???^??;??v?P?&?<???:?$o"?b5m??N??????????R5???;???%?L?K??
+)>????.???????),????6&?????hSraM??????B?\T?????%<?'K??fl??y??qL?.????@@6??3e???t????PA(????R8b??i?3?H??'(?$?]???F?i??q??pki??C?????)u?z??Tz?^????E??GRQ??f?pT??o??W|??zZ??^?\0?~??n??z=zQ^rq?;???3#????Io?=r??7?b??rN???G????????????PBfsX??????uI )???h"??hy?$>??"B%cI??Y?Y?R?\?e?_H????sI?????%E?#?AX?2W=?W???E?R??o??ov??9?W.)"2%?v
+?J]W????????KCA??E??
+r??JQ~?
+??Cq|O{2^?-u??P?!7D?5????-??9??i?`?9-?,?~`F?f
+?????l?D??X??????X?=?Y3<?????d?Ke??Q?/???&?B?????s}=????????A?KS93m?????4t?F??\*?vX????Y?G?H	:???P?R??D+???M?3?PC?/??????P????h??$G?P???h?@j?	'??k??W??????q??5???%1?S???!????????!v?kjhY???[<~?#8????8??<???6<Bi??O?????8???<~?#???=AQZAd;???}?x??-????6?~?$?&NdQ|?'0#????????4
+B??8H=??:*???L?U?w82?<???$aue;.???.??&?????4??U?m/??HL??2-
+\??$??v????-UJ??\?G??????+??F?w?V???
+x?)??~I"dA?Wu?(x5?????????????!o??A^??,T-Ci?H???u	?*?R?:??:ZX+??l??\??.??#?2+???&??V?????x?R???CN??}Z5T???]I\?w.???wO?y???H*y?(M??D??7?[???G???('m?V8?????S?
+??E???A???D?????Y??@??c?<??Q???o??S???mh??Eu?o?????M??N??????6?^F??D?1?)^B1???=????'???s"?tJ?\????*??????????M??M?????B ???NBc?8J?)??m|Q~?J?D-??$?????s-q.?W?EP??)
+?HB
+E?aA)R???s?????~xDR??3??;d???i??he????E8????N??~??? "?J?c???Vu?@:????????h??G	v?????=?????/5?=??TY???r<??E??G???s??????????or???X????x?L?!?C???h???~?h-?&????v!?"???E4X??i? ?Q???????D??o2?A??
+??oVM?????y?T??]?*-E?]u?'?Y?V=??.??`f?A[??>?
+?f?38?T`2?>?O?w	O1??????^.? @??????W
+?V??U??,??kJ???{?e}|L`}[f{???#??T	?z3????Rm??#?|??K?	??Dx?????hA<???Q??^?,.???^??9p?n?)?\?j?????Jy??3????^?N?e??,P??? ??S
+?@]?B??g
+`?*$?N7Q?x??2???7??pdV?Q??^?PJw?u????????$?KHH9O????^??7????@??/v?`?Q??%?Y?c????Y2??>7???Y?T
+?????4?????+?>yNt?".??tj?oA?@??????
+?F?
+v,D?"?k????/2T???p?_?IE??f_?????Cp????wr?U`^?_????r?J??I????EU??N?w??M6??pe???&??????m?\`?E)po?x+??7???O?(d?P?)j[X*??J?6?h?
+??????{?D?????????r?j??[6?XJ???>??p??7`JD??l?+?,&T?i????K\?DF6P?	????kNl?-??w??#xL~?l?,?=???G^?~??N???)W???/?
+???8????p??Z?p??
+???? ?]?k??x??oVM??????G?g?.?Z?????O?[x?+?$-o?q??e?f???E&gO?4?u??e????Rm?4???L Cs???1??&??-YjB?a?cI??F?&??:???v???'@??-?l'????=?v??.??8??Vm???R"?j?c=???????Bz??????@???????Y^?Xl4???Z???E8?N???S ???9????~v??G?J?????8?c???d??????d??)??????m?;????K?h	(?S?,r????3???)?[r??n??\????y?}?U??????3?????UQ???6????E??w?F
+????S/X????i?????U??????|U?????4??w????7??????]p?????5L???;h?yF9????QYn??1fnj???????i???cR18B!}????x`"?.&R?Xp???K?Md?
+H????b?J????pQPp?E??Q5???%??????e??3??;??,???Uu?:tEV)????0??cCk??X?????@??C?????epY??ue?7l?u/)f:5*?V?b?2???J??l???J???~=R??"??%?z?e??6??n????&m?W?s????'=?QFy?a?C?h ??5????{d?8?Y???JgR?/o?\??=?2?I???5????????pF??g?I[???a?JC??4????Aw?????????J]=h???????m~^Gd?`?-?Y?????[??Y??a????c?Fb'V-?]o????!/??6D?"~T5a+???6??W??6'I?oEt???N	??????2?o?l?x7T???T????c?j?????|?]l?=?J???R??Qsw??|??dI?+?????'U??SKw+#?<-?}T?I?e?????l?????Y??$P??q?;??f????!{???9g??Pqq0?I???2???????T?-Y???<?I!$4????ws?8??-H?2???ne?Hh??????}?i5?;n?)???$?nu?????U?:~|?L?UL4?????-?b??????\???*.=F?{9a?lQ??</??,?>$SkP????`8?>g?%??["??`?V????%??D??????9?PI=0?n~?????!3??eI?????l?|j???$????;???E????H???????K?!???1?~j????????H???=?NZ???#?T?????Z???sN???r?;K*???D??2H!z?6???=??g?XF?{2?Yx?P???C??G???A@>?5????:?????-[l?y$?P+????;x$???[????	W?v?????????<?o???f?R?????K?????E
+????6:???QP???H;x)???":8nF~??fC R??2??'???r??%?? ?5?l??H????Mv?T??:	Z_?.?>W
+S?['?{j??W?Ak?/[??/?AW5?Y??`??X?jIG?o\?.?}??B?viqH<??????9>l??~u?
+z:rh???_5?Qk??4??hVK?????F?N!q=??????w??|??<,??m{s????'!VS?m?Y?z?????rm?;?>U}e???????mk?b???????ts|W??a$?h???M???]0??A8???(??Y???E?5??P???@ /????K
+?]p??x?N???4NFR?	?C?B????e??.?B???<?p@?	?<???J2?G?1?8????N?-2???G?	??w]*4#?hq??z??O ??FN7???KT0s ????I????g?m?V)=1F????bXalO|y??????i\/??$c???? 4????I??$??WTU4??????#??????,L?!??&??%?7????(ufF??-=8??9?H?????E?yy1$L?2?o??n O?Z<????t?@Q????	B?J??2bo?o?O??C'[?????XCZ?~?TY??SSf????NL?l???
+MGW???{????[????&?x??\??>>?k??gYcd]??<?????=??2?a??A?Z??r??B????h?
+?????hGC????q?r?? ??i?E?????Nti?s??*/L?M??hWGe?<??&? 8????s????h?
+???F?f?o?`_%????C????@??}O???]??????r?????????~?h?"{???i?M4??G??}??8va?_&????3	??l??o?????V???%?VOB???u@??`g?`?>E????2o?????V&?R??W???Q?????????L???
+p??E??G3?%??22~?v?ja?!QY??\S0?(W?????J?nyQ?oaH????95?Ku??{?ev??	????
+?x?n&?m?E?E`?f???P_?L??:??O}???2?Nu"?p?FR??NN/q?>?x.??u$F?????3/DB???p?2?w,]r?oAmg#?Ca????$j-E?|??B????O?AK??^*?B?,?%z?U?[?b??/?p????1"?	[???(?r^??o^?e??vo?v?4?o???28sd?a?]?b4V?&??,?W?PF?^A?St??5??????W/????J1?Ry??????Ri9??4??L??|ZV/	-?2??rPlf???ILjS??q???? ??a
+????6???S?q??Fm? ???%?Y5??"?y????"M\?j??f?F4wn????H>Bf~n???#?(JV???<a?`s????LD??Us?>)?L???0?1?h???.??u????9?L?8?xa?\?????1?R'?ny??#c?????????"???O????????????oZ????????????p???????.ga?~???}%?????^????%9??ZVB??!??????!??	<???0
+?xo?M/?+????S??)?<@?YWS???.??r(
+9H???e'/??:????????}?????3{?????vc?C3b{???;??nLvX? ???S????9?nLvB???+???6~??z???d?w??v?J/?vc???????d'7v:?;?~?U????!? !c
+*R7??*???Z????Y??IIM`??(???Q????>??0??;Y?????U?=??????!?{?8h>???????[???_?????|/????n?S????.$j????;	?@???wq
+??:!??X????P?UN??P???;?!i?v????*?b?
+?b???
+??i????_$q'\?ky?B?????^?B)????8??)W=;???T?Vz#?S9?y?)?g?
+S??I?Gq??K????SQ???P??A??Vk??Uw6?;Z??R0??|(?\c@??R????7???46??(]??~??6?j??'???????L???^???G????l??e??????ag?L&+?G??R??{:o5Z?@AX??????????qEF? Nf?\.#?`3??????1?D?~?-?rc????c????L?~?%#?{?$'?2??t?k~??&?X5NoL3????l?fbw??n??;LU???5???F?&d?????^(e??_?v???,e??^?D??Y[?????9jk+??R???
+V%?????????TZ???$?}????A?Z?#??M3>tIR?9???\8x}?9??vw<?:?A&????????\.?_)?A??k?L%&n?j??e?g?????nN???D??r???IDt??B????"??0??S???K4?????y?fb???;?^?z??y?\?^kk?*b??D7?E^Q?0D=K???wT??w???(x??????K}?_`?Q?????{pE??\>?]6?}?
+E???c???aw|??G??n?Lt??$???;?????6?D?%?"??`+?$b}??????????|?1h?Ze??yH?7uG?b9r?P???
+?~?_??6?:??w??02?h???T????+??7??mty.?????n??????^*??a?Qj?????^?#??	/??rgk?????n????<???!??a(???? $??M?????nP{9
+???E? $?"
+
+?R}????e??!???rb0?m???`??'?C????!????m%?w?v?q9mQ'?$??d??O????z)?w<g????(K?^5?|????	?s?c_ :?9tQ????Ty??L?~nO?u&??K??n?D???0?D???vN?W?x??C/L??X?????`??/*m??PT
+?@
+-?y???Croh???X{???'4@?1 at F???	x????c;A'???z?????xt?V??p
+??U?nS???!g???+??\?9<?;??y?)IL?W??%??????u@?iw???4?"???G?G????P????\_??pC???@?il?'bGB?w??
+N
+???n?Cd?C9?????X???????j????9t????	?i4
+`???}<OL?K???'>????	W8Qp???	????G???+???y??&\??y?~y?p?	???'"~?L?ep??y??&?[?y?H?]??c???????s?Nl???.?q??=
+???i?????qv??]???????I?t??C4?0??F_"??0? A?1?~?h??sD?'?i?N????????kqw??h??'r?w????s??Dcr	???B?>???$V???	?????t:??[mDl?d?q/???|<6?n3h?|m?{? ??<??y????rae?3??#B?}G?R?V?(???rb0?????g??8?r??`??,%e@?N?I^?}????_?v6??e%??^?)??{?
+_?h+?S????? G)K???Y??C;_??Sb"?R??pT?~?I??????wq????;?b?,'??c?M???"??]?z??V??N???q??(DG?A*42W?d?=?????J????????/{?h?????ye????Y??"??b???fuR??????+|???HZ~??1??	?1??'?????`C??u?7??SceYx(L?	?TPj??m?q?49Y???T?Z?}?Z3?L}x4r????a?]???0???{i???'? c+2O?S??V?7|M????7p?8\??????P?~?0???????U?Zg4MYe?P?A???O?t+?s???kJ????0\?`??[gO?2+66U8?E at n?KTpCX????*Q???w??E?MV????r??_e?Z&?nu???;d??bv?I???-??.??GK\???/?X?c??????Ar???????4u? ?????#iF?o???b?	?#b???g?k2?????i&?lI7??Oi?/EI???0W%?RK!Z3F??mz???t?U?wen1.e?A??ia??z*6?{???oK?6?}??#?{Wr??!??(??Fpb!???G{???
+\?%!Yj	A?X[??R??EK[???s,?????I9?33??N?}????>?r1?Gmz?
+[?zIdq7!O??y%????V
+??^??#???y??N???x?<?Fl?3?d?M	j?U at t?? ?.?9??<ig????8?u?'?????N?'?wx?h?9??ODoVV???S5??????^?M?pu??K??b9??^l?.?\@????!o_$1lG??X???`E6?}?u????>??7????&???7??????P???(?#?Om?M):6v?@?r[?;?y}????l???@?7??????L?om&?M??p?????????ZkQT?.?X?I?~?*?;!????o#?h??????Q???(Z)??/???]????$D??]~?g???D;?<{?c???M??kU?z??L?Kyi??????????;|??"???3???2?0??0E?(39???TM?]?@>s????????r???8|?`?,h'/???y;?x$ ?s??'	???d?????? ?i?6
+?A~=????Q??????\??-???u,?R??F??M?H?g?f ?e?a'|?3???SP?????????>?sh??????)??C???4	MH\gQ?aCi?GX???Ln?v??????.N?<??(??s@?)~1e?????x?K???)?????{)??R????6~f??o?	?????>?C????35??????"???H?}?G??/??1V9????????.}?b?????w???|?w?=??Hy}???,B$1 z$?
+??????Xx?)???`??Z????Q???-???>L#"k???yo?
+?r??r?8?c?4???|?8?????????n5???>^???Pp4DEv ????5h)V?;???Pc?M?7??????gCM??W??&&r??????h????j?8????V?0???CK{^???Va??/MIg?????/-???}?F#???'4?Yp?J?z???-?8??4??P?*?qm??[?i??%??????Q?H?T	%`?d*?E#@X?(]??A4?@??\P%S?W?m?>D??????0+E=0[????3?T???????]P?#??a?,?@WDJg0C? d,???y? ?2?>,?!?~7?	z?????5?z??x}?????6??
+????t?2?????*??ph??l?8	??;?t?TK/=Cb:??p??r?m??????z?????_??'Z?jmz?F?%DA???%Ar{5?7?q??[????xU????Q;?????vlx?'?xh7????A???j?f???SL?ao=??)?"????0_???A ?'??I
+??}D? ?5s?~F3???????U?
+???z???f7u?fn??<?Fa3|??,????M??:?Y="?pk??I8??????	????_?{at????????I??|?????????x?7?@?4?f*?L>Az?'???-?g?m??2?[b?+
+?#?n#?bMVM?????5?m?u?c??:
+Y?(?^???_c}???}P???-???:???????O?@}??/?~??????l?
+=8????~/?G?<?_~+?G?<?1?Gw??1?]ig??ny?? {??g?+?z?z??D?#dz???????????$qZ#eF?J)]??? 29H?? 1|S???4	4?w)?{??/?????????
+?Eg??e??WY?O?
+)?????Pv??{yM&n]
+J@&?oJ&???[?m	??]???O2>4?*?@?A??
+???l??z??=?}????M!?S????)??j?>??????a+?vK??_>w?>?F??R?_W????2??7??????!`???]?e?%CT9???`JC?O"tG??P???]J?B?????????R:?S???.%??n????#W???xM?9?/M????x(?N??6?
+>\B?\B?/0????`L?????f?)?,?o?5???(????9h??Z??B??%R?i???C?"<??L?.i)???IGmi???9X?wR??0??Q(?dY}?T$m5?????4TH??B?e???O%]IXn???vNzE??(}P???eN??NA?5?3??L	[?[??j<i?C	?????&eQ?>?????82?1???VM{???I??D?S??M???5mA
+d?
+?] ???7L??fY?sJE?@????#?l?D?F;?t????]3?2/?	??
+5>
+??2J|j?ImCW??+???l?y??z???9!)`??O+???QKlg??+?^?j?}L at 1??e?('??M??ric???1eb??^?;??9?
+C??U?c7???
+?X???H??????V(??W,?A#89??@???????}-pv??.???RAZ??*In???????????&%?V?TG-???????(?i???K???Dx?g??Z?B???D?1?N?x??[rY7?4to???xf?D??[ ??y?????xK?q????\{J?B'(?j??L?o?$??`??[?i??n4??`:??4k??@b??
+2C?;?????k?z????e????MR??h???:n7?"??;?V??"E??q??`M?????*????oQ??V??-?I;?%??????h??j5?R??+?x?????~w???? ?
+?
+N?
+w	E???Q(????3\??>3%4???s????	?1)p?$??c9?T	(??S???k#-?d?^co??:2?nIz?&UdI;??o}????8??+????IV:?YX?<Q?YeX????"?Y????Do?[?????Zt2?>?>?&?1e??Q??D????&?J4?qsD?&?JF?=?(?<?R;|*???V????Z??[m??d??=Z??a8Se?E????B{??Vmd??N???#^iE?=???PJGI??]?,
+??\?t:????FEI???;?
+??Fz?1	?c?,???Z?S>??,?q?L?s&<1`&?.}???????7?*?}???X?????a?????????2????x?????+?'?ZR?6????K{????Da?
+?"<APPh=m}???n????k??&d???_??+d??y?VL?q8v??A8?O??0n????_??yjTv???????o?U??F?v???T-?_??nVJV?cm}?9??1???]???????Q??`|???e?<>??G??&??????mOt?E?w[N?:?k?;?I?Z>v?????#?t?Ew._??~?a|???????c7???=?X?P????=`?f?o??d?`\kb?;??????y??v3????<?p?{,?p`?I?Qw8??O??(q*???????=]8??M?18?3c??;y|v<''??v????0?_??[K?????TO?1???Q?I-??p??m???qlV???d?k?
+????'??/???Cr;????????^
+M?r??^WQc?????N???G?????T??~ky??3p?1{?2V??56@k?B?07?r8???D??>?q8?.??j
+?M~8????J8p???Nt??=6>;??c??c??a???D???-?p??KT??oK?p??????xD?"???p$?%?p?Sf??;?????????????F??U?V??c+%??X)?{????????+_?>????m?,\??Nw???L?j???y?????????=Z?z?T?_^?h????c??~<?C???_M?s??b?Y????qCv?????tr9]>?9??wI????+^??m??O?? ^z????C???????\;?y{??????m?~z?5??????????9?4?w3??Bu]????????J?{?mu"6??c????Z???????'??`+[?1??	?i-Q;??????8??????????#n~j???/?.*+;??@8???????;!?#?B?;!?3?0?u'<???<6????w????<?bAc5??q_??O????z4?g?????<hOV???2?h?????s??<???G#x8hZ?3f%?????2\!%???-?$??????3?j?q8p*?RR8^O?&?%\!%??l{????<???????0??drOFR?|z2?????^?//???-?$+?^????`?'?+?$+??dB!%Y?/h?Gl??)??X??)??y???,??uKc8?{,?ppDV???Z%??????k??O?)!?Z???a?F???????Z???{,?????i?*?{i?*?OA???1?5j???C*?iSV6?b????l??O?????,m???L&???ge?*????4j?p?wA?J8?c?z2???)AdB?	?s'??N?p'?????[R??T????U6???u'??AK??????????T6?IugV?]??1??6ee??c???l??????l?#??l???_eD?6ee??c?^?D?6ee??6??=???d??{e??)???c??M<?b??????H<??<????G#!
 x???4z4??6X?X%????=????&Y??????1=?c{?=?3?????
+??dy?p??Y?h?J??h?G?F?0?h<?_\*?)	<??UHI?qW?^HI?a<d!%???????c??C?y???=F?<t???2?L????'w:xl?;<?YP;<?]?:<N??u:x??Q;<??????c??C??.?????????????^9??\?U????????y????O?<t?0??<M?p`??+??pX?BJ
+????0J!]?B??8B???q(u8?#?M9q?J?T8?kz8?cH?V	GJd??8?%??U???-?:96??u'd8?[F?????HnKt8+?p???.J?qz????-?	?qz???}MO8????????s[?????N?i?p?f???J????:?a?F???????????Nyw?~???Z????X?,q??Z??????????hs?~cX????U???KO??\h?/+?t????S??]??n{?ry?iq-???5???c7???=???????e??V??M??????_5?????????v3??h???,??G??/e8_?*?#N??X?p?????cwro?a<???9p?h-?W???S=????^?Gi'????Yz??Z??loV???d?k?
+?4?????????%? ??nz)?O????*j?Gb9?fmr.?/?[?T?????;NB??=f???c?2????a?Or??d?????F??U?V??c+??,VJ?^oj???#w???W???h?6i.Wc????Da&/????=f???wp[?w?8f?????k????/}???????=?4??Y:v5?????-g???j?????3????t??L?q?Q?v!??88?_?`d??;1V-????+?#?????.?"G??-??Nt???w????7l??4?Jr??4?E?>{??E?>m???Qw}?ZE? }?Q?(?m?(?VQ6?i?*??v1??M?iSV6???MY???J?????b??)+?1?i??????p&?%?p?/H?V	????#X9??7???C?p??(u'd8??u'd8?.??27?????U??qR?	?l???NHes?dt?	?l????,?T6????l??H???1??6eeg?P????]??[J?????(m??n,m??&_????-??99?????|iS?x???6e???K?2x????9?I??a?=???c???<?????<v???
+H????z?L????0??`5X???%&641??=FM???-`M???\F?aw??g??;S?]???{%????G??2?~c????=6?????O????\??D??d?Jr?g?C??!y?X?Q-Z.R??Z%s=??o;????-shf??D3?6?F1?????Zdz?8:?y????m~???s]?W?RP???q?a)?[*?T???????7?O???v?????%?J??+??????
+]??Y???b?^'<?&?N????/Se??0O?z??,??B???&Z?-???*?y??Bq?<TC????c<;??(3[=m?>???3????z???u???????<}%?f???t4?&,??7?????V???}-??*#?o???h?0?we???E
+???\??BF@?'`(??R5+??a?x?!L?Q??????+$?????R,???1g????Ob?9???L?"???[??:???J?~ZLy?Ym?M.~?8????ac???#?~t???8???$
+?J?????_?zI?r???W????????6?{ca7?6?nk?U?U?r5????????[D=>8???}l?o{???$???58??#X??*?????P???*?u??{?
+`
+`W?C?e*?F?????=x????)u???????p?=???a?????s?d??Ye??8xd?)??.'?2xv??0z??????g?_?ZD??)bh?[-?
+?X-??Y???]?m????m???
+??L?;R?p???.6?ds?}????}????@$S????f/?a#I^E?0c????k? ?*??L 2]X???????v?8'+67i???
+????????[?a=f???!??N?4??RBu???????vy??	??{??>
+3???ef?B?N4|????+?"?Uq75Q ??? ?@?0?x??'Bs?????Z??????@Hh	?PBOh
+??H5?Q$??};2????&?2?Dy	???|??5????mU???_}?&?4????*NBu{?h;:??q?N/?_?E?LT??Q???~=??K??P??*???!N???????K@wA5?T????????b??k_h"?M??JC?????|?w??|L?$n??:%B?7???i??o??F?x<?|SQ?}??z??4/?}2???$P??F??L?_???;?5G1??;?>7?/JK??n?Ys??S]?????])?!?????c?j??p????Z?7??W;??9?IW+f???iKR??f????j~6tJ?????Z d???K???K??????#?9??}|?vv m5??3d<U?S?H{????Z?{F=p?)j<???1??.?D!%G????0?n?R?????e??s??p4???,})?!<7z?????p?s3r
+??wj??????Y??j?y=P?J?R_???????z?%,?j??L??????'????????????\??'?4???QD?y?????h,??-??5?6Ai???}T???;???|?????v???? ??M?!?j??????d?????'y?Y????!:?K?E}??+p}??q??)?)???W??d?????1?i?J?Bo?gyr??7?J?eV9?7H???[?|??2??`???????? ???????*
+3?K4\?A@?Z)de?f?h0m?7I?g??z??d???[??Gf"/7?~p???3;=h??+
+U-o??!?c???11????I/?o?J?d???
+Q;.m?k????v??`?8????IK?B-?V????[0/E??Cs`?Ep}???#_?Mda*?????[S!???L?KD?I???%?6??:??8???????d???:?;???.?,???>??mD?3uSL,???$n?P-??/???'?}??]?p#?J?a???L??5???x??m=6??S?????FN~hU&??Ml?{f_Glk???]d/5?????o????
+E?7?
+OZ?X?>?F???????????;?|??``?SG??H ??n?~y?F????=?6_*???????S??O???#??????vIw?|I?#\??zw?n????3
+?d{np?8?T@?or?'k?j??D????????Q?K?+?S?>???n?)??[?f?rI at Tn????????????
+^?@??????\?@?
+^?@?qi3Qn???iK?T????%H{W?|??Q6X?)]?=h?P?Z?^?E?k???G
+??I?!F,?r)??El??-?D3??o?$H?? @?'? ?)?? x?^4?N??;J?3U??)&wTEG?o???M??S?W??s+??9?)wdM??R^ -??b??4?#???|?82q<?Y?!??/????\tBS?V.c?C?K?=??dj?Q??????3??8?N?Vu[(?'uE???]????Sf???`?7??L?X?0??:?jn??w?M?????V?*??y\??x????????U??h?????3,?/}??z???a%3p?P?U?L^)oL?s??Qg???zs???x?mI/?9?????`??;+6O/EL?k\K6
+??????w?Z????:q?7?wQc???w?????b???y?????#??\?7(E??9?D?h;?"X1<b???@?^????A}?Ts?@X`?????\3???U at Xx?????MlybW??h?,????P!0?5n??h?9???#t?+???p?\?.?vMdz?+d??8r?|nR??r?"?s%s???*?NVu?gj<???????+YCqIV???BXe?Z??~?N56M?mR1???<+??????vh?Mk?w?????T?????*N???=K?#?????^?U?A?_c??AB???\R?*V?D?2l???>??B???#????]??f
+.?%:??}?MF?s?????M?O?????????1?0??[u1e?}|?vvp??>89???p?????%Y? .?&j?/?K?-?q???U???#?.?*?)??i???e??4l?9?n??&??M??????M??v?9??<A?S????V????d*??Co??????!?%0S???
+=????I??P&??MZ.????M??i
+???^{???l?T?Q?B]????1?F1??o????-???s???
+???tXY;k??djC????7????V?n?
+?1??1,?=G<|?
+A?????-)????????z??d?9<nTw?:?6*=/?a?5cQ?&F??.9T!?}????S??&?Q?4L???}?J??R*G??"?D?[?'?[a#$??P	eV??)?\??6?M????Fhe8:X|-??k??yk?\????S??;a??]S??s?	?r?6??H?i?w\??;??HdC???J?b??53????^?\i???3H????pp??E??nu??TJL?8?/GwN0??t????<??ivq.J???????R<??[1?<?d*??7?????V??]K????\???;?&8??h??tU?=S?`???q??}?Ex??e"%=m??-k$rR??)???????
+??>?^?*~??2?I????L??8???(?q,X?k-VmqL/?O";???WV?I?,Ew????i???*~?j:;?e?Z|???_??>:?????+R?6z????d??"G?<????mg???E9+d_=? 
+Q?^??c????
+?Kg?Zho?UTz??T?x-z????Z????4~f???%0|s???b??V???z?$????a?>ms??)?FN???y????#6??_????Rx??9??-???KfH:?S???R?hF?????c\!?G?tF}?]t?D???h`N???B?H??[?dJ	l?fx?%??g?c?co$?&F???d?b?x?5?gQ??S?#??p????MO???u????6??Q?{?? ?<??w9??????%?
+????h?5?P|?^W??s????a?A?J`\????-?Z??FS at v\8??CQ.bP?????l???ur?f??wP?f?7P??K/W???ro???=??;????x?^??F{??	?&???o?Rm??wZ1???????O??????%??r
+?/?&\fXx??~~+h?G????I?????????!} ???m/?3?B(?9?q?@??k?.k?~Xv?[???Y+????nL??????j???f?B?B??/j?G(HQ6?<tV??6??f????????z?)?????V?\_/Q1jv62jRV???????t?3?E???)?9?????r?H???;C???G?T?q?yHs?h??"?Tzb? U?qO6????p*??p??`}i???k??8Q?q??0U?7>???bt????v? A?z?s???h?K?&??0?Z??5?p&Q?el3Z?r?G;C?? i??ST<?Nd????k,w????????8?I$VH\???H?	J???
+?%?????=????????S`%L?P?a???B?2?DcO?V??vZ??U4
+FS?j?)???U??:t???m?[u?>W^,?PUy?E?"?t+?O?(:?????????c???1?I:???????>)??tl?Co\$gq??4/?_c?(?`?o????'????M?h>?#?0?P???$???s??}@?YdJ???F?~!???B?($??>qO?}-H.?????qE?m?=????mW.?g???I5B	???#L?(??8??????"?Wd?%?f`????:?????F)H`;?"??[V?M?q??l0'?????eZ	CJ??$cC+???H????A???$??l??i??g?9??X?)^?z??x????l???{???v?2?????%q??g?#?u\?E+?9????wf??I???kuv??`????NE???????"?I??[??z?S ?bn??i??f?H	?s??O?6??? ?E+????
++e??]j??b?{???r}H?????vAHX?SN???-??/???\?]E???????9??????6?m?P???3m??E??#?q??0J?????Q?i???a??K?*?O??>K?P"8^3j5??_?h?j?d71B?Q=b??????jis????-?,V?rF????tQ-???N??@??j???.????WY??j?ES?????^rVr?Z??
+ ??C4??f}|b_v?D???d??|mf(.???v???=?"%?~+i???g???????@??>EO???ro?bYVW??y??x???s
+?????/?%?@??????/????@??{
+1p.
+????3?B(HQ6?<?_??2?79V3??	?u-???$o???9os?????A??0?x0?4?h)Q.">E?L[
+6}??	)????5?C????pX???Q?D_8B{?m?b4??AqX???2?J
+????	;d?5a??"??&?? 4 ?"???7!	(?O???5?????????u??3O=L?]????h
+S?M?????hZ????awFSV$o?&??`???h?M4???`*O??GW??hz?h??h.??hz??+?F?#??:6?^???l????cfBS???(?BNe?,?*!SR?PnE?Qp?????Q4="????M?^??F0??L`~?`z??#?.?a?T??f4???B>/s??@I???E?^??S???<KXC;??U{?a?C[?t??[0u'GS;??a'?+???tJ4="?B'M????G?
+?R???D?2M	%t-?K?Vj??6??!_?\LP	[?(jY~??c????(?_1?b?n????%?Wa????????????N??b?n?DV?,???P???????	?P??"?X>vm?*?e???"??L?????S#7?]ta4??rp:?@?Mz?o??{??Y???#?????I|????c?N6:?{?'??z??
+z??3c?.??3?Sy
+E?8???k??H?$?G"~8??????;?jn?^?????z??m?2?[?@l???P5?(?????X?T????????P??1?????????j?E???@???c?
+?;Rq?q?Us?)R?>?s?D[???0+?w?E5?+N?t????g?)?'?&????t*2??]????d???fVaz???\??????G?u3?????T?????}????L??N??X?n?8?79??EH?"?g??]????????t ??n?T??B>[?>????u>???Y?b??h;??@?b?$?a?????Y?{pE?iOt????4?? ??T????NLU???\=??h#?\UW???????^??{x??v
+??/?$?_?*??????h^^??4?????p????a????%???l?d???L????X?O? 91??.R?WG?2???.??n??-^?U]?????;T?$????f?#n???9?_????$-?D1Lt+???PBW?"???*??0[??? $????/?:2??'????;U??h?6vi*b??D???W??Tx????^Mu?"??A7Du????3??^M???U?y??cQm??T4/G?jfzyD)?j*T?|??WS???KTMM]y?,??na-???@?MQen??????,Y?p?[a%h???8r?B??????4W??G}?Q????)?L?Eq?e=	?-?????K?????9???m~????????????L??_nJ"?b????K?ad?????t[????XOkC?????rd????C'?dM)???m??
+?%(p????Uh ???????????f?T?Y??2?#??????M???)<S?|??sAYZ?5F?q?=/?&?xgK????zU??????h?5n??????R?P?=a?~at?????H.O????\cZHs?n4?o??????Ko????I]?W(B.M?5x??HU??-?9T??R>?1K???0??D?%cil3?k????;?SJ??-???,?M?m?3?????|???yF??_>??????N}?????`\?}????????*?K&???A+????y???3d?????d{?U??)?C???&?'W?G???l??T????N??H???)??@ZEma???a)?v??H??s6R???4?h?????R??Gd????"????*?"??C?????\????|????@/'i??j????y???,`??????FU??#D?%??????JY?ga???d?%t%9G?[??Kf_
+?4?s?5g??_?XC
+???[M????"???L???n}E??????.b???h8?G??uf??W???uy???fQ?6???????b??Z?9o?q????c !???'?{?8<|8?Z????]?fx?r?g.???1??r??????jd???N????I](??!wg?????=????2?????I])??G\??RL??v[?}?8?b-?,?G??z%m#?H?%?\??9?????????o.??]T5B??T?\?gn??????S??L?L????^B???Y??{q5
+\mh??I
+P|?<5?i?t??l-????&M2???`??y?+????f1?P??4c?\?m?S?M?????8?????R??@???W???V?@T,?M?;?=#??"Z\???
+?:????)????Rn?
+??.????dt?s??w?l?{??F4|????4???????[N???^???7?????7mE!??????I?0??k???f]?KE?13?%???ft??????:j???h??????Nn??????7?OF????+?G?c???>R???S?????h????E?????H????V?NF\???e???E??4??"D??Cz?????hy8zg? ???+0?u??9?y#1
+?v??F4H|?U?/?@?7????????O???AZ?????U????#?S???Z?V??n???b?VkX?=CK?????(~?^?&x?C?V?o???S?p??$c|???m???g????E??`L9??k?1*??mu??9"?d?WV?q??h??aB?Wcto?H"???_CV?H?s????.b!??????)?x??V?%??E?x?T????*?>g,m?c????8w???"?????Ui??2UM??d?Y??x?x?9 ?=?;@X_b?;?{?????Q?P?A?p?	s}???Q??????}Q?
+K???Sn???????v?IKd?`#?????"?^???/???!zPN?8?M?L?5??&_w?,?
+??!??\E??(/	??Cs?]???b????%???-???/?u???^??KE??#J?????{?F?????W????H???nd?T???????5b?4?y}??na9Nu?z??m 6$????x^???kG??V?/s?T?re?;????X?p'??Cw????-?3M?u?G??N?????yg%??D?>??[?Z?T??,1?H?!
+?U ???Y!?95?mH??????X!?
+$???r?@?\?S!?????Bn?"??r?@V]?????Br??{?p????N!?n?/?S??4?\2Fu??yY? ???fP???xu???q????????b?M??b??!b?~~??????v;??_?W<????7k$Y??? ?b??!v??/?fJ????2?,?????%???p????????r?qq@?=??;??????<?a^~??,??c???^~?w;?'??????????p??>w?!??????I	?\?+???c??k?????)??I??J??M???,??:o?(???c???C|+?K?M\t????{??d\C?``???,??
+??????,?????s????gK?^??????=??B?p{?n???z????Y
+:4T7??????.4q6?=f??3???lk??f???j}?U??,cqD??C4??v?????s??FBv????-`4"?????|????-????\???aD?4n????????????LT??P0?RO?9F??	??W6sMEn-6? ????G?+?g+?"?fO
+???^]??6?]?(F??^??e(?k?EJ??V??j?
+??=3}?
+M=o
+?5??G??Q]?J?^|????P??g???z[:???f????R??7???j?h?Jp?"S???y????!???K?E??v???E?0/U{@??:?J????????q?????b???Wo^X??fDB?? ?S|T?[dE??(oQR??)????=;(??b?$?KH6??	???"/l??]?U???M????+????sr??H?T?!???z?P??b???J#T
+??(??[??L?????V?P?!?T	t?D???%????g{cZO?j4D;[u???? ?Zu??8|??????[zv???-?m???????;??]9????G????????4Mg??^	?p?&RH??r2]T1&Q??/1D????k?????Ol?y?????T??k?h???sJ???N?~d?????- ?V???R?=
+??nHF?*~?UJt?	??P?r?????6?=?$T?&J;8?????H?Y????W+A?M?????80??Q??????K$???o(f?2i?!?	)Z?'????C?K$????B??????G??JgA0
+	|?D?Ia?q???X?l(??hB]?:O????!Y????.?%?>?/u?,Y;??0CWy8??(?N??]
+*-?!??i?+??Zz
+?{????
+??.???&?).B????????x??0/e1??"Oq??d<?Ey.?S???J?????????0?X???R`<???o??G?WkqF3&??	ns?fV?4#}?_Nkrn???@?1??????????????@???O??y?j?#?'??s?<T??X?i???f????+??	??9N?o,?NOIp`W??????7??a_??2V??0???^J?;?ZrQ???Z?????W?&??d???&<???7n
+????c??T? 5??i3\`?????
+H????v?L??????"?,????????-????@?J??{???E&?.??????"?+wm?!?????X???????FJv???j??\?????X??$y?3*OmM?\??
+??<r? ??W???F???;???L?G?????[>\??y????:*???2b?Q9D%P)I???;B|??????@???e?1??3??@]?g????r????Y^?<e??)?1????}h??\H???6?0??p?|????s???g?r#S??9?'??X{??????LW?D?????K?????#C???????Pnr?T?jR????p??	??]?:?????inR????*???2?????$? ?&<?*???e$?1k?gx?;?<??e{H??b*?j???\!5x&??!?u??3?\??C???M??4)???F_s???Q7?W?y???V?q???i@???oj[-5??,?p/Zt1za??Iq??J???)t?E?v??7D\y}?d3??P?/?i????X8??Y%?[??h_?????^????Y#n&NB?A~2D?ygz:???^???N_?9/?EQL?9I???_?Q?????????3?V??????=?wz8???arS??sYk??.?B?T
+qZ??P??=[A^?Qz@<??????f????(?u?????c??z??>V?7???????dY????N1?s????$8vmE9?=.?f??\?}?a?????R7?w??[U??.*?XK??g?/?i0/??@??"7????d???:N?e???XkU?R?:?!s?7T??]?{??????rX-5???????2???????Y??????ZF?m???????'?R?7???xW~*????2?\???f??/r??9E?????y}0/????????dQ?SS??r????1>?GE?}?cT????B??*?e#?U???f$?+-n,?;pd|h????/??!?UD??A??X v=???3?F4?
+???MO???????z#??]:
+?????~??h??????^????4?0I????<?&?5???????Z?L5HB?*+{?ar!??????????^???fy??$?_??@????
+:?_?yB???t??O?????????<?t???i?Jh??*?TT????????V?????i	??p?\?t?g5[J?_[??1?s??[q??6E???M????W???Y??Qn1???	$)?l?/4)?????)'?????:94*?????z/??jU?"?
+??$??}?i??rA?w???f?Xz??2??????f?_??u???\?eF????n?w??	???pi?K??OPX??!?t?i?l9?iN?A?K;???!???&?????K?Dzi????????
+?=,+m?s>5?	-????C>)%?cX?l
+#?w!???????a+15?F+Q??Q?N??_????i?j\Q??&??=????!w??"????hwuQZ?\??????:????j????=??Q?v???H46	-?[0#>?k??0??~??z5j???wf?+a"????{c????{?c?\?~???p??M????_C????????h4??5??1?\??B??5??1???lpE????z~c?l???????@?E??B?????
+????o?($??_6?????lt?G???@.??m???3/BvPdfWD??+??XN????????????!M????v=^?c?	?g??4?????Z*?????l?1?D??	??E?4_`V??B??L?#?L?Rg?(|\B???!	3????P????	6??????t????wy??Re??Y?|??6????N?'&n??@????))q
+u???X?r??;??b?????????@?~gt??X???!e??o?_?J?V,o????????C}9?h?C7?3??????w	v????C?{??om??D<?i?WP<??WZ??/s|?4z?7?0 9?c??^??V??y?oQq?"h4??I}??c?}?m??wR???}2>7?|%+@]?5??D#K??k?WMK?(XJa?'?X.?????R?_??9:F???s?V?$?=???A?B\P?w?!p??}Z?xE:PH???
+3v(?L%?z?J?Rf???D???1?{?&QH[?(}?&U???N?ttX??+???s}?!
+5??zy?fl?#????s?avl:????%>k?yL??T??;G{????e???.oO??n?jK}d?
+?[Y;?Q(?*?e`f??????4@???Ee,?Zf2?T?R???`?'?/?A_P?%???????8???
+????????}&^????&??bY??(??-?+??I{+9??????[7%S??&Qqz%??|Ru?g???????E?B?d??]
+??M??????9????:u?<=X?S??St???_?	????~d4??#?!?k.bw?R????O????'?ry?-??x+y???@?O??4???V?2??h??????l?R?`4???r??3???G???????#????!????aR??z3k]??5e?K???3?6?G?$??(-O????
+#??N??Pt????Y???.?x????U?M?Ns$S<c?_?????>?Co%?e???5y[[Nay?#{A?a?f????Dh\L0??-??0?Xq??k^?t?DF4 0??Hy??????N?KC?O?E
+i??0L2w??U?'?a>??????#??E|_L?p??Li??????<5??????????g6p?!ee??	p?-??a8??<@?v#???????	?6?r ??y??j??	n!>??
+???|q'?1???[??????)???n#???1?ST?3??g?+8?	??}6
+???b????d?%?M?????????k?dA?G????Jx?O6??Rt|??!P?}5?QE96??J?9
+??
+-?????y?6*X?????rq?	????ps
+P???n? ?]hL???itug????????K8???b???Q1:?-???????r??3?????????H?u/?????&3????o??????????t???X ?J?
+2??R????-?V*???C?Z-?a??W?????????:?B??` A??>?r???<s?^???\?g=?T?'??r??D>???#B?Mf?M2?@}?e??R?D+,??m?1*???p[DGq???#C????(???!u???????}W?d?iq?)7z63???????8?i??K?????U?y??Y70?m?
+?&Yp?V??4?%?@h?t?7?Nh?,?K????~H?????&9?M??????????H???\???:H?G`?f??f?????jg?&3pKT2I????????@????????meH????
+?ZZ?i}~???1*???f??.=?d:????????/?OX?l????m!???i?gB.????klR#*??hI?s??h?]^?Q7??U?&????R??^
+?\=/????
+?Nx5A??????? Zr???;p??`o??D=z?Y??%?P?????B?c????{9{??5?D???'v???????_???\????{FZ]???R???r???[???&q?c??H???{???@w/?Q_|??b??h?5???F?A??????
+4????4??
+????????fDP?
+b??'?%?,#???????Ja?M!?Ad?9??3?*???H&?x???l?????o??`??(????L?n?dm?Q?\???w?????G?tI??|0?~?V???:?D??????~?L3M?? ??
+????^??B?????rRi?????[+_c???G:+q}????Y%*4~|
+(??9???[??H}??KaI???X???x??R??8J0?\?!?C(?E?????4(????
+l?\@ ???[2;???c??zC?k??????e???A?&????6??%??&C?Q_?S?b?}?EeWl???K???N????
+?)??SX?D?:??T
+??^?S?b?5[nW?5?P?fC!_????txq"?u?G?K?;???????"s?7?7?N?b? h?_?T????lR??1???e?????????Fn?d?Dy}???8???FR?2???p?Vo??7}\???#??(???a_???~?Z??2??K~7?\???vt?r??Q??^????k?????k?????l??R??	{?c?A??j?FN?_?
+?$???%<??%??9??W???Or?f?dz=u?}N?????4?6?'??E?+M?G?;???EW???Ajg????$?????l???????"e???Y`?^H?XTVr??Q?J?u?????A???P}W???	???G[W?k?G8H?Va-??s?i7??,"?J??????????&???Mb?#???&'?_????&?m0???>??f(?#???o???| gODJ$XM`?????V ????s0nI??0T??.6y??%Kn????a??K??V??'?C?tK??2??%F1?.???t??V???????[?_e???5?$?????G]???????????=9?@???{?>hj	???ux?`\	*???D????,)5?}???"r???D?
+??]?????i+???H??cP?S?????I?#?f?a???b??,?3????wHs?????*p?o*\?]????zh>?????|?t??{?L:?g?f?????6???o???m`??????Ie??m#??7f7X?_????j???????^"?0?A`T!???[Sa?,?T??+?,iM)
+4??Lij??????Zq+)z????d????L??8???n?p??Y?????U??Jr???{?I?wXC-\p1??*?I?$l?-m ??To?{G6?Yf??e??J)?>1?O??e??h?z???L?
+i?h?h}k???`@?????\??r1??jo|S???V?m??T??/??l?ZGG?$????
+?lK?f??{k8???uh?????X????K?w??P?U???S	?????k?=????pw`i?+KAI?)t???????`?????????ig???8???r3:?T??+??#9E????r??1f?	??3ld8?8???wqj??i?]%;?????!??tC????s~?????1K???U?\v?X%???=0?9??9?P2?E??
+?R?????-???{dH?7k?6?????0>??????????}????U? ??o?T?{C?R???T???????1?w?pz??*??nm??K:mB??c.d?X??g?o???EH+?m???????h#?i ?$??_K ????hfG/?@??v??>???`????@PTT?1?#??p?;???xD??D?????@O???-xo????g#?m	?p._T???v?bA8<Q?`O??;*?H???j???????*<f.?}D]?SGj(?2???/?}?@sx'H???????
+5?R?????b"U?qa9???5y???>??|?B???RI????!???????Vg$?_x???u?????mX???N[r????^?u????O?n???Q/2??<y?B=?>rb???M&?,U\??J?S?nN??3h?|?????Ly?V}Cz?">???l?L?}??s	2????'\?F??AHi?????O?????=J??u0??????a@??ls?q4s????cI:;??*???????????
+]#C??E???]????
+?/\?c7????qL?_rL??R???_??_p???1?ea?S????)?g<??(??N?`??O?t?!
+?????????,[U?]????i#L?????'8????I?0}?*?	???S????<???/h??@'?<C???????W??z???pr?p??V?J$????q^d:???d?B+"??0?"????.^B????2"z??????x?bXw	????f?7-C??4??$N?x?,?h??>h
+???k????4???aKM*???4????4?,??	C?,7`????n??4?TN??_??B??	O???B?????k???Wvx?C???%????????%???8h?;????*?B?m??(?1B?-O-f}??$????l??????????????S*}xx???IKuE_???Bn??ZW????]y?3????p????!?O'k?????,H??????J????}??HY??????&n??????z?r?2?e???M?v'J????c?6?#p
+??e&?????[?W.?*?O?- ?hy8?-;????0??0u0????x?pm?"?E???????P?'??F?;	f???y$]%;???4???HQ>???z???v??\%???=??9??9?P2?????)B?g[??????o?2M??nB??
+U??Q?f???9??MSN?q???Y?o.?Y?RY+??y#j#??J???L?A??4L
+vz?8?GWx?????`?Z??q??A?T%???+P?`?8??\Ng?U!N??m"?W??\???Ku!Q??????[?	d?r%?i??w+??u?'?3???	???o??.??L??{]?f? ???<??????P????o;?n???xJK,?????:?=?B??MM#r?????#??J?q???\!W:p???Cnv?j?v?Yjy????bG?h???/;?pg?&?a{M??>?P???8?9??^e?j?^??IJ?H?,py:1U??=?m&?[nL?I)?C?4???p???p!)???a?F??????)??^$?\????g?9??Dcb.??qDA?:4>Z).q?u?|?????Z?P?n????iGS?0?:???F?????8e?C%S5:V??????9??RV???_???9?W???v?@?x?		]??c???p/?d???'i
+??/{??E?n??#?+?r?l?"g?? ~?#?,?A??G?Y???????pL?S??B?v)?OM<?/HbB?B????R?~M;58\??&????#?p at Wk??E???^??'J-?b!?L?}?W????6.??x;l?s>e?;???Hw?????????I?2?)?&&?p?#??Y??-???6?w?b????}?????|??????_?Z?%??+???U?[?????t1???f?qD4???U_?0?B?>H?D&?rc((?-<2??Lv?%?S?TTY??[??CO????U?????re4?PG?uuK???T?Ly?>3[????i????M?????p?????????_+~1??M???@O??mT??????7?o?z????L?Q?<???U?Z???_&?t}????4?S?o;???U???K?e????H??;g????Q??U??e???4???o??]?0??6U;??t??*??????N??????j????????
+??[?P???,L_?I?S??K1?????u????@A[?;??;??Y	?b?u/N???:@S[?p? Q?????a@????M?Z]&??;????.??	o??.s????MI?'?;N{z-I-??"????W2??o??????_D???d??"???%?]??. at F?/?????M2?10??? >???????e2?q?l????X?]???g;E??F2?{uuo,F????Q ?(<???R;??A?7kkr?+?)fSB?v?C?;}U?~???2?r?h	???????r?<?????3???g??3?fS??*??0???O??7??y)???b????R?9?W>?^?c?x??-????i[p??hSr??)y?Z?u?*?:	+lJ???;?
+???pF?r)Y4?8.?P?Y???`??(X4??? ?k[??x?e??Cc???0t???????2?u	?9BU	????Y?x?*???_?"B???A?{^
+??LgPb?0?????\+,??Jp??????G? ???]?/?g?j-????jg??@C??*;???T???I??s??d???j].??????~=?M(GY?????????? H????n??f?????ug8?L?L?9?&??????8~k?`T?=$H??Q '???-o:!("?>.]?U?I??%?????*????YI?SD?1?UDFd?????c@	-???&_L?dH??K??ZF?_^??6/|??I,?H??????k1?2??/(xm;???)?0?#?0??s
+^?@<?~??]?@?+L?KnyB??%????O`?XN???d?Fz?GzP?????JK????c?=??%x??}x??)?7;?A&????P???n????z7??_?5??p????q??*F???o???Br???????sl????????7Gd????[???B?c?=???0s??v???It0Ws?????8???????d??
+m(.??r???h??,?
+?c?????f%???vx??B?[??F???W??Zx?Cb??6x??U???3???? ??O????Rk?A????:??b??Z???-???p??kzx?W???<f!???(t?g?????"[d?h???5??????1.???z at U??gt U?3.?????S???9Ct?\g4?{???$?%F??????f?R7		3??g? ????JH??!?? !??g	c.n0O??g?0???p2J?b????R1??L?,2C7??O$3?b??dfD1?
+??n?;?i3???s~??R??[?b?y????G?*????|?jCwl??_c&()W????v???????wqUT?8???"C;m?K??E???,$Zs?M8??bD5??]?1[???G??
+????[??%???G<?L?&$L?<???7??(??P?t?q??j1??'?x.
+????????i???????/}??????,{Z_M?P?%??Q?fA???4??=?T??e]0<?1?j?? t? 1?9??!?!?9????? ~H?9?U???|:??t???CM~?t????s???'vx1$?Y?]b:?BH????????S???m?????????????x???G?_!???`??<??zt??o????O??7/	R????%?Z??????R{??'??%??p???A?A??~-??W??XDTQFH}?W?Mj?s?=Scm?7???z?4?fe>P?????U???_??r???????B????-?9?i7?~?A?>?n????6=?(T?]wbFx?<?????8\Q?0??),/?B?M?3?U???/??\6?ytB??l??u????2??ooa?A?yg]?t?"???
+ ?%6????v?p?6?,?????./?????????g?;???f\??.;??"?&?????.a???W?M?Ow??U4?:???I?9n(?/??9?????aw0?2}?;78?C??????&?E??6?K??V?g?|Y???D?H"????il?;??+??l?R2o?1D??uFs?]???7??0???1?S?/ ??"?|?%o???0???\	?B\??c??C?$	????(N-??>A??XR???"(ScOW?}?TE?<!?BJ?|6b???`~qK?`fb????F<
+f??K0?B?!??VH??zq0???A??ed???Ll????a_P?M?~S???H?????R?<?.?:????'??@?_??OQ???<+R??i??y????c??1H?????????r/????n?r????;?>?
+;???M!??3T???"7??"k?bz?H??'a=u-V??Oy?v?l?????.??c??UQ-B??#?????R?c??q?s???Op?c?1\rf????T}?FO????xL????????pX9?bg??E??u??J??];??4????F9?`?bI??~c83u2?????@?J:Y?9O??S3??T???????*??U?W??????pe?{??Q??#??D)?YA???g><)?G???i?????7?[?rv??*??????	??x?o?~Zi?~	??????b6y6?%?`?U??S`???"?m?_??Ji?b???????[9??3????Y1
+??6??D????t-q%?W?E?L??HHHX??@A???????@h?????$?]?[o?c8????
+ze p?8
+???0?P??G??&?97?7???*_ at G?????-\GM??}???:},P??"?;d??]??s?o?d?PctiiI[p?????)<;???5???Q?G?T??S??l??P?)?};?F???!+?????`s???A????????:_9/?)??c]9?7f?!??X??/C?<E??d??Mc]E??V?O*????"??{????N???)9?(?o{F88?T?cX?5????/?W?T?Z?zOG?7?=,|)???y?%cZH???e??xyJ??????n([?????????MJ{IQ+??`(7???????X?[XoQ
+??#???(???????%Z|?d?q1!?v?o?uC	?@E.???S??????%.??>???N?8?qR??b???*I&F?J%?&F?A?G\n?d?o?????v??Q{???8?????????????)??+q??????????WO?`)?????T?(?!S?-?o??#?????c?a0	?8???????K??|??#?U????7"R?"K,???|?k???E?8??????)??U??S???_?Bn?A?]?LN??????????a??S??A????`l~??
+=??G|????????^6?????? ??=?????7???C{@?????q??BQ)??????e????S??????s?H??d?.o	??+?????4?^?)I??4>??????.?k?\F???????#??-??????%???E6????Hvz??W??)??s??~?X?No4R?%?>????vU
+?}i??!h%F?F??V?d?????8?)?~?T?N?n?P?K?:$???P\??-w??%??Y?V?S?qt???????:E??K???"JL1??,Z??L??c?9??/???B512-?/?9U?????P???9?1n?w??'n?<?o??s
+?,?oe`]??????
+??
+?T????B?/?9???????????!!?A????JJ??B?	?? LI??????<? ?B<?O?)??????r@P?0{p?l?????zP?M
+h ?Dh?/`?l2?????;???????J?>`?jE
+?????W??,????t??????F????c??Y??/C???G{2?1???k?6???_Iu?3?[r-?">?V???9???vUE+???R??%n???T?[??J~?T?,???Z??'????t=Qf?W?E?8?h?q???1??v???N????????%C??k?7R}
+?qgN??P.?+4'?3??|??1P??Q????`?Z:Cj?+???:?s?ZQ?,?\?'??X?'?
+v??4\??h????i?|+??w;r???3??Q???m?]?? ??`?==J??}?0?0R?=~?d??O?Qc/3???I(k5?????~?@?/?)?????w?a6??{l??0?]??	?j?_L?F^r??6Ay????o?O????????]??\?XH?4B??P??2?V1?Z?g???????W!?5??N-?? o.?R9 at w`JR?/?dH???$????bV?+.2Tc????$P%o?G	?%?_,
+qXW??s???J?Z<?@?.?#Y???Rm??O$???????O$???v???:I ????w=c???B/????i0}?O-(z?b-;????`A?UQ#????j??0?p????(x0???pR??XO6????Y?L?a?W????W\J?^??j?J?]p;?m}????G
+???1???SV?????N?v?i?????8?FE???	?j????!?+Y???T????2?J?T?Y?;\I?????????f????zp.#B?Q?????7cOXW?8?R]?C????h?G?????v?P/M??gE??c?????u??_YD???????~Y?????7?V???G???fx???|x???D????y9?0????>?qJe?-ea?p@??=fO??J?Bk~??Oa5?Bv?_9?P?????e???\?i??F????A?Z??`????Y??	????H?y??;c??M*tUWzj.qu?Sl}?TO}??Q????????QO???????G?v?Fss??h$@tI,??Gh(?cj???6??F???&??pV	??J????r&#?R~???*i8?8?r???.Zg???eJ???k?SS?Y?Rn?V (NR?ch?8?s
+?o?C at q??h,????YP???6?2?????b???r+?+?#?Wj?e?=??R<O??????-\K??+.1; v??U?F?;?5?N>??H+?~&?r?s
+???_????`J?3???1?~?m/???#?
+(?B?|\?'d8W:F?????+????7p??)??(??u?]?j
+??<}???QE?c9Z???Xd?Y?b?;?)?=?????4???????JcG?K?????v????mG???????%hKp:?? ??kOE??<5???????.l lBx6GG[cg?{?`?;?????1Z?4Z%Tx?(??????t<?b??-
+V????P
+Jw?u	&?:?V(wM??=?_W~?^???F??{r?K??d^6????Rg????u|?M`GA?????Ny%????r?a??*?P??1H(Y??r?(?/???~????????%2?)C?&a???Q???/()???eX?/?l?Qu????^?nu?=??.W2x?????6?F??Nt??X}?f?X?8`J??<?Y?)??J1?PtR?d?:C???s???u?}y??XC?6E?)??p?T???xg??31?V?`@??e>{?4-??d?[?Et??sNP???Ff??z
+?T??????a?E??=j1?	F??E??!?uj???????
+??<K?Hk??/;?B?????f?????"?????????Em??:?,?`?W[??h??????T?>>) ?1??'??@V??f??n(?R?3B???Y????&????
+??%??R|???????bz??y'j?]?@??4?&??uzQN??????H??4????????s?l?lf?o???E?F???#4???.???>???&???_?w?(?m???o1{?X??e?????????r?.????'???C???ED???R??m(m????s?z???????T'{??????*????;A?E???M?sF?l??h??Y?????;u}?a???ua???m6???X???l??A?23G??l)???P(aX????Wr at -n?5??<??<?
+????B?G?PJ??u??w????-??C?}O???q?9v?}4?1a^??E????D?pP6\????
+???Z)?????U??O?v%???Z
+S?!g??y???q????&O?O?g????????<????????R????LQ???>??\b??a7??$3Tzg??J???:?`<;]@?h^?K??B?Z??7??????	??o????78n?
+&F???2????{??.???4????u??q;e??(v????? ?A??p??+ ??3$?"??4??M?E??????_??MmX???)????\^]??
+A?)?$?4???0d>?Y ?p????)fnWU??Z??!?S;R6$??b?????? 1???=x	Vr?8?'?o?==??T?]^??????]??????Q??vJ?W?K?l??K}L7]??T??b??????ZLL??N??R???????x????H[??C?	?t??Z????z^??????w<;-H|?????;?Vs????V	Y????????Yx?~7R??{Z?%Y?EK?????e?H?C?(?q????I?e?e?Yg?R?,?>??e?XKx???Y?????5w_Y?@?&?4v5???8???(?? @?f?????J??XV?gu?s2?????A???~??^?9w?tC3>O???}??5MJb????n??????3;??s.?Jk?h?,>`w?K??x?
+F???D?B??X???z?r$??????Rs*???4?????.O???7
+{3S?Sf?)?m1??a??[?l?/?enT????~vB?btE??^???Z??????X??	??E???E?s??????????g???G?N??S?T???v???~?v??????c?E(?V~?-?
+H??W???J?/?
+z???*?5???s?iL-???z?~??5???ScI?a???4.r3fg???????[?
+???????t???????1q<????.g??2??B$`?J??<81?ta?(?^>?u!g?N?Mo??@B??/''x?????P!??????u??`?-?CR?<????r?L9?????e?
+?_??tkV??p??spc/!?*?/????sL???Bo3Wy????df?Ii?i????T$???%d??2??	???????~?y??&??Z???Gh???3b?L?3T?}?pf?+Lk??{p?&d?W???X??;Q?D?L?7?z??~??a0???g?+?7???}???}??????IY.??\??sW?+TwU?U?C at u?W?&?I??^?3?+,?4Hw?c???-??????}????^Q8???b?5???x?
+???|?j?op~??,?zv?|b?7h?m?c??nf??9e??(?C???????VQ2O??q???	?'??0????"?????~????|?d?????]??x???<?w???	p>]??? ??????)f?x??+??c??1Z?????F?????8T?5g?/W???<6<????Y???U5v?N??`?,?s^??)<?N??U???u*%???%b??Y?????????f????g?L????\?G??????n9x?V??m--?u}?e?"??R?W?
+?58?-EO??!%?=?~???t?x-
+_A/M?d@CI?sPTM????Y{??_????9<-?+{???w
+??R????Z???l?!??,+?LU?4+??}?P?1*???0qC???E?@?????:h@??????????_h?x??KG?5S??W=?#U?v?)??W??I/??>L|?ri?}N?7??M??I????=?????Y?y{^0v??1g>T??????wZI?*5??????}?????ge?El	e???gV??Pe?????)???????HJ.??b%??]?A????.?@?o?6+z???#T?T#??;B?4????x?yDT??73?o?Q+????:?????l:?H8? _??d??76?=??*?.???C?gp?c??s???a??k??'e?d??3d????w???2q??????-??6?i?%????
+`$???????k??wx????F????????`??	????b??~??u??FC`???n??1?0k? rTa#?b????????r???hE
+?|R{?+E?6?T??M?R"2	?p?/?j???/???y?^?}??49??9}?GVs?A0?,??
+?W??=
+eC{?-?Q????M?8???U6?????h??j{?R??x????????????????9??oi'??w?TolWp?$p?<??q?@?^???W??E????!CO??9???Gr?,?y:?[??zp@?G??R??[????X?????;??NU/8y?????`?r?2G*vG?yZ?d?}?[K?(>!?F(?>???????0??#??JwO??V??\/??????{??$P&?&?????#?H?2?N]???n?~?2/]n???j??*S?????????s"?
+?^D?c1?B???`????O??=??????.?????g?LO?????$3?=?^Aa???g?C??J???
+eAPX????,???{?R?l??"?aE????W@?r?.??*??b??!;b????:	?L???0y????\??-?H|?==??|??~??'?,?'?!?@??5?#????%??8q?????d?1??????e@?;????Sl??ju????&R#????(???(???Y??B?)??????\??????????t??6???0J?] l	??LaA?Bc>*?gja???????W ?6?????J2M????Kn???c??Y?
+????_{A???u3????CE)??/E)"??&s?,??RN???????P????????????
+??X??im?Hy??j?+???9y?
+?P?*????^????:??????l????%?@?T?N"
+??M???>?,?????_.?]????Vq?{fHV\???M???????Y)?K??"(?????E?N???9rnU???Q?Z???A?????+9??????+o??^?:?????]Z????Mbd+X?????W??W[DI?\??;???u?3z?E[????&?o?8?=z??T?k5t_j$]x?????7?3????????_\??[6????/?Ged???4c????7?+???Zt?i???[C??+/??*H??z?0S}?a??+?????Z???h??&???U_?5+?????????:H?d??xQ5X.(?vx%????u?6?r???&CL*Z???D????)????>????m?????Y?bXE????]a7?"??g?a?~U?jb????b??3?_7???)?7?????z??????.7@?y#?????????%?VO???^Q????w=?? ?2Qr3?2
+?	f1???aM}????
+????????L#??K????<????R??.6??]??#?-?
+???qp???.??-$???h?$?????2e4'???ZBH???'?X?R%???????TEO??@|:????{???/i]|r?NV?????7?8Va??	:?6\??#WT??as?!???3??Ni?){?:QcTC?4?{??NA.?????I^??WT????*I?ff??&?(?!???99?2?T??c?????????????????qQ?0?~u?G??-?7?}Tf?m????m?p???A??????d????w??>??.???????wp}??G? ??@k?o???1????/e??Y,_?>x?01e???????????e?Y?????k<???F?????
+`DP1??g?4??z?o]s??]??L?S&7??Q?;+??n???>?R+l????*?7?????k?hC?5,??!!]b37??9??{#'q?L?|@JY?wH???K?^K?/?,\??f?3E*??j]?)?7????? "???f????R??3q?\?????????	o	,?)???w???]??????,I\??)???k???\?Yi?????^??|79????u??E??????7?a??)?H?c ???}?%??;??????,]???<?[J??R??+??8w???~#'R?nSU??qP{	??R??h?IR ??+?)?????????????J??q?/??R#?7R+??:??{A[???'??RQ1?R?-0??V ???eN?J2p?57??4???1 `@G?????zH?????"VK?z??J??6i?????sx???S?]?j?Y???M(??I???????????{.?pW???
+???M??x?,Zt`????7`??+???g?&Z?w????6:?*G?p2M8x?K?
+????]]9?l???)<lV?#O$??5??DR??7??Z2?????w?UA?Z?????????????? ?????$?S?i?+[??TSn(?????Y??;X??????LO
+????)?/???H at Q???<?????<0ZZ7?uLB????????????????}?oq??b??CC?[??*??m?????????p???B-?P???iRp?G??C?a???N?d+$??c?1L????O??*??t^I?"f?V??_V?????c?|?P??3????vz!lJ???u? ?;????H?????????>???SR?????:??l?)?{]?p?????C??????J?#`0??+	c???
+?'????y?m.?/?9?????[?`s1_7I???C??F~=?Z)?|??:?AD?.|????b?HU|P?A?????NZG8??u#??l!??2?I. ???2?E*	jA ??
+??Q??t?V??Ai??c?o?AJ??F???>
+???G*???BR:?????????Ok6?
+?J2?(V4????1??J??Nf??-l????8??)?t?Y?*???U}?4??b???c?:?X?Y?r!?c?:?X0_??f??7G?r9o?rS?G?????'??+5??????i?fNm?????J?+>?R????n??0???&?/0?W?C???a'??$?+N?^?l??)_iO??2@?????xr[?b6KC	}/z?-'?xi?Fz????f???Dcl???
+.??	9?????8???O?cU??s)???H???f?????F?s+`????????`X???c?????g0??V>?L?????!$<+??z????Y<#????NW??D?9F??I at T!?u!?&cc??{kGW>l??1?8???._?0k??	??C??n??4???\???K6Y??wH??i??^????.+=????$>?^5@?&\?p??????????????t.???{x??????
+(?7?K???<<o;?O?.~??.M|_)????9^???aA????????+?"H1??I?U?(?Eir?g??D????G1?'3{???*.cR??YK_f?+??Ma??????x??~9???`???=]???\q?yr{????9???[@f?J4?Y?9cU?q?? ??;?/????s??x?=??????a`\6????/0QK??0-???)?;
+Ra?GD3'??`?J???#???o>???? ???@?z=e?'y{`??V??D?+??CRe????K???i??q?hZWjL?GD???D3???hZ??]n?-D3???-????6R??d??%(?M??H??f"?"R???|?P???	?^??&xE???xk??DM?<?@??W?\{??????+?E??*/5?<??\N??7??]?WbM???2??!+?????K?a?z?uZ?}??cqN	?rh????'?P??E5??q???l??sv????f>?i"*??<??D??"1??????????6_???e`??{.o?g?@???@>?~?3????? I?9??!?<??*??<?x???????Gx??????I?F9?#)8?!+?????F>E?PIUUaWV??.k?Y???uG??????T?!??d????????????D??1?&3?=????eC?????e??{??j-??J[?Cv#?"&???*?{3#?O?,???????+?%L??`?????????????????8?Ga2E?x?OV?g?I??A,?????}?????$??m?~34???1P>@j?d{+????^?.??$?d?!????<???+???Om??-%;?t?%????
+QC?1|?,j??QU??????-??{?<?Z?????\?7?????6?????v'tF?
+???Y?;&?????{>?}?T?=f?=???^??(?Y???i{??]?;?sY?P|p.?U?????????T??Lc?????hI????n??0??F???g??f???Eb?"???c~???.D??????k?]??zj??D???X???D???Q??????72???L ?s?Bmh?
+L?9/xq?b.??4m?!??9%pQq???i?zD?T?4??e?6\?v?2??m????E????v????,|]a??-??pcz????%?d?Pb????????????e?M?BfP|
+?X?????:???Y*?0?ws:???u????:yE?T%???N??4n?SxC????????jg???~??8?T???????,??4B,????K?!?pE5?)\??s??ge?]??%?N0yx at _4J?7?-?I?$?8x?*U????0???V?I3"fR?BP?I?:?!????Z??,????>,??V?E??*V?hmX?H???Z?4??7???5??>?|???w6(???uG?? ,?!?*?a95Y?4Fr?%_!=&?&???????2d:-=?C|???B/????ICv?0u#??????ql/^??W???#
+??_???K??????????9?^??]?	??s<????????{b?f\??+?4Z????&?o??v?<??????`
+|?)R?kN????!pLW??I5<??{????%?t???????D?R????Z =@??????CT???UR?$?s?cE?$?&?
+5<.?????b???jxN7?+????jx?n??75i???7?!??e5????p]?Z???F?v???*??3?u9??h??r6?h^?????f??\???p4?~!??j?Q??7?Z\???{???$:?@?(???Cs???rK???Rcf???m?@?[?2gNf??Mej$?f8
+???&-e?-?<^?*?UhU???y???H?????ZwjRE????Y???U?{DA?g
+??;?$????ouY2'g???`
+4q??R??K??????7??|??'/???
+Y?\@???????0?(
+r&??xc??#=?{Z????)D??7?b?????c,????RpZiX?
+???fv|?cG??MU("?}????1??2?G???B????U??yJ?3???B?+?u?U9????%??o?b_?oBt???????????q$???;4?????x????u?!x?B];????h#?dD???T??N?%?ue??Oo?.7-+|?g????? ???	?b???&ujn:?-9O??F<???(?>??????a-???v?q??P?W??&*??^??TV?0?%N(???<3?KN???|e:?na%????U?2Q~?c?(?]?0??M?c?K
+6?!Q?w???{b&$?Mh?cz??}S?d"?8xK?j?9?rE????F??5P?d?gUV3w?qM?c?!??????*?1/j?2|Nt*???\]??5??|1.t9[?????O?O?a??fGb??n?C+?.??C=??Fb?F?K????R?????`??????U?{I|?T?6?4xo??????:?2?w'????5?a????N`?j?-??.???P???a'??ot?~???c?O??(?C??'??rw??K6?A8?T?5????C9?Hz	TW?7?C???g?U`<??dQ?????????_?????y.???#=?0????u:&?zxKE?D!)?o8d????2?)?g~?L????{???m????????????c???|n#?????y??"?y????1*?4w????C????6~?????2???t?[?N????t?/?NU?RQ??hY??,??I???????Cv/??d?E??>;????=@4?n(D?????9I6b?????B??????:E?aL?Bzk???$????F1?N>??????Y?s5????o???c5???N????E???}?F7?????A?E?,b???Y??r5??f?;=?
+?????z??e?l?????>?	?,6N??(???;???OW??f?Q??2a*?P?U
+yN???CTb??l&??]??k?X?`T???m?%G&9?dtd^?iY?6@O??m?fWn?m??}p1KyKV?O????2?E?'????U??????R?P??n??????#l?(%)iMZhJ:?00q??z=/???<??\????W73).1[?25,?Sq?%??n?ey?????P?>??5????P???????>??Q?????D?%:???Z?7X??.??3??????E?Rj????\?????I+)/???p;?|"O,k???p???????v?],v?????+? C?i?.???R??v???l??E??h?6?? ?^? ??B?2u????_
+?{?e`?k[w???R??5K 
+?%?M9rZ???z@???=???,|E?
+?&?b??}?(G\r.!?}??z"?)?-&q?g?
+O???M@&?Fw???]?[??f?QSY??2R?'?#?????ZK????
+o???V?!?dey???h????O?v???R?8??*??N????+Z3?A???6??????Ex?/|????I????"????+t??8??Z???Ko??yG?f????9s???y?????<??dS?e??u?b??+?????y?#????fO*:[?OCR???????Q?us^qF?}`J?TT1??????m?X3?]?Q?M??;??n4???!???0????o?????.?0K6Z?C??_???d??|???&???<?m??}'??l+a-;??;g?&@H??Q??YB?	???;?P??8????
+M?? ??m??bs???????JfR??????6????Y???>??
+??:????????;???w.??"zI(yYT???A?c??Y???3jR?+??I???M?QP????+L+????C?&??=?Q'GF?????????D????l?~?G?L???<(???(?4??Y??-????u?0???*n???-???#?r???1??2?'?846?j??\?.?!?-??Pw??X???uB?g???_?Q???K?y????????]???q???;?Q?5a*gL??????????"??bg???>???g^:Pjs??"????
+ON??P?	???\b???,???F??^n,CZ?$
+O??0?y?P??mt?=J????c"1e????6$(?h?wf?r??`?????????a?6????sC8??_y0*??x'???!`?o+???J?)?Y?5Sj'?t???]??2??A4?wQ$??*?a vF???"XY???????-??,
+??5??ev??#
++?&)`D?r?=????\??\???6?
+??D!3?3&?e(	??@SzX??????E?.??WZW???"???U$O???-??p??l????2`????U??e?????5
+]??-???\?2	???bE??q???k??E?"????H?C?k???????7?"??S?8I,3{+???1??nYY??(?a-zU,VB??[???Ij"9???h???on	?[???$???VEK?H??*?eSEK??bJ?!?*ZE|#???Dq???<U?$?p????+????k????QQ$?3U??(b1_(??s?U??#?X
+???d?E??@X?pI???H?d??BD?????,??8??C??T?o?>_????*t?J?3..????-?UP0?c?mh???e_???|?&n???P???l??T?Y?????a ct?5U/???j6k??? &?????y7A?0	{?/???d???
+J??]????d???e?;o???????????'???s*h?\???~u|?:???pnM@?r;0?H?f0c??J?????????2_??d? ?X?T??8)?"???????EMZ?1????"G2??%Jh?????a?>?~S???%???_?3w3?'?6???? v?s?YN????5???Lj??Mf9???Y??0ks??:???D,????r*?v?K?&9??ts??JIwH?d??"7?K?,[9?S?_o?
+Cuo??v? ?g!S(v???Y??.?v>???m?bq??x?]Ix?{EI?W?E?????2?(?[??,?U?<x?Z??@?-Y ?D??/x???6???6??ox??.i)???9?Vmc?D?(?+_7????k??????	???1|r,????N`c?d??w??CB?j??p?^???T+??f<<???O?h?????v??xh?C??(d????h???????6c?!?M?6???m$Ve?l);,?`?>K(??n'|P???OU?A???-\?D???	6???a??'
+H??D?
+J?X??p?????(D????t?G?
+H??W?z?J}B?d@ZQ?bK???!?d??o?
+?xl???8?<??N?X??Rs/??{????D????Xy?.???Y??H?j??????xqq?? ?WC????"p?HOO???.?0?*?e?????9~?![+??c??(?#??l??.?aZ???9??g?z?x???C?&^QQ$?%??`?_?k?i???;Hv9???Y???-?>?6?????V?y????b??*?I???J???[?a*y??????le?\	?as.??V???:??????A?(&v?qM???O??P???0hgyy???(??pi?'????^a????3v?eD?2?????]_$&?,??????Q}h.>)Y??????y>`,?Q???A???????????[y??QE?y?Oj??G=_??[???*=??? kx????W3???5b?cb??F??????JS?Rw?*?????u??y|r=????f??????N?[?F&yK?^?@??????"?\#
+cT'???0v?wT??>??>Q???H3V+??~sFT	RB???'????#y7Xn~A?	ZKWJ=(????????????*??????%?????O?????U&?G??W????c?????f?F?)3????'Hr?????U??7?@)R?<t???? ??yc?3??+???ml) ?S?CkN??!
+x??2??2?t??59??kh~?F???U-??w,???(??:?d??d??EJG?IH3??`????2???~???,???h\????5.???8bzq?}???????O8?n?o?Y'|?????	???TSK??{?Z?.???e,l"?Pu+6y??n?0?u'q/?n????Ej]?????Ozv??^o??+iN??c?
+6??G{/B??_Bg??!b????T???eR??[???Yn?t??=b?-?V3?s]?V?k??~a?m??????????}????9????},"????????{?B?F??@??????>?p(x?7t?cN??
+^????6????????;??	*??H~?yh???????}8?k}Td?l1??-j???P?J?C??r????XKG?f??????B4??/C?0???L?L!(
+?(?s?*?y%?-???????T]??&Q?=????tJ6???t??N?E???zg?'??3?????Ws?H?%???y?0??o~??D?~?U?f??.C>???????E?Z????vx????4???	??v?04*????Z??????L?|?? ['???F??:?sJ?Z?]?ge???j6LR??m????????I???ux?f??
+z???}??zM???Z,??
+?o?w?y??	??<?????,R?Yc0??ha|J?J;?$??|G;?R?$j]???TcNnum?????d?ul@?n???
+H^??_??6?dj?`??*`?@4I?j(eF???$_W?i1?
+x?LQ?8??K????{?-
+?u??>#]??f????UR:????x??]x??:?	??Z><?_??|<9??Mf??????e????L????B???>S???;?5??
+g?b??nb?????`???????Hh??tj???2???Kde2#5??x?72???U4^D#??;]?????*?k&^#???<???
+	????N??,?Ch?@[??l?@D?>Q:dKUaw?tQ)????T??X?%?/???????_?ZL???{??h?F?q>@u++?w?|j??eG??x^???????^x???w????X? ?
+h????v
+??	??a???G????_vy?L>???5?Q????j?4?yG????}M?v?v?x?I???4]^f????
+?$RS?6??U????*&?????Zd??????????x?????l?ry?L4????????b3????]Ay??1?=?YK????v	.vh4	?????%??1?U???@C??[d|-m}??}p?S??IK???c?X????[?Ie????:???????b??z??z?$??2Y`L?*?????????=?l??KSB??<K?	c^[??7?h??v????P?w?LKk?????e5?;????>??q?????????&??????`>P:???27XIBy??u??1K?p=X*}%?]??-B?	??C??^?S????[??NM?????~+{??)H??f@??H?_L???????}y???x???? _??H??g?z???/3^????x8??/1?a?C????>^??l?dW????R:xI'2?U4?4?
+b?%:k;?0?;|O?9?^,?C}8E]?A1V??.??4?2e?Y{\???&m~@????W?,*??.0T?g?l????&?????g2???3??q??????i??8?????sn??O?r{??R?\S?s??+?(?tM????+4??B???.???IV)?7??s???|??[8??[?D?????1??f?"g?Q:?JM]o23?z????2????$???J??h?'?>D1Z?]???>??
+?\?J>?x????f??MjJq?????n??`?{C???'?P?V???nr???????x???:;?=??6?u?|??(??.?kE{??f?+???'?!?'4???9b?Mc
+
+mI??3????????w`1/Ov_3??(?S???8?	???K?0a??z?Y???-
+?8?Z???*6? ?mM?3?????/???2/%???w????y47+P?Z????y?Z?O<TY*???????P?_L???*???Q?????qr?$?????|????(D}_??o??d??/????`?>???G\???]i?j??
+?av?*?VZrY??????Nc??????c??.????+?p?6??5[??r?wxP???]??v	??-?D8IUh??????A????</?_???<[G???r????nR#??0?5??h?}?7s>Y??V??0?rK4??wi?????]?(2?(?\?7+Xxm[I???E?K?.??m?M??$?/??^??a?a??3????2??qP?????s??????b&??;????C?HH??P?v????>0n???n???e??:??'?!?
+?1Q?y
+???{fR???R@%o?\?J9?p??Y???TB?O???????R>?????Ew????????LN??^???:?K?&?4?O????}?
+?9??_?}? <Cv?w?8?????ky?6????|bopbr?&>??	??????O??G#?2fy+?T??TT?5ph?B :z???w6?4;?Jd???"uA-?????????5?#?????S???o}? ?}?H?b>??Sc?;??c??.E{zPs??i???X??_b?Z?_??r
+???_?}????l?
+???>?>St????"4+c?+[??.t???????_?Y???=~v???B?r?Y&?h?_?d??G)????*???:??V??+????1F?i?OJ?Lb?$????????5??
+(/??Y???A/???|IZ????q?7?T?.?9???iXShAk?3F?&	P??w
+?XB??I?0???? %??f??1????BF?u????Wc6?R???f)?nU??)??T???kc%u??P??v{?a?*+??d??_km?}V?l?P???th?GXwSL@????j?@?y?cuy?`?k?`?6cb??'Z?s???x??H???C=o?
+C??[i????S=H&?+????q?w4?v?U?M??a?Agd8V?3??k?5.?K??}4????8#d??YD?<=???B#??6??????l????8??s??????.??q.???U>??xDp????????????
+????????,?t;???1\?W??_Mn?h]??[?_+????d1Z?}???????<h?I??.
+???>?????.w?s???6?yj?(?C????_%?z?rt?+??6????5?e6(?Q????!??U?H?g?Th9)Me??.?????????????r?Q??R{
+?????_???7}?????b?G*?? \??66p?]??J??5~bV???dz?X?w?{2????/??E??-?gs????RR{????uE% ?B?e????
+?C-J//???#?d???????&)=@?@??(?O0+?????'??56?o?h?	E???lf5Z-^%??j?D46??y??>????$7??>????3???^?;\?7?"1????????v??V/,?!W???Uz5v\???k???????]??/?v??t???_=???o?????7??]???]`:?l?Z??y???q??za0??(???????<??+?E &tH?@???? "? ?~???!,????q????d??y?????8?Z/`??? %$?d ???w?Wz????q?D/XG??:????z???d??^?=??Wk<B0?????pCe?T?-?us?q4mr?@???:???a??%:?1?(?J)?nW??]?_?b?;???J???l@??)?>??q?i?M?P??6D'?9?;UY????4??z??6?N~?2????>a????0?4??%?h)$
+????z?*'??YFk??R????????5?Wx3??h?????,?I?8*??F???x????l?o???k?a?;A??4kzH????R?BEZ1?-?8-?Eta????????;?????R???????8?>\??\??+??F7?	???<a??m?X??~?71?@.?4?????S?
+r?]0??
+ny=??Bx??%?5Q???F?FU?Kv??<]? m??<g???
+???\N*?Rl???R?%?K??JE???>IV??_L*v4~Y??JA????????A????H?????=?IE??T?H?wR~<-??a.+X)??R????????Tt????Z?s	????Qd????\?}??z????WF?H?????
+H??Zt?w?;]y?:???;jz?6?J?(5???6???,M???B?MH?#?
+???q?L?;???????zRi??|?^4??Q0???e??. ?n?Yw@J?0???z?CH??	?#Hr?y?NIn???;???FFNf]???s???=?O?mr??????^/mOx??[??g?HAk?Bg?y6??-u???"?????L?F?L?!??`?C?z:}5$R???"?M?s9???^???K??[???Y?_?J???Z?|*2?_?$@?I1?'].?R?.?C:;? t?????-~?U9K/?,?`???(??\?/pp?7S????j??B??????????4???z??*Z?wZ?d???D-M??fU???????H8d22'?Z1??oj??r??:?Rxzq	?e??<&??lJ????o???????x?u*?3??c??:?-?ZM?b"6U???$
+0^???`?]???JD?s\???R?;?A#??t?.???'??Q:_??;x?1?Oh???mK????N??F??????????d??Tc?0?Z???j>|0z?.??Z???j???\oQ??ng?]??
+	!u=6MF??EN??	???m??KK?Y??Ka???E4???Vn8a?,?K?	?(?mR????3?s????8?)?-WD?{TM=???:?????L?-??n?zee????W?P".??LM*?wZ?w?D?g?????Lmz?3??+]???||bakKB`?F????(???LG;?B~?p??*0@?zYk?ke????/V;??\f???$?e?????zPX??s?f?BD??3?????E?? Ka????7???z?????k???????"%????;?K?@???q?H/???? ?`\X/??`\X/?=?_WK?c??*S??^\??@CJ?\?!G?m?{??F3??S??2
+/'T??????>??;A??????j?T?PC?ZMj??*P??#????O&p?~7\??c?I???1F??!??0#FX???a????[_s+?[???????L@?w8?N)
+???????/?#,?`?????`7???%????3 j????????Lv]+`
+?????q?e???p??Z?E???y??
+?f?~6!??P?l?????T?f???w?el90U{???V??^??/??k???Z7???7+??e??v???.?k??^???7???,??o&cul?q~???!?6??ilU?A???$?1h?????9E?r?)??pEd??N?>??Fz??p?l8??8?I
+?j?<\??)?0??W?e??
+?zj&???+??H?I??5?wqw??????W???fq??v??9?????T?E?f(?=o??O?????CQa?M~?9?????D???|uE??UU????m??x??[??M?Q?????fg???U"!???FmoUlc*JL?/?9???)w????m?H?mq
+p .l??????>$?R??u????1?%?	?u7b????,?e?&???&?P????0?	??y?A,??tI??d=t?{?????????17!??V????&?????@?o???l??7???^??=?|-y N1=??6??5	G?????Dv?G???O?;?0u?<?HHm?O(lc?Fs]2G??	?!C?q?8-??veg???????0e?5a?????Vm&???#?gVi?H???_X ?4?
+
+B?!C?nx[-?M?<?QW??,???G?"(b????BS???C??*PT??4*@?08q??Owh???????? ??Aw?B?)Q???J?l+?????A?fs?#?f]L??fP???B^?UCN??XSz'-d???\??oE????Gf?????S??????"??!????^??5?5?0??iP???s?S??.??[7;Q??~?P at 6??]Xk_Z???YhL??3????)?????:`@?4?O??)???=`??s\?0B?"??K?n??"[?v(??|s????4'??????Cu???z?M??2?
+?2z?'?#???K?h???g?i?????????n????6U?:gTm?W?b??M?+?8`K??CG6'?s?#kc&|?u??Z????)??c??Vw?y?F?UJ?????	?h`F??\j?Fam???{XU?a?8?9??????7>?Er??Oy?? !?l)f?^??G???v?_????kws?????e??Y3?iAC^~:{???:??F?z????\n9|???<?y??r??|?B??0???????dT??#9???<?0Hk[??\?k
+/?PpD]??$??_Hq?a;?	s?????
+v????9eYHO?!???D?b????CP??G????s;qe??O?CQ`rV$g?6?!?C?????D???s?x??Rw?{W??Yn?}:+?0????4n)?g??$O?y?????kM?dh?sk?????~`??c??
+WK??q`??F??z?X%?(g????,??s$@??D.??$?E)????M?52??1?O?????X?????}*Z?$?g??(???4C??Y??z8???????cP??>-f.?.?? 3????*??o? l?Yw??`??Ha!???
+?????@?1]8E?-vd?&???)p???H?i???????CB??H???????k???
+aQ
+????? ?{?<k??>tH??????????<???7?m$,??("????????K{??^????#??z$?#??/DC_??5?~?C??sS?P	_????w??XHI(;\??:??Lb?Y/??????u?]9v?e???1?n?p???r??<??8?Y???E?<`???U????B?>
+?(5a??
+???c!??,i!?	???c"i???3d????51??+2%?N??????V?K??8????)L???~???????^?F?????e?Wy?sJ??O??
+??Is????Ec:t?0??e???$?.F???B?H???U???J?!?????2Ax?r2?? 1a??oME?|???-????????t?O????1????7????M?	TT??I%8???fF??5?J\	Z0dUu?c??N8?c???U?????N???9?n????L?	??
++????"	?v?fm???s}?P?-???JC?R?i\?4?^?????M?NN??El??a?4	~?SiS???
+?3??7?%Ft???p?????????~?S??n-????	??[i??:fb??g???t?E?x??M???3&BT0? jA???	S'???l)?
+?J&??????7<???d?Y??i?????]?{n??eeXv????????????+|?6c?'9{t?V?????J???E???]?-?^YO
+??W?^?,WWWG????????{??'?9?????FQ??`_??OJ???Bb ?b?p?,?@????
+?+5?b$0?_??
+?/??
+???{yJ?i??R?=Kz??Y?1u?m???)m???[	?n???????weh?fU????@?v?jF???>hS????A??3??-???????t??
+$?????
+?cO?	??1?3`!????I\??????$???;?u???????*???
+?1U?.?????Di??Z??yn???o?qA?1???N??
+???4?@H????[?n??~?zq??j?? ???;?X??^?4XC6??d?????$????????8???8???x??????tV???q??y??M}?Q??6??~?o?ZA|?o(??r?Ez???
+?(P??R??O?d??+???R???\?????R??J}&JV
+?IE?1E*?R R2U*0???*z???T?".?@*ry?2?)qR.??z?yR???B?,??R??:??R?k?b?T`??c?T`??&KN6???R???S?6d?\??Ww~????,K;??O?VLr
+?w.???7S&????2??J@?3?+?*?mm??	x?<????6E?4????ee%;?cy?A?&4??\?:I?????$'???*P}D+?(????;`?"?I?dW%?^???5>T??G?Te?<9m???<i2vI?x=0?`?-??X??d<?'???o-?&?aI?Y?6T?????a?}?c ??$CN?e?q?? )?"???i0gU?NdHK???o????[
+????k"????Y??
+T?*v?~P?:??????????:????E?^r???!?W;w?H??
+M?p????55??(??)?t??n???????;?J??n??/???????m(???T?[[g??????{?*6w??z?yE??7?p??+??>??[??????\???8|."H?????|?!(?-??RTi???k?H?????e~3&??v????1f??J??9~?? ??ZT??????-?b??^?????????????6??u?f??-????4?????3t??v?????????s???,?`??%?c?\???X????pJ?{?sTj?????ZV????????g?j?M??O,?Am+?u??e???{?%+K?{%K??w1??t??Y/?R??;r??2e
+?]????????6?+X[??FD?#F??,f?????
+B??C??	DQ	?4`-[z??L>?=?!=?v???T????u??`?K?Tu????gl??`~?l?uF\?w{&??p??V??4?J??|gbl9?b?????N?=?i??D???	?qV%hV*?rj??O?;????I?q7???k?gH??um?WK??????L?L????^X??g??j???c?o?:??C??$B[Cxg)$???w??????b???~???.lR?G???*??2????x????(??,??}????/s=?/YZ|??l??d????^?A?}L?6?c??3?0?-??R??t??rh?^:~Q90]????Qg=??N:8-?s?????@M{?Zf??tZ:W(*7m????????W???{????u??j??z??[??T????;<???3?????????W?3??4P??D??? (???>P??h?'?	s?7~?6?9??{????cu?-g|Cz?!??&-??60)}????y?7~?6 ????o???o??_?????m?????7~?6?;????y?7????D???A5??3g?V?=J??????%>??A?.}??I0?????g????Yp??+k????f???W??	
+"?[g?????t????ql%??r:B??R?Z<??z?)
+#	???]fU??????/??+??T|{?%J??IDWp????d;?m?b?]
+g?j?
+?O?&??TC?y;?A'????????xj?Jq2?&?~?p????\?????B?0???m`?]{b??Q??`1?s????????@_???0????#??F%??f?U
+?????C??%??]??Pc(q] ?o9%??1???K?p_???e??????y?>??,?c????
+??@CNe?^'??????0??4??????E???I??A?B???o??????Y}?j??W?c&???}w????7(?h?g!??Y??7a??F9?w#?_F,t?????:???m@?IU??e?<?\$,1?K?N?r?)?@??H?????@X?e=??q'?N?-u????Z????????N?????+9=??[???O??nxX???b???W?5Y?(?z???>&?????bnc???????ME????
+??|8????i??????G6uB?P%??Af??!??|???$??9|??h\??6?k???n<K?'s???[?h+?h????a?Q??,???HLNJx?F??[??????????C???
+???2????????xRr
+??????=?Z????v????n?%??*??????q?>?^???X/???? 
+?z?????M?Op???:???^?&?v}??&?b????G??<n???w?????2B???-?Yr>??h?l{??????Fs?V?
+???
+??2?[?%@?}?????^??s4Q???O?a??go????2??H}#??g?Q/??L}S???x???1?h?7>?F???2l??%!?\????`2?\??D??]??????<?S???2z?,
+?;r???????p???*??sv7R?;z?r??<{;n??7yO:n?@J?????a???T?^?J???????????It?
+???q???????&?&3????2?W?L/P??;??Y,?P?_?0N???PS???????>??j???4]??????&???q?|
+JL?9?w??A?5L??=??#?j?9???$?T???[????daP?????L?????K??
+H????~?L??????(??*e??Q???b??w5?$?<?=??Q????|g?g?O?A?_??*?6??????]:wJ3]@??e?d$??m=?dg5?!??@?B??DM?PK=?^???$?2\?0?R??????$S?}C?M?8?t?;?3????Z?e???@:???uH?M??n
+l?????l?W?{w=????a?H?UL??????O???YD?j?????????$u[???????n??X?L?y??/f?.??MF?wb?M?9;G?K?1?\}?????c?+? ?m?/x?=??B?y????8?2r??/Nz???
+&???e?Ci?yD????`???????????5}#?+???????1_??%F???vC????K?eNm???gK?U?}n????3?=?;??Q??XT%2?[?SJ1???Ge?????~?!?MX??#???R? ??}???Sc?I?"?^ZX????5g???
+]H??n?a?0^c???p??n?????????&????V??X??*??????m?f???&I??\?S?LVc?.s?????e??x?^?c????\:\V?w??I??e??n6F?ZxU?E??,???
+???I!????(u,?=??????????hz?a?\Lhq??4q????/????C??M??.?'C??$0?Z
+??w?I??&k~?????e??<U???7????J?$??S&???????AC??Q##k?\???P???\?T??:?L?????Vm????r>k??;??,??&?]?G?}j?e??k?cw??FI?|?W?X????4??????7?y\5???L?u???{?A:%?*%??P??e???z<*?i?U?+??????D??>?Li??q???q?!??s??bU?W<?gU??*??k??,?	??E???????]???????X???A?lF?????w
+5=c?rl???eJ?a?????J?K??X??XQ????????CUZ??_T?
+??????:??Yw1 at N?Y??WX?+c?_??l!j???o*?9?|?L?%?3k??\??kr?u?,??R?Dd???(??]?c???C??6=????m?mz?.)`?C?=?]?:??J???J?_?U??w(????*;#?0n$A????
+;?kV`g-????6(?a_??*?^?1%?????s?-?8T?`?W?7?e>????W??s??k?T%???kC??!??ri??]
+ca??^sF????t????z3q;?U????L??F???T:??. ??????!5\??u
+????J:JOc?S???????1?????m??YR???v??I???1k??>s?9??E?p?TB?D?UL?M?F?xU???_??v0?V?u?15R3?SU?O=???;Zg?G??>	?4g??Q ?"u???~Q??
+v?XsY4?Z???
+m?}}?8?????L??)*?d??6 ??????2?s C?4?(?2???C-?????(??.??/pl?#??M?H?C9h?\?:v;a?'?+?&s??D?@??5f???	?&u%?x??i?5?d?'5j?/?s???.?w?????.??/?@??e`??s`+??mLV???|8Te*???!?{??h3?U?????z0h???L?q??[-?ZH7=?|"?n????]??y]&?????????Z^hjV4???#??r??@2?Y??j;??l?{?%??Z)?6?X??y??L?)]p|??.?O?W???!"r1<????o??s?2 ?????:Rb_}?D8c?o]cl>Iv??.*??k?????mu?5RTbtM>Y??????_????
+????rR9Cz?%>?r????????;#a??????4????Y?r??N??g?9^2??;U????????w??`??????]?;?.0???Ye???N*0^???St=?8'??=?M?c??ZU?
+(?D?!??4C?0?z?Y??J?[???m?8??QGG?????F{G?????a>u?4Sx9?(M<?p?????g0????9???j2?(qT?
+?;?j6F?y??
+N.??BuU
+???w(????
+??A?/????S?N!??y???4$}U???"G?0??+*&??????R??????@?0z?Ds?c??;#gv?U??x0??~??V??Qq??QOZ????e?3?3??1?/f??%?m(?%@??;?m?[???W????E????~&sT9??1o"<?\?&q?
+?Q??o?|B????!?8????j?@J??C????F?
+?????EG?mY??z?	??_(:???$??o????;(??B+?/??JpC>=3??n??[?g?<z?
+M???&?J:?????SH??zA?q	|?P?E(??
+?\?T6?_??*?r????lb????S?J;y?`??Fxd???wdC????)t????E???
+????L??Y?g????c???-??)#U?<I?"Q
+????>91?????A?????wB at z??
+????????	?]?????_M>|?Z???v?	?????????9V???\?Z?W??n&5I8(??8=|??pbA]?????d?|/?a?c?????g?Sn??g?xy?]???;S}????j? ?[R?@ui???1/d^???????????j9?1U_?X<??*??g2???H?C????;??G??&????%ymqr?/??yu?CW?>????B????PS?a?wU?X??*???q?u??j?qmU?x??q????h?o?LP?l?0??n?S??B0???1A??1e??z????? ?????H???????5??O?L??~	C?????`??UB??W????????N<?'??q^???e?Xn??????A?n??E#U+?-?????????ly*?i?m????.t?ij??7?XO6VN]??V3~c??	???M??^9?????G\?=?_?]VQ@?|!-?9?dW>?kr????K#??*$??!?8>????
+????o???	??:A?@???j4????h??r?dGZhb??&???Q!?????~V?8??Z?? ???:??oH#\?{]pti??K??I??P?&??b??CR?<??#??,>F?{???y???A[??`}z????????'?(1??g???!S?>-G?^j?1??8??w?.5???????ACh-??|??????l{????;U??N?y?<?????'?mx*?:t>f?(??T?j??{\???@H?k"?~???S?F(?];FB?~~??H?_?"7????@?Q$8???\p`Y?????+????G??????????n?*??A-(4??t%t??-k??+?L??]??I????0?6????g5g0???B?!"???xe?r?K3??Z??
+??,?;?? *?1el?z(?ue??.?????????Gw??R^
+????k=T?H????z?]{???/??6J????{P??S??H?"B?2?%q??b?????;?V?e at E?B????,?9,??
+wZ|????8????Y??1??l?k?A.??0_??Qps???jz?LT?~?w?????7*????c??r?
+??
+\??p;A)??????0??????l?
+?h`jW?&?7?K
+?R????.?/?0??U?oz5EC??B?{?Ia?R????h?	p??)?F?? /8?I?*?a?-_?e?4??a??x??2>???^?F????
+?";???????"?Y???k3h??????j?C1??^)?_?H?j???b????$o?f???5*??RbV%??J?????r?k?:???5??
+??????"???z????u[?}4?? y6??????
+?^?Xr???.??\dT7??K??H?!?a?{????d?
+
+???2?YjT???>?&?#a?B???C??????%??(Z??w?}??F?}?U??U
+W<?U?o23?xm??,??	Q^>A?T?,w\???B??+qYm[?+??|:?????zh???h??d??k}?Ds??Rn[X_?qS??Aq??2?O?V?)??O;e]?&?*h?????"]?7s????U1a?????Td5???M)Q??????B??c#?A2?.>?E??_???j?(?v'?yLW??zL??7???
+?P(9????%<?m?G?Hj??=4 ?(?{??????pfP?ON})?BoT??!?`?g?	Y?;????W?W?NN??0!/_??;?????1C?~??4w?Jj1Cced??2?d-????(?:?,?
+}?????u_????????`-?C??^??+;4????t?t?Ia??xe??F??S???7Cd???A-??????s?I??G{??'?a?
+???FP0*????-?]?1???D?????s??DMuW?W??On?	=?Xzc??h?Tq??0Fe?fw?s??LN??e???????V?????5;????$<?&?6?x?sh?^?(u???)Og???j?????{?+???o?c???????j???:T|?8???z?3???t\&????|?yXk?Fgq?9qp|9???`(D????M???4????V"?????????
+B?kpf??^????.?#\????C2???6?e??????MD?????%??<B|???J???D?k?V?? Z??3,????(???]?P,?9??PW"?uP[?su?1v.M??|??]??%?,???!??????%??#b??s?@9qErCm??????=^??I???K-4_??_?????/?X??Zq??1????$?i??4???c?Yv?????J???l???'!h?ZmTr?e??qYf???yjz??Y?r???D?0&?????E?A??????M?8?:?C|[????)????`I???6)?L?l?'???1?????O at P??g????????l??6???|V"???T"
+?????s4&??A???:??????ZJ?:??Z]+V???????f?[?v????5?Z4?????_{?Y???0?9Nd?u6?N???x ???W0???????????Y????w?7???????????????!/_????1?'?E???????w????;???K??l?????Kg??#g-X?=?????~?!?zLy?n??(@?h??>`??,???1=YC?[??A}??U???|?n??]	??;?????.3R?	O3?n????K{ 0?i?l???[~4+?^:?E??????R;??N ????~??HM???*??\??????+?GC????x_>Z??}?
+?F?yN??????{??j"O\%-??t?????v???????e???????,???E???l???7?[?z???ll??1?1???????O?4?????D???rI??|??S??????{B#?DQ{?"????f;
+~?,??d(3??l?/7?
+?t???|l????=)??W=?[v??J)G??we?w-?<??^???{?^??]?
+?%6-????G??*a?Y}?????^???}?8G??|<?6m??.eGF??_????:??Gar??C????-??_?#??K???%fAn9nT??a???v?s??Y:*????W? ?0?FV/????6V???S?????v{??%M???L7?*??z	UI?Y8K??????C?h??4??f?Y???E???%?"`W;h?'???????????c0??L????UV[???lF}??|??pH?A??a????????=??<?'?q?y??????t0??(??18?~??@?K6???HrR???M?IC[??9?CA?)I?!?7Su??*?b??e?LQp???f?iR??|}????|?F[????L??b??#?B^,?2(?????q_y?
+}?<`D}rS??q?p?l???6?X2?6(?o?x??o?muj??y?dc1??{??0?&?c??1??cm1h?*?6L??^???R?';?x??7??>y+D?z?????RB?
+?s?f?06C?W???4???????r?x?A?$A~y+?????P??h~?@?????rW	???0(?????\^??p?*V??,.??L?q??7L??????r?J???w0??B?
+?d?j*P?u?vG#=???8???tm??????t?7KPr-\ ?4?T^?l???f?rO??/??()]}@???~???jhg/(????B??????5B4N?x?k??B?? ??X?6Q??X???????????a??I)?>???????/	???75??????/??#3???T??^l?,?#5T??f?"a0*???&O?8?+y?tX^KB?4?Y??Y)l1J\:????? ~?P???"???/?VLJ?{??*???@??B??#
+????j!@?H?????h?Y?????T?g?1??t?7?6????!h??xi4????-?#?-??O?/?3k?????s{?*z??<n=P??RO5??/???N)???????\=???&??2r????????R{??????%?'?M???E#???)?I>1I&??X??<kc?D9??0_?F_w??r?uU??,?5k???O??0?"??LR???R???.??D?]R?????%'V]??z???E?|???Y?z???????`?I?jE?2?q?c;???????eO(??n?>]??7? ???x??w?M?c!??m??v?q??2?{i??X??mx?b:?w?7???[??-x???p??)???^H?]p??h???@Ur|N??~l8A:?????<?O??Q???J!????c	?'?].|?K?tb?X???z?[???D??t2WP???RW????????M?Vy??\c?B??`?:?ahsl ?>m???????]?~{????C??`??????.??Y?6w??????.???|??p????]??gy??eH??C????l?X????D?(??6???C??`???Qh?7?A7?v??'??g?bN!X?m?I?fr?2!???gX?%????8?j?euu???o/aC?}??@FA?????o??>y??U,)?|g?????$?F??w??????H?????zPqR?????||??????o???^?cE?wp1??%?]??jMtO???3??????jS\+???&???
+????,?#7??t??
+???L????U?????S~??????????i#?f;b?>B&R??e?B?`????o?u?J?ua??'cBP?????	K?????]?3?n?????y??k?)?`???1??!?;o?[???P??@?p?J?I7?Rg~`Z?+????{(4??O?#q?H??e??3W???$???9???6(?????j???g?A?3?y?:>O????L??@??x	S??Jr?>?&?XoKy?].~?3???e???I|?z?T1?[?\$??\??d<?UO?P??????rl??
+?????V?6?w??Z?`z???9C?yY?????j?gMr??sQ???lt at M2?+??j?????n\)?j?3c{??d?g"2?? ?4??Y5?1??Ij?Oe????'O-,??h?NJ?!Y??????sOu????~???D"??FR???m]????v?7?qiP|I?a?}?	????4?????sJ)=?KY~
+I?J*~m?x????a[????J?f"?*??<\T"?????J?|?A?e????T?e4?J at t#C??}plMgEOi?
+?????)O??I?[??>F?\D??n??i?x?????CH????f??i??P(F?B?4K?!???U9>??oC??P?;"???G?{??@??qt????T???7?5?????m?????m"\?To??!S?????;_
+??(?L?=6????sb????W?t?Q?????0|????u?=m?K???&?o??;??????#-??E5xr?r_??|y~??9??_c5|?????k?w?????V?=?v?7?????a??]?P?q,]?????+Z&mh=??EO|2?????k?~QM?????w-G?P?+??Q?sT?!?/??>:?#9`k???8??((>?r?v??J?????n??D?Oa?i^v?/????????Y????nL????C??G%6?=?=b????;V?X??Q????%F??m?-b????AN?^?!?z????Fh+???y???????h????b ?w?????'?r????oX`9?7RI??Ga????/QI?H????M"	;f?C<hx?~*L??h????l?p1??????5a??F???qU?Nr???'9?JPX?zepC	???????o???????_??'??	??F?????/'??V?"??aX?l??
+:?m??????????8i???e0??&?ZF?QA??y???T?5????$????/r3n??y<???????(9???_?????????'????G<K???3?5???!?VmJ?a??j??aP6?????j?k??%tn-?//d?D??In??0?m?
+?f?2??nZ)3
+?`:
+?AQJ????=I??Rg????}????d??~??wRA?G??p&??:!?F???????????L`???GCoC<???6???,?M??n??????kX?E???????s?*#q???k?4? ?T?~???}Ye?@=?.??{?{??I??]??W
+02vW??Q????l??s????????" NC??w$?????,????|? ??^z?????C??T?]-Q??)}|?^?O??/t???uD?^?????????;?v??N:?(2uL\:?(Q5?????&N?R??0????'f|?kW?24???!.?????J??V??n?
+a????*mQ?YV???
+i at 7???m-*?nwN?e/l?$P??r??f?Y|????3*??H?AV??k?Q???/?????}.?@?????^?;???UB??
+]:A?2V[V???O?-?????Wg?w???????????:?,5+????4l?
+,??cT????B???`?w?????D.???`,>@w0?:??B??}(??	{q???V?7X??d?m?
+Hr?}?^E?By????BGL??#C???D????{y??????a????Y_?"y??n!*?_?_????U??B????????Z?,`???U?;??H?????T?B/4 ???4?p???W?:?-?n????h:&GG?=?&?i?z??}![?7???(???pf3i!?????/???!tc???1????~>?8?u?I????B?3V??,???'? ? ? ? ? ? ? ? ? ? ????????A?????=[E???"#??????O??????y??!?;?]4????'???H???(??;?N???????A????4?v}z????d2??677?']?A?m??_??J????4{?oq?Qf[Z\|?????:?H?*L?v?P:y3,?@??F??4??ki??,???????<z?hueuaaayyy]?<Vg???:?}_?|?0?@??.^4??;??h?)o??????}????7o?<z?HG{` :???333  K=6?C????	??LMN?L?b????????[????N????9l?J?????x????I??!??a7?fg?_?d6?e2Q?\e???C????Dbll?v?N?}???R?XL?oN???K&??,?*Q7y%??????C??@t??vP??j?????k??_???Q??tc?'JWl?^????uC???]??????b?&?_?[uE??????W'''??^j?Kog?mfzfeeJJ8VO???B?6wc???sgoS?\?%c??T?????+W@???????j??hb???4g?=???x??=(GY=??7y%L7?de?<?????]??????G?)d??5$?????N????^XX??|h??!??`?mnn&?????_???-y*???9w???fggA?????????#R?Fs??1(2???@7HF??????!?v???5 ? ?@?????5??wg??_?<?????D"B!
 ?D&Z?r??r?9}zbbL???nkkk???`.??????K?
+H???{LT??aF@?&(?Cl}0?j?(k????]e??6&??D?,???h?????XV??&S??]D@??C?fxQ??{???{aJ?U8??L??9???|???{????G????W?^r???{????G?????k???????????j?4????????????????C????????????n??????A???z{{18&?t?G31?o?A??uww???????6-???f???????zNh???*?_????%%%?8??w?O/??]???G??0d?1?M	@?L???????e*?????????????}???@?VWUU??]cc#
+??????2lLm7??H????k????Q?s{{;??7??*~?k?=Z?z?1JC?%?&p~??o33?P?4p???#G?X3?I??g?W_??C???pc?????,I?P[??6n??P<?7l?}AA?C???yyy!??/Z??6??y[???jB??i,??H?????o??????P\2?< ????????P|:??a??XXX?j?g??:|????`?/|??O?---???????`a?i?XJ6?^?R????7dE6c?KXX??K?RRR2??P????_?re????g???
+
+?w???`a?2 ?u?g??pt??jn???w??tj?OA\HH??????
+7l~ 
+$???b?????k???;\>>?xZ?	6?s?N?(?bbN=y?D???~LL?O7?^??????????_??P???`p?M?@qGpC???????.qqqxZ__??0#??i???[rr2*,?h.??SRRn?????;;O7?????(????&???yz?T?d2?R?pc??a ?\???M?`?n?O7w?<[?t???63gz8p???i?????is??[?nQ?X?d???????F???? qP???@j7b^?LJJ:r?????????|?2`D????B?0a???q??????[__f??/????	????????????oOZ[O???MLL?"?x????rR???>??S?&N??`kk*???0???7??&l??/_????????<##????_??????s??0E\?? z??????]??Z?`Abb"????`.??ynLcJ?????????????}??YXXHyC???;$??O??;'N?pss?faa?e^^????`.?8??9???????????.Y?K?~???|?t?w'?Z??????????eo???G+???????4@?f???????2@?L&??????3-?0#?5?*??????? ?A??~?-GI?}?????w?-?$t?Ah???3?'???r
+??????"??????555g??qp?4$q??R[??NNNr?/W??????t;;{?Dj?K" ????????E?L?????z?M?a'?^??Mv?iZ???F`??#!????bIX*?VNh?Ga?tm?7??)??? ???.ji?O&?h??f??t0 ?c??{??????I?Rss~?'????????srr??a|?b"I?w5??V?m???6??0?
+DF?v??d(B?H??XV????Scc#?)?c?>I?Zt??]?????@????????????Xt??p&?
+f????JL?????v????b???#c|?b?P??cW#?FDD?[?n)?e???OBW?K?????111??/????h4>nCn-??????/b%X????????Aqqq4'??????g?=%?W?X?O1??~?09OL&???o??_?2?
+?m????8???????Q?EFF::NF?4?N2T?^??3,,<77????b4X
+	\%$$<}??jK??y?fF?U?KWnwe'??Jj????2?3???e????
+?-0?d???H?t?M???08"?0?_<??0??? ?????8pN?
+"?Q????o???????k???8?4?/???&???????????=?[q?hv;?43?QO???KKK'L?
+?3t??q?J??<???M?8@?????????1Uk?F???	W?^????????9#?j%???k????????3g???????1`????L???i??q?es?r???[<???}?@/-????\RRB????e?????oVx??y;4?C"??????d?3%???`??????VQQ?,&qU?Y0?t?'33?m.\?????C?6U?.^??*gR???_?x?
+????Rb?k???????loo?????Z???<o?????????s????D?p??jt}c_|????s??????u?,?T?2?????U?
+BY?5?j???GF??3!???-?W???1?wTR	?????>?B????'????OS?|????????k?????????Wj???5?>?p?[???M?R??nwk????+??/5j?5n???w?=|??|?R??%|??3)??????a&Dss? ?
+|r&8?????'ftC?????3?Uz ?R?5SHf???C=??I%?6>a?Ct?\2;9??J???8?SZW?5?qb??????A?O\0A????T????k ???*11i?X????7?>_dC?)????+????^&:?g?lF??,Q?r??????? ?$????
+%???>SJ$R'????A?*5??????Y?? ?d?!^?HLqV?O?E?U?ftSq4v?????p???&????,da{zz?;.??????????'M"S??X?????GN??U?)?[ZZ?m????'\?f?g?C-?D'&zX?????6?${RS?G?0??9J??Hx??@/?W	?K?~????[		SJ?>?)?	?????????*?q????G???\C?ttt??8???j???`??E?4??Z<?!????{??AVVq??y?J0??1??????
+h=#"?|l?(O]???????????????6??q???5??1c???"`???????? ????W(???y????G?o???Pw???$Wh6??Eo?L?^???3k
+????^}????Z???j7????8)-Fo?J?m?-j?4P??;??? B?y=zLDD?w?n???????`??O?]0l??@????5 ????&??*?\ABw??O=??E"|??????.7C??PE???y~=`?Wu?o?????h?/=??L?@???
+r&?
+Of????g$?o???_???????
+":0?~JhbW?#???e??5,??.?0??`???]?V?&MZ?vm?V?????P?
+CY{????ap?;?#??M+|????J}???Kb??;<k??Q??4j????d?@+//?h47n?(,,T*????mA?a?\]?N?~??s?????!f??T}`?hu?_?>??!'1???G????>YQ??X??v???SRRlm?
+2{??????5?,D???o?p?T!???????7???????\?v???5?????ND???V?>v?????9F??????n????????F?)?n~
+?5PZ?t?Lf,?*???cccA.,?????W?w??0?}u??]o?????no?d?	?????U?VK$R?%X?~=???????????0++?Z?F)?~? ?12r??????
+Vq??\n}??a??[?n?P?p(8&L #C?5pMYq??D?C?z??I{{;l???????.F?L*?P?????hd|??I?^`???M?eh?
+
+
+??????4?[rr2v???5bg?K8(????"k?D?WK@
+?????\??`???I?0?
+
+?l??R ???9?w??,?????)???????R??!
+??????????,?SXX???;{?,.?????M8 ?????]?? e??ZLa??c??EEE)??I?<??h??!CaLZ?q??>(6hp???8P
+H???PTY???IM?`DQ??c??E?Qv??QGW1??h??uL??Z??T??S?a??n???????++??*?4???G???Tm?S}?U?????;??????T?T?piU7Z??5?\Z????N?s???|}??????A??????V?Z?t??%.n`??????{????`?????????K<x?????5D^^?G*?KG?!?o????????a??y??M?2%))i????????????		????6m??q??5k?gg???E?4e???o?'?E??=?0MDD??s???G??={??????_?}????w??G???C?(9PNv??l??:?``?Kh???????w??-[?l??}T?}??9r????s??]?j??-[???'?9v????q????Lf???Y?|9????_PPPXXx??(4F?1NX?#????dx]?!???w???s?????~BB?7???#:**?]?OZ?h??_?????;99SX?Z??]????}????q>|????q??????y???+4''G??r??? ????h??)????2dhB??9s????m????U?#?1???
+??S?N?67?4h?9?V?\????s?????/]?????????q???.????q??|?????]Jb?_?,?%??,}\?z5?8i???C?~?e?6m???d???????????Ys???[?`?1qXv?U?i???~???????T???F??W?^# ?aX?????&N??`?B??_?%?%?1N``,???+W?A??G??z?	}||Dp?????????????????7o?d???S?????!o???W?2a?Y?????B^???Qa????p??]???_?h1??n??m?:u????????T??C?^??
+???%??A?%??`??,?V at T??
+???<???BFa?H$Ad+?! ?f??=p??????l,?u???????L??{Y??'O8,??U???h^?xA?LNN?r?%GO???i`dd$??5k??8Ou'???|??0K??pJ??a
+D?o?2??;??*\6??????
+??l<N?T?g?xj?'?x??1?i?z?????tu??2??????3g????$=rc????,L?L???Q??$BC?D6A???9??aA)M{??MMM;v?g?u?|??Y3??????wg'y??tp?4v?Q?'	V?R\?@??o?.fgg???o?4`!??2?tR??)J!?R8%?3pAH??_????s??xs3?f?p?+???2??W?????1/
+gdd8::?^??~
+?(&?jj*??0??*?*?=7???
+?????)?l?P?BD?l?	????,6s??Q8L+??????????L?+?????2?B7p???h??4k????[???s??81??%EB4Q1s?r??5^??*??a<?8????$?jk?????<3'???8+>?qf"??)r???^?w?a???Q?f??}6n?;???H'*I?6????o??j?	??!K???t?xYYYIII}??m???????nO???:u??1	s?;?*i?8A????a???????	n??????M?0?P
+??4??'O?????9sVDD?d????OyT??]]??J????6t??$
+
+
+?O?n??6JG??r>????=,?J?????N?RRf???=z?f?mg?9?"\c??^??U?0a???f????;{?,??j???=z?h??:777?1?????uex*????h?b?B???????c??	?n??Q\\\?qFu??)?'6??z%?????~??Vq]aX???>Jc?K??cR???/?r)4?+???k???p5NR(NHS?D??<?@?U???O at A ,.	?[?	??>?U???,?>{???M??"{99?Yg?????o?k?m:J?.Z????l??[J???????]?|?Pp?N???a?)?G?Q??????#oy?(U?(???????a??o.?2ej}}}mmm?0???6????+?????4? 9?Je??$
+??????T????ayp??gV??X????Y???'Nb??f??;w???+?z??m`u?????6x???!??P??P(?[P?@?H0?2???D?r???n??? ?u?P
+??3 }E?} ??
+????!Fr?;w	8q?y?,??????}??????n??????	e6?$?G??M??D?P?>???V??????1?????:u???????)?	??bk,?m?Y???"??B$*&?@??SF??t4?}MA?s'zG?D????pFt?>?I????'?DI<?O??3_H$Q???x??6F1???"mz%?Jv???????RE?G\r1r?????????
+\,I?3?????.???/??3X?D]s??8Wz?^R B??R?
+c?~<??cF?[m+W4??/NL\f6?k?Q?X?k?????+????ay???q?I??i???8nW|????`??*X?_??o?q?*?n?????|?N\????/[??yYqVK{???o/cZ???????????`?~qm????yE??J?kG????+EvrE???<???G~?s????^?m????k,?VXr???FZ^???P?????\?????Iu_\r?d9jvV??UYC??\j?es????M????W3?c?XX?:???C7.??S??c_P??(JC??q?????y-?*?$??4?D0?Ph1?????#V?]??z?De??W??Zr?z|?!??U?}<?????&?x<5W?H%???yq?d?e?/d??W??%??????iT??&?Xy\5_e???;?YT??oAs
+???}?????8
+????'M???#?3???(?q???z????qYn??v???An??i??(?|??z???????mFA^??G???<?D?Xah?i&?y???z8????????=????|????(?r???DI?F~??z|??Q?????y???N???z|??Q??f=a?3?+u??????F?????r?_???d=???]?<ts??CV??Y?f????Y?????M?g&6??r??9??5'?I????I^??<Nf=^n?????N^?d=Q?)?g?N???z?????z?(<n~??Z?}22? ????$'?c?z,=k?(y?z?????;??6???????u??I<~??'??v?e?-????P'/???????(??z????f??x'?=?
+??M=v???%oT??????>??(+<Qj??dWO?????>??(G?:?????>y??zv?+?Q~&>?a??v???(??si#??E???B??pbdoeh7?]?9o??n6Y?????Z????X?XT??TK]R?<?l????a?D??]vz??v?????NT?+????????O???R
+%!?%?xbU??^??KQZ?D??/?E??YHI?!M?-5 Gjo?%2} ?fG?O?????d?5??h?????1????o!?^S at 9M"??)K??+1XFB?
+?eq????\%?PD?????u??!=P????y?r????????^H?s???[))O??*??O?O6=A\???$??C??s??6???*??$??C?#?????R??8%;?-????3g???E???h}y!?E?,??@?HcB???0%1?v?i???c????^P??B???????/??,.3h??'T???????(??X??o?l????
+&-id???y????K^?????H??GV?)h?I?ap!????-????7gWf??A)?4O?Fo??Z????5??vZN?whi?Rv?I?T?????e-
+3?_?	?>]?u?????-?????|Y_
+?n??|M?$Gh????(?`????0i86??{???P???mCf??O?
+'?!c??m??!??????o6dv\aLr????????e64?c??????I?
+????F?~??<???#?u????????aG&D?a>B8{2d??????7??????I?????*?b}???Q??lMr???^V?~J?gX~AfGm??X??!<?7???L?o:2?i'??9 at Cx/!"Lp?m???????
+?~G&F?9k?#4?w
+K?	n??????Q?????sS?T*?F?!?t=J???d??%D?'????~??;k?#4??U??O'??3?? ?t=?
+B?1???A%??;FX?r???e1b??j;?'N????<??????T??:???17!m?~?b????@?;?k?Y?)?gd?@if?s?Yt??,0?@?d%L?sZ?g?R_0u?
+W$/??c???b?c????EL?2??v,`?b?2?F?l*pE?S??O??t?c4??TK?????????C?'?;?La??2U?A*?6`??$?~??;?$??d??
+	?????K?!??c?????E?$?^??|-????<???j_?o]??Nc??k?:?J
+?B?[?Y?0???Y??*??2X?????????c?=??.4??]H?^X?>(???????????+???w?K??
+)E??S?sEM?J{W???D?)?9??r?T?p";?8@??H????sw;?;f?wE?yw?65'1G?1?
+}?e*??l?4	?COd?|??N?2?>V??6?j;O??????@?C*?MJ??9?L???l??x?*wL??k??M?'2a?1???c*??l(??D?P?f?qvL???<6??t"&??+0?l?Jos??c??D?P2??;6???????m?T??N?aV?!A?l??e??i??mG	2G???V?{?L???L???`?I??????Y?1?????2d?L????G??'?
+H???????????/m$(?????? ???d????d`?x??????T?P?U?W??=??)?)???u*??k?a*%???K?+q
+!?7?????r???s?:??;?9????????w???o?<~|????%???o?>??`??y??&??????!Q_^?GL?=????5$~????"A??????????J??F??????h?0s4????#???_.????????W???_??????????????????x?????????????~??????^??_/1?)???1?):7?4M.????2?/?"?l?#6h?/w??p}???????????9?.????-?H??7~???_?????????{?_V4?????+??????(????B???b????*?H?D?%?R?	XJS5???y?F??a\:Xdmuq?y?B??c?(?ZD9?Xp?[?S??<???????e>?h?+??9?R?!g???e?=a?G?7???c?2?8?Ju?b??????lY????c??????"U????
+kya?J??I??c?d???w?c?R?20??R???I??1\?>?d?c?E????e?`#P?2??c??('????)?<a?$?Y*&y??;??"?????Y?\	?E?8??X?e???`c?(T?????D:?!Y???y\??{Y?+vAg?Dr??dY???????:???L9??K-?e.??p?M??H?RD;L???k%?3.????_?"p?E<?p???%l??
+?E??R"2?t???4l?,S??????Lr?1?1>/uPv?d<U4????d'e?&,??I?c?w??l\$5)?x?j?????-K5???ZB???lY"??????"UPv(a???w?hl?k??
+?y?"??<??w?pf??Z????. ?0?F&y?Zo?'???ta5y??????	???v?0??0???&,,?N?ZD????5?F?;f\?8?t??2????C?? ???
+0}?|?????'???? U???OWQ??`??fO!`tV(YV?Hg?$???$U`???4?=f?p???,k?;,7???????_/??????y~??G?r??????/~?????????/????~zx???????????>CC???x'???j?g?{co?N?b???=b??pq???????????l\6???T{?T????b?pk>aP????!????#??hq??j????%^W$?????F?????J???(?@?v?x:c?a???U?S????????	??l?JP?@PGL?7?????O??l??d?v}PW???''??s=v???8???????????R?=?????&S?1????$?W?]\?f?k??!??7?#?Yt?'W?2?p?C????????!???1&?????#?????????qY?Q<d?=?n?q]??Y??\?r@?GL?7?#&?????e/???S???a??????0??????&=???p?b?M??1???D??????????peC?Y?z??m?#6ho?Y??m?????z??????dv?H?pcc???>C?2???O???????vz????????F????vz??m???0?C?T=D??1Dv??p??*O?c?{????a???Z???jo??s?	?oe??E????!S?y;(?
+x?????kI?_GL?7S#?????e??+l?#???KG,???tEC??$????<b*???u?jc??????GH?????m?*a?l?????A1??V???Z???c?x??!S???ds??76??^c??;d??Yjl??4??????[??;d?=9?Y??1?????]???x?T{^???"????1????!U??J???Na?lS????S??R??g?tc??l??5??S???a?)c+?l?8	???W?n9????~)?.??^?+??@,h?M?F?	??~????L??$~ ('??????1??n
+Kb?????sa??X???X?=w&?[?2????m?R????G'???b3^???Z1`???o???#??Wi?Y+,?	?7?#c??[????Sn??r?80?f=:????????G?????????????|??????????????????????~?_???????o|????????U??J??a?a??F??????!v
+Kb???o????????j?Z_?Y?|??UW???N?????????v?~?z??Y??????9*??????p??.?4???6.?:
+?6bb???B'?$???v/?? W?P??\?`.qo?~?=|????(?"?P0<wIK?????*??\r ?_??j$?3aD?W?w?f&bm??i?22?d?Q??${@F
+?0??q'0	?J??:fw?_9?r?#?\?D!r<tH
+??!Q??J?W?"??`Gad?
+o?9?98I?H??-?????{Vq???v'?|??0??A|??L8?????L?dw|R??M?!?4?A?x???/w??5????W?w???M????	mx?????)c8???c??JQ????J????l???2?J??iv????Vx$?k?7*E??bt8o??u??&??????O??P@$??A??o'B????8?????;?3??hG2':??gMV????+2P#2|??[??%??X?Y?:?I?a?(?3c????iL?
+?d??)?OC???DlqV???Q???N?b:c}??(g:??g???P+h?a:g
+j?M.M?bZ?????? 9F?LrEJd?F?+??-?ClyV?.)?\??e?F?+&??!?+Z%??1?7$c9???? ?u?O?E??-??=?+?c???7?)W??#z????0???G_]?/??7???v??|?<????g8???n?????t8?Q?U??I?a?f??~?b??7?~??nX3"?+?z??$??J
+?~?h???????="2?1?$???s.	=T????U?C@?k?0?O#?S???!??}???4>??+Q.?o???k?U??+u?b}?.~.7O?T???????f??Zn??o????b????_???r??v?????[? d\>??x???_?
+H???P????@H?????	J?
+(5???????T?`O??&(o? ????9B???x?6?;K???r??-?.6?6?A??_?y|??u%?}???????y?>??????? ?Y??ob6?71????A??? ?}C???!??@??|?ob>?71????m&o???????H?????????(??!?k??q???????!??????a?o?h???}????J???G??Q???????????????f?r???X?o?X?ho?(?T???6@!?a??W??S"''??o&???!/?U?Fe?x?BFzz??????\ww?|????????M??????x<?@0??GCo??C?1?v??z?7????????.?py?????B?M????????+	,\?$X,?iL??X??y??j?@67??????l????a?'?T:nPpp??L4???O?-??????,????t?????????h????'C^_??7ZL?	w???v&j4j?{?L?1|????????]?!?????1?Z?????(???y}?j?h?????z???[~???Ft??N????????vvv??.,Ph??$?H
+?A???3?? ????oPL?Q:?.%)??????n?`?SS?B?????5??o?N?i??"?????+~N?6l??q?v?h??|\???;D|?J????-?s?r?B?
+aa?Fo??A?A?A#??!&X?oL?=}?411Q??pD?gdD?????1??Hwss??n?V?K?????????	7>?Q??tmX???2??l ?^?/*z??????d??\????????B?V??h:???w???????8?v%????B??B??????MM?w?=mll===??????o?b???Fe?J???[QQ???5???@?L&?.??|>?
+C?\?%?l?????!&X?oL%y????T??\?]?8h???...T???kg?c(Dkjj?.F??s?9?G]b??C|?????4??????%?F?
+<????45u?p???i????????la?hm???W ??rT?R%%%?,?GG????M?6A{F?c\?CK???pCF3?}c?I????????L?DGGm???G
+{?y??????KJy,?7?^?]?r%!a?Z?f???5k??$T?????,''??<+8???~????4?P_t:???)UUU??p==?YY?BCC???????Ll,??????????d??H???rwww?GCCCTT4q?????4???? ??C?'#"d*?j??2?y???~~~???c!?A=	???????Z]}??o?l?[pp0z??/??,??[Z?t}vv???=d2?{?m??????????a?N8t(s??Y?7X??$?c??????@?|{??IV?????Zq????gQ? ?`?\]?MH9WW?????_??UUI?"I at dp? X?AAQ?\???L?*??`?@??	????a?@-?Z?A3.???P?HR5????k7???!????}??????????m[???????RSW;~??}#????Q#?????{?]vV?&~og??Y?*u???KJ??5u???={V?=@???~???0??y?????+**r=O?2?O???%??7?[?j??[u????Ovvvll??}?6?i:p???????!???k??????qq?yy???n???????xCL
+o??0???????+--o%%%III		KK????r7??????~??(R???7n\?xqNN?gXq??????Mb??x???????J=??J??]O`nT?j????f?=?|~q?J?????#G???Uve?????o??CED??????_????????????????Opm???_??-????R???????H]?R?#?*?r?q??~??}?n???md?]???:?M#v?oP????'L?XPPPv1U?^???z?7i?????????2??:u?B??g???Ct??I={???Mb??~??V???t??f#?J?ZQ?r?:??B?I?eNiJ?F?*?V??mG?!x`Y9&/??7N7,????|?j?7??P?????R??;k?@?(-???_??'?]??!C?0????*?e??S??(-?K???\???EH????8%???fQ?.`????6??????r??WF\???T???
+??I??H@?B??iTy??W??????Wc???^z	????[0$B?<x???}??????i?U?Vl?<	?????8gQ?vT?c=d?e??<??=s??[?:????9%d?XF[?Q???>???ch|??wP?????????<??S??W???E?Kq9?*??|?T?????/??????_w?u????0~?/_1c???'?"?????'??????R=Ch???	7???z???<?????????"?6? ?????%`	?Up?? XHkxH!?n??l???	?M?_x???\??@????5?i?b?N?D ?[?l?t????1?Nl Jx??jy???g??m????d)?;?.O?M?/"?	???x?M??????LN?n??V?UW??X[3?]?)?^??????;w???933?h-`????????u??o????+W??2eJA?I?C??W?oC?1?'|????4?G?
+?(B??7o??OZ/?OJJ
+oA????V?3???s3?i
+BO?
+?K??Q[-Z?(?p`?/???)#??k??.??????T0y?d???#??.?"A$S??Z@??O???#G*_?JA?Enyn?~??%00?5???6o,C`?????:?????]??t??m??fQ-??=???G?e????5x???T?????'??.*:u>?|~???0$??????:u????g!>?:..>??????E??Z?~?(?03pe????5?;?n???o????????r?????????Z?P???7xO+y^\\????0????/??(?,u?]J????????1j???BX???U???F?r?????kk?ZK???????
+?.?e5n?pI??-?1????E	??d?~?s???tEA?k?$L??????<??;?K^?????C?i?#?~?zL?n??i??A???4??=Z2j??$?????M?????+W"??3?]?-q2????g???z?????+C?g??e?????,x?RpirLf???|^?????y;v,[??)??GnlV??$M??WB?m??O?????????c??rxa?-??f?????;z??A?Z?qmmB!y#??????kkkG?)?U,????SSS??I??=???I
+?Y??????????$w???9?Z~??????????(???i}??i?F1;;[K?LBBch???o)))z!??T???`,^QNyP?e???$?=r?????c
+rH???????0???&M?1!c?????N?03g????n????B????{?"?2FB??)M?e+9???)?????`z??????????i??u??c????+????Af?9???C=????k??W6w????3{??-?i?'W*^K>???(?|?5??k?`???OZg??Q?'2?????l????m??E?!?????o???+??F?(:??E????????F????pCC2h?j?^i??m???k??j?FI????$2??t???8@???9..Nx??+vp!?@&9U????L.??w?????)?1?{??,'?_e?[l&-??L??S??l??r????n??
+J?K?+?aj?$!,;u?L?H?HN?l??C?))+9?????6YQUnh?????o?????7??=m?5??l????V??+scjPu6?:?D?(G0?3??toz]???MJ??'?&[?????????_x'
+g?uR??x??????[Z~???2_(??????????>?{eee?TL?:e???w??GI?S]?????w@?????4Y??sO?95{?3???2??MTx???3g??1b????,?????^BB???s?]??X?L??1z'?C`=?i??K&?I???B??6k~?por?H????~??]????????SO=??4?DC?f?Z,\??7?e????0333//?.K0SeS?#o???x??
+???9???k?????`B???v[X??po$??t???????1
+?^?w?????_nAQdgo?f`??
+??????ei??_pI??
+aldd?%HOLL???????y+-=????n?MLXGGG?[PP0m?????K?A?b???F???111?gP????8$$?`??K?^????:???6.@?????7?1o8?c MO??966N,??(?c6????ej??t:??????:???*??????wbt:???%????.9?????D3[n?J%?%?N??8wy)?@??????Ett?J?p??????$?\Z?
+????f??????%????$6e6???????X???f??@??1??>==g?H?R]???????????rQ??:T\PP?????U??"1??dJ.){^?????EEEK?V?4?B???????h?1???V??p0/I??b@??y??]? $5!????????
+???????$#A?#d@??^?x???^??/?<???'?dog=????????*??F????y??-[??????%?;????w?XOlCCCuu?'NT?	?????w????`?p?<?o/?????5?M?R???#???Z?z???????>T??d????iL???23[?`??f1????R??????g??o?????????u??L??76?c7o??????n???qG?q???{?F?L
+G???B??I?1?!?M?Ek???????????W_\?x1M>?L???W?q??p ?]?
+Y????
+
+??!bw??L~?M
+ 77?/o6Qw??????6??U???!?`\^??F?N??D???`LK;bMlO?????????S???????YYYa?ho3??XZ?f??/?I?$o?H?M5222?k``
+3<r?d??e?Cv??T??Z?	"??:???Tz37S?J???4??:?7:&riXU g6????Z??{6?s???]Ur?bm>??7?w?<DN7????U~??U?<{?nm?{??/x?8	P??????,?Uff??h?G?R,I@??8?"???(--???q???????eg/C?
+??fO2???(
+]?v?1??y?0??#%???uww??{?????ehhu?(v??/!!a??myy$?&?,???#o???
+?<??H??M
+????W?^?S`#????'.,I,oO?BH8666?={nxxXj??P?/_???P?P(h-?K??+???9???????=????s:? #=?Wll,?m~?????83?CH1Ix+**>q??N???p????&66?????o??}??n???L6e??5k6n??j?;????aC??7????Yp???]j?w?????H?F*?j??_WTT??Sc?????7?8??~??~?z?0?T(o????T??,G%??/???5b3???'?FFF?f?????+V???????u?VSSyV????????????????????6m????????D????8I???MMM?Tnooonnf]]]V?U?7??????m^^?`?	????of???O???}[&65????h?_??o?25???????U???i???d'6~D+.o'??r|=)????7?????"/t/?????????k$??K~???{??E??6K4l????8??6>>?B???????????????7?????u??????????????^O"#????w?????????v;??????^?P*????j??SR???????(?f????'???????????????f@?[?d?n}`????v???x????>X?????(?F??6??vib?M}4A-1??@?c?I????"3?EA????9???s?0???|????????>?????[??#o??76~v??!=????M?2K???o??????PNnc#'O????V4????????k}}?
+????.v?Wp3?$?K?????P[[?J;_?0S`???ie?7F?]???fWWwg?????_?(?????y'e??Q~???7o??????G?/f??????????L?wk?R??V?)/{?????????K??????[?$?K??6???Qe?7GC?W?A????}????????7?????Es?????e?"????G?z?????~O?&GN?1?ykk??7~?#<7y?#???$h_aPyy??C?PYYYee??-?a?8?????OZ?<S?ysD??^?&???W??????s??7"?A?y??3D&d|S???+>??????'??h?'???%??G[[{]]]???>????q0r?|? ZXrI\?`,.???D???????y????$?#???e??	[???T$?5??Dn??FGcw??	?#*?YL???g??p2?????????P(sSx?`&''?????????????@wic?)???dVV?0?<n?????????????d~r????!]?,l^*????K????MC??I???C?????????????_???a5?o?&'$??2 ????C??o_*D	MYK????/wuu??p??????\?xQ<KwN??4?????.]({*nW?XQTTT\??%%!???j????W6??#??Ox.{???Ky??#{?\?d???
+h?C$l0E????F
+}UU???%?????$Smh???#GL????W&?\?n????_x!?9?T?P??T?\??^??bh?4??5o$F?qaO??xh?M?$?O?
+???^?F?eB`~??????c"????M?6}?????
+?S&?!G??BG?.}?Z$ZD???/???1??8t4????d????"?+5??\??lBD???=W__?????????w?y???L._uz?#A???8:??E?E??"9H?"???????nJ%?$?I-"M???3g?U?zS???]???[??5k?/_???ln?y
+~??????7?t??>Q???g?3?HQD
+1{'O~????????KKK_ye???????;???l?2?IS?7'?GY??=?????F??s?<f??:"??:???????N
+??b???A???d??????????JR??Y?3????i??Q?9#?u&??PNB???4?57???UY?RI???|???{?.H??`?yKL?"?i\????N????4?lwdq<?E?BL?????9????? Gb????'<g?,l??,o?#?9!6G??.??,??????8R?:>??+?n??=???=??????H?y??"????H??6??,????w??YYy'????w??YYy'????w??YYy'????w??YYy??	0
 obj[94 0 R]endobj94 0 obj<</W[1[183]27[238]41[648]45[467]49[535]54[639]66[540]68[430 544 479 308]73[550 249 254 496 249]79[550 543 545]83[347 397 333 545]88[721]90[472]]/Type/Font/BaseFont/PIUNXH+MyriadPro-SemiboldIt/Subtype/CIDFontType0/CIDSystemInfo 95 0 R/FontDescriptor 96 0 R/DW 1000>>endobj95 0 obj<</Ordering(Identity)/Registry(Adobe)/Supplement 0>>endobj96 0 obj<</Type/FontDescriptor/FontFile3 108 0 R/FontBBox[-103 -250 1165 882]/FontName/PIUNXH+MyriadPro-SemiboldIt/Flags 68/StemV 116/CapHeight 674/XHeight 487/Ascent 882/Descent -250/ItalicAngle -11>>endobj97 0 obj 27755endobj98 0 obj<</Length 97 0 R/Filter/FlateDecode>>stream
+H???????F????^?r?~XU??
+
+? ?{y|`v?6?k?L?Oz_?????C?\?o-y?U?????[?o??|?p?1????A,+?9z??=?????+????Y?U?hZI2?>G???42K??!?id?Y'f6??"?)w?T:2?LZ??40s????44s&W??\???cO#d*??jA?f??S????F?GuN?l?z$Y?3d*?mP????y????42S?V?M;s$???JGf?3?fj3af??Lu`????)o??z?????3?vf?????Nf???K[s??iT?L??p????7e=Tf:?M??4?l??}5?	?Jf?d>??:OSs???06?	3?v&??P?8u1??L?3?v?????!????V
+d.m??Z?~v1?L?<1?io??z?L?????K[S???? S??L?v????)???DV???~"??^Y]???v2????sig?rZ??r2????f6????B2???<3?f?s?l??u?\?????~v2??!cf6??*C@????YZi???l??I?Sfa?T:0????M#????V<?M#3?{?d6m?&?Kgf????#??N?????)d6?4?e<??o?~P???b*?5f.L?I?.f??,?1sik????T:0????42?1d6???ebf?????U?!S???Szd6??T[??????9)c???l?1pc?T:2s?O??\????^????N&??*>?K[??? -2???R????)?I?`????Ht1?vfY?!??v1????(???7e=?W0?il?.?2?v??0???!S??L?a????????Nf"?QO?????Fo?l?u?;??Z/?<
+d:?y?]2??fZ???K9?Jfb?!?io?z???8?Nc?5?
+?M[SZ???\d?46?M3????il?2f6??:j??9?M;s?zX?d*??)C?????? ?ihJ;??????9{e?T:2kQ{?b.Ly?6?l??`t1??&???x@????;b??*????f???'?l??mu?????T:0y???M#S??Bf??$s6??M;????T???JG?4??K?:??MC3?f?s0????/??$?T:0???M#?R?&???????&??WKh???L???2?Ff*?m????7I?%?a?????????td?????3e=m??N?9]????VKH\ S??,????\?????=C???i?Dsic^
+??.vOGf??2?????????ilvs$??M;s?????]L??&U????)???oB???d}(:??Z???PF?L?#s]d.?LY??!???$9?B?????H????t`??c at f???]?3d:?5??K[S?????,?Vo?L??06[neBf???v?????YWo??@??????.??????Cf??,??????Y??=%?T:0K?y2?>?c2??=????????#tGf?>r?[?+????P??cC@?
+@?????}>??=?Fu??=^??=?E??}{"f??<???|?>[
+
+n?'?a?
+@?????]???j??L???+????5i?8t9?@W??U??n??B?s??????==?+????-????s?j2U???"7???
+@?8?@?
+@?73?]??.?&?u???.?%S?+
+???????;?e??CV???*???&%	?????\	??????P?n?sFes?2w????c?2
+??[??
+???	??w?C(@w?9??r?2WdI???C??7^??*#?P??:?Fk????.=?X?\?%? ??????
+??3d???/??????????vg??zC(???B???1?? u??	???j?7?????b???U?? sm??Bq?w)?wCA?????b??/?Ye>??Z?P??3?N3?C<q???^<
+?g??29???gM ?k???9?[?H?
+?k??^
+??m
+B??+?m!????]????????????jp????L???? w?.	????k???6????5S;?? s????!Pw,	??j???C(@??Q?7e>???t????I?(?43mE)PyC??k;R?????????bsg??7???R???3c??????[?$
+?;m]?Bu?h?q??????????u?B?u???3?????__?{???_????????f??~b??Sl?????????l?l??0?\81?????f???2?????b??ee??3??V0ib??*?b?????1HG??P3???y?	?b?x?|"(F?wF?b4z?Hf?????if?	c1??{b,??|?1?\:3?m?1H?^F?ij^?0c????3?g:5??
+mm?\:3?V? M?>?^??45???A:?r???y?0?N?ekg1??nK@?,???F??f1f?????2?N?ic|R??lv???7?if?%??XLGs??2U?????'n =????T???fY?g\??[gtw?}?gf/???)?????b??M+g???<3A????s???YL3Sd?R??,?6g1?m.???N?K'f?6?(?if?>:g1?f??[*g>M?q????3?V??<?`?yf????|:1emh?????`??H?K'fep?h?yJi??47W??,??lg0T7?^???Y?\???F??cs?3????6O)?i0m??c?I?Kgf?3H?i???3?N?"~?>???F??l?5w?{D?W?u5?|81??O?? ?rfC???a.??E????F??#???in???)??h?H??P????47?K??{?_???m?b??}??s??s?y??e.????Ribv?&??45ms?hN?F???2???????2H???????f?????3?.?\:1?Bb?V?n?b??Ug?,??g*T7?^????{M?b???????f?????b?~fCq??e.??6?e?&?L?????f?#??f????/Z??\:1?
+?YL3SJ'$&?*??	?(&?W?H~?=???/????ffi2c??bM?k???41????6e.??e)g???3v???tb?+?? ?rFB?F?KgfS????`??Z:+e>???J?2H????d?a?????Y???,????Hw???|??3\?^?`?3?????tb??.??4?v{?6e>?M????l???
+m5?\83?o??`?qt?J?O'??=?2HGS?d7?^???Y??EYL?)????R???????A:????x=?e?wfCW????9?h???ff????b?~f?,?2???R???2H??IYL3?m???????{)??tb?j?e1???f???@E?????????]U?gx???
+?
+?
+!O???Ia(H?{??
+?}6n
+}A????P@??}??P???u?B(
+r???Q??~????????b?r?L??C_??c??!?[?{Y?9??u%??g???9????t???P??????!Pw???zC(@??Q?e>??R?? ?oB??Z?N ???P??!?B_??S????u???????(??X
+??3d???/?????Bugx??G&???rqqt?/;L?????m??????@(???0p????dB?C_???-?X??-Z*?P?]???x ???x?mq?2w?Gy?????P?	?^?S???@?g<??6?A?l??,??????"yX???????y?????Cc
+??f?:C9-??L??X????er?????#9?1!?L?@g('??	???N??G??M?X??3??V????^}?-?P?
+j?L??i??N>9???>?=e????p3Q?tt?rBP?? |????{5?i1?]?L?k??Z?=?D5?=??iA-g??????????c??g?G??+?<#?LT3?????r&\O??k??c,?????(?9?2Q?tt?rZP?? <???4j<oLfF@?%5tvK?Pp3Q?tq?r$P????y????vc??g?S?l+<e?LT3?????r&K??:????c??g?G??S[9!$j/??919??4>????3??.(7??L?j?tvK?z???j?{?3???Z??a%?CgJM?k?er????Nl???!?L?@g('??	?G?????:???????n????@????4G&???w?u??zS]no,S?L?g?tRK????f?:C9 ??L>?^Z?=??v??.|??5J:??2C?LT3?????r&????#??#7??}?{4??b?8!?L?@g('??	??9????????g?_??s\?5W?D5?=??iA-g??????Pb,??L?h??@?FM??j?{?3??Z??#???m?,???<?;??uN?G?D1?=??1A?	??2"????j6?en???r?c7???j?{?3???Z???????1?k??e>???:?"d????????3AxXO????T????!?????p??C&???a?Pj?H?=?????^?-?????n???A.??d{?M?@@1+??3A???{???ZS7?=?Lwk?t???W?D??4'&????????2n9????Xv?3??Q??Ah2Q?tt?rXP?? ?_N??%:??	1??}?{4J:???G?LT3?????r&\O?J/????Xv?3??Q?a.?6'd????????3AxXO?sR???>?=e]?Cl??j?{?3??Z??Co?u??g????g?[??3]?T?LT3?????r&?????-?	1??}?{4J:??????f????????3A????/}???!
 rc???t?FI'??g???j?{?3???Z??a=?[u5!?2??t?F9W?4"d????????3A????|k???????C?S???|?????7??|
+)9???Dfu=?j6?ej????r??C-2Q?tt?r at P?? |p%?????i1?]?L?k?t?s???f?:C9-??L>??^?????*7?=?Lwk?u5B???{??cBJN?????????O?????/O?%?#?*{?a~z?N?????O/??????B??_^??#?/s&?=?T?????????D?6???>???o????s??????>?U??s???=???????F?WD?????o??s?c8???p???\	?????YT'??3???????????_?????e???W?K?
+?????7?9]?YC?{?7??7???2???0?_?????]?h??0????*????u???????Sn?7q???MN???????9?{?Wi?]Vm???~?}??k??`????-Q???D?R_????N??????C???r??S~?W?o??????????p??~L??BMr
+????/?\9r#??@{?\???F?
+?<????p??ef1?????OZ?N?b2??%?????????
+?n?l|?[??1m??_??8v?5??~?"??gjo???-)f!
+?f?????=@????!07??!???????
+?3(gf,sR?`FP??p??+??X?
+q???gj?l/f?q?bn???1??R?????y@?G???K?p?n?I@@???f??
+??
+???3??!p7?$ ??Ws?up?(??IK@??/??@???k7?
+??=@???! ???F???<?
+!???B!?{?P??ra??PO?c???{n??
+?
+b
+!
+1
+?????b
+!@??HE!?}u??t?c%?`?}??????b?t??=?!???zA!??^p(<???Xb
+??r?jY@P7?V3? ?}??&?`n?f?%???????c?r? <??sa??
+??????!???F???tk11?\???/?!?]?X? ??{??k????0???,??e[?8u??$ ?m{?X??/???5?????u??
+?
+c@???????I!?{? b
+1
+1????B?P?uX??~Ok??qa?GE
+a????*?G@??q?B???)???W
+!@?????# ???D!?}/n??v??#?@?{y??(w?. ??{???8????&?@?>5?,?Pn??8?
+?_b=??gP{??p??J M)Y=?'?]??D????1????|(???{{?D?g??!E8L???*???	?z??H>????#b??JKZSb,??P????w?1????|(???;sCYl????cQ?U?H[Vr?`&????c?YH?? t???]c??;??"?U?H[)y??c(_c?P?	j9?7_Tkv?!????(???d?mT??&N(_c?P?j9???Zsk?Y}??XDw?*i??0??z??1?"??@??U4??I3??cQ?U?H;?
+z?4??k,??A-????????<f?cQ?U?H;???j?P0??????r,o????iD?3????????:?61'??zE???????Uix?il????"?U?H?f??F?P0??????r,???J#ln3????2\?JF?5X?&_?'????|({?Bgo??Ij(e*?;L??k???P?g|??C?"?=R!v?_i?????z?X??BU.???:?\0????|(??BgK???hzO1?]??DZ????5b(_c?P?	j9?7_Wu??~?T?0U.P?P=?hC???5?e???H????h???L??sb???H??+xCi?????KP?? ????K??~?2\?JFZ?G?????h?d????@x??????T]b,??P??4L?6b?P0??????r,o??5??R????E.T%-?:TF?Cap?K?'P?j?X??ZmM???$?tb???L??az?R&????5?e???cAxoo?5????YxbQ?U?HK??(?5??k,??A-????[4????zO,??P???yE#a(_c?P?	j9?w?????4z??c?E.T#-??#?90????|(;?Bgg??	I}??XDw?*i?L?z?J??X>?}?Z????????RT??2\?JF?5X??#????5?e???cA??-?aSkj?g*?;L??k???	??\?????EP{?B????A6?????X?BU0???:?V0????|(;?BgS????@?????BU&??T??z?L.??5??d???AxsW???J??????r???UE?Cap?K?'P?j?X?wU??5??????"?U?HK?t_J??X>?}?Z??????NE}??X?BU0??4??|6????f??lRr ?=??T?z?N,b?P???y%?m??4`|??C?&??X?{_?5???????E.T%#-M????1????|({??[??^c??C???????!
 f?^G?J??X>??Z???4?????????????/?s?G?}??d?~b/???????J?????_??'???-????&???>??????;????T???wm?????????v??????|YW>?Ky\?)?}?)c???<}??_??'|{????<??????r??k?c|\:y^?????m????+??0??D??d?8?7??r??Wy???7?k???lp??w\?o??}$`????7?????%??U
+*??{|7T??|?????i??,???3????q???q????5nQ?:vm?]+??6??W%Us}??N$6???????|$?E????E??VDns??????[???e?k?-?????w?"r??'?8
+?_?{	??u?ki?????=n?~??t?o???y?)7_LO6???o???{_w?? ???s???:^?????n?(???r????y???(?S?f?}@?l?K|??H??P?u??@%$Q??Y???	?m??????S?I???i??1????=B??????{,?7[?U?K??????:`uO??????>?O??y<???q??)??x??????????rI-\??}?@
+x???;??????????o??z3<?_>??"??U|uk????5??
+?
+?
+P?8?(??}????=c
+m?????1???hB?|??{ ?X
+?{???{??B?>???{?x(??^.
+M?????(??>????{??R?????T???#??F??,??f?????J??Yvo??sh????U??+?u?:8??mR{
+?;vo?sph???#?C,??Y? ??n?
+?n?V@(@\]VO?s?
+n??
+??w???U^??Yz
+D?)?X
+W???r?
+?Hn????mz^???gS????|0??fM2yt??3??8?Bw?@,??.?	?+???vA,
+P??9???H????d ?n?C??????P
+????B(@??I?K??d??K2?P@?5???
+????B(@??Q3?????nI 0w7?(^qj.?+????g??28????q????R?N`(??xw???}ih??C_????H ?????p
+?????P???Kv??????S?X??K?VCA??R&?>
+??g????C_??s?b?v?????0dn??]????3a?}??'???(?4?v?~?_???2?2H???l?kr??????Bq?TSZCA?J??]??????i???]s%??c?9
+27??.???j9?.M????$?;???!pw??@,
+?;???B(@??	>?/???lE*e?f????@?SW?}?B(@???f?5??????@,`??Y?]?%??3c?/?????+_M PW?Z?C(???W??
+e.??}l? f?Yk(g>???R??A:??6?^W??????6?{?/?i4?<UdP?????56>,??\g*??/s????J?,???????)?in~?EP?FO?H?kQ???y?? ??f?R???Y?? ^?h??R???2??L???x????ce?g?'ms?h??R?v????y?As??e>?M?
+$6>,??)??}YL?)g.??^???YJ??A??2jU?b??}O??yXL???????]???i??v??b?k{I???'O?(?gJ?%?7????????]???w??T(?t?/?B_???3A!P?y$)??~~b???B_?????B(???:?
+??}R
+????)??{Fc?;?(????@
+?
+CA?~?
+?
+CA?>[/?P???tS?2???)??~????}n<B???E?+???}?B,@?{??0d???K!?[???N??g?X?2L??~??FYH'?lB????l?cr????Wk/??P????(?P@??e&
+??g???8??[??Bu??Z??E%?P????Z?C_??:4?X????l????g?
+?;m?$
+????B??L?j?????????T-?ry??&?@(@W?lYK9?????!0wI?Bw??N ?kk?M)i????=?X??]??!pw?0?^???3g?????}?Bu?RM ????;??????9c?]A?Nu	????f)??P???JK ?[??Y~T^?Rw??@,@????????]Z????d?*?? u??@,@???2???0d??-?X
+??3g?,}A????r?????????8?;?~
+?????	m
+?r?J?}rh
+??&?j;?	`??&?H}?2?R?J[@?j?V,yU??V??Nhhmu???G?"?Z??[@
+?\??
+C??j?N,?o?Ji#Y??ee
+?????`]/?*<?HbU?H[(?\r?P`<??CY1?e[n??^]h??:????*M??d=??1????P?	j??????U?;),?J???0Z?Pg<??CY)??????N?+]?^W??H`U?H?)?X\?P`<??CY-?e[^\W}?C?f?E[?R?<:??1??N??L?)OC?O?LMk?9uY??[?RD??K??2
+?2
+??????{?
+W????7K|ih???xh?H??B?	??E??+????? ?}???;)?*??"*iCqMi???t?
+?0????I5:???}?a_/
+?b<'?W?????~:?%?8YilZx/?
+??@P??????E?n??[???5uUR??Enp??????????~\COx ?$?x?2???F??e?>??*s?????m	;?C?CM??v}??-???M?	??C??-???W???5??1???V??1}'??im`?Q???
+????_??|?@I?4d??5???>5?CL??$U\???_}s??????D??4?t8EJ?h??(?"?za??O?+\??????t??M.?<???NO??????{?pO?pl?c???3e??H??????6??|.&?|?\?????{M}P at g/?[?m?Z'????^??9???S?tr'?????z???	??u?}ZW??M6?????C{??nvv?P?p`?@??f!???3P??Um?}qu_Q}.7?~??`?????fx?e?l?wA?mHw??e~?W?Y94T????z??z??PVX?????
+y?f??C?^mV%o?>G?nt>-	???????[G?k?s??%?q?tk???{?F)????O3?H l??|b?????e???D?%?
+????d???{?Z?Bmp???Z.??4;\?I?B??sG????+?{<??N???,???W?Z?WX?[??Id????*??+???W?2?6?/**?X'C[??)??N?Z????????xvN8?*????P?9?S???l%3?V%??,??%OOD3]I??Lz??A?1?M5p??/??4?W???9?????W??????:????o?.???v????'?S?|o?(W????????lh#?6???c???=?????=??????'9D=??
+%S?#x??f???w???Z???????N_?????{??O:W??@x????@M????'?t?Ap?rfs??r?R?.???5?/????@[?.?@??j?????Z????!?I?9???P????^(?????	?W????_~??/?>??k???????/?%?-mjR??*/
+?1B[?u?N?????%??
+v??g(g??a?U????U????G7y??2?OE??H???z???Jaeb-????5?Q	L?K??J?tHcG?"X\L??pD??u:???
+,xe?'?f?I?B</?0??|?a?wnrj?
+cb]:^8@vj??:?nEW!4!??C^ve)?=?]u(Kwjpb????,9?=?}?i??6?n???? ?6????Zw6Mi?k;??*.&?\???J??
+]fe???DT*???$#L?Y]?'FH??+Ar?B;?S\+?- ?J?^{?
+??[?n5??N???~?????$?@TL?O?4????%??9?????FC?$C?V?c%YD!???z???F?d?$??X?G?%?:F?n?????\YI?@?????sC ]68??!?V82?V??!!U???%C k???J?$(8??H???y/D?x?H??&=???Z????,??"??????5g?Q?x?F?m?????H?0???RP?X?l??4?uFbFlu at r?Oe??
+?+KH?iv?8y?1????Pw???CC??2??/^<8R???2?)?A???4?HMH?	??X??'F?a???"?&?????????	?C]`????#????d)??.???HY?&?_? ?n??F34??1??`!??????59R???Q?lCm???x???V?9?k????k#0??&"EJLE??P[?c?&?????T?*na!?????m2eMD)?@?>j?S??H)??'_??b?????C-F??I/???d?H??????l????B???P?1??CyXF*??M?????????6jkf??d??5???b?k???|m?f???)1d???????;4?lM!?}???V?5)c#n?C???u)P?2c? ?}?#.???:???>?9????r&"GJt)NE???53Vh2??:BH??na!}*?u
+^??K3o??C?c?M???O&N?? >??	bC????????$L"????0??lB? ?TzpBV??=??0 XX\?'	?????$,l??&?n??[????-?m???????o??[y?t?>\?'a?????r)??r#?b?3??no??QH?oX3%|?????3l3/|??bL???X???????p?%L_>`?m???/(???w???<???g???z??vd?[?TO?Y??o?????????oX?????*????6?~????
+H?|U{PSg????
+?o????!$??E??<?L+? ,h?
+???(+?????R?Nmk?u??{nzpf?Pwfg???3??????????;?4eoG?4??jUt????1??i???<?????$D??*Z?CZt??
+.-????I???c??N?	?>?_]??b??q?
+/JJ??v?Z?>o?a???k?6???'?gf???????? a?\?+.46
+Kr??
+??
+??}???#??????BC????& .@?%?\???P ?r???????4????Mn,0?cA???)??#!/??E\_?o??!??@????vKS??FS<EyR????FS???<???S??T?=?DS?(????B?PR\*??%{-?]?9?F??[?gvj;????$J?%?+9.???fK:EZ%}?$3?0??_e???|???A????1?1???c?S??N?+bM???#?k??a??%??P?#?????W???^,????1`?kF?Rx????????e?L??"???x????f???X?\3?
+Y??\n?????B??:w??m/?,?C?E?:8I ???K??U?V?kn??w??-?K
+x?5,:???????	6????????? AkW?*aH;??8???????.?zE?z???@?+[1fr??E???p9~??W6?Udv??$d?y???N?%-???d??i(o	????U?.F?????V3??P?b?a(\?;?	?|?????k`??a`?,??????)_=?????????VQX?????????@????\}?2s"??
+??G??z??H?r0??c??e?N???!?L
+/@???2?+^????i?}6?dxa?
+BHF&2?-A????L?=?p??R???g?p??3}B?>i#?-? ???
+`J!?q??/?	8?/$???37y?KP?k?????:	?Q?????I?w?????/,_??;Y?2e?+???q?????????[??????????????%?>[????Y?4W?ug?,J?8??????o?KkT5?P??.?^^#?????_?	? L#D??T?O????????]??????L???@y?????&???o#??V????_B?<???,????EM????kj?rb???0}<????&?Ev??F?c?@????????????w?\G2?4?Q??o??Z?b???d??;?E\???????*?N?s??{?!?<???t:?O??????ho??????Z??`??????????l?w1`????k/LS?f?F/]????ec?V???&???@b.??zt??{?X??yl?+l???*d???~????K?kE?F??P???Zq??=\	SQi??VZ?/z???&v????Nc?)??Y?2??a?=??????pr??Y]??N,???O?zd????3?'?o?q=>?	???b??@?8?3?l????6???????????%?HdV??W^?????????Z?o??=*???w3????N2c??!R5ilbA??LIDEDvq#?^?]w?%???
+,/e5<??A??`???Q???????i<?]???~y??g??|???????w??5??,Y?????@?W?4?U?? SZ??~???????$H?4&k?4dC???kg \??????  i??6????$????#H?`?a?"
+d^??,:?????b???hfG,???????$?M)8?;??t???!??`???S??a??%PUW??0;2???}??:????j?cv?U?VV?\???(??C?_m???X|????].,u??????
+?CG?????bP??h???qB1?p???/.#eJ"?!u.??kB?M
+??Z@{z?N??K????W?????l?ux??3?O??B??* ??+?~?????*?????B???(m???EO???F?K??XZ'Y???l?v??~??IN?X0x???m????9>r`?c??!H%??1'?z?????:?????g??,=g?@?^h?T5f??????O??? ??K??:
+?????"
+????{8?2.?@???????(????o3????????8??"D1!??O?+?C?#U?LZ?????LN?T[1dd???V?c???????I?V??????vt2?m?j???)??1???B??f?
+??'?????e?8?L?
+#??xN)?^???/??I??V??????L1?l:????F?3F?? cr3?E\=I??}I??dc?!/???7L??7
+??!???!??M?~???????w????q???.t???s?P?????3?{[??-?=y?s ???S???EBQMm????s?A??S?Y???C??????M?FyTrK^?QV??~??????(?A??K?}?]78??Q????:?/V??8?Cn?Rp?5^?W?????Pr??^?????E?[??w98???A
+E?K????????4'J??????;a????5??f??d??xez?LCRlt?"?AM16:??f@?~?????V?5z?~???[???	?)9????;m]x<?V?E-bOB(?J??`????"Y??\??+q???r??#w>????????|__?"?m???AsR???U?jE?\????EkBNO??:v?3>????E[?Yj?G5%??ud]??O??s???|??<??x????^???'?<G}??~01??;?|???m{?
+b8????????
+?????!J??-6??
+???%????4?T?R?u?t??Zy??
+???Rus?7???V^???????????S?
+b?A?? >??x?/?
+H?\??j?0??~
+-?E?-I)C?6??\??<?c+?????,??#?C?????ovo???U?3??????]???Z???Y?U?????{n?,??o???w?q??k???g?9???K7?c????pR6?G???????~?U??Zu????o???9{????]????g???}????K??c?/S???'?????j??_??????h????	?z??.?D?H?(??g?V?t?{???-????????$ss?9aN3'?i??9m!9?B?\k\???D?B??KU@[??-U?4???i????+\\W?6??z??EAP?(
+A?? (X{WXA?%KKBK??b=?^!:?t&tf?L????!?%??3Gg??????????????v??}?zy????@\T??_?5??Zi??N-???k??qRqj?e
+H?|TkPW?f??????)??????F$<??hP?"???`F???0?R??YS 
+????? Dy?"??VuUt0B??]??x??6Z?vk?V?{?s?9????sqLl??8>W???	?X?%E?Vj???i??bB???N<??????|??#?Y)???}?? ?cX??L??.??Y?z6?Im??J??0?%?3?k?q?O?&V?KY/???)l????w?
+??D?fW??36,N??i????11
+?i?D??&Q?M?V????J? V??\?h?????#c???_]??Qh5??BD?F??iC??]!?hE???w????)???B????4`?00?,pL?aV86O?-??????1l?\,?va?L4m?a+???L??`/q?????A3????????M?_T,?];?K??	%QA<?$H?%c????<h??{?g????8i?,??<hym??32f<????J??C??f~??E??1o?TN$???i??#`T????i0u????x'?$`	????4??Y??~>??j?q{?_W?j?\??/?>?P>????|age???????u??R?????cKB?}?????????nr??/_????.F????> ?/?l?AMTko??g?/&eh?d?=(??I/?????(????t????/???r??
+????lE&4???*??!h??C?&??%??<??#
+ at 9?lF_T???
+??g8?????p????*?PZ??w?u???gD?!0????"z?'?q?Y??36?|???T{?Jt??:?????H?1	?X?f{??h?{?=??p^??Y???~?0OJ(?
+?ZT?????? ?g??I???ln??$??|?'???????f?WZ?.????c?<?,?rk|?>?8?(?9???X?,1?8??!*x??y:2?K?,???k??@??Z??????r?<???4??c?O??m[?\???
+???nSL?nAV????
+???O?????:?Sl?Yg?j?l???????8?????6??d%k:?}-??./?&?Y?Szc? 9%3!?&?]?#"?,6??|??"4?AF??????*??4}h??????#/???2G+???O{?-J]=q?V??a	V??+lK%??i?{??y?X??t?]??M\?0x?cLM2?(????????%<?????>??	?/TU???>?T?)????$??A,???Lz	B??p??	???p?AURHHT???????$pF??,?(??do??Z_N?`#??S???g?U??????#?"?8[?M?@H`?p??8n?X#?I?xQ??U?]\<6?TL??)??3?8n????#@?o]omO??A&?FhK???T?Fq?	??????*?6??(????4?'o???<??????????=??P?cK??P??
+?*?i?3E?"+?i???????P^'???ew ??+c?9-???Vf?N??UuQ?:ya?S?(??Y?`TSi?jr??;?3?K?%}i1?/?f?d?I5y??7y????????@???y?0?.<R?a?????BO?g/?+<v\?L?j%???Z???Mx????<????Yl'???r?r??P=<6??Jz?M??g&?k?z??=?v?????+?2?9@???????n???h?a?lb\?=rH??Ghta???N???OC???2??dq??9o????Xo%???3??j? E??I?????k?r?!:%??L?K???`_
+?Yf??@?l?tYfs????*?X5+?x???X????????.??*?>???
+??
+H?\??j?@??y?Y????s? ?????>@LF??0??o?q>i????s?'3i?Yo\??????Nb?????p??;{?]?????F??=6cj???d????B??a?4???[v???'??????A?}V?{?n???m??M"e):?O???_??i,{?ta??.??o??e??????:{????l???S?E?2????.5e?}????=?????H
+??z???z????"?,?fPU?
+ZCD???K=E*2???)?F?A$?$+x???.?.?????????????Ih&!5? i?23??L?L?L??%?\4s??????E3?\4sQi?????~????O?g?S??~????O?g?S??~????OSWP??~?*#Y??,??i??p???]h???ko^<????;?{9?a???K~
+H?|TkPW?f??q?A2??#?>WM?R???U?
+?8???pfXgu??JP?"????????&???F????O?????????????????s?9??I??$I??z????????V?}?	4q???X?g???s??%?sn$'?5?m8?X:??????Bn?<2qX<?&?}G?^????v?L?$%?/=?Z???x?5????)?'$??l?JV?n???E?)??????dM\??3~[?61A?L??*V??*???I
+M?F??7????NR(Z??h?N?Q+??J?&N???H??>?. 0%Q?X?Pk"3e????!?9?? ?;A?!???O[b? "B"?	?BF??:??/QL?Hp?y?Fd?a?,?,?*j??????? 
+y?K???????
+??/dus??I~??-????c??f
+r?)^G<???JAX??????a???#fXXIp??a1v??;????a>?HG????b?????UX?z??.?K'za??m?n????(???:?y=i?$?c?R<?w?T?? ???1?s?`??;?T0? \K??I?g??????L???s??^"\B??A?????}?>???In8????????????O/???l=3pOv-?]]/??y???????b?/??U??dn]?????^s??s??????z?6??`.???)?@???x??p=8e?a??"Z??????q9???~?K?u??w?r??kx?I?i??q???uO?Nu06????}?@??+GG????#.t??H???d????x??~???u??y at eV????:)]?''{z1!??K ??,]X^?i.d%I?Q?????????1)zO8?Ay?o/?}??U?J?z+*0h?????X?g??p?3?|?UTt??X??K?G+D??N??^?]\?X?t+??]\~?=?#^?Wa??k?n\k????Pt?????[0P???kt???h)?5K???&_?
+?? zQg?g,b%?L??C|?4`#???)Q??????Fk*?x*??|????(????y?SL?O?l<a`)0WoY:???@??"???W??n~??X?????q?????l??r?u??MC??J?h?W?n?_?c?N??g+?#?I?????????U????Z?/????
+??NOK5??|?Ir??7??P??sp??z_???o	????L??????.T??????x??/g
+_?:?1?B???k????????????~V8?fP??!{???#?#??[?S ?????RXv0????S?rl?s~???&?'?R?????S??i??J??Zl??s?E7???;?zKl???????<?????F9???????rp?%??I??i?>1~*???i? ?Nel2?4???v?`n???o??U?J??l????,(?;??????z?r??n?+?!??????? s?h???lPh???}?gP???L?-???M?????[3V?y???u????`h?
+O??]??????r:?[3??????????u?W=?????6u???H?&?df???d??6/S?X9??????:???w??n?K?
+H?\??j?0??\E???o?Z???an`??N?1D{??/?-LPxH^|?KP??Z?3??(?y?keioV????,????|???5?e?e?i?u7?????[?f????/?a??Ud{}?O_U??As3???3yYrE??????????r???l]?o??b?????Q?dZI??WbE???gw??????.??n????a?????????W??NP?? '?K2Hx??WA)?@J!??{.?2o????
+endstreamendobj111 0 obj[/Indexed/DeviceRGB 255 113 0 R]endobj112 0 obj 428endobj113 0 obj<</Length 112 0 R/Filter[/ASCII85Decode/FlateDecode]>>stream
+8;X]O>EqN@%''O_@%e@?J;%+8(9e>X=MR6S?i^YgA3=].HDXF.R$lIL@"pJ+EP(%0
+b]6ajmNZn*!='OQZeQ^Y*,=]?C.B+\Ulg9dhD*"iC[;*=3`oP1[!S^)?1)IZ4dup`
+E1r!/,*0[*9.aFIR2&b-C#s<Xl5FH@[<=!#6V)uDBXnIr.F>oRZ7Dl%MLY\.?d>Mn
+6%Q2oYfNRF$$+ON<+]RUJmC0I<jlL.oXisZ;SYU[/7#<&37rclQKqeJe#,UF7Rgb1
+VNWFKf>nDZ4OTs0S!saG>GGKUlQ*Q?45:CI&4J'_2j<etJICj7e7nPMb=O6S7UOH<
+PO7r\I.Hu&e0d&E<.')fERr/l+*W,)q^D*ai5<uuLX.7g/>$XKrcYp0n+Xl_nU*O(
+l[$6Nn+Z_Nq0]s7hs]`XX1nZ8&94a\~>endstreamendobj114 0 obj 1309endobj115 0 obj<</Length 114 0 R/Filter[/ASCII85Decode/FlateDecode]/Width 76/Height 99/BitsPerComponent 8/ColorSpace 111 0 R>>stream
+8;Z,'4-&>T%+Qd/9U2pmI$Sko25cfoSJqAXCKhlE5*F?)Yf1&t(i^slH6s^ucM=(Q
+C#AWt?g5h_T. at L]*Tlq_`_>r>dBtK0O4X+6s!udmqbWWl;q4l*+%pbES";$l?0>a'
+JtS[3&S[Y&QBqCo^FpMW^?)ar.hS1?7!^kEE:)2^Gb7iV>[#9*Y`-EKD7&RK)OEJ3
+S-E'?c*ub(7U&[40%.0Dp^qZl/i_2:qW_27j'F?Jkm8so,EED=VHHTm;5&qBT>@7r
+gHSDEZcjYufB.B2F+b<Ep3YmmjsD=WnTaV^3G=eY(bK!L)8;=)"+ENEZ=Lt%3FL/0
+/A)2qWf09SLAZ(.8=<5Hp^+];54PCeBcNl^!PW\'Of-cT3,AZ!e`fI,4mR.,WrV&1
+EXSLVCVm,<^4-^>TFQs#OY"9o[3P19AN2%W-f<Z0lI;=?q\f"DO8LCino at 7`r;`1t
+?4S]eod]GHY0Gd&T+*c#S[LRM4kX/:+lKN'3TPT97W#88>X"KrT$kr>p1iIS1['2`
+Z:M1QA,Y'T("oXXCcpk%[YDu1`!D\W]B!d2As1p3pae88a=rM_3!YR-_o:JVA96UW
+&Vcr+lh,8U7i,l=LD['Ud3<_\f=`.15&7ODj4C\*_e+,T<eSYL-fFR1LLONO(Iu/3
+oURnETUU??Bj0dbI1Hof(HoN3qP[2>BO&tK1nJ,G_0a<>iI^Lcr9&:J>dmY:Rf,u[
+?TD(d,r0H]\otOmc0`L4b2&-6hj^0$)(D8g4"dF<R*JX"MthK at _-9JA<>dn@=r1:&
+Bg+3El-qa-7dUD_DJUb3`APTH+;XOC'MfbH\0e,OFGC,sSf^bq3X-]go_V:J_$+KG
+.cf-p)MsW`**cl)GS-IHTE:&S>_8\4J5Lho./QbED,8lL=!':P[+?5VC(Y0"I=\fk
+ReK7(\<<jm`%UVU@*oiV`23#;eK;Pa5X1PsU$X_RKi?`!ARq(JWV69#=2bs8'!>A%
+$7G\,MI5.A^fQ]]=3sH-r0lTu/?THX`G6SlL0nlY!kJ!!P:+/,2M_)'X4EsVY-Jc2
+5.29fatOr9@@tEe\Oa5V?HnE:cM%0LnjIW5ndFt^lkS]?^Pf/d<9iiU\<_K$9R76C
+,<Q*EDZ/-$guFabZJ7K<Ym,F`__2g-?g5.n<`e=Bb$Poc[q+$3F&Y^QNHmCs<EPlN
+8lTu7\f/&"ICoooP:-(,.t&JBGtZIf<u'9+/*RL^I6O3gN9VYJ,!XqEhj`"N^_QNr
+LTQU4H!Hd[Wb9pXCtrMa:X^\.s)[Dd+,B-L9u#tUidW&""osQe1#)~>endstreamendobj116 0 obj<</Length 43854/Type/Metadata/Subtype/XML>>stream
+<?xpacket begin='???' id='W5M0MpCehiHzreSzNTczkc9d'?>
+<?adobe-xap-filters esc="CRLF"?>
+<x:xmpmeta xmlns:x='adobe:ns:meta/' x:xmptk='XMP toolkit 2.9.1-13, framework 1.6'>
+<rdf:RDF xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#' xmlns:iX='http://ns.adobe.com/iX/1.0/'>
+<rdf:Description rdf:about='uuid:9d2e2b5e-c42f-11da-8575-000a95acbe1a' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:Producer='Adobe PDF library 6.66'></rdf:Description>
+<rdf:Description rdf:about='uuid:9d2e2b5e-c42f-11da-8575-000a95acbe1a' xmlns:xap='http://ns.adobe.com/xap/1.0/'
+ xmlns:xapGImg='http://ns.adobe.com/xap/1.0/g/img/' xap:CreateDate='2006-04-04T18:06:14-05:00' xap:ModifyDate='2006-04-04T18:06:14-05:00' xap:CreatorTool='Illustrator' xap:MetadataDate='2006-04-04T18:06:14-05:00'><xap:Thumbnails><rdf:Alt><rdf:li rdf:parseType='Resource'><xapGImg:format>JPEG</xapGImg:format><xapGImg:width>196</xapGImg:width><xapGImg:height>256</xapGImg:height><xapGImg:image>/9j/4AAQSkZJRgABAgEASABIAAD/7QAsUGhvdG9zaG9wIDMuMAA4QklNA+0AAAAAABAASAAAAAEA&#xA;AQBIAAAAAQAB/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoK&#xA;DBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8f&#xA;Hx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8AAEQgBAADEAwER&#xA;AAIRAQMRAf/EAaIAAAAHAQEBAQEAAAAAAAAAAAQFAwIGAQAHCAkKCwEAAgIDAQEBAQEAAAAAAAAA&#xA;AQACAwQFBgcICQoLEAACAQMDAgQCBgcDBAIGAnMBAgMRBAAFIRIxQVEGE2EicYEUMpGhBxWxQiPB&#xA;UtHhMxZi8CRygvElQzRTkqKyY3PCNUQnk6OzNhdUZHTD0uIIJoMJChgZhJRFRqS0VtNVKBry4/PE&#xA;1OT0ZXWFlaW1xdXl9WZ2hpamtsbW!
 5vY3R1dnd4eXp7fH1+f3OEhYaHiImKi4yNjo+Ck5SVlpeYmZ&#xA;qbnJ2en5KjpKWmp6ipqqusra6voRAAICAQIDBQUEBQYECAMDbQEAAhEDBCESMUEFURNhIgZxgZEy&#xA;obHwFMHR4SNCFVJicvEzJDRDghaSUyWiY7LCB3PSNeJEgxdUkwgJChgZJjZFGidkdFU38qOzwygp&#xA;0+PzhJSktMTU5PRldYWVpbXF1eX1RlZmdoaWprbG1ub2R1dnd4eXp7fH1+f3OEhYaHiImKi4yNjo&#xA;+DlJWWl5iZmpucnZ6fkqOkpaanqKmqq6ytrq+v/aAAwDAQACEQMRAD8AMfL/AJo8oaZC0N/Dpjzx&#xA;TrBLFd3WmwSLJZymOeEpcsWo7LSoAqKEEqd+hzdo4JgAEx2PQ9Rz2I5NMdPPy+YTG2/MX8tJ7DT3&#xA;ttO0hIIUWdnuL/TFnkjkjZV9dZCjqeUqmjqCCKUB6UfnMdyJyS9X9E0Nxy9XwZDDKhsPmE58uebv&#xA;LGpaTY/ozynpuoO9tBP6xksWkkhNFMjRGkiF+DD4vstWtSCMqyanEZk+LMA3tXL7ejOGnmRtEH4p&#xA;lDdWSW0sTeRbSR5GlZZGksfhEjs6qKAH4AwUUI2HbBLVYiQfFn06dwH9Lqy/KZf5qB1uKPULIwWv&#xA;lGCwkMwlE0b2NQnEr6Y4+m3Ek8t2O/tQC/Ta/DjlcpykKrkfnzLGWjykfSkX+GdQ/wCrSP8Ag7X/&#xA;AKqZnfy1pfwGv8hm7kn1K40nTNa0zRL+GC21TWAx0+1d7YM4UlRyPqcY+bAqnMjm2y1O2SPa+m/A&#xA;ahp5n4rRe6Gbr6sPqjP6TTtIs9mYVRFdzznEvpI3CGRuLMG4oxpRWo/yxpvP5J/K5EPPr3lKC2mu&#xA;Xu9NKW4lMiJeae8p9AEyBIkmaR2FNlVST2rUY/yvpvP5!
 I/LT/BabzD5QWya8N3pvpIiyOn1uwMqh&#xA;iAOUPreqrVYAqVqO+P8AK+m7j!
 8l/Lz/BX
trXlf1liSfT5mKs8jQXVjMkSLSsk8kczpClWC85Cq1I&#xA;FakDH+WNN5/JP5af4KJ8rzaV5psTe6BDBfQLtIqyWqSx/Eyj1IZJElj5cDx5qKjcbYD2xph3/JMd&#xA;JklyTlvKupKvI6SvHkFqHtDua06S+2EdsaY/2LLSZRzHNJY7rQZLi0t45tNkmv15WSJe6c3rD1fR&#xA;HpkT0astUFOrAgdDj/LGm8/kj8rk/BRWlWtpqyhtLhtL0FS49C5sJKosjRFxxmPw80ZQ3Q0wHtjT&#xA;efyZR0mQ8kw/wpqX/VpT/kZZ/wDVXH+WdL+An8jm7nf4U1L/AKtKf8jLP/qrj/LOl/AX8jm7nf4U&#xA;1L/q0p/yMs/+quP8s6X8BfyObud/hTUv+rSn/Iyz/wCquP8ALOl/AX8jm7nf4U1L/q0p/wAjLP8A&#xA;6q4/yzpfwF/I5u5ueC+soUsJ0NvEjNMlsGQpykABf90zISQg75Zo5Ys85zAsbcw1ZYyhUTzZvD5d&#xA;0mTTtHZdDuDPdcBLL6ycZibV5DwH1leNWAfcLsKe2YMslTn6oVH+jy9QH8z4df0sgNhsfx8VVtI8&#xA;rTSu1roMzRWf+96m6jBj5MKcx9ZPHinMmpFCN9uVI+sD1Shcvp9HP3ejvr4H3J27vt/akPnXSrSw&#xA;ltja6bNp0cvOgmYEtxVDtSWfoW61HWlKqTmd2dw5AeIxnXcPf/Rj+N+rXl28mY/pO/8A+VXfW/Xf&#xA;619X9L16/vKep6VeXXlx/a61365o/Cj+b4a9PH+lyLPBfkkfmf8ALHyA3lfUNWvtK0uycWst5cax&#xA;LYQXLxMU9SS4KPG/qNtyNQa++Yfopu45eXyDzSwsvyjj12A6/rOm3c9vLZ6fcafNoMcZYXNmFtbe&#xA;WWGOSI7weopB4pTh8PTABBJyS/ADN9H1/wDJrShBJp1hDpK6kk!
 bxtb6fLH6iO7pCX+rxEgH0moW2&#xA;X9qh2wkY+5Mc0xyP3M80jT9G1jSrTVdN9O40+/hS4tJxzUPFKoZG4sFYVB7jBw4+5l+Zyd6M/wAM&#xA;23++U+848OPuX8zk73f4Ztv98p95x4cfcv5nJ3sdj/Lnyj5itLTUdX0Sx1G7SNokuLqFJZFRZXIU&#xA;MykgAsTTGIj1axOQ5V8gwq8/JjXGuriSXQPL8qXE4itI7WFZEgiIRRPMt4PhPppxcQ1r8PwHc4Ki&#xA;y8WXl8g1J+SXmKVJnby35IWRUL2tuLOdo2neMBvWkZOXASDqigkfLdqP4tHiy8vkP1Mt0r8nfL0t&#xA;q0/mPy9oVzrNwztfXNraUjlLuXqfW9SQlju3JjU74QIJOaXl8h+pGJ+Tf5eojonlnS1SShkUW0QD&#xA;UBUVHHf4WI+k4axo8WXl8h+pE6R+V/lPRZp5dI0i105rpY0uFtQYUcRFyhKJxTkPUb4qVPfoMSMZ&#xA;6JjnnHka+ARGp6FBbR2qLGAJ7qKNqMxqCG8TkTGHQJlnnKrPJ5r+avkT8u/J+i2+uR6J5c08xvJa&#xA;+rqNncSW59WJnjUQ2UchL+vFH8TIeK8+O7UJIh0/Sx8SXl8h+pj7a9o/lq0sLiwsNC8v/pS0Nx6b&#xA;WlzBcXhsVc3skQtwY1QsqiJJyjgciwFBUGMD0+9lHPMcj9g/UzH8qdcbzU00Ooz6bc3q2lvdBdLT&#xA;UEhUSli1Xu0j3KPEeFSVrvsRgEYdQy/NZO/7non+FbT/AH0v/Bv/AFyXDj7l/NZe/wC53+FbT/fS&#xA;/wDBv/XHhx9y/msvf9zv8K2n++l/4N/648OPuX81l7/ud/hW0/30v/Bv/XHhx9y/msvf9zC/OHlS&#xA;4k1KN7aW3j9SVbKK3mmWJ2l9JZFWP1COZYM3wg1279tr2Zr8eDiBBouHnjLIb6orQ7!
 XzN5eSa4v7&#xA;SK4iheJxJcXscawFYmhXdiwXkkirv2AHhSzWazBm5GUed+k!
 b7g9/f9p
YwhKKeRnzNFOssXl9U/dC&#xA;KT/TYizlOHpszFNzGE+HbucxDkxEUZS539Pvv+Lrf2MqPcxPU/Jfne/uZJZYCY2kd4onuEcIGoKL&#xA;Vuyqq7DoBm1w9q6fHEAA8u4b/a1SwyLNv8Lz/wCCP0B6yfWvQ4+rv6frcvU8K8Oe3StM0n5n9/4t&#xA;fxX9rfw+mnT29nfaWmkSaw9nc31oxjFvP6N0I0CJJJCQ3MemZUBYD4Sw8RlHiCuTPhLFo/yu0qW4&#xA;umt/POu/WoXSK7eLVB6kbLBGVilIFf7thIBJU/GWH2sjxBPCVO2/KGaG3lso/OepWdnLJcTyGwmN&#xA;vcyTzzrIJZJy8nMrFGqH4KsSzE7gB4wvAWQ+VvKN3ost3PeeaL7V5bomiXUtYYlEssi+lGWbi3GU&#xA;Ix5UIVdhTCMgHReAsh9If8tn4/8AN2S8UdyOAu9If8tn4/8AN2PijuXgLzzUPyz1DzPBZ38HnDW9&#xA;BjSP0xaaVdm2hJjllPNl4tVm9SjeIA8MpotsZRrcFhfk/QrvyxqtvF6/nKS51G9aeZLnhLBJPdp6&#xA;Uk00lbeWb04rdGeobhsQDucBiWcMsI9L+X6nsSaFqbryTWXZdxUM5FQaH9vI+Ge9t/Mw/mBB63Z6&#xA;rpWlXOom9vL0Wycza2gaSd9wKIrSICd67kY+Ge9fzMP5gYJN+aFxFpMuqvo/msWUNo188n6PNPTS&#xA;4EBUMbjgWofWG9PT+KuPhnvX8zD+YGb+X4dT1rTFv0u76xV5JYxBfI8M1IpGj58PUb4H48kNd1IO&#xA;PhnvX8zD+YFbVbG90+CCea8e7pcxFEJaoKhjtUtkogx3O7XkyRyUAOF5Xff85EaHfPpiy+Ste1Fp&#xA;VGpWKPZRyusKRh1vIFLtUKZVXmtAN/i8bvEHc0+GO8/L9qJ0388rebWLxLfyB5gSW9i9aa6S!
 yRXu&#xA;Ft4jz9bkycjGB6ajkxJ+EbkAvijuSMW/M/L9rO9B85SX+mpNb6VfafboWiht7qJrZwkZ4qwiYBlQ&#xA;gfCCAadhkTmH81ujpbH1Jj/iG7/5Z5v+Cb+mPjj+ay/J/wBIO/xDd/8ALPN/wTf0x8cfzV/J/wBI&#xA;O/xDd/8ALPN/wTf0x8cfzV/J/wBIO/xDd/8ALPN/wTf0x8cfzV/J/wBIMf8AO+iya9oL3k5jjsrO&#xA;eSXUop5/q7SW7WqI8XqNwQh+nB3Ra8W5jjQx4r3cacOE1zefQ+VpNLdDe3XlCON71dWjj1G+u4Ly&#xA;HTr55hWRLd0j9QRyKiueSk8qs2zYsHrmha9+WHlvS4dL0rU7OztUlFtFZm4LzmUGOILwlZp2b44+&#xA;tdip6EHFWZYq7FXivnL8kfyzufL+q6/+jRc69LZyzr693cxwyTt++CuEliAVpqdCPmMPhls8XyH2&#xA;vMYPy08mWNwZbS58qWq+lM0R/SWtMwk5cUeRkl4eh9WkpK9eK8q1KsKjgKjJXQfb+t7n5E8tKujt&#xA;Bqd5YXEVo4tbCTSJJGi9K3jSJ1k9TlxkSZZF4hjQAV+KuDwG4ayQ22ZJ/hrQf9+yf8EP+acfy6/n&#xA;Z+Tv8NaD/v2T/gh/zTj+XX87Pyd/hrQf9+yf8EP+acfy6/nZ+TvL8Vo2jWxkkKtR9h/xkb2y6EpV&#xA;sHELzTy/+WvkfzLLqlzJbHSbu3mjhW507VI78F19F5X4MJliYm3SMpIDsKgAscdz0V6F5e8keUvL&#xA;73Mumq8dzfFWvZ2cs0rqWbmV/u1JZ2NEVRvsKZIGQ6I2UvPttpbeTNYSWFL6N7WRWs57oWMUvIU4&#xA;vc/D6QP81dsTKXcuzy3yVovkXzPrlvpmuaPbQfotS2gR2ur290kcVq8UqSW8Vj+8ijmaYycZ5WIo&#xA;APhO0bP!
 clmlj+Q/5T2F9p13ZWUtudLi9G1hW5nZKC6F6hbmzOSk68h8W9SGqKANS7lZZr!
 MVoFseE&
#xA;hIN5CH9h8XtjKUtrCpV560Sw1Gzs4To36fRbgO8JuhaCHgpdZamnOkiKAPevbJEyPRGzzJvJVnPI&#xA;9rf/AJbPYQXi87eZdUkvEW9lsltmjkjtXBjT0maL1Kqg48qglTkd+5L0ry5f+aptXay1nQ49P0pb&#xA;fnDqEV5HNSVWVBC0QHM81q/Lov2d/tGfFPuRQZT6Fh/v0/eP6Y8U+5aDvQsP9+n7x/THin3LQd6F&#xA;h/v0/eP6Y8U+5aDvQsP9+n7x/THin3LQYb+YojHli+hjYM0t7HHBH6hMkjmBKJFaU9O+c9raSit1&#xA;PTKZXe7IPK9Z0++udUuRb2txMEsLe3lng0S312KGT6zFHIkt9dlXheMPzmsKGOJVqDkVXXOmy6vp&#xA;sF9pFxdW14C2pWdl/hnT7nUlhkhguo54h9Y9YRepbGINz+JyqfZVcVe5+StWvr/TZo7+K/F3ZztD&#xA;Jc6jaLZNPzAmVoo0JUxosoj5DuprvXFWQ4q8d13/AJyA/J3RbS50/V5pp7mzQw3NitrJJ6kiBlMa&#xA;lgIiWaJgOTBfEgYRlLYcQA5j7f1LfLvn/wDIDzZcCLS9Ltby9uIpPVgfT4xKIysZlWTmuysOA3NG&#xA;ptXjsDlIZw0/FyI+39TOLLWPKljB6FlpxtYObyelDHHGnORi7txVgKs7FmPc74PzDZ+Rl5Ij/E2h&#xA;f8s833L/AM14/mCv5GXk7/E2hf8ALPN9y/8ANeP5gr+Rl5O/xNoX/LPN9y/814/mCv5GXkqeX3tB&#xA;o1sJUJej7/8APRvfLoCVbOGXlPlPzh5J8t6pdqfM/wBa0q0jvn1OGPSVtwZ7WV2mklmT987wx8U6&#xA;HmKEFt8bl3q9U8v+Z/LPmCw+v6X6ktrzKB3jkiJIAIIWQK1CrAg03ByQEz1RsgvP8+hL5M1g3tym&#xA;nWxtnWS+mtRfR!
 xctg7Wx5CUAn7JG+JEupXZ5B5eXy3ot0b2Pza1fLNtNd3RtvL0FmZ7GMQoYTKqg&#xA;SJvssZ25/slBSO6Xo1l+dv5U3RnVb943t7hrR1eCaplRo0bjxVqgPMq18fbHil3qrWvnryl5v0qG&#xA;68q3TXSJcxH1mhmhALGVF2nRK/FE3b9YyJ4j1ZQq9+Tz7zHZ/md5ctIL/X/zQS1t09ThINGgId0h&#xA;lZuSQ8y1E+LjSnw+OE+IGwDH3n5ftU/LX5lXVpqAtdX87DW3QPanhpLWQa4E8gq3wMSyCGRfgATi&#xA;lT8XWJOTv/HyZw8Ic7P4970zS77UtV0221LT7yOexvIlntpgoUPG45K1GQMKg9xhEcve2cen7j+P&#xA;iivS8wf7/T7l/wCaceHL3o49P3H8fF3peYP9/p9y/wDNOPDl7149P3H8fF3peYP9/p9y/wDNOPDl&#xA;7149P3H8fF3peYP9/p9y/wDNOPDl7149P3H8fFCeYjr/APhS9trB5m1G5uVhK2iSCZw0KHjHcR0S&#xA;0O39/KCi9xvkSD15uNMxJ9PJgcujeZ73V1uroX7aXC1pbTXFrfT2pVYkh9VItNkWYXMixhj9YhqZ&#xA;xVUXi2Bio29r+YXlq6GpW1hqUjyNGdHs7/XbSCPUbp2kgSO5gmEDPPLDL9YkrxYsiLSqHkq9O8v+&#xA;cPNOqeYm0+48tx2ulJFK8mrR6naXPGRJpI40NvF+8/eLHy5djVTuMVZhirEfMFrc3vk27tLHTluL&#xA;6az42yMwiDy8Bx5SFW4gnqaHLPCFc08ZYB+Wfk660LzUJZ9FvbG19G4SOG51W0uofWHpRNILWGCN&#xA;vUmjhSZ5C5PJjyG+IxhHGXrnOL/liX/gR/zTh8Id6fEkwv8ANGwvL7TtIWy0q/ufR1S3kmj0y7Fi&#xA;wUh0R5iIpDJCkrozJQCoDMeKnAcQ7!
 14ywry9pv5gwvpd15t0HVWg02aMjhqS3e0ALQPPbW0U73cj&#xA;vLwlf4V+EO!
 EWlcHhrx
nvep+X9R1u8ilm1jQE0tiUMFrzjmdQUHMO8fJCQ1elP44RiHeviSYpf/md&#xA;N5Xgs7BfKWt66rRer9b0uze5hHOWUcGZR9pfT3H+UvjlXEWcYRI3P2ftSqH8/LfUdRhtB+Xmvy3F&#xA;t/pLF7JZGt6iaJHKx+q8bu8ckQqF/ar0OPEWXhx7z8v2s807zjLf2FtfQ6NKIrmNZUVj8QDivFuK&#xA;MKjoaHI+IW4aWJ/iH4+KrNrks8Zjn0NpYyQSjgstVIZTQx9iKjB4p7k/lI/zh+PipXGrxXpha40B&#xA;bk2solgMiiT05kqA6VjPF1qdxuMfEPcv5SP84fj4rbnWrXVInt7nQkvoYpAJIZAJlWVKMOStGwDL&#xA;UHxx8Q9y/lY/zh+Pitmv1MFhAmmjT7a1uYBFGBxQIoYBFHBAoAGThIk7tOXCIjY2h/Ok+gappEK3&#xA;mvTaDbEyyR31jfR2bSD6pNy/eMrKyxxFp/bgHOynL+Efzmij3JPdeVIrm4sLS7836pbT2gjextdP&#xA;vRaGa2saRk3CP67Ts3roLhxxVjx+FD1eEfzl4T3K2l+Q9O03WbfVIvMWtSG3kklNnLfRtbSmWaSZ&#xA;xNGIQXBaWm5rRV8MeEfzk8Mu5m36Vtv5E/4If0x4R/OXhl3O/Stt/In/AAQ/pjwj+cvDLud+lbb+&#xA;RP8Agh/THhH85eGXc79K238if8EP6Y8I/nLwy7mI/mLKZfJmsyKGFq06/WgOBt/R9CPl9a/3f6Nf&#xA;tfVv3vTj3yqXNFPH9Z1XTLDXLiS7SODX1t9Ok0PUZoS93FHBAbkuXhDQNZxi3Roo2VpyftoSRgVP&#xA;IfyW816rpVhqCWHl17meOe65zzan/f6irPLdcVPH1jxg+EDgp58R0GKvR/8AlSP5etokumfo425u&#xA;IRDNNBNNyUm3FszReozqv7peH2enzxVnH1W!
 H6p9UofR9P0qVNePHj169MVYBP+YX5f6nZ6l5Xv8A&#xA;VbOb0LEprNoZGThbOGhl5yKV48aEPRqpUVpyWs7h3sxikeX3hhr335AXGpajo02tW3ASXL3mlS3c&#xA;scTXOqIVuZUmZllkeSL4GVJiifyq2H0d6PDldbfMM18i+YPy6sNHOneTLuyk0u3clorKZrlI3cVN&#xA;W5yca0rSuAnH3s46eZ5C/iP1sj/xVaf79X/gH/pjxY+9l+Vy933O/wAVWn+/V/4B/wCmPFj71/K5&#xA;e77nf4qtP9+r/wAA/wDTHix96/lcvd9zflyS7XRbYRIGT49z/wAZG98MRGt3HeJad5XtD5i1W4Sf&#xA;yhdenMr3L/pC+eeB21QzGKWk/BaPuobcTEj7FFx4R3qyr8nde8teWfK9v5Ul1vy+up2ruWg03UGn&#xA;hbmS9Ua6k5luKksq7L8sIjHqV3Z1530vW9c8o6tpFnDbtd31tJDALppUh5sPhLtCfUAB3+HExj3r&#xA;uwLyv+SZheWDzJY2V3plvCLfSLS1kuAIFkt0hum5sVmrPxPIPK+1N+uARj1Ks88v+TtI8vXl5e6P&#xA;pq2tzfgC7f1JnD8ZJJh8Mkjqv7ydz8IHX2GS4Yd67q3mSOe6tbW3uIx6ct1GhA7hgwI3JyEoxTGR&#xA;Bt4n+Yf/ADj9+W+h6DDcWGm6fZMZzEDrF9qXotJLE6wpGtvN6jSNP6YIAPwcu9MTCPQsuPyH2/rQ&#xA;P5e/lR+WFzd3NpqV/ol9MzLDpEeh6peKjRyxqJ4/3lzIXZyQGRJGHEioHLdEI9SnxPL7/wBb1WO8&#xA;/L23WS1TXdPj+pK6zRfXrasS254SBwXqvpkUavTvg8HH3t353J5KXnuxvtI0mK50290rTpXeQGfX&#xA;Z2htiFtpZFCsjKeQdFZv+Kw57YDhh0KfzuTyYZYaz5jmstQkTW/!
 LWoMl1awxatb3PDSrWOSnNLhm&#xA;mMjXE1WWJI3cV48uNdx4Me9fzuTyZJ5b!
 1LS2ikTz
D5h0CS8+sC1hXTb1AvqPI6RxsJpGb1X4ceA/&#xA;aDdcIww6lfzuTyZp/hWH+R/+CGHwcfev53J5JL5wP6M8s3At44DfRX0Y055VjmuY7gwIUexgkR1n&#xA;uRvwjqtd/iGRIA2DjzmZGyweTVPNU+pyaZY6ld6JpE0DDWLzTNOt5LSGdoeE91d6mTbPb3qySLJN&#xA;HuY+O7EVxYtWl/51H1J38w+ZLezWOKRdXfTLc23oXZUwzXE0s8luFt4YWExKN9v1D8ZxVkfkD8zP&#xA;NFxpGlw6rpGp61dXrGWXW7a0WOy+ry3TwxNFJGFSQKgWQmgrH8W/dV6virzTzF+XPlpfLOp6zZ6H&#xA;ZnW3sJ5Y7yDTobu8aWSEk8Y2WszvWnAn4uhydxrky45PI5PL8lnqVnJqPly/1L17u65Wcnlq0en1&#xA;SeS+u2imkMk8n1mOQx2wHEVBIC7LgHCvHJ7xon5b+V9H9WTStMt7H60qeqkalRRCzIvD7KhfUagX&#xA;YdMl6O5McsxyKTfmTZS6TpVtd2bXcDLP8badZpeuwCluDpIyKok48FJ/aIA+IjIkQ7mXj5O95ta3&#xA;vnyNGsNWutTsVnvbiwm8y3+jxWltaiG4RoJlj2iaK4j5RLI0vVq7kAYOGPcvj5O9F2OtecdG1LTd&#xA;S1mw1y88uXh4XME+l2kE0Mt00MFqJeMgYAu7OwViVJKlaAYgQ7l8fJ3sn1/88fJHkO2g03XL2aLU&#xA;DateQ2cMDytKjSyqoVwPTDM0ZUcnHvQb5KMo9Qw4NrtjNx+bX/OP91NDbW0YWS/uhczNYWctoxlK&#xA;GdZ7gxLA8lWRaA8iX4mnw1U8cO4/j4p8LzH2/qZ5pml+Q9Mht4bHQbWFLWQzW5+rQM6SEEF1duT8&#xA;qMRWtabdMh42PuLkfkZ94/HwT/8AxbH/AMW/8Cn9cfGx9xX8jPvH4+Dv8!
 Wx/8W/8Cn9cfGx9xX8j&#xA;PvH4+Dv8Wx/8W/8AAp/XHxsfcV/Iz7x+Pgpz6x+kHs44y4ZLuEguABU8gOlcPiRPINWXTygN13nL&#xA;yhqvmKztLZL62txbXMV0frNlBfo3pNWgS4UhG68XXdTvkyYtG7CtJ/Ia/sNU0+6/TVr9WsJ3m9C2&#xA;02CzlKy2/pSIlxbsksZaQtIGXdTxA/u0IjcVZxH+XvlhLcW/6G054+EkbepbRSMyzHlLzZ0ZnMjf&#xA;E5Yksd2qclxQ7l3Qn5h+RtW826EmmW+o21hIkokE89lFfrx4NGyCKXiBzRyrUO6kqdmOAmK7oLRf&#xA;yntbe3uINca01pJpVk9NrOK2ik4wpEPrUEQ9C6cFCyPKhKVotKYQYrum6flz5TSb100DSVm9Vbj1&#xA;RZW4b1kZnSTl6deau7MG6gknvh4ody7p96Oof79X/P6MeKHcu6Q3vm6y0S+urS5huLy7dvXdLVA5&#xA;WNYY/jbk0Yp8J6eG+W4dJLNZjQA7zXNjKYHNYn5i2skfqpo2qvHVF5rBGV5SBSgqJer814+NR45a&#xA;ezZg0ZQv+sOnP5UUeKPNQuPzT0e3maG407UIZk+3HJHCrCoruDKDlkeyM0hY4SPeg5ohqL819Dlk&#xA;SKKwv5JJCFRFjhLMxNAABLuThPY+YCzw1718aLI/8QaZ+gv03zP1H0vWrT4qdOPH+bl8NPHNf4Mu&#xA;Pg/iumziFWlEv6H1DSptIGuizu5bNVla1uI47u3WdWRJUqWKNVG4MV6qfDB4wpmMUj0LEJfImiX2&#xA;oS2tp+Zeri5sZLmTULSLVY2lj/SMX7pXVaemIqc4Ay7b9cj4gUYpcqKd+XNE0tNUutak84vqt3I/&#xA;oXNvFdKunxS26+gyR2/qSlGWhLq0jfHU7dAfFCjFI9Cyf1dN/wCrjF/yMT/mrD448k+BPuPyd!
 6um&#xA;/wDVxi/5GJ/zVj448l8Cfcfk71dN/wCrjF/yMT/mrHxx5L4E+4/JL9!
 F0uwu9K0
+e4WNpbZ5JLdpF&#xA;VmjkJkjLoTurGORlqOxI6HGMqHJreM3Oi/mjb6pqVrotteOLqSWUn9LQTNyhlkmVeQeNIXYCJG57&#xA;mORVFPSJLZ7k2jLDyhrd/wDV44YPMjR/VpI9Ut7jUo7W39RLpXicie3T6xJcopd3Qnip4Pucb8lt&#xA;6j5RuPMOp2csvmPRU8vXKMgitheQ33NWjV2POIIF4OzJTvSo2OT4/JF+affULb/fy/h/XHj8lvzd&#xA;9Qtv9/L+H9cePyW/NLNesovQtI0mAMt1EhcUqtQwr17ZXM2KqmUJUQXkHmX8nfNmi2enPpPmjzV5&#xA;m1WRljuIodXSxgBihJaQ+us6qsjp9lmJqfteNfAWwZR5/Nk35c+UfN1jealp2tNqaWMYiey1fUtU&#xA;t9Rec8ArRrHCImi4U3LD4uta4DiJbYakR6X72c/4YH/Vzf8Az/2WDwSz/OD+aHf4YH/Vzf8Az/2W&#xA;Pglfzg/mh3+GB/1c3/z/ANlj4JX84P5od/hgf9XN/wDP/ZY+CV/OD+aHf4YH/Vzf/P8A2WPglfzg&#xA;/mhhPmi41bQPMLXNhMwrCLcXZRWDbK7KCwcA7r75vuyceKUJQyd4O5p1upmTLiCNH5i6ZMlu9/a3&#xA;E91bQU5KyIkk6mCUOyrSn76E9Og/ZPKi2/kOEkQnARJ+Q9Q/3J/aK3h4neC0v5g2UVvNbQteLAsa&#xA;R2lFhEgEcSqAzt6g+Jw/IlWPxVFONCnQgkSJx3e+5rc/DpVbjl5o8T3ofW/P12rW8mh6hc/vI/8A&#xA;SluY4CVZTQUHA0LbsaMRuAKUoLNNosO4y8HPapH9fw+HxRKZ6Wn31C9/5VZ9W9B/rH1f1PRoefH1&#xA;fU+z1rw3p1zWeJH83xX6ePn8W6vRXkxjWPyj/LG107VfMiWfo6ve2kxvriWe/aGT6wtZRLBbvV0L&#x!
 A;b8UHUDjQgZr/AAjTeMtPHvL3kf8ALrXPNKRaidKv01C4ge/ayfWgzLexpc8G5iBUAZ/9HdRTgOMn&#xA;x7lECgzel+S/L/8AzjjofmKxm8rXE1rqGsW729tADfSJcI7xSBj66PxKUWnxLsxrXagOO2cMxgbD&#xA;KfzCmtdBsLSfTZrWKSaYxOdQW7eM8o2EYBtVd0rKU5NxYBa7dwDgps/OzedP5+vr+xmv9L1DT5bW&#xA;xF5cNeR219HZzRqhghhb1ke5MkNwwkkaOPiyiimtRg8EL+cm9G8iaLrM9s915lntJrS6iim002nr&#xA;LMA5ckTBkVP7r0j8P7fP9njkvy/kv52aMt/Pn5f6Lb22m67rlrpuo+iZxb3MoiZonlkCuvKgYVja&#xA;tOlN8kMpGzQMZP8AaGLn/oW3SpZ/N8N7btJosiSXN5aXN5dGCS4mcJzhgaX7cszbFPwGwGTdkcMg&#xA;L7vMM9sfOPkPUCFsNXguyUEoEDmQ+mWKB/gB+HkpFfEYfzCRppnkPtCN/S/lv/loP/Ayf804/mGX&#xA;5TJ3fc79L+W/+Wg/8DJ/zTj+YX8pk7vud+l/Lf8Ay0H/AIGT/mnH8wv5TJ3fcgNZvtPnt7cadJ6s&#xA;y3MZ4kMBWjU+0F74PFMuTE4DAji2DBItc/NvSp7O4813Hlqz0+YBLxxNLAFkjNxI62/rsOZaERsS&#xA;7jjxf4afFkzLJ3fcmMMfU/f+pOE/MbQ5BKY9b0dxCSs3G+tm4MqsxDUm2IVGP0HI8eXybeDT95/H&#xA;wTq21DWLq2iuraOGW3nRZYZUZSro45KynnuCDXDxZe5eDT95/HwUdQ1y802ITag9rZxGtHnljjU8&#xA;QWNCzjoBXHiy9y8Gn7z+PghLjznDbBTc3dlArRrNyllRAI3UursWccV4itTg48vcvBp+8/j4I2w1&#xA;jUNQthdWDW15bM!
 SqzwSJKhKmjAMjkbEUOHiy9y8Gn7z+PgiPX8wf8s8f3j/mvG8vcvBp+8/j4Mf8!
 &#xA;8ax
rGl6RbXsCai12t/vaaZG0iyubdBHHM0ciFFZqKCRINz8BbiRE315uNMRv08mMaL5i/MfzHqz+&#xA;WP0zqPla/ullmtxcafb3XG2EbyO7SmYSLV7qNI3DGvpbBOXFQxexeWdM1zTtLW21rVzrV6OPK8MC&#xA;W2wjVSBGhbqys+7E/FSu2KptirsVYvq196HlSeWzjuPrkdpWE2kMdxccwm3pRSlUd/AMaeOXcMq5&#xA;osMG0XzZ6a3Nj5xttT1q3uIoltE1HSLOyilu7dirRQoZf3s07r6kaEUAGxwVJWT6R530rW9YtLSb&#xA;ypq9nIkRvbe+1CxSKCFzGFKerzbhMUnZaAfzDCIyK7IX82rjUG8qlNHn1Sxld39eXRLOO9vGjWCV&#xA;uCKzxmOrqtHU1rRduVQmMh1RYebxSed9QSyM135hivdNaNGvrjy7Z+q9vGjw3CRyCb1YnupIeTPG&#xA;7HiydqnBUk7PRp9F/MG8lnuf8UJpAmjlWLT7ewtryOCRvU9JhcTLC8oTkhIZFrxp3rkuCXeiwjLX&#xA;yh5F1iws7rXvL9hqt8kbRrdXdpBPIEWV2ChpFZgoLE098rjjJFsuJ4dZ/l9p9r5it9DsbS9sLbVb&#xA;i8jRr3ytY3VsWFuBE8s9xcSsIoZoWlRadG4gKu+Phm14n0HpPlfyPpIY6doVlZSSKqzPbWsMBfiK&#xA;Dl6YWtO2E4CyjmkORQ3nNra08q6pdaVZSfpGC3eS0FpbR3M5kXdVSFqhy3SmA4GX5ifeXikHmfzk&#xA;FuHvL/XrWGxeeHUbr/DunlPrAKtGsQdiPSWOJlBNGdpF232j4Xkvjz7yzDRfMz2ut3F3Pbax5o05&#xA;DJaxS2Gk2q2Mxd1likglS4PNYVZojJSjEGp+EY+D5L48+8s+N1pt3pukX9vp8th9ZntpntriIRTo&#xA;HUt6cqAni61owrscPh1T!
 GWWUuZtIvzgsk1XQLWztYJzI88h/caZDqh3tZkAdJXjEakuKtyHIfuz8&#xA;LnLDCTCw8ptNBstGsr3StPMLi6e4u4tTl0ixvDbXaoGOnW0Updri8kScwmKWZX+FiBuVyPCVtkvk&#xA;6/8AzGu7u40ibUtX0uOO8kgs3k8uWUNlBaCKf0Fgk5R1RQkdWaP7XFaUYnCBJdmSfmNZXsPlPS4j&#xA;PfahqFpNMz31npFpqUxpbTtzNvMwRGCjgrCtWIWnxYTGS2Hl+ianqV7p4bTNJ1nUUmvkE2vzaHZ3&#xA;T3MEPrBrOKGe4eGC1VVAWVZvhb4Vj+I5CpKmnlyXzPpOhWOiaPqmsQQoLOXUpNM0SyvIraadXW6t&#xA;TPJIsizLM4kn5IWioAKA5ICSvZvImqfXfKtjfXk8t/JeCS4iuZ7aK1kMEsjPApiid0+GIqoYN8QH&#xA;LqckIyPVFhhn5xzWTQWsc+lWOpWrT3kskF9eNYHhHpyB0glE1ugkcORVmNFqabZVIG92QRuj+Q/y&#xA;N10OltDazX9/bwR3unx6nPJMixWslssTRrPyUpC8iN8IruTuK5FXo2iaLpuh6RaaRpcRg0+yjENt&#xA;CXeQqi9BzkZ3b6ScVR2KuxV5P/ysT80NOutRN15JRfLVjZs9hqjX0EayPbhj6k7SMPSimj40+H92&#xA;R8VQ3wRtuGMd/wBoSbS/zm/NvW7nWxoXkq01C30+8W3tnS/iPwxTJHOktH5cpUErxvwUKOO0n7Ta&#xA;PDG/6wjpvzC/5yDF+lxF+XMH6NRFSbTzexNcySkyVkjueaRLGoVPhaHlv7ni2vh/iwhNd/OX849I&#xA;ht7q9/LiGytfVYTJPq1u0syLC7lLdVCkyAqHoquSqsAtSGDamH4sMsP5x+W/rkNmNQ05rq4QyRQr&#xA;dxMxQRmXnRSaLwUtyO1MjxHub/Ax/wA5kEXm!
 HWJokli00yRSKHjkQllZWFQQQKEEY8R7k+Bj/nKW&#xA;g61ZW+mQWryxesil2!
 jZ1DhXkc
KSp3oeJp8sviBW5pxBCR5Alid/5I0e/eYr5v12CcyK0kkGqgMvC&#xA;OiIFZHVAOfqUC15UJ7ZKo/zl8Of80/JnNvrNlDbxQ+skvpoqepJIrO3EU5Mdqk98aj/OT4U/5p+S&#xA;/wDT1l/PD/wa41H+cvhT/mn5OOvWR6tD/wAGuNR/nL4U/wCafk79PWX88P8Awa41H+cvhT/mn5IH&#xA;V9Vtpls2RoyIruF24sDsOXXwyJA70GEhzBSzzZqXl/Vo00ubzG+i3KFZD9QvorW5K3Ie0i5cgx4t&#xA;LL+72/vAtNxTJcMf5yDCXcWPxeUrV7CSGx876rcRSy28dxc3OoC6kjGngQyrbuhiEUzvEfVZg/xc&#xA;vhr0aj/OSMc/5pTjSdIFrqMd7feYrq/Nt6a21s04WDhChRXlRjKXmdW/euGUMdwq71FR/nJ8Kf8A&#xA;NPyZT+nrL+eH/g1w1H+cvhT/AJp+Tv09Zfzw/wDBrjUf5y+FP+afk79PWX88P/BrjUf5y+FP+afk&#xA;4a9ZAUDQgDoOa41H+cvhT/mn5PPPzU16KzsTcN+intbg3MTJq1pJfW8jyw2sEMYS3jmm+KWVa8Ea&#xA;o6r3FZ57MSCObEPJX5h6XpPraj6nlfTovUIkuY9P1KPUZIIbq4a8NwfRUhzDDM8Y6c6rxAwIe96N&#xA;rel61Zm90ycXNqs01uZQGUerbStDKvxBT8MiMK9PDFUdirsVYb5yku0/LnVi1tHdxnTJVFrIHZJe&#xA;UJVUcRFZOLE0PEg5b6aRuwL8uvM+vXfmd9M0Oby/Fpkry3UtvaWN9b3DQxXUkTo0skFvFzCkMeZZ&#xA;zJz/AGTXB6Vex11HwX8Ml6F3YD+bUt3Db6JcO+miWK8lazh1SKeWCS4NlOIwRbK7ClSx5ChAI60w&#xA;Hh6Lu8j0/wA5eV7zzXaWl9o2gNbarELfV762027hnt!
 1NuUijgm4JxLQ3Mar6Y5KjUcg9I+lX0xHH&#xA;exRrFEiJGgCoihQqqBQAAdAMn6F3ea6t+Snkjzsmn6zrVg82pWyxxxXcdxLEwigunm9IoG9Pi5Zl&#xA;Y8eVGNCDQiERGt02XmHlfQtG0h5Lby/a6SNaubma28t/VptXaGC4ugbaOa4W/cJ1tZll9JWaipsR&#xA;vgMYlnDLKPJ695e8q/mEL1/8RRaObASSiP6g92ZzDQeizGUqgeteYC032O24GOHVt/N5O9Eee9Nu&#xA;dH8oapqmmRRC/tIfUtzcerJFyDDaRYquVPfjvhOPH0X83k73kuqfmD5n1G0vbjQJdJ0+00rTYdR1&#xA;C8vY7xuUblojPEkfrH0JHIaNSvqgKeaDYNE44L+byd70vyZonna++p3msDR7jRLizMsdzp5vI55Z&#xA;XcGGQRznikbQGrKfiDe2EY4dV/N5O9kepaHDbR2yLHxE91FGRyJqCG264TCA5MJaicqvo8f/ADM/&#xA;JD8pvLGlpqiaNYWUsjTKrXs+qtCzRWss4ULZSsU+GBmZuPQH9ojJER6NVlDWHkj8lNB0/T7vzHax&#xA;xas9m9+1xp82rxRCxuEZ3m4yTu9DHJxkTkzfFuKHECHVPGXsfl3QvL97oGm3eix89HuLWGXTnDSK&#xA;DbPGDEeMlHHwU2YV8cHh424arIOqQfmdO3lbRIL62lsLN5ZJkMmpC8liIis57gBRaB3BBgDMWFOA&#xA;b9riMBx4+ifzeTvefax+Y3mGzSVYoNNtpRZ2L2rX8d5S4muYTcyTR/VpJWMIghlcIUVxVOXxHjkf&#xA;Dgv5vJ3sm8ot+ZXmHV7a7hsNFk8nSSz+tfxvdpcBYZGgMASRwfXSVG5HgYyB8LGuPhwtfzeTvel/&#xA;4Wt/98/8Of65Pw8a/m8newn8xptY0yCytdD1K90q+a9/dvZwC6j4otq7+u!
 ryIvErWNaq1WcDbIkA&#xA;cuTTKRkbPNAeQNY17WPOF1pFx9eufK7LL+kbO/0!
 a0solunt
reXjOIwWrO8ssrM9PjqnHapDF7MAA&#xA;KDYDoMVbxV2KsY1qLWo/KNxNpssjXaWgkhSLk0h4qCRGoryfjXivc0GW8Yrkinn3lLzr5s0++ntN&#xA;fg8zanNObcWyy6XDCoEnwvLH6bq7BSQZ1+IRV2+HETHctPW/ql1/v8/ecPHHuWmH/mVH5ng06zl0&#xA;fUNRtJlnHqz6bbpeOsZoGaSGZljKAdeXQbjcDAZjuWkH+XV5q+t6e9trNrrEi/WJLyC516yS0YNF&#xA;cB41WNXkp6b0eEmhoPauImO5aZ59Uuv9/n7zh449y0l3lyGd9FtikvFfj23/AN+NkYyAG4Uhi7/l&#xA;9+YpkCRee2trCN+VvZ2+nQQhE5giPkjLVfT5J9PL7QGDiCsu0fTNctdMtrfUtU/SN/EgW5vhEIBK&#xA;46v6SllSvgDkhOPctN6vpuuXOm3EGm6n+j7+RKW96YhOI37MYmKhx4io+eJnHuWmGz+QfzAubL6l&#xA;qvmGz18mS2nhvL6wt0+qyWyKJPStljkSQ3Tc6uzqYg3w8qYOILSYeVPKf5jWRsZ/MfnFtWmiidb2&#xA;2jtIIIZHepBDRqj/ALvYA0FQPsgnESC0netwzqLANLyLXsIXrsfi3xMh3LS3X9F8z30ECaRrp0iW&#xA;OVXmlECXPqRg/FGVk+zyH7Q3H4YTOPctMSsPy6/Mm2tJFi86RWNzcNK901ppluqSSSRFPXcAoPVa&#xA;WkrMAP5DWgbI8QVnVjp2oW1lb28t41xLDEkbzty5SMqgFzUsasRXrkuOPctJf5l0PzVqFkkOieYD&#xA;olyrOXufq6XXJWhkRF4SFQOMrJJUdePHviZDuWmO2vkb8xIbe8is/M1toxljCRta2MM5kuuLCTUZ&#xA;uaw1lnYqzx0IXj9tq4OILSpd+TPzHv7uCaTza2nw2ypC1vbx+r9ZEYflcOw+renJ!
 M7IzIqsq8eIY&#xA;hjg4grofI/5mxtKT+YEknqQPHV9OtiROf7uYCvABOhQKA3fffHiCoP8AMGHTI73SJdVsYdT46mbc&#xA;fWNSh0xI/XtIw8w9Uq07Kq0EaGu5PbIyNlLzXyTouoTXsj2Xk3T7nVRcx6h6Sa2s8tlEj2q20Uir&#xA;ccmaMWsc0hdjz4gU+LAr3Py15h8z6hql7Y6z5dfSI7WKOSG7+sLcRTNJJIvBSqIKqkau1Cacqdt1&#xA;WSYq7FWH+ZrLTpvI99HcNDJDJYstxFczCCExtHSQSS84uC8a1PMU8cu45VyRTzTyToH5VeZru+s9&#xA;b0ux0/VbG/h+riDVTMt3KhkMc0Qjl2IeKVWSrbq1a5Hi8leu6J5Z8vaHYDT9L/0e0EkswjMjSfHP&#xA;I0sh5SFm3dyaV27bZMSkOiKYX+dcflOLy7Yya5pia5ax3glhtXvvqSrPHDIyMxBHqLSqspBUA8mH&#xA;FSQJSPUJpBeSfP2p6pqUGjwaLaJYw3M9qHg1azllhsYAnoXDQc2mY8XVZEIDqxFQMRkl3LT0/wCq&#xA;2f8Av78Rh45dyKDze+/KHSfM81trsnmPWNFvTbLaSRaXdR20bpBPNJGXVo3LEGdupp7dco4L6Nsc&#xA;pHIvMPJ+pf4QudRtb+4k1K1gllX1rjXLFqIeVxPMlqkbSSN9ZeRZJOTMaHsrUicdt2PVSj5vZvLT&#xA;+Udctbb0tVgXVJIRJd6VHd2889vIqoZoXCb8oWkCvtsfng8Fs/PS7gq+bdKttH8uXup2U8c1zaoJ&#xA;EiuriG2hb4wGDzSFUj+GvxE7e/THwF/PS7gwPQPPDanf2NtJp9tDHdTWqXbvq1ojWi3AZZFKlW9d&#xA;4pkEYCcebNQAFWweCv56XcHqn+E9J/5a3/4JP6YfA96/npdwQmo6DYW0dukU7OLi6ijkJK/CpDb7&#xA!
 ;DCMVNc9UZEHueMfmZ+T9p5ZsLXVtP84+YbzUi8kSm9122tAlsIzcTqsssaU9X!
 6ukda8UJ
WRwyoQZ&#xA;cFdGrxpd5+abeRp9JtNXkXWNaK2clsGS4vPMWnX6gIXkcQwwRxyMeLRuXb9lxvQAZA426OrkPN65&#xA;/hPSf+Wt/wDgk/pj4HvZ/npdwYt+Yk9n5S0WLUreIai0k3oehJeQWh5NE7RBDIreo0kypEFUV+Ll&#xA;0U4+Cv56XcGFSefbu/uLGPyxY2erCf6ukytqlrbc5WYreC2ebgs6W7J6fOLmGLAjbqPBX89LuDJ/&#xA;JXmHy95gvLyyv5oNJvIGgW1t/wBI2l09wJokkLR+kAGCtKEqhYE98fBX89LuDN/8J6T/AMtb/wDB&#xA;J/TD4HvX89LuDD/zHuLXRtDYqdIk+py3Fzbza5aT3kSPb2Sy+on1aOYpQA8vh5Fa8d8kI1s4uSfE&#xA;bTj8qfqV7Z6hrNrb6UsF1dzR29xplvcwSERv6cqTm7VJOStGF4hQo47bUwsGeYq7FXYq8oH5y/lB&#xA;Pd6h5Y1K55zafZsdRhuLeRoZRFyS5hVSD6rRhKuoUgqfh5UfjLxSzGKykN3+d/8Azjrp2qXfq2Sx&#xA;XmkXdvAtwun/ABGSSqmWFgOYFuHk51Cts3ANUcnxCgwpF6d/zlB+Tlzp631417pcUhHopcweozj1&#xA;PTc/6JJchSh+Jkch+JDBSCKnxZI4NrZu+qfl15n0i0ubi1i1TTLqJbm1+tW5kRo54iAwSZaryjkI&#xA;NRWhIOQOfvb46SZFhfYw/l5YXAubHTLa0uVEirNBbLG4WZg8oDKAaO6hm8TucHjp/JzTH9PeXfF/&#xA;+BfD+Y81/Jz7mvL/ANT/AENberXnR/H/AH43hlsOKtnFNPCNR1KPVNaht9OXyha6gmoTxUfSrx3u&#xA;IpZHisreUyWzlfVk9YTsGUj9nYmrZVmdj5W886Bf3N/pumeXJ5J51WMwW5guAk5t/rU7yolqCzmO&#xA;RpBU8!
 qR0+yQZVNGzJPzdbT1/LfXWWaO3IgX/AEi4Qywx/vF/eSRlXDqvUqVNfA9MTx1uuyR/lsv5&#xA;eajdXME9rpc3mW3HO4FjaXEMRt0uHaCZknihjEzu7O7Iu5NR8NMiOJL0z/cb7/8ADZP1o2S/Wfqf&#xA;Gx9OtPrkPPr0+LIS4trTsxv80NS0qxsNMaUaW0M16kMq6xa3N3GyyAx8YhAr+nI/PiHccd6d8JMu&#xA;q7PIpfMeitBavC3ky51vU2b6qF0i9JgLWoMpipbl6CKSCpmH2FNaiirGyr6NgFmsEYmblMFUSMOQ&#xA;Bam5H05Z60bMF/ObUdKsfLVpI0mmwj67G7Tataz3kaR26PczPDHFDc0mWGFyjMlPppkZGXVOzyLQ&#xA;dfsE0y11O60XRIrDRbmS11JdNtL+0nt7i+9X0Fslf0Ln/SFkWvNiFdo2HEKSkbKpzpPmq7sNPsNZ&#xA;tLHyrZ6Lp0a2sl79Q1T6zbyCcoYF4pJLz9CIcqclDqSXI41IMlZX5V/O7yzcareW2va1pcluIbKT&#xA;TzpttqglY3KoWaYTxcFVzPFwCsSKnl0x45LT0ny/r+hXmmNq9pdx/oq+eKazuZCYldJbaJ0I9Tid&#xA;13oRXIGyUph+ndE/6uFt/wAjo/648J7lt36d0T/q4W3/ACOj/rjwnuW211vRWYKt/bFiaACaMkk/&#xA;TjwnuW0bkVYR5vtrK68galbHSZdQeWwZDaWZWK4mJjpwjk4txZvGhyzwdrT4kuVl4y1np2lXdxLa&#xA;aZ5p071YryhuqIbmSS5aR7axVFtyt5NICIpBzJhAPFj9mPhqMh72WeVfLFjq+r3cbXPnjTntL0Xx&#xA;k1GcxWs4jlcehEXioYCT9gKtU44RitPiy7y9at4NItoI7e302GG3hRY4YY4kVERRRVVQAAABQAZL&#xA;wEeLLvKpXT/+WJP+AX+mP!
 gJ8WXeXV0//AJYk/wCAX+mPgL4su8pb5d1LTxYRWZMcl5DH6ssIKmRY&#xA;5Z!
 ZVjdl+0F
cxOFJ68T4HGESRzYFK9M0fzdbavHdXvmY32nJPJI+nHTrSLnC8RVITMnxgpJR+Y69C&#xA;MlwHvQyn63bf8s4+4f0x4D3qhNWaa6024t9OlGn3siFbe99JJ/Sb+b03orfI48B71efy+R/P0Gva&#xA;drlp5rW4vVEFrrCy2NrbxT2qMryEJFG5Mh4nhyPw8m4sOmPAe9L0v63bf8s4+4f0x4D3oS/WZ4GW&#xA;xKxBQt5CWFBuPi2yMonbdKB82fpDUIoNO0PWo/L+qyCaZX+rW93JJEkRiJWGYj4Yp54XZh7Kac8l&#xA;wHvQxy18refrC1vLK180pK98zPDqctjao9kqxMAsdnFGttNznk9R2PpnoDyx4D3pbtvLP5nOLH67&#xA;52UC3r9djg0q0BuCqKEJkNOFXUuwVejcK7ci8B71ZP5qtda1KwSHQdUGg3as5e7FpDecg0MiIvCa&#xA;ijjK6Se/Hj0OPAe9DFP8H+d45JZD5kiv9QkZvqWu3mn2v1jT09Ax+nBbJGIZPVlblI3KM0AU8seA&#xA;96VG08lfmO8Mc+p+c4J9Yt45Y7S+XRLAtC0iSRl0JAI5co2ZRQVShqCavAe9Wb6ZaldEtLHXjFrV&#xA;5CsZurx7aKFZpo2DLL6A5ohDAEUOxx4D3q89/MWQP5keg4oI0KJ2HJRyp8+Irm/7DjtP3hxs/RMd&#xA;E8saRfeX7OaSynnurkOnqWzqjiRZJCCfWcRFfTjpsu3uTtPU63JDNICQERXPuodwvmfx1EYAjkiB&#xA;5E00yRRfUdSq3rF1Etl6lEaMDq/Cg5H3+jK/5TnRPFj6dJ+flafCHcfsYr5k0u00+6t4rZX9Ke1i&#xA;nPqSRzVMoJIVowoKj7PTelehGbTSZpZIkyraRHIjl72qcaZ1683/ACqbl6jcvQ9PlU14etw4/Lh8&#xA;NPDbOZ4R+cqtuP8AS5V+j4Mfl/M!
 H82tMuNRa68mwJ5asbVm0/VGvIFEjw8uLTcpVMaTpxp8FUbrU&#xA;N8GqJLmRjDr94Yg/5+fm/d395baJ5b0a7AuZIbEvfRRckAEEJ/eXMfqmS4ljZeNOScQB+8R8bLEx&#xA;j0+9kr+ff+cjVeadPy8tpIS6CGxN3DHKicELMbj6w6SVb1Fp6ScfhPx/FRsp4Y/ghl/lvzR591PR&#xA;obzU/Lw0m/dpUuNPkLSmNopWj/vAUDq3DkrAUINRUb5EmTdDHiI3Nfj3Jp+lfNf/ACwJ/wAC3/Ne&#xA;Dil3MvCw/wA78fJ36V81/wDLAn/At/zXjxS7l8LD/O/HyYNrX5K+S/O8NvqetWUs179WNolxFNLE&#xA;VjSaR1AVHCEq7lviU5kRgDzLiDJQqref/lVpNpp+qx6FoWmRyXSmCK8vptXt5rprUl5rhhp3MSwi&#xA;N5BQBAG589+8Tjierbj1JhyD3D/CY8ZPw/pj4EO9s/PT7g7/AAmPGT8P6Y+BDvX89PuDv8Jjxk/D&#xA;+mPgQ71/PT7g7/CY8ZPw/pj4EO9fz0+4Ie+0EW0UKVf9/cxR707humPhRHItc9VKRBI5PIfP3/OP&#xA;v5YaFpsF3Bo8cTSTqskt3qr2ScEBlkAe5lKH91G5ZQOXANQofjWRgO9rOQfzR9v61Pyt5ZuIL9r3&#xA;y35St9QurRpZfTtNeinUetacUuEDzSonqvD9W3SrcedQBTIHGO9sjqaNgD7XtCeVKopYSKxAJX4T&#xA;Q+FaYfAh3tn56fcF3+Ex4yfh/THwId6/np9wd/hMeMn4f0x8CHev56fcHf4THjJ+H9MfAh3r+en3&#xA;B3+Ex4yfh/THwId6/np9wSnW9F8vR/VU1K0vZ557+LT7eeyUuymaFWX1h9lYwakuR8PiK75On1WT&#xA;BYxnZw8tZDZYvro8uaTe39sPKnm7UF09yhuLGzSaKeg!
 jNbcghnH74U2HRv5TmT/K+o/nfYGrwYsl&#xA;8teSfLeu6PDqRsdX0kyl1Njq!
 apBdIUYr
8cYDihpVSGNRj/K+o/nfYF8GKaf8qs8s93uSPD1F/gmD&#xA;+V9R/O+wL4MWR/oXS/0T+iPq6/o/0/R9Cp+z/rV5cu/Kta71rmD4suLiv1XdtlCqSXVNO1vUvLc+&#xA;khHtnubb0PUdLadUJXj8UbuUceIPXDcKXdgek/lN5k0a9TUYTYapcwxlYra406xtY1lrCySxyRmc&#xA;w+lJD6iqib/CtVVFoPSqdaZ5W/Ny3uIZ77zjNeFDB60S6dYxRyBJuc3wiV+JlhCxDifh3YCpwDhV&#xA;m3rax/viT74f+asncO5d3etrH++JPvh/5qxuHcu7vW1j/fEn3w/81Y3DuXdCaTHrNpp0Nu1s6sgb&#xA;kOUJ3Zi3Xn75GJjW6qNtoNra3kd7baHbwXsSukVzHBaJKiyU5qrqQwDcRUA70yVw7l3TH1tY/wB8&#xA;SffD/wA1Y3DuXd3rax/viT74f+asbh3Lu71tY/3xJ98P/NWNw7l3d62sf74k++H/AJqxuHcu6E1G&#xA;PWbhbals7GG4jm+1CKBa1/b98iTHorWqaYNWgFvqukxahApYrDdR2syAujRMQshYfFHIyH/JJHQ5&#xA;K4dy7rdP0eLTZpZ9O0aGymnVUnlt4rWJnVGZlDshBYBpGIr3J8cbh3LujvW1j/fEn3w/81Y3DuXd&#xA;3rax/viT74f+asbh3Lu71tY/3xJ98P8AzVjcO5d3etrH++JPvh/5qxuHcu7vW1j/AHxJ98P/ADVj&#xA;cO5d1fTEuR9Ze4jMbSyhlDFSSBEi1+AsOqnKpVeyWL+bLNdJ0TzBqeteab6y0u4ntpreeIBf0eqv&#xA;GojQwr6jxyzH95XfgeNRTlgVgmt6Z5H8vXn1PW/PvmRtb4QaiBZy3BuJrReNvFExihl5xyMPiUtu&#xA;xLfD2VZb+TkPlq70GPWvLuu61qunSq9qLbWbiSUwOkrO0XCRR!
 R4i/p8gTVQByagOKvQ8VeSeWPNX&#xA;mfVoka980R6cT6YrLBbfFzjdyVqij4SgG5A361oD0Oo7Ox44gxhOe3Q+7y8/s+Ixo5SetJz+kdVW&#xA;69CTzxCvNysEi29m6sixq5dmX4Y/iJQByK02zH/KR4bGKfnv5/1d+/Zlx+YU/wBJ619a9H/GkPD6&#xA;z6Hq+hZU4fVvW9Xwpz/d9evftkvyceG/Cn9N8z/Oqvp7vV7l4z3hFxXOoSKWHn63UBmX4reyX7LF&#xA;ehINNtj0I6ZVLTgf5GfzP/Ep4v6QQcGq63ILLl5yiT61Gry/ubH9wxjLlJORU9Rx279abVtlo4Di&#xA;/dz9J7zvv09Px+60CZ7wxn/H/nP/AKurf8ibb/qlmy/kXB5/Nq8eTv8AH/nP/q6t/wAibb/qlj/I&#xA;uDz+a+PJ3+P/ADn/ANXVv+RNt/1Sx/kXB5/NfHk7/H/nP/q6t/yJtv8Aqlj/ACLg8/mvjyd/j/zn&#xA;/wBXVv8AkTbf9Usf5FwefzXx5O/x/wCc/wDq6t/yJtv+qWP8i4PP5r48nf4/85/9XVv+RNt/1Sx/&#xA;kXB5/NfHk7/H/nP/AKurf8ibb/qlj/IuDz+a+PJ3+P8Azn/1dW/5E23/AFSx/kXB5/NfHk7/AB/5&#xA;z/6urf8AIm2/6pY/yLg8/mvjyd/j/wA5/wDV1b/kTbf9Usf5FwefzXx5O/x/5z/6urf8ibb/AKpY&#xA;/wAi4PP5r48mS+XPzHktdCmutdee/uGvXgtxDHCr+mkELmu8KUDS/PfNXqOy7zcGL+be7bHL6bKN&#xA;/wCVv6F/1btQ/wCBtv8Aqvkf5Ez/ANH5/sT48Wx+b+hE/wDHO1Ae/G2/6r4/yLn/AKPzXx4s1tbm&#xA;G6tormE8oZ0WSNqUqrjkDQ+xzUkUabkk8+Xstl5VvLqHVbXQ5ImgYarfRiW2g/0iM!
 FpEYqCCPh+0&#xA;KVryXqArDvPnmsWWs3aH8wf0BbWWmw3N5ZW+lLeMgd3f60!
 s7LNtJHC
6iMA069aYq7yh5c1++s4NX&#xA;8v8AnlpNOknmDgaTDbrLw5xXAkgPoqJmu1aV5fSDE1X7OKvRfq2ofon6t9c/3IfV/S/SHpr/AH3D&#xA;j63pfZ+18XHp2xV5Lqll+Z1pFfXNpD5Qg0uCaNrFr1LuMixCOZGuZF+BJVIjpxBWnKtKCuXxSphQ&#xA;TDy55o8rnSLBfMWoaB+nLiv1hbBovq6sxDIorJNx/dyxirPQsw4/aXJCfeVpN5Nd/L6OyhvjeaY1&#xA;lPyMNyjQvGyxsEkcOtRwjZgHbovcjDx+a0pN5o/LJXMf6V0YyLIsDRie1LCVyQqFQxPIlTt7Hwwc&#xA;fmtNebvLHnSd9NufJVt5fCxJcjUrbWrd2SZ2MQtyrQRmReAElfi7jY9RRkySB5lIAQnl7V9KtdV8&#xA;x23nW58oW9tpt0kOn/VB9WmSJyxX66l58IZlaPiYmK8uS1qMh4ku8poMmvNQ/K2yvUsby50O2vZE&#xA;SSO1me0jlZJTSNlRiGKudlNN8fEl3laCZWWk+UL+0ivLGz0+7s51DwXMEUMkbqejI6gqwPiMfEl3&#xA;laCt/hvy7/1a7T/kRF/zTj4ku8rQYp+YGheYFsIU8j2eiwal6yNP+lIX9AwAOWCi3XlzZwi/6vLv&#xA;TLoTkRzQQGBP5i8zeXfOkFh5uufJ8Xliaa9d7pZVttQjt0UyWoeG4kjHI80U+mr7dT0Yy45A7lFM&#xA;+sNX8h6g/pWV1ptxMImnaBGgMqxIeLu8f21Ct8Lchsdjvk+PzWlo1z8vyQDeaYpKhhzaBKhmCCnK&#xA;n7TKPmR4jHj81pNp9Ls49PvZ7TRbbUr2C3kks7B1iiE0yqTHF6rqyx82ovIjatcryzIGxUBIPLuq&#xA;W8Ok3GofmJ5b0rydNLemDS9PkltLlngW3jcsZoqrI3qCZjxVeKLuNixo8SXeWVBkEtx+W8U!
 MEp/R&#xA;TJdKslr6awSGVHbgrxqgYuvL9pdsfEl3laCa/wCG/Lv/AFa7T/kRF/zTj4ku8rQed/mRZ2lo8EVp&#xA;BHbxfWJ29OJFRamC13ooAzd9hyJySv8Am/paM/IIaLT/AC/a2WlveRAG5MD+pKlxGXJlQzVZqQmF&#xA;YmpVd679M2By5pSmInlf809DXnxX3tdAAWlXmSeBroW6CB5IGNbm3jiiVkdUZYykJZKxHkvIMa+O&#xA;2ZWjiRGze/Qknv33332YTL2Ly3/yjul/8wkH/Jpc4rJ9R97nDkgvPb3Efle7e3k02GdXtzHJrO9g&#xA;D9Yj/vtx/saGvKlMgljH5gTauLu4S0/Mq08psLGN3spbWyuGiHq/Fefv3SUIyo6VJ4jrWqnFUx/L&#xA;dLmWO+vV86Q+cNPlZYoHt1iKW7xs7cfUilm5EwyQqa0rx5mpc4qzXFXjnmX88fyq0SK707VtQM13&#xA;axyLPpq2s8jSPFyVolLRiEkuhUcnC16mm+ZXGAGNIvyVqX5R+cY7pvLmn2Fz+in+rzobFIjF8REd&#xA;Oca/C3oBlp2ArQ4Y0eSGQf4G8oFpfU0i1mSVWjME0YlhRHAEiRQyco4lk4guEUByKtU4eEKqJ5O8&#xA;opM86aJp6zSU9SUWsIZuNePJgtTTkafPDQVllj/vMvzP68xsv1Mg8X8zS+XI/Mfm83HmV9OnL231&#xA;mKXQYtQeJeahXSQw3BlgdvgCkDi4Zu9TWliXnD9A6b5wk1bVtes9OtLCCyHCTSF1kSxzywywyxSX&#xA;UYMCyIjH0Ubjb8fg6jkqz/yzda55jtU0nyz5yj01NOs3irDpcVZpizxyTSxNDBDC8E1AUt5WUkct&#xA;gwxVkEPkv8ykNxbjzy6WbhRDILKGWcVWdX+KUvxI5w8SS26bj4jirJ54p4o7eKeX6xPHCiyz8Qnq&#xA;ONmfiN!
 hyO9MyMPJiXif5o3Xku085GfWvM9rpk0tqbcadcaKuoK0a+nNdmSUxvy9SBUWh!
 Pwj+bsZV
&#xA;ahC2un6PrWtNoui+cktLy9WaGJLPREtpGNrdCe+IuYliHFh+5PIgH/LNavPqr1e78leUrq0htJdJ&#xA;tRbW7RtBFFGsQT0X9SMD0+Hwqwrx6ZPhCGS6b/et/q/xyvNySGH/AJr2em3L6R9c1SPTHj+t/Vnn&#xA;05NUiMksIgDtE4YL6ZlDcqfZ5AkKWzHZPNfL1/5avLTVLm282WiQabbpfNf/AKIpcaZp88SCG0tr&#xA;IxS28KhmSb1IWqzbNHtyCr1nyb+ZPkjWvqGkaXrR1PUGtlZHeG4jaZY4YpGlJlQblJkY1avxeNcV&#xA;SD80v96IP+M83/Ji2ze9hf3kvc4+o5BTnjvWi8uXbWKvDbva+pdxWkyvxAiCBm5MJg3IKNgeQNNj&#xA;vmRMbyx4tzxbGQ/peXp7/cd2BvY0lnnqjauZUsZbaBqCK5mSdJJwiIpLeuTUr4gVPU7nMnsz+7oy&#xA;BPcOHbc9347mOXnyereW/wDlHdL/AOYSD/k0uchk+o+9zBySn8wrm1bydqBEel3qJJCklvrEyRae&#xA;WW4j5LcOahePWhB3p8J6GCWIeZorDzT5hFhoQ8o6jcGwa1vra+5SXjQhJaxwyQqHe3jmMYPEgCsg&#xA;PxUxVnXkzSL3TNEWLUbLTLHUpJHe8j0aJorRiDwiYBwrlvRRFYt4UG1MVT3FWH331K+0660g6g1n&#xA;cTWqJJJbTLFdwLd8oYZYzuUZnRhG1N2XatMzByYJHH+X90kU9mPMmq/UZ5p7oyCdherLOhj4C5Bp&#xA;6EaEenH6dVYBuZ6YOFVTTfy7trDXF1lNb1eacStLLBPdB4ZQwlAjkTgKovrCgr+xH/LhEVZZklTS&#xA;x/3mX5n9eYuX6mQeSaz5c843GvebZNLttQnhuZ7doP0f5gWwT1FEfMFFSV4ZxHxLcvhaPitNqmtL&#xA;H9T8vec5PMDT!
 aVaa1ZW/6RtoL64stSGhRSG4hKTObe6Bhu5opODPcRq31htloARirMdH8w/mlpul&#xA;HS4PJZmv4YpLhfruu2lxMXnkZxz4pGWQSMVU/D8K0rir06AzNBGZlCzFVMijcBqbgfTirFPP+q+a&#xA;dNSym8vaGNemeZY7y1+sxWjRwFZCZVeb4TxcKOPXf7r8ZNbMSgPKF/5m1e0lu/NPl2PQL63uGWxt&#xA;frMN83omJR6vrRCilmZ1pQbZaL6oTqLUdPml9KG6ikl4mT00dWbgrFGagNaBwVJ8dsNqqxSxTRJL&#xA;C6yRSAMkiEMrKdwQRsRiqO03+9b/AFf45Vm5JDHvzK3srEU8wtWWYcfLRpK3+jybTtUcU/kNR+84&#xA;75jsnnvlm28q3usyy6jZ+aJbbT9VubySTWpYZ7COaBoSLu4LmkITh+6Faqqt40KrKLD84/L8l+n1&#xA;DyrrrrqkZvf0nb6fG0E0aSC2WZpY5TzXiqFX3HAqa06KpX5y1mLW9M0rV4ree0ivjJPHbXaCOdFe&#xA;3tSBIgLAGnvm97C/vJe5x9RyCZWmpWNlp+mSyyv9deOBLZLlX+rhfUhLMnKO2Wi+nyP72lR9puTH&#xA;MmeGU5zAHps3XPlLzlzuvp5dBQYiQADGPNU/ra5cOJ0uFpGBLFXgaRKDSsk1SDsTzNTvmz0MeHEB&#xA;Vc+fvPkPuDVkO72Py3/yjul/8wkH/Jpc4nJ9R97nDkxMeXJJrfzJCPLGlWv6R1aORpNTcXUGpRiR&#xA;OU8sYDMjgArEjbcgDsDkEsZ0jy1+bun3ljqNvpPk1r+Yyxy3+n20irbJOszsVciCYxGRYCQrMzFn&#xA;rtxKqs88sJ+Ziavdr5mk0eTRRGo09rAXIvGlqORn9SkQUCv2Bud9umKsoxV415k/KD8t5dN13Vp9&#xA;NtYr3VLZm1G9vrq7jtj+9jui8vCa!
 P01EsKMShXYUrQnMrgFMbX6F+YGoDVhHr/mLyudOCEl7GaZZ&#xA;HPp+opVpn!
 MXEJ8bUY
8QRXqCUS9yHooIYAg1B3BHSmWK3iqaWP+8y/M/rzFy/UyDxDzX5f0O68wec&#xA;Jbi/8p/vpbVJV1iW6hkiZWVhHOiTW6cd6pKm5clSaDiK0pH5s8qaZdeb5LnVL7y/DcwadJHImv6j&#xA;JbyRWc0aW9vLbfU3WNoGk5Ro8xE3Bhyq1MVZP5D1HTdH80PJDq3lCH6wsEWtG11G8knYubm4dbcX&#xA;MjxEfWLhSlOxcHcKMVezWl3a3lrFd2k0dxazoJILiJg8bowqrI6khgR0IxVB6l/fr/qj9ZzIw8mJ&#xA;eL/mBoFpcefTqUl15dWSC1iZLPULq6hvfilWKSdkgkHJfScxxgJuxFT0wyG6pXaeTZZbo2+o3fli&#xA;5stFflDp31i6H6OsbcO6yoecchesylzK3Fd6NSgDXuVf5ZaDQtWuZPL+oaBpNtez8EtbqZ5biPi6&#xA;QR2xkhlltVX04404xmoelSSeOI25K9l8i3OsXWkwXWrTWM93PEsnq6WzvaMrKpDRPISzqTUhvCmR&#xA;y8lDH/zn0ddRsNJkE2hW0lrdNILrzBNPCkSCIu0lsIHi5zJwDUfbiDlDJhHl3TF8vfo/UdF/w3aX&#xA;el21xpy6tc3l3NaywtEJrQK6XD+jxg9Np/XiUkn93sQcVemeSb/zpfsLy+v9K1LQZvXMNxZiZbkM&#xA;pjVEPJUj+CRZw9VDD4R1DYqx/wDNL/eiD/jPN/yYts3vYX95L3OPqOQVL+eWCz8pfWo1ndxC1pNE&#xA;k3qQhHhNAnJ1lZl2NBvtSm1cjFESlm4TXO7qj9XWtmJO0WP+eL6a78wz+o8rrCqRRGeMwycQob4k&#xA;KpSpYnoM2HZuMRwiq3vkbHza8puT1vy3/wAo7pf/ADCQf8mlzjcn1H3uaOTA9V0iBtF8126+Vnd9&#xA;S1dEaLUb0R21+07xwm4i5Sx8FCtT0wF5kA!
 AsTkEph5Pk80aTK2lReSY9M05po5ZbqLUoZlLTtSZ/&#xA;TashMaqOv2+1OmKs+xV2KsG81i2/wbqTXTMlslm8kzIoduCJyaisyA7DuwzM6MHi2lg6hpdrqU2m&#xA;SSJdW88MFtqei2Ol/XpLmO2towjQm4V2485ki4tzC0oAinKwlNr3zN+aN1faPpWl399bwM/r6new&#xA;abbT3tvDcEeha3tkycLV08fUJKfEfDDZV6n5Iu9UvPLFnd6mJ1vLj1ZXS7h+rzojzO0aSQn7BWMq&#xA;KZOPJDMbH/eZfmf15j5fqZB4v5m0zXh5j83yR2Oqstw9s1tJbaJp2oCSMOoPpTXZX1FBU1hP2f7w&#xA;bscrSxjzTpV5e6ldmysr3UlvRb6bcWtppUerWXGKe3eUXVxL+9tHVZWH1dQUt/j4d8VZb5Q/Jq8O&#xA;h2+oRalFa3V4q3DLqXl6wS6jk4yj95ES3psOcfwoQBw/yjir2W1toLW3jt7eNIYYlCxxRqERQOyq&#xA;tAB8sVQWpf36/wCqP1nMjDyYl4x+YWjXl3569ZLa/MUtvBB61poVleR8Y2adxJfyMLijFVCqCoVg&#xA;DvXDIbqxq1stQhtba0ltr/W9QvwFvoUsUF3ZRcVb09Tk5yPP6yQtxt7lvTYOByoinAqe6N5W8xeZ&#xA;GNlcR/oaLTZUSeW70Kz4X3oMz/WEZxEYnmaSNqIp9No9m3wgEq9j8p6aNL06205WV0tIFhRkQRrx&#xA;SiqFRdlAApQZHKNlDH/zYh0G5h0qz1jU7ewhuZLhFiudOGo+sGt2V1jYqTAwRj8Y6iq99qGTziGP&#xA;yxPHJ5ms/NUFnpK3ccdnYW2mz3UEyxWsFwg+rGO2Vp5LNGG0TEBgvNuAGKvd9EGnHSbWXTbZLSyu&#xA;I1uIYERYwomHqGqp8IJLVNO+KvPPzS/3og/4zzf8mLbN72F/eS!
 9zj6jkEv1XS7BbLyxHbRzg3g/0&#xA;mJS4ZpH9Lk0SzBUBblsy/CfozZYM0+L!
 KZEenly5
ernX3c2qURQQvnG2sLW7it4BKLqIcboXLM84o&#xA;iemHarRU4fZ4H+GW9nznKJJrhPKuXW66++0ZAAXrPlv/AJR3S/8AmEg/5NLnHZPqPvc0cmB6noaa&#xA;po3m2zt/L+oay8uqM82natcNb29zRBX9HS841iiP2Q46NUnlTIJTH8s9B023lvdUh8pf4auJHmgS&#xA;R5pJJbiMXMgLOkgR1Deksq8h+3setVWe4q7FWFeZPU/wnfemZRIbRuHoXC2cteGwjuXosTeDnpmZ&#xA;0YPK7ryt+YJmk+vnWfQUumlWqambyG4HpQxrBfBY9mkKSOsz0jQ/aJLZCilFw235mzXs37i9Ek4i&#xA;fW7K3u/qwgmN1JJGbCWZnh9N4mrPxMhoOAo3R3VPvIEXnLTtZNjqWkXkVhLaI013eaxBqPpTI8oA&#xA;WIRxys0ooXkPU08CclG0PWLH/eZfmf15Rl+pkHkms+XPONxr3m2TS7bUJ4bme3aD9H+YFsE9RRHz&#xA;BRUleGcR8S3L4Wj4rTaprSg9X0L8yNS12a/ht9YvrOygjjtraLURpS/W7VXkWiXKS8pOSiGS5ipH&#xA;MJCQAqUKr0L8uvLV3pOlC7v31JNS1CKI3tjqd8uovBJGXPEXCgBz+84lqnZVHbFWW4qlupf36/6o&#xA;/WcyMPJiXiH5k+V/PN35ruptItL2Sw1H04eVvfejDIBZTKyyRrvCPUVKyt1PHuoqZA2oS2PQvPv+&#xA;J0vLeG/bTbCS3nE8d0JbeP8A0idp2EEJ/wBJpxX14ITyc0FQQMFG1Rcnl78wdacXstrrqwPLWD09&#xA;WjspIy011E9wlvcRO0dIrhZI0ajKAqknjVjRKvYPIeoa9f6WlxrukHQ9R+JZLBrmK8ICmit60QCt&#xA;yG/TI5eShE+ZNC07WL2xgk1S503UoVkntBZTrBcPFHLA0xAIYvHX045N!
 qUeh3K5QyY3bfkn5ftru&#xA;1u7fWNZhntkkR5I7sI04kaN/37rGHk4yReoBWnNmYg8jir0PFXl35pf70Qf8Z5v+TFtm97C/vJe5&#xA;x9RyCV3OoWEr+W/QupJntzH9ZVlRBCy+kvCNpAqU+CvxVWu56nNpDFMDLYAu657/AFc6369N+nRq&#xA;JGyC83yetr09x8NJljYUeFySqKjFvQZ0BLKTSuXaAViA7r7+/wDpUWOTm9g8t/8AKO6X/wAwkH/J&#xA;pc4vJ9R97nDkwLU2tp9L8zMknmPVDZ60k8trbq6TQNAVk46awjPqx/B9gMatseNcglgGmappWjXe&#xA;r3Mt7+YskOmvcWt7C4iEEAgtY7h7qcq1PUnCchI7LyZz8I3OKvfPL+tpremJqEdpdWKO8qLBexej&#xA;NSKRo+fCrfA/HkjV+JSDiqZYqwXzdDHL5L1NJfQEX1JzJ9aWR4OKpVvUWL94VoN+O+ZfRg+f9Js9&#xA;Ov8AQpbjy5Z+Xbq+jhlmtIWOswuIobk3UcT0kVKL9WnJCuqclVQvHbKx5JZLpDeTrZor3XtRito5&#xA;bWddGubK11Bbm3soXkjEDxzW5i4i35J+9iMngzfCVIpWZ+TIvyqfzLCnl21mXU7OGZbe5f64EZV4&#xA;QzVM7fvGACDk4qR9knfJCr2Qynzh+bHkzyF+i4vM9xLaJqi3DW08cLzpW2eESKwiDyA8bjn9mlFb&#xA;evENTl+pkEo8saf+TH5oRa3r2l6cNTtp7pLG/vJhcQpcyQRxXIZInZGHAzheRRWJB6rQmtKYat+S&#xA;HkfWo9TTWVutQOpiCMySTmNoIbWn1eGEwCL4YyKhpObn9pjirONPsLTT7G3sLOP0rS1jWG3jqW4x&#xA;xgKoqxLGgHc4qiMVYh5/86+XvKUdnd67NJBbXkotYZIoJrg+qUklAKwJI+6xHtl+OQAYl5Rr!
 f5j/&#xA;APONmqarDrWqagJdQoBFcCDVENPTAHwxxqv93MOo7+2SMoruhrDXP!
 +cedf1a0
8uxzz6jGI4bXRbb&#xA;0rwQRieWWBooXiRJtpByeSclV5KUcb0bidl3eweXvLumeX9NGn6cjLBzeVy7F2aSVuTsSfEnoKDL&#xA;AKQmj6ZY6rY32l38frWN/byWt3DyZecUylJF5IVYVViKg1yrNySGG2H5OaV5L1FdU/LPSdP0/Up4&#xA;Z7a9n1K51GdfSk4SKI4/Vdd5Yk59DQbHMdkmXP8AOYwW1rbpo4u4U/3JX96JjBNI7FgbNLdxJwjX&#xA;4SJlQk9z9rFUXpifm2dSi/SsugjTU9P1vqaXgnc+owlp6rMqD0uJUb/FWppirHvzS/3og/4zzf8A&#xA;Ji2ze9hf3kvc4+o5BSm1m2tLDSI5UmCyrakh2kFtEIGhcyojwCrv8XIpy69WrTMyOnlOcyK24u7i&#xA;N8WxPFyG1XXwYcVAMe80Xlpea5cXNo5e3cRhHJYk8Y1U/E4V23B3YVPU5sdFjlDEIy57/f5bNcyC&#xA;dnsvlv8A5R3S/wDmEg/5NLnEZPqPvc4cnn+u6tpUmjeaVvNR1TzItrq6QLpOn2yLcWszlRHawl1H&#xA;qrV+RYsfalKZBLEYI7S9a40Bbn8wkvbeKB7meGcetaFkMKiIsqMFk+osefAFvUquzmir38CgArWm&#xA;1T1xVvFWK3trd3ejyW1ndtY3UsPGG8VQ5iYjZuLbNTwzMHJgwu7/AC685XFrdW7+bYpRdyB5WudH&#xA;s5ywSWJ4VfmaP6UcbIpep+LlWqjBwnvVVHk38wLVLhrPzPA99fmBbvUf0daW86iORmaX4Y5Vnb0i&#xA;sSI4FFFeVcaKpxp2hec4L6Ge880C8tlld57T6hBErxEuUjV1bmpXmgLVNePQVOGj3qzmx/3mX5n9&#xA;eY+X6mQeV+YL38x08339lpWo6zZ6bPcRrBONHt763jeWazjJjkeVSIERpCxPSsjU+BeVaWT+V/K/&#!
 xA;5haPqGnx6j5q/TekQQSC+E9skVxLOUjVCrASNw5q8m8m3Lj9kCirNcVdiqVavDDNIqSosiUVuLgM&#xA;OSPyU0PdWAI98yMPJiXin5hL5ys/M8EXlm3uYNM0qzSDTVtdGhuFtXKMzGxm4t1iiETxN6afZFex&#xA;MrvZUNrOu+dItVgs9JW4tkLS3c1vp2mw6jLaTE+o0txGUjW2nvFMr8C3xGRjy8Ukqlln5z/McWt7&#xA;ca1ruoWlss/oxQzaVbW08iyLatFbwbxMbyQTOvpB6g8qNVByFlXsH5VX3mC5ttTj1o3jy2tz6NrN&#xA;fWq2skkAghZWAQBXqzMWYftVX9nI5LpQzzKWTsVdiry780v96IP+M83/ACYts3vYX95L3OPqOQSm&#xA;S90+/XQLWOV5LuCSOGVZQ3ohGEYp++edBRgQaJxP8tAK7UY54/EkR6SCdufXuEfvvzarBpA+ZYtU&#xA;iu4F1GOOGQwAxQxJHHwjLtRWWMKA1a12rl+jlAxPASRfM2d9u9jO73ep2HmHRNJ0Py7Dqd7FZyal&#xA;Fb2tiJm4CWcwhhGpO3JgpoO/Qb5xOT6j73OHJhsv5k6TF5q1DyXJ51ii8zXmpxLpVlFpcskltD6i&#xA;u9rI/D0ZPVRG/eNx4huVTscglgV15wg0qG+m1H83724e6uLjTp739EyRw2t5HEY42EKugQRBXJEa&#xA;8JGIbsuKvafKekectPv7r9Ma6msaOYIV02sSRziTnK0jSFVqR6bRotXYnjU/ESSqyjFXjupflVWf&#xA;WdfsfMHmE6tqVsFjtYNRSBEMUv1iGKAvEyxqGLxqH5Kqu+1TXMrhY2wrSvIf5nwwlbhPMPq6g0Bv&#xA;K+ZIxDbCeYT3TQJEEcSx+n6f94VYSM3+TkREq9Cj87+eGhED+TJE1lkhZbP63yt6uHaZGvVgMCmJ&#xA;VTvRi1F3ByfEe!
 5Cb+VNe8z6rPqaa35dbQo7Ocw2cjXMdz9aTc+ooRV4ClPHwrthBKsmn8xeX9Ht!
 7&#xA;ca
vqdppxuCwtxdzxweoVIDcPUZeVC61p4jMfL9TIMOsvOf5R6N5ovr3/AB7avc6rJK8lhLqlu9nD&#xA;IqQo9EUhIm/cCnqNWpanWmVpek4q7FXYqwvzfr9loGjrrN5ZXupepetamGzadpApkkC8I4jQn4Ai&#xA;jYFiASK1w8ddWUYGR2FsLP5trccZtO8ieY2sVuYLaa4vPrNsw9eKWUyxxobj1I4hB+8ZTsCDvtU+&#xA;Ie9jOPD9Wy3Sfzksrted15E8028ct5JaWvpJNK37uhrcBpYvRfiykqC254gsVajxnvY2Pmq/8rXW&#xA;XV9Os7PyD5oktb55BJdyrKnpxwO8crhElmDcXRaKWWoNfDlI8Y72XC9Wj0mwVm9NpQw2YC4nqK77&#xA;/HkDIlV/6OtOXH1JuVK8frM9aeP28Ct/oy2/nn/6SJ/+a8VY9rWo3elecPKun2sjG21ia8hvVleS&#xA;Wqw2jzoV5s3Eh4xv4YqmF95d0fW3u4tTt/XSK5DRkPJGykwRA0aNkah8K5dh1E8RuBosZRB5pfL+&#xA;W3kSGJ5prRo4o1LySPeXSqqqKkkmWgAGZP8AKeo/nfcx8KPcxLy+n5b6xrv6Mj0a6jt7j1W0jWVv&#xA;nn0++SE0pBcQ3Lq0rcJHEX2giFmpg/lPUfzvuXwo9z1L6lZn0KwR/wCi/wC8vwL+6+Ep+72+H4TT&#xA;btmC2Lrm2t7q3ktrmJJ7eZTHNDIodHRhRlZWqCCOoOKrbKwsbG3FtY28VrbqWZYYEWNAzsXchVAF&#xA;WZiT4nFVfFXYq8pR/wAxdK80ahqupahp0vkArDJFbGOY31tFFaMJPTWGL42kueJPN3+GvEKdsyhf&#xA;wYL5fzj8i/V2msrqbUeMEtz6drBIX9OKBLg0EgjFWSVOIr1PsaHjC0nvlnzdovmOK4fTZGMlm4iu&#xA;4JFKvE7KHUN1U8kIb4S!
 fvwg2qdZJW73yv5a16zhTXNJstVSEv6K31vFchORBbiJValeArTwGYuX6&#xA;mQeKecNT8g6D5tuUuPKvls6dZ3wSW2g0qT9MzELbGKSB0SOB/wDTblOdX+JKihaoytL0zRpfzemF&#xA;vPPNoE9hO6TmZPrnMwSei/GNeMYGxmClqn7BNfixVnWKuxViXmjUfJ9h5babzZOsGlfXJjzb1aep&#xA;HLLKP7n4qBI2J7UGRlEEUW3DmljlxRNFid9qH/OPGn6hctcajZCe1t0vroR3VxNAI45pHjdhG7wt&#xA;Is5bgN35stBVlrGOKI5BnqdXkzx4chuI/SAOnkEYk/5FaraXBj1SymWeOW8urddQlS4aIEPOXgEq&#xA;zcD6PxoVoRUEUJBIgAbdZi0OHHLiiKlv1PXn1SvWx/zjmbq2F5qVkFvpXRBa3kzW8rh2jZWeB2jj&#xA;4yXpJ+JaE1Oy7bTH2rqIChL7B5eXkHYjPIdV95ov/OOl5ePo97f6beS6vMsiQC+NOReMrF6sMi09&#xA;SaFWVZHq7bCoAUYOTJKZuW5aib5oHyr53/5xws9bS98uap6d5a2k05hSG/dfRW3iUtSWJ2BSGJVS&#xA;NCK1+yzUpBDPIfzf/LGaWeOPzLYt9WkEU8nqj0lZpFiH70/uyC7gcg1PuOKpRqnmPQ9e88eR7nRr&#xA;2O+t7fUdUtpZoTVRLHpspZQeh2YEEbEGo2xVnll/vTf/APGdf+TEWKsC/wCcgLYS/l1LLJdWkdtY&#xA;3lpfXVhfyxQW+oRWkyzNYPLMGVTMUHHbdgAdicVeYfkJd+WNNEuvar9UF5qttJqvl3RYFtZJLWCy&#xA;gMF7fPLbpb2Vibsx+k3IQrVAjMzhqKvbIfzO8nvp0V9LeCFZUtyYtpm9W7gW4htka3M0c1w8bqUi&#xA;hZ2eoKBgwJVUND/NzyHrN5c2lrqcccsEUd0!
 izssTSWslnBfLcqjkOsXpXS7yKpqr7fCTiqMl/MTy&#xA;yl8llFcfW7gzrBJF!
 aNHcSRiS
wl1COSSGJ2mCyRW7iMBOTN9lSvxYqmmg+YdK17TbfUtKlM9ldRRz&#xA;wSlHj5RzIJIyVcK68kYNRgNjiqZYqxHVZbmLy9dy2rSrdJau0DW8QnlDiMlTHCxAkavRSd+mZnRg&#xA;8ak8xefZ4tP1a503W9QkhhNzLp13pEaAS2izRs8Z9Nmt5y0yPGUVjJxp8IrldlKeeTfNHmLRbyW3&#xA;u11jzToc8trY6VqVtbi7Dvx/fXsk4dqREkI3xEKUJ6tkgSFet5YhNLH/AHmX5n9eYuX6mQeT+e9X&#xA;/MW21fW5NGvNcFtb3FqbSG00WG5iSJEhM6QO0nK69USSblAAwIrVVrWlJNc8/wD5iC31O7S51PQd&#xA;Wf010jy2+mwXQu5DcGIi0kuBBNISIf3nFKRo6vQk4qo2vnj815fKXoT3l7B5ssGlSZZLC1+t3k6o&#xA;l08NvYRc0lhiipH66NzBf4o6jFXpP5Ra/rmreVx+nJ7u91O3klS41C5tIrOORlnliKQrCSrLEYqc&#xA;qKSOJIBNMVTTWtDOs6A9otrYXki3kkqRanALiD4bl+RCkMFk4FuD8WoexGKvOh+VHnE2U1vf6P5Q&#xA;v4iqRhotPWG5MSepLIyn0UjEs85Qn7Kr8RUhqHFUZb/lxrDWT2V95Q8rLPcpZQxXNlbsscdvbQxr&#xA;cw3kxeO5f1OLRwrGrrw2k5KSCqo3HkDztDDbo3lLyRdWMJhkWytNPJkjuHkt0neP6w0EPD0o2+Oo&#xA;cBUorkBSqyfyn+V+lWSPNrukaJPfRXDPYz2NhDblLf0/TiilKJGJBGh4KCtKBTuwrirJH8neUXS5&#xA;R9D09kvIlt7tWtYSJoVbmscgK/GgY8grbVxVBx/lp+XESOkflXR0SQKHVbC1AYIwZQQI9+LKCPcY&#xA;qkfmDStL0zz35Eh02zgsoZL7U5pI7eNIlaRtNl5Ow!
 QKCxpucVZLqnmDRvLuna1rWtXaWOl2Mgkub&#xA;mStFHoxAAAVZmZiFVVBLEgAEnFXjnmvz35e/MDUvL5tfKPmmO40rUobvS9fbSY/qhiZgsvOSV+S2&#xA;00W7EAMKK1KrTFUi/KjzFc+RPK+lXtl+XrhvMMOnp+lm1HTbb65O1pGiLAsjI5MnptIIyeRZnPUn&#xA;FXok35+taP6V/wDl95uhkH940WnJcRL4kSxzUYfLFWc+VfNPlPzppNtr+g3EWpWSySLb3JjZXjkW&#xA;sbjhKqyRtTxAqpr0OKp9irsVdiqQwwX6xIrWUoYKARyh6gf8ZMyBlDGl/pX3/LHL/wAFD/1Ux8YL&#xA;TvSvv+WOX/gof+qmPjBad6V9/wAscv8AwUP/AFUx8YLSLtri6iiCGxnJFdw0H/VXKZys2kKv125/&#xA;5YJ/+Cg/6q5FLvrtz/ywT/8ABQf9VcVd9duf+WCf/goP+quKu+u3P/LBP/wUH/VXFWHeZvy48u+Y&#xA;dUbUr3S9QFy6hXMGo3Fqh4139O2u4o677njU5OJj1QlX/KlvKH/Vs1X/ALjN/wD9l2SuHcu7v+VL&#xA;eUP+rZqv/cZv/wDsuxuHcu7v+VLeUP8Aq2ar/wBxm/8A+y7G4dy7r4fyY8lKx9XStWYU2A1m/G//&#xA;AEn5GRj0VW/5U15B/wCrNq//AHGtQ/7L8gl3/KmvIP8A1ZtX/wC41qH/AGX4qjdE/LLydomsW2sa&#xA;fouojULPn9WluNSubpUMqNG5EdxeSx1KOR9nFWSXGi6frNjqFjrenR3On3sqs9leJFMjqiR8SyVk&#xA;TZ46j3FcVYPH/wA49eSLCyls/Ll7rPlqOZuUn6L1S9iqaU3R5ZIz9K4qx/8AMr/nGay816LoWmad&#xA;rP6PXQrS20+CWeztriV4LVZFXlOqw3FT6lSvq+nUV4ct8VTix/5xx8mHQ!
 rbRdd1DWNfsbZUWG2vd&#xA;Su/QjEa8VWOCKSOJFUbKAu2KvRfL3l3RPLukW+!
 kaJZx2On
Wq8YbeIUUVNSfEliSSTuTucVTLFXYq&#xA;7FX/2Q==</xapGImg:image></rdf:li></rdf:Alt></xap:Thumbnails></rdf:Description>
+<rdf:Description rdf:about='uuid:9d2e2b5e-c42f-11da-8575-000a95acbe1a' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'/>
+</rdf:RDF>
+</x:xmpmeta>
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                                                                                                    
+                           
+<?xpacket end='w'?>endstreamendobjxref0 1170000000004 65535 f
+0000000016 00000 n
+0000000077 00000 n
+0000000127 00000 n
+0000000078 00001 f
+0000000271 00000 n
+0000000291 00000 n
+0000000846 00000 n
+0000000917 00000 n
+0000001897 00000 n
+0000003190 00000 n
+0000026047 00000 n
+0000026069 00000 n
+0000043190 00000 n
+0000043212 00000 n
+0000057493 00000 n
+0000057515 00000 n
+0000073518 00000 n
+0000073540 00000 n
+0000096880 00000 n
+0000096902 00000 n
+0000123306 00000 n
+0000123328 00000 n
+0000147132 00000 n
+0000147154 00000 n
+0000168462 00000 n
+0000168484 00000 n
+0000190557 00000 n
+0000190579 00000 n
+0000213348 00000 n
+0000213370 00000 n
+0000234008 00000 n
+0000234029 00000 n
+0000237945 00000 n
+0000237967 00000 n
+0000249136 00000 n
+0000249158 00000 n
+0000268787 00000 n
+0000268809 00000 n
+0000286590 00000 n
+0000286612 00000 n
+0000305278 00000 n
+0000305300 00000 n
+0000328233 00000 n
+0000328255 00000 n
+0000350987 00000 n
+0000351009 00000 n
+0000376124 00000 n
+0000376146 00000 n
+0000388519 00000 n
+0000388541 00000 n
+0000401011 00000 n
+0000401033 00000 n
+0000415783 00000 n
+0000415804 00000 n
+0000425380 00000 n
+0000425402 00000 n
+0000447446 00000 n
+0000447468 00000 n
+0000470092 00000 n
+0000470114 00000 n
+0000485470 00000 n
+0000485492 00000 n
+0000503288 00000 n
+0000503310 00000 n
+0000524769 00000 n
+0000524791 00000 n
+0000543347 00000 n
+0000543369 00000 n
+0000564489 00000 n
+0000564511 00000 n
+0000582804 00000 n
+0000582825 00000 n
+0000591997 00000 n
+0000592019 00000 n
+0000602654 00000 n
+0000602675 00000 n
+0000607120 00000 n
+0000000000 00001 f
+0000607232 00000 n
+0000607344 00000 n
+0000607366 00000 n
+0000622060 00000 n
+0000622196 00000 n
+0000622220 00000 n
+0000622612 00000 n
+0000622680 00000 n
+0000622879 00000 n
+0000623018 00000 n
+0000623042 00000 n
+0000623407 00000 n
+0000623475 00000 n
+0000623676 00000 n
+0000623818 00000 n
+0000623842 00000 n
+0000624123 00000 n
+0000624191 00000 n
+0000624400 00000 n
+0000624422 00000 n
+0000652248 00000 n
+0000652269 00000 n
+0000656255 00000 n
+0000656276 00000 n
+0000656811 00000 n
+0000656833 00000 n
+0000660407 00000 n
+0000660428 00000 n
+0000660935 00000 n
+0000660957 00000 n
+0000663319 00000 n
+0000663340 00000 n
+0000663755 00000 n
+0000663804 00000 n
+0000663825 00000 n
+0000664342 00000 n
+0000664364 00000 n
+0000665819 00000 n
+trailer<</Size 117/Root 1 0 R/Info 3 0 R/ID[<9c508df6c42f11da8575000a95acbe1a><9d2dde04c42f11da8575000a95acbe1a>]>>startxref709751%%EOF
\ No newline at end of file

Added: trunk/pintassilgo/index.php
===================================================================
--- trunk/pintassilgo/index.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/index.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,118 @@
+<?php
+/*
+|---------------------------------------------------------------
+| PHP ERROR REPORTING LEVEL
+|---------------------------------------------------------------
+|
+| By default CI runs with error reporting set to ALL.  For security
+| reasons you are encouraged to change this when your site goes live.
+| For more info visit:  http://www.php.net/error_reporting
+|
+*/
+	error_reporting(E_ALL);
+
+/*
+|---------------------------------------------------------------
+| SYSTEM FOLDER NAME
+|---------------------------------------------------------------
+|
+| This variable must contain the name of your "system" folder.
+| Include the path if the folder is not in the same  directory
+| as this file.
+|
+| NO TRAILING SLASH!
+|
+*/
+	$system_folder = "system";
+
+/*
+|---------------------------------------------------------------
+| APPLICATION FOLDER NAME
+|---------------------------------------------------------------
+|
+| If you want this front controller to use a different "application"
+| folder then the default one you can set its name here. The folder 
+| can also be renamed or relocated anywhere on your server.
+| For more info please see the user guide:
+| http://codeigniter.com/user_guide/general/managing_apps.html
+|
+|
+| NO TRAILING SLASH!
+|
+*/
+	$application_folder = "application";
+
+/*
+|===============================================================
+| END OF USER CONFIGURABLE SETTINGS
+|===============================================================
+*/
+
+
+/*
+|---------------------------------------------------------------
+| SET THE SERVER PATH
+|---------------------------------------------------------------
+|
+| Let's attempt to determine the full-server path to the "system"
+| folder in order to reduce the possibility of path problems.
+| Note: We only attempt this if the user hasn't specified a 
+| full server path.
+|
+*/
+if (strpos($system_folder, '/') === FALSE)
+{
+	if (function_exists('realpath') AND @realpath(dirname(__FILE__)) !== FALSE)
+	{
+		$system_folder = realpath(dirname(__FILE__)).'/'.$system_folder;
+	}
+}
+else
+{
+	// Swap directory separators to Unix style for consistency
+	$system_folder = str_replace("\\", "/", $system_folder); 
+}
+
+/*
+|---------------------------------------------------------------
+| DEFINE APPLICATION CONSTANTS
+|---------------------------------------------------------------
+|
+| EXT		- The file extension.  Typically ".php"
+| FCPATH	- The full server path to THIS file
+| SELF		- The name of THIS file (typically "index.php")
+| BASEPATH	- The full server path to the "system" folder
+| APPPATH	- The full server path to the "application" folder
+|
+*/
+define('EXT', '.'.pathinfo(__FILE__, PATHINFO_EXTENSION));
+define('FCPATH', __FILE__);
+define('SELF', pathinfo(__FILE__, PATHINFO_BASENAME));
+define('BASEPATH', $system_folder.'/');
+
+if (is_dir($application_folder))
+{
+	define('APPPATH', $application_folder.'/');
+}
+else
+{
+	if ($application_folder == '')
+	{
+		$application_folder = 'application';
+	}
+
+	define('APPPATH', BASEPATH.$application_folder.'/');
+}
+
+/*
+|---------------------------------------------------------------
+| LOAD THE FRONT CONTROLLER
+|---------------------------------------------------------------
+|
+| And away we go...
+|
+*/
+require_once BASEPATH.'codeigniter/CodeIgniter'.EXT;
+
+/* End of file index.php */
+/* Location: ./index.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/config/autoload.php
===================================================================
--- trunk/pintassilgo/system/application/config/autoload.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/config/autoload.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,127 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/*
+| -------------------------------------------------------------------
+| AUTO-LOADER
+| -------------------------------------------------------------------
+| This file specifies which systems should be loaded by default.
+|
+| In order to keep the framework as light-weight as possible only the
+| absolute minimal resources are loaded by default. For example,
+| the database is not connected to automatically since no assumption
+| is made regarding whether you intend to use it.  This file lets
+| you globally define which systems you would like loaded with every
+| request.
+|
+| -------------------------------------------------------------------
+| Instructions
+| -------------------------------------------------------------------
+|
+| These are the things you can load automatically:
+|
+| 1. Libraries
+| 2. Helper files
+| 3. Plugins
+| 4. Custom config files
+| 5. Language files
+| 6. Models
+|
+*/
+
+/*
+| -------------------------------------------------------------------
+|  Auto-load Libraries
+| -------------------------------------------------------------------
+| These are the classes located in the system/libraries folder
+| or in your system/application/libraries folder.
+|
+| Prototype:
+|
+|	$autoload['libraries'] = array('database', 'session', 'xmlrpc');
+*/
+
+$autoload['libraries'] = array();
+
+
+/*
+| -------------------------------------------------------------------
+|  Auto-load Helper Files
+| -------------------------------------------------------------------
+| Prototype:
+|
+|	$autoload['helper'] = array('url', 'file');
+*/
+
+$autoload['helper'] = array();
+
+
+/*
+| -------------------------------------------------------------------
+|  Auto-load Plugins
+| -------------------------------------------------------------------
+| Prototype:
+|
+|	$autoload['plugin'] = array('captcha', 'js_calendar');
+*/
+
+$autoload['plugin'] = array();
+
+
+/*
+| -------------------------------------------------------------------
+|  Auto-load Config files
+| -------------------------------------------------------------------
+| Prototype:
+|
+|	$autoload['config'] = array('config1', 'config2');
+|
+| NOTE: This item is intended for use ONLY if you have created custom
+| config files.  Otherwise, leave it blank.
+|
+*/
+
+$autoload['config'] = array();
+
+
+/*
+| -------------------------------------------------------------------
+|  Auto-load Language files
+| -------------------------------------------------------------------
+| Prototype:
+|
+|	$autoload['language'] = array('lang1', 'lang2');
+|
+| NOTE: Do not include the "_lang" part of your file.  For example 
+| "codeigniter_lang.php" would be referenced as array('codeigniter');
+|
+*/
+
+$autoload['language'] = array();
+
+
+/*
+| -------------------------------------------------------------------
+|  Auto-load Models
+| -------------------------------------------------------------------
+| Prototype:
+|
+|	$autoload['model'] = array('model1', 'model2');
+|
+*/
+
+$autoload['model'] = array();
+
+
+/*
+| -------------------------------------------------------------------
+|  Auto-load Core Libraries
+| -------------------------------------------------------------------
+|
+| DEPRECATED:  Use $autoload['libraries'] above instead.
+|
+*/
+// $autoload['core'] = array();
+
+
+
+/* End of file autoload.php */
+/* Location: ./system/application/config/autoload.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/config/config.php
===================================================================
--- trunk/pintassilgo/system/application/config/config.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/config/config.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,316 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+
+/*
+|--------------------------------------------------------------------------
+| Base Site URL
+|--------------------------------------------------------------------------
+|
+| URL to your CodeIgniter root. Typically this will be your base URL,
+| WITH a trailing slash:
+|
+|	http://example.com/
+|
+*/
+$config['base_url']	= "http://your-site.com/";
+
+/*
+|--------------------------------------------------------------------------
+| Index File
+|--------------------------------------------------------------------------
+|
+| Typically this will be your index.php file, unless you've renamed it to
+| something else. If you are using mod_rewrite to remove the page set this
+| variable so that it is blank.
+|
+*/
+$config['index_page'] = "index.php";
+
+/*
+|--------------------------------------------------------------------------
+| URI PROTOCOL
+|--------------------------------------------------------------------------
+|
+| This item determines which server global should be used to retrieve the
+| URI string.  The default setting of "AUTO" works for most servers.
+| If your links do not seem to work, try one of the other delicious flavors:
+|
+| 'AUTO'			Default - auto detects
+| 'PATH_INFO'		Uses the PATH_INFO
+| 'QUERY_STRING'	Uses the QUERY_STRING
+| 'REQUEST_URI'		Uses the REQUEST_URI
+| 'ORIG_PATH_INFO'	Uses the ORIG_PATH_INFO
+|
+*/
+$config['uri_protocol']	= "AUTO";
+
+/*
+|--------------------------------------------------------------------------
+| URL suffix
+|--------------------------------------------------------------------------
+|
+| This option allows you to add a suffix to all URLs generated by CodeIgniter.
+| For more information please see the user guide:
+|
+| http://codeigniter.com/user_guide/general/urls.html
+*/
+
+$config['url_suffix'] = "";
+
+/*
+|--------------------------------------------------------------------------
+| Default Language
+|--------------------------------------------------------------------------
+|
+| This determines which set of language files should be used. Make sure
+| there is an available translation if you intend to use something other
+| than english.
+|
+*/
+$config['language']	= "english";
+
+/*
+|--------------------------------------------------------------------------
+| Default Character Set
+|--------------------------------------------------------------------------
+|
+| This determines which character set is used by default in various methods
+| that require a character set to be provided.
+|
+*/
+$config['charset'] = "UTF-8";
+
+/*
+|--------------------------------------------------------------------------
+| Enable/Disable System Hooks
+|--------------------------------------------------------------------------
+|
+| If you would like to use the "hooks" feature you must enable it by
+| setting this variable to TRUE (boolean).  See the user guide for details.
+|
+*/
+$config['enable_hooks'] = FALSE;
+
+
+/*
+|--------------------------------------------------------------------------
+| Class Extension Prefix
+|--------------------------------------------------------------------------
+|
+| This item allows you to set the filename/classname prefix when extending
+| native libraries.  For more information please see the user guide:
+|
+| http://codeigniter.com/user_guide/general/core_classes.html
+| http://codeigniter.com/user_guide/general/creating_libraries.html
+|
+*/
+$config['subclass_prefix'] = 'MY_';
+
+
+/*
+|--------------------------------------------------------------------------
+| Allowed URL Characters
+|--------------------------------------------------------------------------
+|
+| This lets you specify with a regular expression which characters are permitted
+| within your URLs.  When someone tries to submit a URL with disallowed
+| characters they will get a warning message.
+|
+| As a security measure you are STRONGLY encouraged to restrict URLs to
+| as few characters as possible.  By default only these are allowed: a-z 0-9~%.:_-
+|
+| Leave blank to allow all characters -- but only if you are insane.
+|
+| DO NOT CHANGE THIS UNLESS YOU FULLY UNDERSTAND THE REPERCUSSIONS!!
+|
+*/
+$config['permitted_uri_chars'] = 'a-z 0-9~%.:_\-';
+
+
+/*
+|--------------------------------------------------------------------------
+| Enable Query Strings
+|--------------------------------------------------------------------------
+|
+| By default CodeIgniter uses search-engine friendly segment based URLs:
+| example.com/who/what/where/
+|
+| You can optionally enable standard query string based URLs:
+| example.com?who=me&what=something&where=here
+|
+| Options are: TRUE or FALSE (boolean)
+|
+| The other items let you set the query string "words" that will
+| invoke your controllers and its functions:
+| example.com/index.php?c=controller&m=function
+|
+| Please note that some of the helpers won't work as expected when
+| this feature is enabled, since CodeIgniter is designed primarily to
+| use segment based URLs.
+|
+*/
+$config['enable_query_strings'] = FALSE;
+$config['controller_trigger'] 	= 'c';
+$config['function_trigger'] 	= 'm';
+$config['directory_trigger'] 	= 'd'; // experimental not currently in use
+
+/*
+|--------------------------------------------------------------------------
+| Error Logging Threshold
+|--------------------------------------------------------------------------
+|
+| If you have enabled error logging, you can set an error threshold to 
+| determine what gets logged. Threshold options are:
+| You can enable error logging by setting a threshold over zero. The
+| threshold determines what gets logged. Threshold options are:
+|
+|	0 = Disables logging, Error logging TURNED OFF
+|	1 = Error Messages (including PHP errors)
+|	2 = Debug Messages
+|	3 = Informational Messages
+|	4 = All Messages
+|
+| For a live site you'll usually only enable Errors (1) to be logged otherwise
+| your log files will fill up very fast.
+|
+*/
+$config['log_threshold'] = 0;
+
+/*
+|--------------------------------------------------------------------------
+| Error Logging Directory Path
+|--------------------------------------------------------------------------
+|
+| Leave this BLANK unless you would like to set something other than the default
+| system/logs/ folder.  Use a full server path with trailing slash.
+|
+*/
+$config['log_path'] = '';
+
+/*
+|--------------------------------------------------------------------------
+| Date Format for Logs
+|--------------------------------------------------------------------------
+|
+| Each item that is logged has an associated date. You can use PHP date
+| codes to set your own date formatting
+|
+*/
+$config['log_date_format'] = 'Y-m-d H:i:s';
+
+/*
+|--------------------------------------------------------------------------
+| Cache Directory Path
+|--------------------------------------------------------------------------
+|
+| Leave this BLANK unless you would like to set something other than the default
+| system/cache/ folder.  Use a full server path with trailing slash.
+|
+*/
+$config['cache_path'] = '';
+
+/*
+|--------------------------------------------------------------------------
+| Encryption Key
+|--------------------------------------------------------------------------
+|
+| If you use the Encryption class or the Sessions class with encryption
+| enabled you MUST set an encryption key.  See the user guide for info.
+|
+*/
+$config['encryption_key'] = "";
+
+/*
+|--------------------------------------------------------------------------
+| Session Variables
+|--------------------------------------------------------------------------
+|
+| 'session_cookie_name' = the name you want for the cookie
+| 'encrypt_sess_cookie' = TRUE/FALSE (boolean).  Whether to encrypt the cookie
+| 'session_expiration'  = the number of SECONDS you want the session to last.
+|  by default sessions last 7200 seconds (two hours).  Set to zero for no expiration.
+| 'time_to_update'		= how many seconds between CI refreshing Session Information
+|
+*/
+$config['sess_cookie_name']		= 'ci_session';
+$config['sess_expiration']		= 7200;
+$config['sess_encrypt_cookie']	= FALSE;
+$config['sess_use_database']	= FALSE;
+$config['sess_table_name']		= 'ci_sessions';
+$config['sess_match_ip']		= FALSE;
+$config['sess_match_useragent']	= TRUE;
+$config['sess_time_to_update'] 	= 300;
+
+/*
+|--------------------------------------------------------------------------
+| Cookie Related Variables
+|--------------------------------------------------------------------------
+|
+| 'cookie_prefix' = Set a prefix if you need to avoid collisions
+| 'cookie_domain' = Set to .your-domain.com for site-wide cookies
+| 'cookie_path'   =  Typically will be a forward slash
+|
+*/
+$config['cookie_prefix']	= "";
+$config['cookie_domain']	= "";
+$config['cookie_path']		= "/";
+
+/*
+|--------------------------------------------------------------------------
+| Global XSS Filtering
+|--------------------------------------------------------------------------
+|
+| Determines whether the XSS filter is always active when GET, POST or
+| COOKIE data is encountered
+|
+*/
+$config['global_xss_filtering'] = FALSE;
+
+/*
+|--------------------------------------------------------------------------
+| Output Compression
+|--------------------------------------------------------------------------
+|
+| Enables Gzip output compression for faster page loads.  When enabled,
+| the output class will test whether your server supports Gzip.
+| Even if it does, however, not all browsers support compression
+| so enable only if you are reasonably sure your visitors can handle it.
+|
+| VERY IMPORTANT:  If you are getting a blank page when compression is enabled it
+| means you are prematurely outputting something to your browser. It could
+| even be a line of whitespace at the end of one of your scripts.  For
+| compression to work, nothing can be sent before the output buffer is called
+| by the output class.  Do not "echo" any values with compression enabled.
+|
+*/
+$config['compress_output'] = FALSE;
+
+/*
+|--------------------------------------------------------------------------
+| Master Time Reference
+|--------------------------------------------------------------------------
+|
+| Options are "local" or "gmt".  This pref tells the system whether to use
+| your server's local time as the master "now" reference, or convert it to
+| GMT.  See the "date helper" page of the user guide for information
+| regarding date handling.
+|
+*/
+$config['time_reference'] = 'local';
+
+
+/*
+|--------------------------------------------------------------------------
+| Rewrite PHP Short Tags
+|--------------------------------------------------------------------------
+|
+| If your PHP installation does not have short tag support enabled CI
+| can rewrite the tags on-the-fly, enabling you to utilize that syntax
+| in your view files.  Options are TRUE or FALSE (boolean)
+|
+*/
+$config['rewrite_short_tags'] = FALSE;
+
+
+
+/* End of file config.php */
+/* Location: ./system/application/config/config.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/config/constants.php
===================================================================
--- trunk/pintassilgo/system/application/config/constants.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/config/constants.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,41 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+
+/*
+|--------------------------------------------------------------------------
+| File and Directory Modes
+|--------------------------------------------------------------------------
+|
+| These prefs are used when checking and setting modes when working
+| with the file system.  The defaults are fine on servers with proper
+| security, but you may wish (or even need) to change the values in
+| certain environments (Apache running a separate process for each
+| user, PHP under CGI with Apache suEXEC, etc.).  Octal values should
+| always be used to set the mode correctly.
+|
+*/
+define('FILE_READ_MODE', 0644);
+define('FILE_WRITE_MODE', 0666);
+define('DIR_READ_MODE', 0755);
+define('DIR_WRITE_MODE', 0777);
+
+/*
+|--------------------------------------------------------------------------
+| File Stream Modes
+|--------------------------------------------------------------------------
+|
+| These modes are used when working with fopen()/popen()
+|
+*/
+
+define('FOPEN_READ', 							'rb');
+define('FOPEN_READ_WRITE',						'r+b');
+define('FOPEN_WRITE_CREATE_DESTRUCTIVE', 		'wb'); // truncates existing file data, use with care
+define('FOPEN_READ_WRITE_CREATE_DESTRUCTIVE', 	'w+b'); // truncates existing file data, use with care
+define('FOPEN_WRITE_CREATE', 					'ab');
+define('FOPEN_READ_WRITE_CREATE', 				'a+b');
+define('FOPEN_WRITE_CREATE_STRICT', 			'xb');
+define('FOPEN_READ_WRITE_CREATE_STRICT',		'x+b');
+
+
+/* End of file constants.php */
+/* Location: ./system/application/config/constants.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/config/database.php
===================================================================
--- trunk/pintassilgo/system/application/config/database.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/config/database.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,55 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/*
+| -------------------------------------------------------------------
+| DATABASE CONNECTIVITY SETTINGS
+| -------------------------------------------------------------------
+| This file will contain the settings needed to access your database.
+|
+| For complete instructions please consult the "Database Connection"
+| page of the User Guide.
+|
+| -------------------------------------------------------------------
+| EXPLANATION OF VARIABLES
+| -------------------------------------------------------------------
+|
+|	['hostname'] The hostname of your database server.
+|	['username'] The username used to connect to the database
+|	['password'] The password used to connect to the database
+|	['database'] The name of the database you want to connect to
+|	['dbdriver'] The database type. ie: mysql.  Currently supported:
+				 mysql, mysqli, postgre, odbc, mssql, sqlite, oci8
+|	['dbprefix'] You can add an optional prefix, which will be added
+|				 to the table name when using the  Active Record class
+|	['pconnect'] TRUE/FALSE - Whether to use a persistent connection
+|	['db_debug'] TRUE/FALSE - Whether database errors should be displayed.
+|	['cache_on'] TRUE/FALSE - Enables/disables query caching
+|	['cachedir'] The path to the folder where cache files should be stored
+|	['char_set'] The character set used in communicating with the database
+|	['dbcollat'] The character collation used in communicating with the database
+|
+| The $active_group variable lets you choose which connection group to
+| make active.  By default there is only one group (the "default" group).
+|
+| The $active_record variables lets you determine whether or not to load
+| the active record class
+*/
+
+$active_group = "default";
+$active_record = TRUE;
+
+$db['default']['hostname'] = "localhost";
+$db['default']['username'] = "";
+$db['default']['password'] = "";
+$db['default']['database'] = "";
+$db['default']['dbdriver'] = "mysql";
+$db['default']['dbprefix'] = "";
+$db['default']['pconnect'] = TRUE;
+$db['default']['db_debug'] = TRUE;
+$db['default']['cache_on'] = FALSE;
+$db['default']['cachedir'] = "";
+$db['default']['char_set'] = "utf8";
+$db['default']['dbcollat'] = "utf8_general_ci";
+
+
+/* End of file database.php */
+/* Location: ./system/application/config/database.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/config/hooks.php
===================================================================
--- trunk/pintassilgo/system/application/config/hooks.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/config/hooks.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,16 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/*
+| -------------------------------------------------------------------------
+| Hooks
+| -------------------------------------------------------------------------
+| This file lets you define "hooks" to extend CI without hacking the core
+| files.  Please see the user guide for info:
+|
+|	http://codeigniter.com/user_guide/general/hooks.html
+|
+*/
+
+
+
+/* End of file hooks.php */
+/* Location: ./system/application/config/hooks.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/config/index.html
===================================================================
--- trunk/pintassilgo/system/application/config/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/config/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/config/mimes.php
===================================================================
--- trunk/pintassilgo/system/application/config/mimes.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/config/mimes.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,105 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/*
+| -------------------------------------------------------------------
+| MIME TYPES
+| -------------------------------------------------------------------
+| This file contains an array of mime types.  It is used by the
+| Upload class to help identify allowed file types.
+|
+*/
+
+$mimes = array(	'hqx'	=>	'application/mac-binhex40',
+				'cpt'	=>	'application/mac-compactpro',
+				'csv'	=>	array('text/x-comma-separated-values', 'text/comma-separated-values', 'application/octet-stream', 'application/vnd.ms-excel', 'text/csv', 'application/csv', 'application/excel', 'application/vnd.msexcel'),
+				'bin'	=>	'application/macbinary',
+				'dms'	=>	'application/octet-stream',
+				'lha'	=>	'application/octet-stream',
+				'lzh'	=>	'application/octet-stream',
+				'exe'	=>	'application/octet-stream',
+				'class'	=>	'application/octet-stream',
+				'psd'	=>	'application/x-photoshop',
+				'so'	=>	'application/octet-stream',
+				'sea'	=>	'application/octet-stream',
+				'dll'	=>	'application/octet-stream',
+				'oda'	=>	'application/oda',
+				'pdf'	=>	array('application/pdf', 'application/x-download'),
+				'ai'	=>	'application/postscript',
+				'eps'	=>	'application/postscript',
+				'ps'	=>	'application/postscript',
+				'smi'	=>	'application/smil',
+				'smil'	=>	'application/smil',
+				'mif'	=>	'application/vnd.mif',
+				'xls'	=>	array('application/excel', 'application/vnd.ms-excel'),
+				'ppt'	=>	array('application/powerpoint', 'application/vnd.ms-powerpoint'),
+				'wbxml'	=>	'application/wbxml',
+				'wmlc'	=>	'application/wmlc',
+				'dcr'	=>	'application/x-director',
+				'dir'	=>	'application/x-director',
+				'dxr'	=>	'application/x-director',
+				'dvi'	=>	'application/x-dvi',
+				'gtar'	=>	'application/x-gtar',
+				'gz'	=>	'application/x-gzip',
+				'php'	=>	'application/x-httpd-php',
+				'php4'	=>	'application/x-httpd-php',
+				'php3'	=>	'application/x-httpd-php',
+				'phtml'	=>	'application/x-httpd-php',
+				'phps'	=>	'application/x-httpd-php-source',
+				'js'	=>	'application/x-javascript',
+				'swf'	=>	'application/x-shockwave-flash',
+				'sit'	=>	'application/x-stuffit',
+				'tar'	=>	'application/x-tar',
+				'tgz'	=>	'application/x-tar',
+				'xhtml'	=>	'application/xhtml+xml',
+				'xht'	=>	'application/xhtml+xml',
+				'zip'	=>  array('application/x-zip', 'application/zip', 'application/x-zip-compressed'),
+				'mid'	=>	'audio/midi',
+				'midi'	=>	'audio/midi',
+				'mpga'	=>	'audio/mpeg',
+				'mp2'	=>	'audio/mpeg',
+				'mp3'	=>	array('audio/mpeg', 'audio/mpg'),
+				'aif'	=>	'audio/x-aiff',
+				'aiff'	=>	'audio/x-aiff',
+				'aifc'	=>	'audio/x-aiff',
+				'ram'	=>	'audio/x-pn-realaudio',
+				'rm'	=>	'audio/x-pn-realaudio',
+				'rpm'	=>	'audio/x-pn-realaudio-plugin',
+				'ra'	=>	'audio/x-realaudio',
+				'rv'	=>	'video/vnd.rn-realvideo',
+				'wav'	=>	'audio/x-wav',
+				'bmp'	=>	'image/bmp',
+				'gif'	=>	'image/gif',
+				'jpeg'	=>	array('image/jpeg', 'image/pjpeg'),
+				'jpg'	=>	array('image/jpeg', 'image/pjpeg'),
+				'jpe'	=>	array('image/jpeg', 'image/pjpeg'),
+				'png'	=>	array('image/png',  'image/x-png'),
+				'tiff'	=>	'image/tiff',
+				'tif'	=>	'image/tiff',
+				'css'	=>	'text/css',
+				'html'	=>	'text/html',
+				'htm'	=>	'text/html',
+				'shtml'	=>	'text/html',
+				'txt'	=>	'text/plain',
+				'text'	=>	'text/plain',
+				'log'	=>	array('text/plain', 'text/x-log'),
+				'rtx'	=>	'text/richtext',
+				'rtf'	=>	'text/rtf',
+				'xml'	=>	'text/xml',
+				'xsl'	=>	'text/xml',
+				'mpeg'	=>	'video/mpeg',
+				'mpg'	=>	'video/mpeg',
+				'mpe'	=>	'video/mpeg',
+				'qt'	=>	'video/quicktime',
+				'mov'	=>	'video/quicktime',
+				'avi'	=>	'video/x-msvideo',
+				'movie'	=>	'video/x-sgi-movie',
+				'doc'	=>	'application/msword',
+				'docx'	=>	'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
+				'xlsx'	=>	'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
+				'word'	=>	array('application/msword', 'application/octet-stream'),
+				'xl'	=>	'application/excel',
+				'eml'	=>	'message/rfc822'
+			);
+
+
+/* End of file mimes.php */
+/* Location: ./system/application/config/mimes.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/config/routes.php
===================================================================
--- trunk/pintassilgo/system/application/config/routes.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/config/routes.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,48 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/*
+| -------------------------------------------------------------------------
+| URI ROUTING
+| -------------------------------------------------------------------------
+| This file lets you re-map URI requests to specific controller functions.
+|
+| Typically there is a one-to-one relationship between a URL string
+| and its corresponding controller class/method. The segments in a
+| URL normally follow this pattern:
+|
+| 	example.com/class/method/id/
+|
+| In some instances, however, you may want to remap this relationship
+| so that a different class/function is called than the one
+| corresponding to the URL.
+|
+| Please see the user guide for complete details:
+|
+|	http://codeigniter.com/user_guide/general/routing.html
+|
+| -------------------------------------------------------------------------
+| RESERVED ROUTES
+| -------------------------------------------------------------------------
+|
+| There are two reserved routes:
+|
+|	$route['default_controller'] = 'welcome';
+|
+| This route indicates which controller class should be loaded if the
+| URI contains no data. In the above example, the "welcome" class
+| would be loaded.
+|
+|	$route['scaffolding_trigger'] = 'scaffolding';
+|
+| This route lets you set a "secret" word that will trigger the
+| scaffolding feature for added security. Note: Scaffolding must be
+| enabled in the controller in which you intend to use it.   The reserved 
+| routes must come before any wildcard or regular expression routes.
+|
+*/
+
+$route['default_controller'] = "welcome";
+$route['scaffolding_trigger'] = "";
+
+
+/* End of file routes.php */
+/* Location: ./system/application/config/routes.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/config/smileys.php
===================================================================
--- trunk/pintassilgo/system/application/config/smileys.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/config/smileys.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,66 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/*
+| -------------------------------------------------------------------
+| SMILEYS
+| -------------------------------------------------------------------
+| This file contains an array of smileys for use with the emoticon helper.
+| Individual images can be used to replace multiple simileys.  For example:
+| :-) and :) use the same image replacement.
+|
+| Please see user guide for more info: 
+| http://codeigniter.com/user_guide/helpers/smiley_helper.html
+|
+*/
+
+$smileys = array(
+
+//	smiley			image name						width	height	alt
+
+	':-)'			=>	array('grin.gif',			'19',	'19',	'grin'),
+	':lol:'			=>	array('lol.gif',			'19',	'19',	'LOL'),
+	':cheese:'		=>	array('cheese.gif',			'19',	'19',	'cheese'),
+	':)'			=>	array('smile.gif',			'19',	'19',	'smile'),
+	';-)'			=>	array('wink.gif',			'19',	'19',	'wink'),
+	';)'			=>	array('wink.gif',			'19',	'19',	'wink'),
+	':smirk:'		=>	array('smirk.gif',			'19',	'19',	'smirk'),
+	':roll:'		=>	array('rolleyes.gif',		'19',	'19',	'rolleyes'),
+	':-S'			=>	array('confused.gif',		'19',	'19',	'confused'),
+	':wow:'			=>	array('surprise.gif',		'19',	'19',	'surprised'),
+	':bug:'			=>	array('bigsurprise.gif',	'19',	'19',	'big surprise'),
+	':-P'			=>	array('tongue_laugh.gif',	'19',	'19',	'tongue laugh'),
+	'%-P'			=>	array('tongue_rolleye.gif',	'19',	'19',	'tongue rolleye'),
+	';-P'			=>	array('tongue_wink.gif',	'19',	'19',	'tongue wink'),
+	':P'			=>	array('raspberry.gif',		'19',	'19',	'raspberry'),
+	':blank:'		=>	array('blank.gif',			'19',	'19',	'blank stare'),
+	':long:'		=>	array('longface.gif',		'19',	'19',	'long face'),
+	':ohh:'			=>	array('ohh.gif',			'19',	'19',	'ohh'),
+	':grrr:'		=>	array('grrr.gif',			'19',	'19',	'grrr'),
+	':gulp:'		=>	array('gulp.gif',			'19',	'19',	'gulp'),
+	'8-/'			=>	array('ohoh.gif',			'19',	'19',	'oh oh'),
+	':down:'		=>	array('downer.gif',			'19',	'19',	'downer'),
+	':red:'			=>	array('embarrassed.gif',	'19',	'19',	'red face'),
+	':sick:'		=>	array('sick.gif',			'19',	'19',	'sick'),
+	':shut:'		=>	array('shuteye.gif',		'19',	'19',	'shut eye'),
+	':-/'			=>	array('hmm.gif',			'19',	'19',	'hmmm'),
+	'>:('			=>	array('mad.gif',			'19',	'19',	'mad'),
+	':mad:'			=>	array('mad.gif',			'19',	'19',	'mad'),
+	'>:-('			=>	array('angry.gif',			'19',	'19',	'angry'),
+	':angry:'		=>	array('angry.gif',			'19',	'19',	'angry'),
+	':zip:'			=>	array('zip.gif',			'19',	'19',	'zipper'),
+	':kiss:'		=>	array('kiss.gif',			'19',	'19',	'kiss'),
+	':ahhh:'		=>	array('shock.gif',			'19',	'19',	'shock'),
+	':coolsmile:'	=>	array('shade_smile.gif',	'19',	'19',	'cool smile'),
+	':coolsmirk:'	=>	array('shade_smirk.gif',	'19',	'19',	'cool smirk'),
+	':coolgrin:'	=>	array('shade_grin.gif',		'19',	'19',	'cool grin'),
+	':coolhmm:'		=>	array('shade_hmm.gif',		'19',	'19',	'cool hmm'),
+	':coolmad:'		=>	array('shade_mad.gif',		'19',	'19',	'cool mad'),
+	':coolcheese:'	=>	array('shade_cheese.gif',	'19',	'19',	'cool cheese'),
+	':vampire:'		=>	array('vampire.gif',		'19',	'19',	'vampire'),
+	':snake:'		=>	array('snake.gif',			'19',	'19',	'snake'),
+	':exclaim:'		=>	array('exclaim.gif',		'19',	'19',	'excaim'),	
+	':question:'	=>	array('question.gif',		'19',	'19',	'question') // no comma after last item
+	
+		);
+
+/* End of file smileys.php */
+/* Location: ./system/application/config/smileys.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/config/user_agents.php
===================================================================
--- trunk/pintassilgo/system/application/config/user_agents.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/config/user_agents.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,175 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/*
+| -------------------------------------------------------------------
+| USER AGENT TYPES
+| -------------------------------------------------------------------
+| This file contains four arrays of user agent data.  It is used by the
+| User Agent Class to help identify browser, platform, robot, and
+| mobile device data.  The array keys are used to identify the device
+| and the array values are used to set the actual name of the item.
+|
+*/
+
+$platforms = array (
+					'windows nt 6.0'	=> 'Windows Longhorn',
+					'windows nt 5.2'	=> 'Windows 2003',
+					'windows nt 5.0'	=> 'Windows 2000',
+					'windows nt 5.1'	=> 'Windows XP',
+					'windows nt 4.0'	=> 'Windows NT 4.0',
+					'winnt4.0'			=> 'Windows NT 4.0',
+					'winnt 4.0'			=> 'Windows NT',
+					'winnt'				=> 'Windows NT',
+					'windows 98'		=> 'Windows 98',
+					'win98'				=> 'Windows 98',
+					'windows 95'		=> 'Windows 95',
+					'win95'				=> 'Windows 95',
+					'windows'			=> 'Unknown Windows OS',
+					'os x'				=> 'Mac OS X',
+					'ppc mac'			=> 'Power PC Mac',
+					'freebsd'			=> 'FreeBSD',
+					'ppc'				=> 'Macintosh',
+					'linux'				=> 'Linux',
+					'debian'			=> 'Debian',
+					'sunos'				=> 'Sun Solaris',
+					'beos'				=> 'BeOS',
+					'apachebench'		=> 'ApacheBench',
+					'aix'				=> 'AIX',
+					'irix'				=> 'Irix',
+					'osf'				=> 'DEC OSF',
+					'hp-ux'				=> 'HP-UX',
+					'netbsd'			=> 'NetBSD',
+					'bsdi'				=> 'BSDi',
+					'openbsd'			=> 'OpenBSD',
+					'gnu'				=> 'GNU/Linux',
+					'unix'				=> 'Unknown Unix OS'
+				);
+
+
+// The order of this array should NOT be changed. Many browsers return
+// multiple browser types so we want to identify the sub-type first.
+$browsers = array(
+					'Opera'				=> 'Opera',
+					'MSIE'				=> 'Internet Explorer',
+					'Internet Explorer'	=> 'Internet Explorer',
+					'Shiira'			=> 'Shiira',
+					'Firefox'			=> 'Firefox',
+					'Chimera'			=> 'Chimera',
+					'Phoenix'			=> 'Phoenix',
+					'Firebird'			=> 'Firebird',
+					'Camino'			=> 'Camino',
+					'Netscape'			=> 'Netscape',
+					'OmniWeb'			=> 'OmniWeb',
+					'Mozilla'			=> 'Mozilla',
+					'Safari'			=> 'Safari',
+					'Konqueror'			=> 'Konqueror',
+					'icab'				=> 'iCab',
+					'Lynx'				=> 'Lynx',
+					'Links'				=> 'Links',
+					'hotjava'			=> 'HotJava',
+					'amaya'				=> 'Amaya',
+					'IBrowse'			=> 'IBrowse'
+				);
+
+$mobiles = array(
+					// legacy array, old values commented out
+					'mobileexplorer'	=> 'Mobile Explorer',
+//					'openwave'			=> 'Open Wave',
+//					'opera mini'		=> 'Opera Mini',
+//					'operamini'			=> 'Opera Mini',
+//					'elaine'			=> 'Palm',
+					'palmsource'		=> 'Palm',
+//					'digital paths'		=> 'Palm',
+//					'avantgo'			=> 'Avantgo',
+//					'xiino'				=> 'Xiino',
+					'palmscape'			=> 'Palmscape',
+//					'nokia'				=> 'Nokia',
+//					'ericsson'			=> 'Ericsson',
+//					'blackberry'		=> 'BlackBerry',
+//					'motorola'			=> 'Motorola'
+					
+					// Phones and Manufacturers
+					'motorola'			=> "Motorola",
+					'nokia'				=> "Nokia",
+					'palm'				=> "Palm",
+					'iphone'			=> "Apple iPhone",
+					'ipod'				=> "Apple iPod Touch",
+					'sony'				=> "Sony Ericsson",
+					'ericsson'			=> "Sony Ericsson",
+					'blackberry'		=> "BlackBerry",
+					'cocoon'			=> "O2 Cocoon",
+					'blazer'			=> "Treo",
+					'lg'				=> "LG",
+					'amoi'				=> "Amoi",
+					'xda'				=> "XDA",
+					'mda'				=> "MDA",
+					'vario'				=> "Vario",
+					'htc'				=> "HTC",
+					'samsung'			=> "Samsung",
+					'sharp'				=> "Sharp",
+					'sie-'				=> "Siemens",
+					'alcatel'			=> "Alcatel",
+					'benq'				=> "BenQ",
+					'ipaq'				=> "HP iPaq",
+					'mot-'				=> "Motorola",
+					'playstation portable' 	=> "PlayStation Portable",
+					'hiptop'			=> "Danger Hiptop",
+					'nec-'				=> "NEC",
+					'panasonic'			=> "Panasonic",
+					'philips'			=> "Philips",
+					'sagem'				=> "Sagem",
+					'sanyo'				=> "Sanyo",
+					'spv'				=> "SPV",
+					'zte'				=> "ZTE",
+					'sendo'				=> "Sendo",
+					
+					// Operating Systems
+					'symbian'				=> "Symbian",
+					'SymbianOS'				=> "SymbianOS", 
+					'elaine'				=> "Palm",
+					'palm'					=> "Palm",
+					'series60'				=> "Symbian S60",
+					'windows ce'			=> "Windows CE",
+				
+					// Browsers	
+					'obigo'					=> "Obigo",
+					'netfront'				=> "Netfront Browser",
+					'openwave'				=> "Openwave Browser",
+					'mobilexplorer'			=> "Mobile Explorer",
+					'operamini'				=> "Opera Mini",
+					'opera mini'			=> "Opera Mini",
+				
+					// Other
+					'digital paths'			=> "Digital Paths",
+					'avantgo'				=> "AvantGo",
+					'xiino'					=> "Xiino",
+					'novarra'				=> "Novarra Transcoder",
+					'vodafone'				=> "Vodafone",
+					'docomo'				=> "NTT DoCoMo",
+					'o2'					=> "O2",
+				
+					// Fallback
+					'mobile'				=> "Generic Mobile",
+					'wireless' 				=> "Generic Mobile",
+					'j2me'					=> "Generic Mobile",
+					'midp'					=> "Generic Mobile",
+					'cldc'					=> "Generic Mobile",
+					'up.link'				=> "Generic Mobile",
+					'up.browser'			=> "Generic Mobile",
+					'smartphone'			=> "Generic Mobile",
+					'cellphone'				=> "Generic Mobile"
+				);
+
+// There are hundreds of bots but these are the most common.
+$robots = array(
+					'googlebot'			=> 'Googlebot',
+					'msnbot'			=> 'MSNBot',
+					'slurp'				=> 'Inktomi Slurp',
+					'yahoo'				=> 'Yahoo',
+					'askjeeves'			=> 'AskJeeves',
+					'fastcrawler'		=> 'FastCrawler',
+					'infoseek'			=> 'InfoSeek Robot 1.0',
+					'lycos'				=> 'Lycos'
+				);
+
+/* End of file user_agents.php */
+/* Location: ./system/application/config/user_agents.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/controllers/index.html
===================================================================
--- trunk/pintassilgo/system/application/controllers/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/controllers/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/controllers/welcome.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/welcome.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/controllers/welcome.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,17 @@
+<?php
+
+class Welcome extends Controller {
+
+	function Welcome()
+	{
+		parent::Controller();	
+	}
+	
+	function index()
+	{
+		$this->load->view('welcome_message');
+	}
+}
+
+/* End of file welcome.php */
+/* Location: ./system/application/controllers/welcome.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/application/errors/error_404.php
===================================================================
--- trunk/pintassilgo/system/application/errors/error_404.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/errors/error_404.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,35 @@
+<?php header("HTTP/1.1 404 Not Found"); ?>
+<html>
+<head>
+<title>404 Page Not Found</title>
+<style type="text/css">
+
+body {
+background-color:	#fff;
+margin:				40px;
+font-family:		Lucida Grande, Verdana, Sans-serif;
+font-size:			12px;
+color:				#000;
+}
+
+#content  {
+border:				#999 1px solid;
+background-color:	#fff;
+padding:			20px 20px 12px 20px;
+}
+
+h1 {
+font-weight:		normal;
+font-size:			14px;
+color:				#990000;
+margin: 			0 0 4px 0;
+}
+</style>
+</head>
+<body>
+	<div id="content">
+		<h1><?php echo $heading; ?></h1>
+		<?php echo $message; ?>
+	</div>
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/errors/error_db.php
===================================================================
--- trunk/pintassilgo/system/application/errors/error_db.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/errors/error_db.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,34 @@
+<html>
+<head>
+<title>Database Error</title>
+<style type="text/css">
+
+body {
+background-color:	#fff;
+margin:				40px;
+font-family:		Lucida Grande, Verdana, Sans-serif;
+font-size:			12px;
+color:				#000;
+}
+
+#content  {
+border:				#999 1px solid;
+background-color:	#fff;
+padding:			20px 20px 12px 20px;
+}
+
+h1 {
+font-weight:		normal;
+font-size:			14px;
+color:				#990000;
+margin: 			0 0 4px 0;
+}
+</style>
+</head>
+<body>
+	<div id="content">
+		<h1><?php echo $heading; ?></h1>
+		<?php echo $message; ?>
+	</div>
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/errors/error_general.php
===================================================================
--- trunk/pintassilgo/system/application/errors/error_general.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/errors/error_general.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,34 @@
+<html>
+<head>
+<title>Error</title>
+<style type="text/css">
+
+body {
+background-color:	#fff;
+margin:				40px;
+font-family:		Lucida Grande, Verdana, Sans-serif;
+font-size:			12px;
+color:				#000;
+}
+
+#content  {
+border:				#999 1px solid;
+background-color:	#fff;
+padding:			20px 20px 12px 20px;
+}
+
+h1 {
+font-weight:		normal;
+font-size:			14px;
+color:				#990000;
+margin: 			0 0 4px 0;
+}
+</style>
+</head>
+<body>
+	<div id="content">
+		<h1><?php echo $heading; ?></h1>
+		<?php echo $message; ?>
+	</div>
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/errors/error_php.php
===================================================================
--- trunk/pintassilgo/system/application/errors/error_php.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/errors/error_php.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<div style="border:1px solid #990000;padding-left:20px;margin:0 0 10px 0;">
+
+<h4>A PHP Error was encountered</h4>
+
+<p>Severity: <?php echo $severity; ?></p>
+<p>Message:  <?php echo $message; ?></p>
+<p>Filename: <?php echo $filepath; ?></p>
+<p>Line Number: <?php echo $line; ?></p>
+
+</div>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/errors/index.html
===================================================================
--- trunk/pintassilgo/system/application/errors/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/errors/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/helpers/index.html
===================================================================
--- trunk/pintassilgo/system/application/helpers/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/helpers/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/hooks/index.html
===================================================================
--- trunk/pintassilgo/system/application/hooks/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/hooks/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/index.html
===================================================================
--- trunk/pintassilgo/system/application/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/language/english/index.html
===================================================================
--- trunk/pintassilgo/system/application/language/english/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/language/english/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/libraries/index.html
===================================================================
--- trunk/pintassilgo/system/application/libraries/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/libraries/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/models/index.html
===================================================================
--- trunk/pintassilgo/system/application/models/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/models/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/views/index.html
===================================================================
--- trunk/pintassilgo/system/application/views/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/views/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/application/views/welcome_message.php
===================================================================
--- trunk/pintassilgo/system/application/views/welcome_message.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/application/views/welcome_message.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,62 @@
+<html>
+<head>
+<title>Welcome to CodeIgniter</title>
+
+<style type="text/css">
+
+body {
+ background-color: #fff;
+ margin: 40px;
+ font-family: Lucida Grande, Verdana, Sans-serif;
+ font-size: 14px;
+ color: #4F5155;
+}
+
+a {
+ color: #003399;
+ background-color: transparent;
+ font-weight: normal;
+}
+
+h1 {
+ color: #444;
+ background-color: transparent;
+ border-bottom: 1px solid #D0D0D0;
+ font-size: 16px;
+ font-weight: bold;
+ margin: 24px 0 2px 0;
+ padding: 5px 0 6px 0;
+}
+
+code {
+ font-family: Monaco, Verdana, Sans-serif;
+ font-size: 12px;
+ background-color: #f9f9f9;
+ border: 1px solid #D0D0D0;
+ color: #002166;
+ display: block;
+ margin: 14px 0 14px 0;
+ padding: 12px 10px 12px 10px;
+}
+
+</style>
+</head>
+<body>
+
+<h1>Welcome to CodeIgniter!</h1>
+
+<p>The page you are looking at is being generated dynamically by CodeIgniter.</p>
+
+<p>If you would like to edit this page you'll find it located at:</p>
+<code>system/application/views/welcome_message.php</code>
+
+<p>The corresponding controller for this page is found at:</p>
+<code>system/application/controllers/welcome.php</code>
+
+<p>If you are exploring CodeIgniter for the very first time, you should start by reading the <a href="user_guide/">User Guide</a>.</p>
+
+
+<p><br />Page rendered in {elapsed_time} seconds</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/cache/index.html
===================================================================
--- trunk/pintassilgo/system/cache/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/cache/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/codeigniter/Base4.php
===================================================================
--- trunk/pintassilgo/system/codeigniter/Base4.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/codeigniter/Base4.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,69 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.3
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CI_BASE - For PHP 4
+ *
+ * This file is used only when CodeIgniter is being run under PHP 4.
+ *
+ * In order to allow CI to work under PHP 4 we had to make the Loader class
+ * the parent of the Controller Base class.  It's the only way we can
+ * enable functions like $this->load->library('email') to instantiate
+ * classes that can then be used within controllers as $this->email->send()
+ *
+ * PHP 4 also has trouble referencing the CI super object within application
+ * constructors since objects do not exist until the class is fully
+ * instantiated.  Basically PHP 4 sucks...
+ *
+ * Since PHP 5 doesn't suffer from this problem so we load one of
+ * two files based on the version of PHP being run.
+ *
+ * @package		CodeIgniter
+ * @subpackage	codeigniter
+ * @category	front-controller
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/
+ */
+ class CI_Base extends CI_Loader {
+
+	function CI_Base()
+	{
+		// This allows syntax like $this->load->foo() to work
+		parent::CI_Loader();
+		$this->load =& $this;
+		
+		// This allows resources used within controller constructors to work
+		global $OBJ;
+		$OBJ = $this->load; // Do NOT use a reference.
+	}
+}
+
+function &get_instance()
+{
+	global $CI, $OBJ;
+	
+	if (is_object($CI))
+	{
+		return $CI;
+	}
+	
+	return $OBJ->load;
+}
+
+
+/* End of file Base4.php */
+/* Location: ./system/codeigniter/Base4.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/codeigniter/Base5.php
===================================================================
--- trunk/pintassilgo/system/codeigniter/Base5.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/codeigniter/Base5.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,56 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.3
+ * @filesource
+ */
+
+
+// ------------------------------------------------------------------------
+
+/**
+ * CI_BASE - For PHP 5
+ *
+ * This file contains some code used only when CodeIgniter is being
+ * run under PHP 5.  It allows us to manage the CI super object more
+ * gracefully than what is possible with PHP 4.
+ *
+ * @package		CodeIgniter
+ * @subpackage	codeigniter
+ * @category	front-controller
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/
+ */
+
+class CI_Base {
+
+	private static $instance;
+
+	public function CI_Base()
+	{
+		self::$instance =& $this;
+	}
+
+	public static function &get_instance()
+	{
+		return self::$instance;
+	}
+}
+
+function &get_instance()
+{
+	return CI_Base::get_instance();
+}
+
+
+
+/* End of file Base5.php */
+/* Location: ./system/codeigniter/Base5.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/codeigniter/CodeIgniter.php
===================================================================
--- trunk/pintassilgo/system/codeigniter/CodeIgniter.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/codeigniter/CodeIgniter.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,276 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * System Front Controller
+ *
+ * Loads the base classes and executes the request.
+ *
+ * @package		CodeIgniter
+ * @subpackage	codeigniter
+ * @category	Front-controller
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/
+ */
+
+// CI Version
+define('CI_VERSION',	'1.7.0');
+
+/*
+ * ------------------------------------------------------
+ *  Load the global functions
+ * ------------------------------------------------------
+ */
+require(BASEPATH.'codeigniter/Common'.EXT);
+
+/*
+ * ------------------------------------------------------
+ *  Load the compatibility override functions
+ * ------------------------------------------------------
+ */
+require(BASEPATH.'codeigniter/Compat'.EXT);
+
+/*
+ * ------------------------------------------------------
+ *  Load the framework constants
+ * ------------------------------------------------------
+ */
+require(APPPATH.'config/constants'.EXT);
+
+/*
+ * ------------------------------------------------------
+ *  Define a custom error handler so we can log PHP errors
+ * ------------------------------------------------------
+ */
+set_error_handler('_exception_handler');
+set_magic_quotes_runtime(0); // Kill magic quotes
+
+/*
+ * ------------------------------------------------------
+ *  Start the timer... tick tock tick tock...
+ * ------------------------------------------------------
+ */
+
+$BM =& load_class('Benchmark');
+$BM->mark('total_execution_time_start');
+$BM->mark('loading_time_base_classes_start');
+
+/*
+ * ------------------------------------------------------
+ *  Instantiate the hooks class
+ * ------------------------------------------------------
+ */
+
+$EXT =& load_class('Hooks');
+
+/*
+ * ------------------------------------------------------
+ *  Is there a "pre_system" hook?
+ * ------------------------------------------------------
+ */
+$EXT->_call_hook('pre_system');
+
+/*
+ * ------------------------------------------------------
+ *  Instantiate the base classes
+ * ------------------------------------------------------
+ */
+
+$CFG =& load_class('Config');
+$URI =& load_class('URI');
+$RTR =& load_class('Router');
+$OUT =& load_class('Output');
+
+/*
+ * ------------------------------------------------------
+ *	Is there a valid cache file?  If so, we're done...
+ * ------------------------------------------------------
+ */
+
+if ($EXT->_call_hook('cache_override') === FALSE)
+{
+	if ($OUT->_display_cache($CFG, $URI) == TRUE)
+	{
+		exit;
+	}
+}
+
+/*
+ * ------------------------------------------------------
+ *  Load the remaining base classes
+ * ------------------------------------------------------
+ */
+
+$IN		=& load_class('Input');
+$LANG	=& load_class('Language');
+
+/*
+ * ------------------------------------------------------
+ *  Load the app controller and local controller
+ * ------------------------------------------------------
+ *
+ *  Note: Due to the poor object handling in PHP 4 we'll
+ *  conditionally load different versions of the base
+ *  class.  Retaining PHP 4 compatibility requires a bit of a hack.
+ *
+ *  Note: The Loader class needs to be included first
+ *
+ */
+if (floor(phpversion()) < 5)
+{
+	load_class('Loader', FALSE);
+	require(BASEPATH.'codeigniter/Base4'.EXT);
+}
+else
+{
+	require(BASEPATH.'codeigniter/Base5'.EXT);
+}
+
+// Load the base controller class
+load_class('Controller', FALSE);
+
+// Load the local application controller
+// Note: The Router class automatically validates the controller path.  If this include fails it 
+// means that the default controller in the Routes.php file is not resolving to something valid.
+if ( ! file_exists(APPPATH.'controllers/'.$RTR->fetch_directory().$RTR->fetch_class().EXT))
+{
+	show_error('Unable to load your default controller.  Please make sure the controller specified in your Routes.php file is valid.');
+}
+
+include(APPPATH.'controllers/'.$RTR->fetch_directory().$RTR->fetch_class().EXT);
+
+// Set a mark point for benchmarking
+$BM->mark('loading_time_base_classes_end');
+
+
+/*
+ * ------------------------------------------------------
+ *  Security check
+ * ------------------------------------------------------
+ *
+ *  None of the functions in the app controller or the
+ *  loader class can be called via the URI, nor can
+ *  controller functions that begin with an underscore
+ */
+$class  = $RTR->fetch_class();
+$method = $RTR->fetch_method();
+
+if ( ! class_exists($class)
+	OR $method == 'controller'
+	OR strncmp($method, '_', 1) == 0
+	OR in_array(strtolower($method), array_map('strtolower', get_class_methods('Controller')))
+	)
+{
+	show_404("{$class}/{$method}");
+}
+
+/*
+ * ------------------------------------------------------
+ *  Is there a "pre_controller" hook?
+ * ------------------------------------------------------
+ */
+$EXT->_call_hook('pre_controller');
+
+/*
+ * ------------------------------------------------------
+ *  Instantiate the controller and call requested method
+ * ------------------------------------------------------
+ */
+
+// Mark a start point so we can benchmark the controller
+$BM->mark('controller_execution_time_( '.$class.' / '.$method.' )_start');
+
+$CI = new $class();
+
+// Is this a scaffolding request?
+if ($RTR->scaffolding_request === TRUE)
+{
+	if ($EXT->_call_hook('scaffolding_override') === FALSE)
+	{
+		$CI->_ci_scaffolding();
+	}
+}
+else
+{
+	/*
+	 * ------------------------------------------------------
+	 *  Is there a "post_controller_constructor" hook?
+	 * ------------------------------------------------------
+	 */
+	$EXT->_call_hook('post_controller_constructor');
+	
+	// Is there a "remap" function?
+	if (method_exists($CI, '_remap'))
+	{
+		$CI->_remap($method);
+	}
+	else
+	{
+		// is_callable() returns TRUE on some versions of PHP 5 for private and protected
+		// methods, so we'll use this workaround for consistent behavior
+		if ( ! in_array(strtolower($method), array_map('strtolower', get_class_methods($CI))))
+		{
+			show_404("{$class}/{$method}");
+		}
+
+		// Call the requested method.
+		// Any URI segments present (besides the class/function) will be passed to the method for convenience
+		call_user_func_array(array(&$CI, $method), array_slice($URI->rsegments, 2));
+	}
+}
+
+// Mark a benchmark end point
+$BM->mark('controller_execution_time_( '.$class.' / '.$method.' )_end');
+
+/*
+ * ------------------------------------------------------
+ *  Is there a "post_controller" hook?
+ * ------------------------------------------------------
+ */
+$EXT->_call_hook('post_controller');
+
+/*
+ * ------------------------------------------------------
+ *  Send the final rendered output to the browser
+ * ------------------------------------------------------
+ */
+
+if ($EXT->_call_hook('display_override') === FALSE)
+{
+	$OUT->_display();
+}
+
+/*
+ * ------------------------------------------------------
+ *  Is there a "post_system" hook?
+ * ------------------------------------------------------
+ */
+$EXT->_call_hook('post_system');
+
+/*
+ * ------------------------------------------------------
+ *  Close the DB connection if one exists
+ * ------------------------------------------------------
+ */
+if (class_exists('CI_DB') AND isset($CI->db))
+{
+	$CI->db->close();
+}
+
+
+/* End of file CodeIgniter.php */
+/* Location: ./system/codeigniter/CodeIgniter.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/codeigniter/Common.php
===================================================================
--- trunk/pintassilgo/system/codeigniter/Common.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/codeigniter/Common.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,307 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Common Functions
+ *
+ * Loads the base classes and executes the request.
+ *
+ * @package		CodeIgniter
+ * @subpackage	codeigniter
+ * @category	Common Functions
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Tests for file writability
+ *
+ * is_writable() returns TRUE on Windows servers when you really can't write to 
+ * the file, based on the read-only attribute.  is_writable() is also unreliable
+ * on Unix servers if safe_mode is on. 
+ *
+ * @access	private
+ * @return	void
+ */
+function is_really_writable($file)
+{	
+	// If we're on a Unix server with safe_mode off we call is_writable
+	if (DIRECTORY_SEPARATOR == '/' AND @ini_get("safe_mode") == FALSE)
+	{
+		return is_writable($file);
+	}
+
+	// For windows servers and safe_mode "on" installations we'll actually
+	// write a file then read it.  Bah...
+	if (is_dir($file))
+	{
+		$file = rtrim($file, '/').'/'.md5(rand(1,100));
+
+		if (($fp = @fopen($file, FOPEN_WRITE_CREATE)) === FALSE)
+		{
+			return FALSE;
+		}
+
+		fclose($fp);
+		@chmod($file, DIR_WRITE_MODE);
+		@unlink($file);
+		return TRUE;
+	}
+	elseif (($fp = @fopen($file, FOPEN_WRITE_CREATE)) === FALSE)
+	{
+		return FALSE;
+	}
+
+	fclose($fp);
+	return TRUE;
+}
+
+// ------------------------------------------------------------------------
+
+/**
+* Class registry
+*
+* This function acts as a singleton.  If the requested class does not
+* exist it is instantiated and set to a static variable.  If it has
+* previously been instantiated the variable is returned.
+*
+* @access	public
+* @param	string	the class name being requested
+* @param	bool	optional flag that lets classes get loaded but not instantiated
+* @return	object
+*/
+function &load_class($class, $instantiate = TRUE)
+{
+	static $objects = array();
+
+	// Does the class exist?  If so, we're done...
+	if (isset($objects[$class]))
+	{
+		return $objects[$class];
+	}
+
+	// If the requested class does not exist in the application/libraries
+	// folder we'll load the native class from the system/libraries folder.	
+	if (file_exists(APPPATH.'libraries/'.config_item('subclass_prefix').$class.EXT))
+	{
+		require(BASEPATH.'libraries/'.$class.EXT);
+		require(APPPATH.'libraries/'.config_item('subclass_prefix').$class.EXT);
+		$is_subclass = TRUE;
+	}
+	else
+	{
+		if (file_exists(APPPATH.'libraries/'.$class.EXT))
+		{
+			require(APPPATH.'libraries/'.$class.EXT);
+			$is_subclass = FALSE;
+		}
+		else
+		{
+			require(BASEPATH.'libraries/'.$class.EXT);
+			$is_subclass = FALSE;
+		}
+	}
+
+	if ($instantiate == FALSE)
+	{
+		$objects[$class] = TRUE;
+		return $objects[$class];
+	}
+
+	if ($is_subclass == TRUE)
+	{
+		$name = config_item('subclass_prefix').$class;
+		$objects[$class] =& new $name();
+		return $objects[$class];
+	}
+
+	$name = ($class != 'Controller') ? 'CI_'.$class : $class;
+	
+	$objects[$class] =& new $name();
+	return $objects[$class];
+}
+
+/**
+* Loads the main config.php file
+*
+* @access	private
+* @return	array
+*/
+function &get_config()
+{
+	static $main_conf;
+
+	if ( ! isset($main_conf))
+	{
+		if ( ! file_exists(APPPATH.'config/config'.EXT))
+		{
+			exit('The configuration file config'.EXT.' does not exist.');
+		}
+
+		require(APPPATH.'config/config'.EXT);
+
+		if ( ! isset($config) OR ! is_array($config))
+		{
+			exit('Your config file does not appear to be formatted correctly.');
+		}
+
+		$main_conf[0] =& $config;
+	}
+	return $main_conf[0];
+}
+
+/**
+* Gets a config item
+*
+* @access	public
+* @return	mixed
+*/
+function config_item($item)
+{
+	static $config_item = array();
+
+	if ( ! isset($config_item[$item]))
+	{
+		$config =& get_config();
+
+		if ( ! isset($config[$item]))
+		{
+			return FALSE;
+		}
+		$config_item[$item] = $config[$item];
+	}
+
+	return $config_item[$item];
+}
+
+
+/**
+* Error Handler
+*
+* This function lets us invoke the exception class and
+* display errors using the standard error template located
+* in application/errors/errors.php
+* This function will send the error page directly to the
+* browser and exit.
+*
+* @access	public
+* @return	void
+*/
+function show_error($message)
+{
+	$error =& load_class('Exceptions');
+	echo $error->show_error('An Error Was Encountered', $message);
+	exit;
+}
+
+
+/**
+* 404 Page Handler
+*
+* This function is similar to the show_error() function above
+* However, instead of the standard error template it displays
+* 404 errors.
+*
+* @access	public
+* @return	void
+*/
+function show_404($page = '')
+{
+	$error =& load_class('Exceptions');
+	$error->show_404($page);
+	exit;
+}
+
+
+/**
+* Error Logging Interface
+*
+* We use this as a simple mechanism to access the logging
+* class and send messages to be logged.
+*
+* @access	public
+* @return	void
+*/
+function log_message($level = 'error', $message, $php_error = FALSE)
+{
+	static $LOG;
+	
+	$config =& get_config();
+	if ($config['log_threshold'] == 0)
+	{
+		return;
+	}
+
+	$LOG =& load_class('Log');
+	$LOG->write_log($level, $message, $php_error);
+}
+
+/**
+* Exception Handler
+*
+* This is the custom exception handler that is declaired at the top
+* of Codeigniter.php.  The main reason we use this is permit
+* PHP errors to be logged in our own log files since we may
+* not have access to server logs. Since this function
+* effectively intercepts PHP errors, however, we also need
+* to display errors based on the current error_reporting level.
+* We do that with the use of a PHP error template.
+*
+* @access	private
+* @return	void
+*/
+function _exception_handler($severity, $message, $filepath, $line)
+{	
+	 // We don't bother with "strict" notices since they will fill up
+	 // the log file with information that isn't normally very
+	 // helpful.  For example, if you are running PHP 5 and you
+	 // use version 4 style class functions (without prefixes
+	 // like "public", "private", etc.) you'll get notices telling
+	 // you that these have been deprecated.
+	
+	if ($severity == E_STRICT)
+	{
+		return;
+	}
+
+	$error =& load_class('Exceptions');
+
+	// Should we display the error?
+	// We'll get the current error_reporting level and add its bits
+	// with the severity bits to find out.
+	
+	if (($severity & error_reporting()) == $severity)
+	{
+		$error->show_php_error($severity, $message, $filepath, $line);
+	}
+	
+	// Should we log the error?  No?  We're done...
+	$config =& get_config();
+	if ($config['log_threshold'] == 0)
+	{
+		return;
+	}
+
+	$error->log_exception($severity, $message, $filepath, $line);
+}
+
+
+
+/* End of file Common.php */
+/* Location: ./system/codeigniter/Common.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/codeigniter/Compat.php
===================================================================
--- trunk/pintassilgo/system/codeigniter/Compat.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/codeigniter/Compat.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,93 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Compatibility Functions
+ *
+ * Function overrides for older versions of PHP or PHP environments missing
+ * certain extensions / libraries
+ *
+ * @package		CodeIgniter
+ * @subpackage	codeigniter
+ * @category	Compatibility Functions
+ * @author		ExpressionEngine Development Team
+ * @link		http://codeigniter.com/user_guide/
+ */
+
+// ------------------------------------------------------------------------
+
+/*
+ * PHP versions prior to 5.0 don't support the E_STRICT constant
+ * so we need to explicitly define it otherwise the Exception class 
+ * will generate errors when running under PHP 4
+ *
+ */
+if ( ! defined('E_STRICT'))
+{
+	define('E_STRICT', 2048);
+}
+
+/**
+ * ctype_digit()
+ *
+ * Determines if a string is comprised only of digits
+ * http://us.php.net/manual/en/function.ctype_digit.php
+ *
+ * @access	public
+ * @param	string
+ * @return	bool
+ */
+if ( ! function_exists('ctype_digit'))
+{
+	function ctype_digit($str)
+	{
+		if ( ! is_string($str) OR $str == '')
+		{
+			return FALSE;
+		}
+		
+		return ! preg_match('/[^0-9]/', $str);
+	}	
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * ctype_alnum()
+ *
+ * Determines if a string is comprised of only alphanumeric characters
+ * http://us.php.net/manual/en/function.ctype-alnum.php
+ *
+ * @access	public
+ * @param	string
+ * @return	bool
+ */
+if ( ! function_exists('ctype_alnum'))
+{
+	function ctype_alnum($str)
+	{
+		if ( ! is_string($str) OR $str == '')
+		{
+			return FALSE;
+		}
+		
+		return ! preg_match('/[^0-9a-z]/i', $str);
+	}	
+}
+
+/* End of file Compat.php */
+/* Location: ./system/codeigniter/Compat.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/codeigniter/index.html
===================================================================
--- trunk/pintassilgo/system/codeigniter/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/codeigniter/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/database/DB.php
===================================================================
--- trunk/pintassilgo/system/database/DB.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/DB.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,146 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Initialize the database
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+function &DB($params = '', $active_record_override = FALSE)
+{
+	// Load the DB config file if a DSN string wasn't passed
+	if (is_string($params) AND strpos($params, '://') === FALSE)
+	{
+		include(APPPATH.'config/database'.EXT);
+		
+		if ( ! isset($db) OR count($db) == 0)
+		{
+			show_error('No database connection settings were found in the database config file.');
+		}
+		
+		if ($params != '')
+		{
+			$active_group = $params;
+		}
+		
+		if ( ! isset($active_group) OR ! isset($db[$active_group]))
+		{
+			show_error('You have specified an invalid database connection group.');
+		}
+		
+		$params = $db[$active_group];
+	}
+	elseif (is_string($params))
+	{
+		
+		/* parse the URL from the DSN string
+		*  Database settings can be passed as discreet
+	 	*  parameters or as a data source name in the first
+	 	*  parameter. DSNs must have this prototype:
+	 	*  $dsn = 'driver://username:password at hostname/database';
+		*/
+	
+		if (($dns = @parse_url($params)) === FALSE)
+		{
+			show_error('Invalid DB Connection String');
+		}
+		
+		$params = array(
+							'dbdriver'	=> $dns['scheme'],
+							'hostname'	=> (isset($dns['host'])) ? rawurldecode($dns['host']) : '',
+							'username'	=> (isset($dns['user'])) ? rawurldecode($dns['user']) : '',
+							'password'	=> (isset($dns['pass'])) ? rawurldecode($dns['pass']) : '',
+							'database'	=> (isset($dns['path'])) ? rawurldecode(substr($dns['path'], 1)) : ''
+						);
+		
+		// were additional config items set?
+		if (isset($dns['query']))
+		{
+			parse_str($dns['query'], $extra);
+
+			foreach($extra as $key => $val)
+			{
+				// booleans please
+				if (strtoupper($val) == "TRUE")
+				{
+					$val = TRUE;
+				}
+				elseif (strtoupper($val) == "FALSE")
+				{
+					$val = FALSE;
+				}
+
+				$params[$key] = $val;
+			}
+		}
+	}
+	
+	// No DB specified yet?  Beat them senseless...
+	if ( ! isset($params['dbdriver']) OR $params['dbdriver'] == '')
+	{
+		show_error('You have not selected a database type to connect to.');
+	}
+
+	// Load the DB classes.  Note: Since the active record class is optional
+	// we need to dynamically create a class that extends proper parent class
+	// based on whether we're using the active record class or not.
+	// Kudos to Paul for discovering this clever use of eval()
+	
+	if ($active_record_override == TRUE)
+	{
+		$active_record = TRUE;
+	}
+	
+	require_once(BASEPATH.'database/DB_driver'.EXT);
+
+	if ( ! isset($active_record) OR $active_record == TRUE)
+	{
+		require_once(BASEPATH.'database/DB_active_rec'.EXT);
+		
+		if ( ! class_exists('CI_DB'))
+		{
+			eval('class CI_DB extends CI_DB_active_record { }');
+		}
+	}
+	else
+	{
+		if ( ! class_exists('CI_DB'))
+		{
+			eval('class CI_DB extends CI_DB_driver { }');
+		}
+	}
+			
+	require_once(BASEPATH.'database/drivers/'.$params['dbdriver'].'/'.$params['dbdriver'].'_driver'.EXT);
+
+	// Instantiate the DB adapter
+	$driver = 'CI_DB_'.$params['dbdriver'].'_driver';
+	$DB =& new $driver($params);
+	
+	if ($DB->autoinit == TRUE)
+	{
+		$DB->initialize();
+	}
+	
+	return $DB;
+}	
+
+
+
+/* End of file DB.php */
+/* Location: ./system/database/DB.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/DB_active_rec.php
===================================================================
--- trunk/pintassilgo/system/database/DB_active_rec.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/DB_active_rec.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,1770 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Active Record Class
+ *
+ * This is the platform-independent base Active Record implementation class.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Drivers
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_active_record extends CI_DB_driver {
+
+	var $ar_select				= array();
+	var $ar_distinct			= FALSE;
+	var $ar_from				= array();
+	var $ar_join				= array();
+	var $ar_where				= array();
+	var $ar_like				= array();
+	var $ar_groupby				= array();
+	var $ar_having				= array();
+	var $ar_limit				= FALSE;
+	var $ar_offset				= FALSE;
+	var $ar_order				= FALSE;
+	var $ar_orderby				= array();
+	var $ar_set					= array();	
+	var $ar_wherein				= array();
+	var $ar_aliased_tables		= array();
+	var $ar_store_array			= array();
+	
+	// Active Record Caching variables
+	var $ar_caching 			= FALSE;
+	var $ar_cache_exists		= array();
+	var $ar_cache_select		= array();
+	var $ar_cache_from			= array();
+	var $ar_cache_join			= array();
+	var $ar_cache_where			= array();
+	var $ar_cache_like			= array();
+	var $ar_cache_groupby		= array();
+	var $ar_cache_having		= array();
+	var $ar_cache_orderby		= array();
+	var $ar_cache_set			= array();	
+
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select
+	 *
+	 * Generates the SELECT portion of the query
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	object
+	 */
+	function select($select = '*', $escape = NULL)
+	{
+		// Set the global value if this was sepecified	
+		if (is_bool($escape))
+		{
+			$this->_protect_identifiers = $escape;
+		}
+		
+		if (is_string($select))
+		{
+			$select = explode(',', $select);
+		}
+
+		foreach ($select as $val)
+		{
+			$val = trim($val);
+
+			if ($val != '')
+			{
+				$this->ar_select[] = $val;
+
+				if ($this->ar_caching === TRUE)
+				{
+					$this->ar_cache_select[] = $val;
+					$this->ar_cache_exists[] = 'select';
+				}
+			}
+		}
+		return $this;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select Max
+	 *
+	 * Generates a SELECT MAX(field) portion of a query
+	 *
+	 * @access	public
+	 * @param	string	the field
+	 * @param	string	an alias
+	 * @return	object
+	 */
+	function select_max($select = '', $alias = '')
+	{
+		return $this->_max_min_avg_sum($select, $alias, 'MAX');
+	}
+		
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select Min
+	 *
+	 * Generates a SELECT MIN(field) portion of a query
+	 *
+	 * @access	public
+	 * @param	string	the field
+	 * @param	string	an alias
+	 * @return	object
+	 */
+	function select_min($select = '', $alias = '')
+	{
+		return $this->_max_min_avg_sum($select, $alias, 'MIN');
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select Average
+	 *
+	 * Generates a SELECT AVG(field) portion of a query
+	 *
+	 * @access	public
+	 * @param	string	the field
+	 * @param	string	an alias
+	 * @return	object
+	 */
+	function select_avg($select = '', $alias = '')
+	{
+		return $this->_max_min_avg_sum($select, $alias, 'AVG');
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select Sum
+	 *
+	 * Generates a SELECT SUM(field) portion of a query
+	 *
+	 * @access	public
+	 * @param	string	the field
+	 * @param	string	an alias
+	 * @return	object
+	 */
+	function select_sum($select = '', $alias = '')
+	{
+		return $this->_max_min_avg_sum($select, $alias, 'SUM');
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Processing Function for the four functions above:
+	 *
+	 *	select_max()
+	 *	select_min()
+	 *	select_avg()
+	 *  select_sum()
+	 *	
+	 * @access	public
+	 * @param	string	the field
+	 * @param	string	an alias
+	 * @return	object
+	 */
+	function _max_min_avg_sum($select = '', $alias = '', $type = 'MAX')
+	{
+		if ( ! is_string($select) OR $select == '')
+		{
+			$this->display_error('db_invalid_query');
+		}
+	
+		$type = strtoupper($type);
+	
+		if ( ! in_array($type, array('MAX', 'MIN', 'AVG', 'SUM')))
+		{
+			show_error('Invalid function type: '.$type);
+		}
+	
+		if ($alias == '')
+		{
+			$alias = $this->_create_alias_from_table(trim($select));
+		}
+	
+		$sql = $type.'('.$this->_protect_identifiers(trim($select)).') AS '.$alias;
+
+		$this->ar_select[] = $sql;
+		
+		if ($this->ar_caching === TRUE)
+		{
+			$this->ar_cache_select[] = $sql;
+			$this->ar_cache_exists[] = 'select';
+		}
+		
+		return $this;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Determines the alias name based on the table
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _create_alias_from_table($item)
+	{
+		if (strpos($item, '.') !== FALSE)
+		{
+			return end(explode('.', $item));
+		}
+		
+		return $item;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * DISTINCT
+	 *
+	 * Sets a flag which tells the query string compiler to add DISTINCT
+	 *
+	 * @access	public
+	 * @param	bool
+	 * @return	object
+	 */
+	function distinct($val = TRUE)
+	{
+		$this->ar_distinct = (is_bool($val)) ? $val : TRUE;
+		return $this;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * From
+	 *
+	 * Generates the FROM portion of the query
+	 *
+	 * @access	public
+	 * @param	mixed	can be a string or array
+	 * @return	object
+	 */
+	function from($from)
+	{
+		foreach ((array)$from as $val)
+		{
+			// Extract any aliases that might exist.  We use this information
+			// in the _protect_identifiers to know whether to add a table prefix 
+			$this->_track_aliases($val);
+
+			$this->ar_from[] = $this->_protect_identifiers($val, TRUE, NULL, FALSE);
+			
+			if ($this->ar_caching === TRUE)
+			{
+				$this->ar_cache_from[] = $this->_protect_identifiers($val, TRUE, NULL, FALSE);
+				$this->ar_cache_exists[] = 'from';
+			}
+		}
+
+		return $this;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Join
+	 *
+	 * Generates the JOIN portion of the query
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string	the join condition
+	 * @param	string	the type of join
+	 * @return	object
+	 */
+	function join($table, $cond, $type = '')
+	{		
+		if ($type != '')
+		{
+			$type = strtoupper(trim($type));
+
+			if ( ! in_array($type, array('LEFT', 'RIGHT', 'OUTER', 'INNER', 'LEFT OUTER', 'RIGHT OUTER')))
+			{
+				$type = '';
+			}
+			else
+			{
+				$type .= ' ';
+			}
+		}
+
+		// Extract any aliases that might exist.  We use this information
+		// in the _protect_identifiers to know whether to add a table prefix 
+		$this->_track_aliases($table);
+
+		// Strip apart the condition and protect the identifiers
+		if (preg_match('/([\w\.]+)([\W\s]+)(.+)/', $cond, $match))
+		{
+			$match[1] = $this->_protect_identifiers($match[1]);
+			$match[3] = $this->_protect_identifiers($match[3]);
+		
+			$cond = $match[1].$match[2].$match[3];		
+		}
+		
+		// Assemble the JOIN statement
+		$join = $type.'JOIN '.$this->_protect_identifiers($table, TRUE, NULL, FALSE).' ON '.$cond;
+
+		$this->ar_join[] = $join;
+		if ($this->ar_caching === TRUE)
+		{
+			$this->ar_cache_join[] = $join;
+			$this->ar_cache_exists[] = 'join';
+		}
+
+		return $this;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Where
+	 *
+	 * Generates the WHERE portion of the query. Separates
+	 * multiple calls with AND
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	mixed
+	 * @return	object
+	 */
+	function where($key, $value = NULL, $escape = TRUE)
+	{
+		return $this->_where($key, $value, 'AND ', $escape);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * OR Where
+	 *
+	 * Generates the WHERE portion of the query. Separates
+	 * multiple calls with OR
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	mixed
+	 * @return	object
+	 */
+	function or_where($key, $value = NULL, $escape = TRUE)
+	{
+		return $this->_where($key, $value, 'OR ', $escape);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * orwhere() is an alias of or_where()
+	 * this function is here for backwards compatibility, as
+	 * orwhere() has been deprecated
+	 */
+	function orwhere($key, $value = NULL, $escape = TRUE)
+	{
+		return $this->or_where($key, $value, $escape);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Where
+	 *
+	 * Called by where() or orwhere()
+	 *
+	 * @access	private
+	 * @param	mixed
+	 * @param	mixed
+	 * @param	string
+	 * @return	object
+	 */
+	function _where($key, $value = NULL, $type = 'AND ', $escape = NULL)
+	{
+		if ( ! is_array($key))
+		{
+			$key = array($key => $value);
+		}
+		
+		// If the escape value was not set will will base it on the global setting
+		if ( ! is_bool($escape))
+		{
+			$escape = $this->_protect_identifiers;
+		}
+
+		foreach ($key as $k => $v)
+		{
+			$prefix = (count($this->ar_where) == 0 AND count($this->ar_cache_where) == 0) ? '' : $type;
+
+			if (is_null($v) && ! $this->_has_operator($k))
+			{
+				// value appears not to have been set, assign the test to IS NULL
+				$k .= ' IS NULL';
+			}
+			
+			if ( ! is_null($v))
+			{
+				if ($escape === TRUE)
+				{
+					$k = $this->_protect_identifiers($k, FALSE, $escape);
+					
+					$v = ' '.$this->escape($v);
+				}
+
+				if ( ! $this->_has_operator($k))
+				{
+					$k .= ' =';
+				}
+			}
+			else
+			{
+				$k = $this->_protect_identifiers($k, FALSE, $escape);			
+			}
+
+			$this->ar_where[] = $prefix.$k.$v;
+			
+			if ($this->ar_caching === TRUE)
+			{
+				$this->ar_cache_where[] = $prefix.$k.$v;
+				$this->ar_cache_exists[] = 'where';
+			}
+			
+		}
+		
+		return $this;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Where_in
+	 *
+	 * Generates a WHERE field IN ('item', 'item') SQL query joined with
+	 * AND if appropriate
+	 *
+	 * @access	public
+	 * @param	string	The field to search
+	 * @param	array	The values searched on
+	 * @return	object
+	 */
+	function where_in($key = NULL, $values = NULL)
+	{
+		return $this->_where_in($key, $values);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Where_in_or
+	 *
+	 * Generates a WHERE field IN ('item', 'item') SQL query joined with
+	 * OR if appropriate
+	 *
+	 * @access	public
+	 * @param	string	The field to search
+	 * @param	array	The values searched on
+	 * @return	object
+	 */
+	function or_where_in($key = NULL, $values = NULL)
+	{
+		return $this->_where_in($key, $values, FALSE, 'OR ');
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Where_not_in
+	 *
+	 * Generates a WHERE field NOT IN ('item', 'item') SQL query joined
+	 * with AND if appropriate
+	 *
+	 * @access	public
+	 * @param	string	The field to search
+	 * @param	array	The values searched on
+	 * @return	object
+	 */
+	function where_not_in($key = NULL, $values = NULL)
+	{
+		return $this->_where_in($key, $values, TRUE);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Where_not_in_or
+	 *
+	 * Generates a WHERE field NOT IN ('item', 'item') SQL query joined
+	 * with OR if appropriate
+	 *
+	 * @access	public
+	 * @param	string	The field to search
+	 * @param	array	The values searched on
+	 * @return	object
+	 */
+	function or_where_not_in($key = NULL, $values = NULL)
+	{
+		return $this->_where_in($key, $values, TRUE, 'OR ');
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Where_in
+	 *
+	 * Called by where_in, where_in_or, where_not_in, where_not_in_or
+	 *
+	 * @access	public
+	 * @param	string	The field to search
+	 * @param	array	The values searched on
+	 * @param	boolean	If the statement would be IN or NOT IN
+	 * @param	string	
+	 * @return	object
+	 */
+	function _where_in($key = NULL, $values = NULL, $not = FALSE, $type = 'AND ')
+	{
+		if ($key === NULL OR $values === NULL)
+		{
+			return;
+		}
+		
+		if ( ! is_array($values))
+		{
+			$values = array($values);
+		}
+		
+		$not = ($not) ? ' NOT' : '';
+
+		foreach ($values as $value)
+		{
+			$this->ar_wherein[] = $this->escape($value);
+		}
+
+		$prefix = (count($this->ar_where) == 0) ? '' : $type;
+ 
+		$where_in = $prefix . $this->_protect_identifiers($key) . $not . " IN (" . implode(", ", $this->ar_wherein) . ") ";
+
+		$this->ar_where[] = $where_in;
+		if ($this->ar_caching === TRUE)
+		{
+			$this->ar_cache_where[] = $where_in;
+			$this->ar_cache_exists[] = 'where';
+		}
+
+		// reset the array for multiple calls
+		$this->ar_wherein = array();
+		return $this;
+	}
+		
+	// --------------------------------------------------------------------
+
+	/**
+	 * Like
+	 *
+	 * Generates a %LIKE% portion of the query. Separates
+	 * multiple calls with AND
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	mixed
+	 * @return	object
+	 */
+	function like($field, $match = '', $side = 'both')
+	{
+		return $this->_like($field, $match, 'AND ', $side);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Not Like
+	 *
+	 * Generates a NOT LIKE portion of the query. Separates
+	 * multiple calls with AND
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	mixed
+	 * @return	object
+	 */
+	function not_like($field, $match = '', $side = 'both')
+	{
+		return $this->_like($field, $match, 'AND ', $side, 'NOT');
+	}
+		
+	// --------------------------------------------------------------------
+
+	/**
+	 * OR Like
+	 *
+	 * Generates a %LIKE% portion of the query. Separates
+	 * multiple calls with OR
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	mixed
+	 * @return	object
+	 */
+	function or_like($field, $match = '', $side = 'both')
+	{
+		return $this->_like($field, $match, 'OR ', $side);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * OR Not Like
+	 *
+	 * Generates a NOT LIKE portion of the query. Separates
+	 * multiple calls with OR
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	mixed
+	 * @return	object
+	 */
+	function or_not_like($field, $match = '', $side = 'both')
+	{
+		return $this->_like($field, $match, 'OR ', $side, 'NOT');
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * orlike() is an alias of or_like()
+	 * this function is here for backwards compatibility, as
+	 * orlike() has been deprecated
+	 */
+	function orlike($field, $match = '', $side = 'both')
+	{
+		return $this->or_like($field, $match, $side);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Like
+	 *
+	 * Called by like() or orlike()
+	 *
+	 * @access	private
+	 * @param	mixed
+	 * @param	mixed
+	 * @param	string
+	 * @return	object
+	 */
+	function _like($field, $match = '', $type = 'AND ', $side = 'both', $not = '')
+	{
+		if ( ! is_array($field))
+		{
+			$field = array($field => $match);
+		}
+ 	
+		foreach ($field as $k => $v)
+		{
+			$k = $this->_protect_identifiers($k);
+
+			$prefix = (count($this->ar_like) == 0) ? '' : $type;
+
+			$v = $this->escape_str($v);
+
+			if ($side == 'before')
+			{
+				$like_statement = $prefix." $k $not LIKE '%{$v}'";
+			}
+			elseif ($side == 'after')
+			{
+				$like_statement = $prefix." $k $not LIKE '{$v}%'";
+			}
+			else
+			{
+				$like_statement = $prefix." $k $not LIKE '%{$v}%'";
+			}
+			
+			$this->ar_like[] = $like_statement;
+			if ($this->ar_caching === TRUE)
+			{
+				$this->ar_cache_like[] = $like_statement;
+				$this->ar_cache_exists[] = 'like';
+			}
+			
+		}
+		return $this;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * GROUP BY
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	object
+	 */
+	function group_by($by)
+	{
+		if (is_string($by))
+		{
+			$by = explode(',', $by);
+		}
+	
+		foreach ($by as $val)
+		{
+			$val = trim($val);
+		
+			if ($val != '')
+			{
+				$this->ar_groupby[] = $this->_protect_identifiers($val);
+				
+				if ($this->ar_caching === TRUE)
+				{
+					$this->ar_cache_groupby[] = $this->_protect_identifiers($val);
+					$this->ar_cache_exists[] = 'groupby';
+				}
+			}
+		}
+		return $this;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * groupby() is an alias of group_by()
+	 * this function is here for backwards compatibility, as
+	 * groupby() has been deprecated
+	 */
+	function groupby($by)
+	{
+		return $this->group_by($by);
+	}	
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Sets the HAVING value
+	 *
+	 * Separates multiple calls with AND
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	object
+	 */
+	function having($key, $value = '', $escape = TRUE)
+	{
+		return $this->_having($key, $value, 'AND ', $escape);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * orhaving() is an alias of or_having()
+	 * this function is here for backwards compatibility, as
+	 * orhaving() has been deprecated
+	 */
+
+	function orhaving($key, $value = '', $escape = TRUE)
+	{
+		return $this->or_having($key, $value, $escape);
+	}	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Sets the OR HAVING value
+	 *
+	 * Separates multiple calls with OR
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	object
+	 */
+	function or_having($key, $value = '', $escape = TRUE)
+	{
+		return $this->_having($key, $value, 'OR ', $escape);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Sets the HAVING values
+	 *
+	 * Called by having() or or_having()
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @return	object
+	 */
+	function _having($key, $value = '', $type = 'AND ', $escape = TRUE)
+	{
+		if ( ! is_array($key))
+		{
+			$key = array($key => $value);
+		}
+	
+		foreach ($key as $k => $v)
+		{
+			$prefix = (count($this->ar_having) == 0) ? '' : $type;
+
+			if ($escape === TRUE)
+			{
+				$k = $this->_protect_identifiers($k);
+			}
+
+			if ( ! $this->_has_operator($k))
+			{
+				$k .= ' = ';
+			}
+
+			if ($v != '')
+			{
+				$v = ' '.$this->escape_str($v);
+			}
+			
+			$this->ar_having[] = $prefix.$k.$v;
+			if ($this->ar_caching === TRUE)
+			{
+				$this->ar_cache_having[] = $prefix.$k.$v;
+				$this->ar_cache_exists[] = 'having';
+			}
+		}
+		
+		return $this;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Sets the ORDER BY value
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string	direction: asc or desc
+	 * @return	object
+	 */
+	function order_by($orderby, $direction = '')
+	{
+		if (strtolower($direction) == 'random')
+		{
+			$orderby = ''; // Random results want or don't need a field name
+			$direction = $this->_random_keyword;
+		}
+		elseif (trim($direction) != '')
+		{
+			$direction = (in_array(strtoupper(trim($direction)), array('ASC', 'DESC'), TRUE)) ? ' '.$direction : ' ASC';
+		}
+		
+		$orderby_statement = $this->_protect_identifiers($orderby).$direction;
+		
+		$this->ar_orderby[] = $orderby_statement;
+		if ($this->ar_caching === TRUE)
+		{
+			$this->ar_cache_orderby[] = $orderby_statement;
+			$this->ar_cache_exists[] = 'orderby';
+		}
+
+		return $this;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * orderby() is an alias of order_by()
+	 * this function is here for backwards compatibility, as
+	 * orderby() has been deprecated
+	 */
+	function orderby($orderby, $direction = '')
+	{
+		return $this->order_by($orderby, $direction);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Sets the LIMIT value
+	 *
+	 * @access	public
+	 * @param	integer	the limit value
+	 * @param	integer	the offset value
+	 * @return	object
+	 */
+	function limit($value, $offset = '')
+	{
+		$this->ar_limit = $value;
+
+		if ($offset != '')
+		{
+			$this->ar_offset = $offset;
+		}
+		
+		return $this;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Sets the OFFSET value
+	 *
+	 * @access	public
+	 * @param	integer	the offset value
+	 * @return	object
+	 */
+	function offset($offset)
+	{
+		$this->ar_offset = $offset;
+		return $this;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * The "set" function.  Allows key/value pairs to be set for inserting or updating
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	string
+	 * @param	boolean
+	 * @return	object
+	 */
+	function set($key, $value = '', $escape = TRUE)
+	{
+		$key = $this->_object_to_array($key);
+	
+		if ( ! is_array($key))
+		{
+			$key = array($key => $value);
+		}	
+
+		foreach ($key as $k => $v)
+		{
+			if ($escape === FALSE)
+			{
+				$this->ar_set[$this->_protect_identifiers($k)] = $v;
+			}
+			else
+			{
+				$this->ar_set[$this->_protect_identifiers($k)] = $this->escape($v);
+			}
+		}
+		
+		return $this;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get
+	 *
+	 * Compiles the select statement based on the other functions called
+	 * and runs the query
+	 *
+	 * @access	public
+	 * @param	string	the table
+	 * @param	string	the limit clause
+	 * @param	string	the offset clause
+	 * @return	object
+	 */
+	function get($table = '', $limit = null, $offset = null)
+	{
+		if ($table != '')
+		{
+			$this->_track_aliases($table);
+			$this->from($table);
+		}
+		
+		if ( ! is_null($limit))
+		{
+			$this->limit($limit, $offset);
+		}
+			
+		$sql = $this->_compile_select();
+
+		$result = $this->query($sql);
+		$this->_reset_select();
+		return $result;
+	}
+
+	/**
+	 * "Count All Results" query
+	 *
+	 * Generates a platform-specific query string that counts all records 
+	 * returned by an Active Record query.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function count_all_results($table = '')
+	{
+		if ($table != '')
+		{
+			$this->_track_aliases($table);
+			$this->from($table);
+		}
+		
+		$sql = $this->_compile_select($this->_count_string . $this->_protect_identifiers('numrows'));
+
+		$query = $this->query($sql);
+		$this->_reset_select();
+	
+		if ($query->num_rows() == 0)
+		{
+			return '0';
+		}
+
+		$row = $query->row();
+		return $row->numrows;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get_Where
+	 *
+	 * Allows the where clause, limit and offset to be added directly
+	 *
+	 * @access	public
+	 * @param	string	the where clause
+	 * @param	string	the limit clause
+	 * @param	string	the offset clause
+	 * @return	object
+	 */
+	function get_where($table = '', $where = null, $limit = null, $offset = null)
+	{
+		if ($table != '')
+		{
+			$this->from($table);
+		}
+
+		if ( ! is_null($where))
+		{
+			$this->where($where);
+		}
+		
+		if ( ! is_null($limit))
+		{
+			$this->limit($limit, $offset);
+		}
+			
+		$sql = $this->_compile_select();
+
+		$result = $this->query($sql);
+		$this->_reset_select();
+		return $result;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * getwhere() is an alias of get_where()
+	 * this function is here for backwards compatibility, as
+	 * getwhere() has been deprecated
+	 */
+	function getwhere($table = '', $where = null, $limit = null, $offset = null)
+	{
+		return $this->get_where($table, $where, $limit, $offset);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Insert
+	 *
+	 * Compiles an insert string and runs the query
+	 *
+	 * @access	public
+	 * @param	string	the table to retrieve the results from
+	 * @param	array	an associative array of insert values
+	 * @return	object
+	 */
+	function insert($table = '', $set = NULL)
+	{	
+		if ( ! is_null($set))
+		{
+			$this->set($set);
+		}
+	
+		if (count($this->ar_set) == 0)
+		{
+			if ($this->db_debug)
+			{
+				return $this->display_error('db_must_use_set');
+			}
+			return FALSE;
+		}
+
+		if ($table == '')
+		{
+			if ( ! isset($this->ar_from[0]))
+			{
+				if ($this->db_debug)
+				{
+					return $this->display_error('db_must_set_table');
+				}
+				return FALSE;
+			}
+			
+			$table = $this->ar_from[0];
+		}
+
+		$sql = $this->_insert($this->_protect_identifiers($table, TRUE, NULL, FALSE), array_keys($this->ar_set), array_values($this->ar_set));
+		
+		$this->_reset_write();
+		return $this->query($sql);		
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Update
+	 *
+	 * Compiles an update string and runs the query
+	 *
+	 * @access	public
+	 * @param	string	the table to retrieve the results from
+	 * @param	array	an associative array of update values
+	 * @param	mixed	the where clause
+	 * @return	object
+	 */
+	function update($table = '', $set = NULL, $where = NULL, $limit = NULL)
+	{
+		// Combine any cached components with the current statements
+		$this->_merge_cache();
+
+		if ( ! is_null($set))
+		{
+			$this->set($set);
+		}
+	
+		if (count($this->ar_set) == 0)
+		{
+			if ($this->db_debug)
+			{
+				return $this->display_error('db_must_use_set');
+			}
+			return FALSE;
+		}
+
+		if ($table == '')
+		{
+			if ( ! isset($this->ar_from[0]))
+			{
+				if ($this->db_debug)
+				{
+					return $this->display_error('db_must_set_table');
+				}
+				return FALSE;
+			}
+			
+			$table = $this->ar_from[0];
+		}
+		
+		if ($where != NULL)
+		{
+			$this->where($where);
+		}
+
+		if ($limit != NULL)
+		{
+			$this->limit($limit);
+		}
+		
+		$sql = $this->_update($this->_protect_identifiers($table, TRUE, NULL, FALSE), $this->ar_set, $this->ar_where, $this->ar_orderby, $this->ar_limit);
+		
+		$this->_reset_write();
+		return $this->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Empty Table
+	 *
+	 * Compiles a delete string and runs "DELETE FROM table"
+	 *
+	 * @access	public
+	 * @param	string	the table to empty
+	 * @return	object
+	 */
+	function empty_table($table = '')
+	{
+		if ($table == '')
+		{
+			if ( ! isset($this->ar_from[0]))
+			{
+				if ($this->db_debug)
+				{
+					return $this->display_error('db_must_set_table');
+				}
+				return FALSE;
+			}
+
+			$table = $this->ar_from[0];
+		}
+		else
+		{
+			$table = $this->_protect_identifiers($table, TRUE, NULL, FALSE);
+		}
+
+		$sql = $this->_delete($table);
+
+		$this->_reset_write();
+		
+		return $this->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Truncate
+	 *
+	 * Compiles a truncate string and runs the query
+	 * If the database does not support the truncate() command
+	 * This function maps to "DELETE FROM table"
+	 *
+	 * @access	public
+	 * @param	string	the table to truncate
+	 * @return	object
+	 */
+	function truncate($table = '')
+	{
+		if ($table == '')
+		{
+			if ( ! isset($this->ar_from[0]))
+			{
+				if ($this->db_debug)
+				{
+					return $this->display_error('db_must_set_table');
+				}
+				return FALSE;
+			}
+
+			$table = $this->ar_from[0];
+		}
+		else
+		{
+			$table = $this->_protect_identifiers($table, TRUE, NULL, FALSE);
+		}
+
+		$sql = $this->_truncate($table);
+
+		$this->_reset_write();
+		
+		return $this->query($sql);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete
+	 *
+	 * Compiles a delete string and runs the query
+	 *
+	 * @access	public
+	 * @param	mixed	the table(s) to delete from. String or array
+	 * @param	mixed	the where clause
+	 * @param	mixed	the limit clause
+	 * @param	boolean
+	 * @return	object
+	 */
+	function delete($table = '', $where = '', $limit = NULL, $reset_data = TRUE)
+	{
+		// Combine any cached components with the current statements
+		$this->_merge_cache();
+
+		if ($table == '')
+		{
+			if ( ! isset($this->ar_from[0]))
+			{
+				if ($this->db_debug)
+				{
+					return $this->display_error('db_must_set_table');
+				}
+				return FALSE;
+			}
+
+			$table = $this->ar_from[0];
+		}
+		elseif (is_array($table))
+		{
+			foreach($table as $single_table)
+			{
+				$this->delete($single_table, $where, $limit, FALSE);
+			}
+
+			$this->_reset_write();
+			return;
+		}
+		else
+		{
+			$table = $this->_protect_identifiers($table, TRUE, NULL, FALSE);
+		}
+
+		if ($where != '')
+		{
+			$this->where($where);
+		}
+
+		if ($limit != NULL)
+		{
+			$this->limit($limit);
+		}
+
+		if (count($this->ar_where) == 0 && count($this->ar_like) == 0)
+		{
+			if ($this->db_debug)
+			{
+				return $this->display_error('db_del_must_use_where');
+			}
+
+			return FALSE;
+		}		
+
+		$sql = $this->_delete($table, $this->ar_where, $this->ar_like, $this->ar_limit);
+
+		if ($reset_data)
+		{
+			$this->_reset_write();
+		}
+		
+		return $this->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * DB Prefix
+	 *
+	 * Prepends a database prefix if one exists in configuration
+	 *
+	 * @access	public
+	 * @param	string	the table
+	 * @return	string
+	 */
+	function dbprefix($table = '')
+	{
+		if ($table == '')
+		{
+			$this->display_error('db_table_name_required');
+		}
+
+		return $this->dbprefix.$table;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Track Aliases
+	 *
+	 * Used to track SQL statements written with aliased tables.
+	 *
+	 * @access	private
+	 * @param	string	The table to inspect
+	 * @return	string
+	 */	
+	function _track_aliases($table)
+	{
+		if (is_array($table))
+		{
+			foreach ($table as $t)
+			{
+				$this->_track_aliases($t);
+			}
+			return;
+		}
+		
+		// Does the string contain a comma?  If so, we need to separate
+		// the string into discreet statements
+		if (strpos($table, ',') !== FALSE)
+		{
+			return $this->_track_aliases(explode(',', $table));
+		}
+	
+		// if a table alias is used we can recognize it by a space
+		if (strpos($table, " ") !== FALSE)
+		{
+			// if the alias is written with the AS keyword, remove it
+			$table = preg_replace('/ AS /i', ' ', $table);
+			
+			// Grab the alias
+			$table = trim(strrchr($table, " "));
+			
+			// Store the alias, if it doesn't already exist
+			if ( ! in_array($table, $this->ar_aliased_tables))
+			{
+				$this->ar_aliased_tables[] = $table;
+			}
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Compile the SELECT statement
+	 *
+	 * Generates a query string based on which functions were used.
+	 * Should not be called directly.  The get() function calls it.
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _compile_select($select_override = FALSE)
+	{
+		// Combine any cached components with the current statements
+		$this->_merge_cache();
+
+		// ----------------------------------------------------------------
+		
+		// Write the "select" portion of the query
+
+		if ($select_override !== FALSE)
+		{
+			$sql = $select_override;
+		}
+		else
+		{
+			$sql = ( ! $this->ar_distinct) ? 'SELECT ' : 'SELECT DISTINCT ';
+		
+			if (count($this->ar_select) == 0)
+			{
+				$sql .= '*';		
+			}
+			else
+			{				
+				// Cycle through the "select" portion of the query and prep each column name.
+				// The reason we protect identifiers here rather then in the select() function
+				// is because until the user calls the from() function we don't know if there are aliases
+				foreach ($this->ar_select as $key => $val)
+				{
+					$this->ar_select[$key] = $this->_protect_identifiers($val);
+				}
+				
+				$sql .= implode(', ', $this->ar_select);
+			}
+		}
+
+		// ----------------------------------------------------------------
+		
+		// Write the "FROM" portion of the query
+
+		if (count($this->ar_from) > 0)
+		{
+			$sql .= "\nFROM ";
+
+			$sql .= $this->_from_tables($this->ar_from);
+		}
+
+		// ----------------------------------------------------------------
+		
+		// Write the "JOIN" portion of the query
+
+		if (count($this->ar_join) > 0)
+		{
+			$sql .= "\n";
+
+			$sql .= implode("\n", $this->ar_join);
+		}
+
+		// ----------------------------------------------------------------
+		
+		// Write the "WHERE" portion of the query
+
+		if (count($this->ar_where) > 0 OR count($this->ar_like) > 0)
+		{
+			$sql .= "\n";
+
+			$sql .= "WHERE ";
+		}
+
+		$sql .= implode("\n", $this->ar_where);
+
+		// ----------------------------------------------------------------
+		
+		// Write the "LIKE" portion of the query
+	
+		if (count($this->ar_like) > 0)
+		{
+			if (count($this->ar_where) > 0)
+			{
+				$sql .= "\nAND ";
+			}
+
+			$sql .= implode("\n", $this->ar_like);
+		}
+
+		// ----------------------------------------------------------------
+		
+		// Write the "GROUP BY" portion of the query
+	
+		if (count($this->ar_groupby) > 0)
+		{
+			$sql .= "\nGROUP BY ";
+			
+			$sql .= implode(', ', $this->ar_groupby);
+		}
+
+		// ----------------------------------------------------------------
+		
+		// Write the "HAVING" portion of the query
+		
+		if (count($this->ar_having) > 0)
+		{
+			$sql .= "\nHAVING ";
+			$sql .= implode("\n", $this->ar_having);
+		}
+
+		// ----------------------------------------------------------------
+		
+		// Write the "ORDER BY" portion of the query
+
+		if (count($this->ar_orderby) > 0)
+		{
+			$sql .= "\nORDER BY ";
+			$sql .= implode(', ', $this->ar_orderby);
+			
+			if ($this->ar_order !== FALSE)
+			{
+				$sql .= ($this->ar_order == 'desc') ? ' DESC' : ' ASC';
+			}		
+		}
+
+		// ----------------------------------------------------------------
+		
+		// Write the "LIMIT" portion of the query
+		
+		if (is_numeric($this->ar_limit))
+		{
+			$sql .= "\n";
+			$sql = $this->_limit($sql, $this->ar_limit, $this->ar_offset);
+		}
+
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Object to Array
+	 *
+	 * Takes an object as input and converts the class variables to array key/vals
+	 *
+	 * @access	public
+	 * @param	object
+	 * @return	array
+	 */
+	function _object_to_array($object)
+	{
+		if ( ! is_object($object))
+		{
+			return $object;
+		}
+		
+		$array = array();
+		foreach (get_object_vars($object) as $key => $val)
+		{
+			// There are some built in keys we need to ignore for this conversion
+			if ( ! is_object($val) && ! is_array($val) && $key != '_parent_name' && $key != '_ci_scaffolding' && $key != '_ci_scaff_table')
+			{
+				$array[$key] = $val;
+			}
+		}
+	
+		return $array;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Start Cache
+	 *
+	 * Starts AR caching
+	 *
+	 * @access	public
+	 * @return	void
+	 */		
+	function start_cache()
+	{
+		$this->ar_caching = TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Stop Cache
+	 *
+	 * Stops AR caching
+	 *
+	 * @access	public
+	 * @return	void
+	 */		
+	function stop_cache()
+	{
+		$this->ar_caching = FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Flush Cache
+	 *
+	 * Empties the AR cache
+	 *
+	 * @access	public
+	 * @return	void
+	 */	
+	function flush_cache()
+	{	
+		$this->_reset_run(
+							array(
+									'ar_cache_select'	=> array(), 
+									'ar_cache_from'		=> array(), 
+									'ar_cache_join'		=> array(),
+									'ar_cache_where'	=> array(), 
+									'ar_cache_like'		=> array(), 
+									'ar_cache_groupby'	=> array(), 
+									'ar_cache_having'	=> array(), 
+									'ar_cache_orderby'	=> array(), 
+									'ar_cache_set'		=> array(),
+									'ar_cache_exists'	=> array()
+								)
+							);	
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Merge Cache
+	 *
+	 * When called, this function merges any cached AR arrays with 
+	 * locally called ones.
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _merge_cache()
+	{
+		if (count($this->ar_cache_exists) == 0)
+		{
+			return;
+		}
+
+		foreach ($this->ar_cache_exists as $val)
+		{
+			$ar_variable	= 'ar_'.$val;
+			$ar_cache_var	= 'ar_cache_'.$val;
+
+			if (count($this->$ar_cache_var) == 0)
+			{
+				continue;
+			}
+
+			$this->$ar_variable = array_unique(array_merge($this->$ar_cache_var, $this->$ar_variable));
+		}
+
+		// If we are "protecting identifiers" we need to examine the "from"
+		// portion of the query to determine if there are any aliases
+		if ($this->_protect_identifiers === TRUE AND count($this->ar_cache_from) > 0)
+		{
+			$this->_track_aliases($this->ar_from);
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Resets the active record values.  Called by the get() function
+	 *
+	 * @access	private
+	 * @param	array	An array of fields to reset
+	 * @return	void
+	 */
+	function _reset_run($ar_reset_items)
+	{
+		foreach ($ar_reset_items as $item => $default_value)
+		{
+			if ( ! in_array($item, $this->ar_store_array))
+			{
+				$this->$item = $default_value;
+			}
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Resets the active record values.  Called by the get() function
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _reset_select()
+	{
+		$ar_reset_items = array(
+								'ar_select'			=> array(), 
+								'ar_from'			=> array(), 
+								'ar_join'			=> array(), 
+								'ar_where'			=> array(), 
+								'ar_like'			=> array(), 
+								'ar_groupby'		=> array(), 
+								'ar_having'			=> array(), 
+								'ar_orderby'		=> array(), 
+								'ar_wherein'		=> array(), 
+								'ar_aliased_tables'	=> array(),
+								'ar_distinct'		=> FALSE, 
+								'ar_limit'			=> FALSE, 
+								'ar_offset'			=> FALSE, 
+								'ar_order'			=> FALSE,
+							);
+		
+		$this->_reset_run($ar_reset_items);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Resets the active record "write" values.
+	 *
+	 * Called by the insert() update() and delete() functions
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _reset_write()
+	{	
+		$ar_reset_items = array(
+								'ar_set'		=> array(), 
+								'ar_from'		=> array(), 
+								'ar_where'		=> array(), 
+								'ar_like'		=> array(),
+								'ar_orderby'	=> array(), 
+								'ar_limit'		=> FALSE, 
+								'ar_order'		=> FALSE
+								);
+
+		$this->_reset_run($ar_reset_items);
+	}
+	
+}
+
+/* End of file DB_active_rec.php */
+/* Location: ./system/database/DB_active_rec.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/DB_cache.php
===================================================================
--- trunk/pintassilgo/system/database/DB_cache.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/DB_cache.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,195 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Database Cache Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_Cache {
+
+	var $CI;
+	var $db;	// allows passing of db object so that multiple database connections and returned db objects can be supported
+
+	/**
+	 * Constructor
+	 *
+	 * Grabs the CI super object instance so we can access it.
+	 *
+	 */	
+	function CI_DB_Cache(&$db)
+	{
+		// Assign the main CI object to $this->CI
+		// and load the file helper since we use it a lot
+		$this->CI =& get_instance();
+		$this->db =& $db;
+		$this->CI->load->helper('file');	
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Cache Directory Path
+	 *
+	 * @access	public
+	 * @param	string	the path to the cache directory
+	 * @return	bool
+	 */		
+	function check_path($path = '')
+	{
+		if ($path == '')
+		{
+			if ($this->db->cachedir == '')
+			{
+				return $this->db->cache_off();
+			}
+		
+			$path = $this->db->cachedir;
+		}
+	
+		// Add a trailing slash to the path if needed
+		$path = preg_replace("/(.+?)\/*$/", "\\1/",  $path);
+
+		if ( ! is_dir($path) OR ! is_really_writable($path))
+		{
+			// If the path is wrong we'll turn off caching
+			return $this->db->cache_off();
+		}
+		
+		$this->db->cachedir = $path;
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Retrieve a cached query
+	 *
+	 * The URI being requested will become the name of the cache sub-folder.
+	 * An MD5 hash of the SQL statement will become the cache file name
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function read($sql)
+	{
+		if ( ! $this->check_path())
+		{
+			return $this->db->cache_off();
+		}
+
+		$segment_one = ($this->CI->uri->segment(1) == FALSE) ? 'default' : $this->CI->uri->segment(1);
+		
+		$segment_two = ($this->CI->uri->segment(2) == FALSE) ? 'index' : $this->CI->uri->segment(2);
+	
+		$filepath = $this->db->cachedir.$segment_one.'+'.$segment_two.'/'.md5($sql);		
+		
+		if (FALSE === ($cachedata = read_file($filepath)))
+		{	
+			return FALSE;
+		}
+		
+		return unserialize($cachedata);			
+	}	
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Write a query to a cache file
+	 *
+	 * @access	public
+	 * @return	bool
+	 */
+	function write($sql, $object)
+	{
+		if ( ! $this->check_path())
+		{
+			return $this->db->cache_off();
+		}
+
+		$segment_one = ($this->CI->uri->segment(1) == FALSE) ? 'default' : $this->CI->uri->segment(1);
+		
+		$segment_two = ($this->CI->uri->segment(2) == FALSE) ? 'index' : $this->CI->uri->segment(2);
+	
+		$dir_path = $this->db->cachedir.$segment_one.'+'.$segment_two.'/';
+		
+		$filename = md5($sql);
+	
+		if ( ! @is_dir($dir_path))
+		{
+			if ( ! @mkdir($dir_path, DIR_WRITE_MODE))
+			{
+				return FALSE;
+			}
+			
+			@chmod($dir_path, DIR_WRITE_MODE);			
+		}
+		
+		if (write_file($dir_path.$filename, serialize($object)) === FALSE)
+		{
+			return FALSE;
+		}
+		
+		@chmod($dir_path.$filename, DIR_WRITE_MODE);
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete cache files within a particular directory
+	 *
+	 * @access	public
+	 * @return	bool
+	 */
+	function delete($segment_one = '', $segment_two = '')
+	{	
+		if ($segment_one == '')
+		{
+			$segment_one  = ($this->CI->uri->segment(1) == FALSE) ? 'default' : $this->CI->uri->segment(1);
+		}
+		
+		if ($segment_two == '')
+		{
+			$segment_two = ($this->CI->uri->segment(2) == FALSE) ? 'index' : $this->CI->uri->segment(2);
+		}
+		
+		$dir_path = $this->db->cachedir.$segment_one.'+'.$segment_two.'/';
+		
+		delete_files($dir_path, TRUE);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete all existing cache files
+	 *
+	 * @access	public
+	 * @return	bool
+	 */
+	function delete_all()
+	{
+		delete_files($this->db->cachedir, TRUE);
+	}
+
+}
+
+
+/* End of file DB_cache.php */
+/* Location: ./system/database/DB_cache.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/DB_driver.php
===================================================================
--- trunk/pintassilgo/system/database/DB_driver.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/DB_driver.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,1319 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Database Driver Class
+ *
+ * This is the platform-independent base DB implementation class.
+ * This class will not be called directly. Rather, the adapter
+ * class for the specific database will extend and instantiate it.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Drivers
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_driver {
+
+	var $username;
+	var $password;
+	var $hostname;
+	var $database;
+	var $dbdriver		= 'mysql';
+	var $dbprefix		= '';
+	var $char_set		= 'utf8';
+	var $dbcollat		= 'utf8_general_ci';
+	var $autoinit		= TRUE; // Whether to automatically initialize the DB
+	var $swap_pre		= '';
+	var $port			= '';
+	var $pconnect		= FALSE;
+	var $conn_id		= FALSE;
+	var $result_id		= FALSE;
+	var $db_debug		= FALSE;
+	var $benchmark		= 0;
+	var $query_count	= 0;
+	var $bind_marker	= '?';
+	var $save_queries	= TRUE;
+	var $queries		= array();
+	var $query_times	= array();
+	var $data_cache		= array();
+	var $trans_enabled	= TRUE;
+	var $trans_strict	= TRUE;
+	var $_trans_depth	= 0;
+	var $_trans_status	= TRUE; // Used with transactions to determine if a rollback should occur
+	var $cache_on		= FALSE;
+	var $cachedir		= '';
+	var $cache_autodel	= FALSE;
+	var $CACHE; // The cache class object
+
+	// Private variables
+	var $_protect_identifiers	= TRUE;
+	var $_reserved_identifiers	= array('*'); // Identifiers that should NOT be escaped
+
+	// These are use with Oracle
+	var $stmt_id;
+	var $curs_id;
+	var $limit_used;
+
+
+	
+	/**
+	 * Constructor.  Accepts one parameter containing the database
+	 * connection settings.
+	 *
+	 * @param array
+	 */	
+	function CI_DB_driver($params)
+	{
+		if (is_array($params))
+		{
+			foreach ($params as $key => $val)
+			{
+				$this->$key = $val;
+			}
+		}
+
+		log_message('debug', 'Database Driver Class Initialized');
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Initialize Database Settings
+	 *
+	 * @access	private Called by the constructor
+	 * @param	mixed
+	 * @return	void
+	 */	
+	function initialize()
+	{
+		// If an existing connection resource is available
+		// there is no need to connect and select the database
+		if (is_resource($this->conn_id) OR is_object($this->conn_id))
+		{
+			return TRUE;
+		}
+	
+		// ----------------------------------------------------------------
+		
+		// Connect to the database and set the connection ID
+		$this->conn_id = ($this->pconnect == FALSE) ? $this->db_connect() : $this->db_pconnect();
+
+		// No connection resource?  Throw an error
+		if ( ! $this->conn_id)
+		{
+			log_message('error', 'Unable to connect to the database');
+			
+			if ($this->db_debug)
+			{
+				$this->display_error('db_unable_to_connect');
+			}
+			return FALSE;
+		}
+
+		// ----------------------------------------------------------------
+
+		// Select the DB... assuming a database name is specified in the config file
+		if ($this->database != '')
+		{
+			if ( ! $this->db_select())
+			{
+				log_message('error', 'Unable to select database: '.$this->database);
+			
+				if ($this->db_debug)
+				{
+					$this->display_error('db_unable_to_select', $this->database);
+				}
+				return FALSE;			
+			}
+			else
+			{
+				// We've selected the DB. Now we set the character set
+				if ( ! $this->db_set_charset($this->char_set, $this->dbcollat))
+				{
+					return FALSE;
+				}
+		
+				return TRUE;
+			}
+		}
+
+		return TRUE;
+	}
+		
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set client character set
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	resource
+	 */
+	function db_set_charset($charset, $collation)
+	{
+		if ( ! $this->_db_set_charset($this->char_set, $this->dbcollat))
+		{
+			log_message('error', 'Unable to set database connection charset: '.$this->char_set);
+		
+			if ($this->db_debug)
+			{
+				$this->display_error('db_unable_to_set_charset', $this->char_set);
+			}
+			
+			return FALSE;
+		}
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * The name of the platform in use (mysql, mssql, etc...)
+	 *
+	 * @access	public
+	 * @return	string		
+	 */	
+	function platform()
+	{
+		return $this->dbdriver;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Database Version Number.  Returns a string containing the
+	 * version of the database being used
+	 *
+	 * @access	public
+	 * @return	string	
+	 */	
+	function version()
+	{
+		if (FALSE === ($sql = $this->_version()))
+		{
+			if ($this->db_debug)
+			{
+				return $this->display_error('db_unsupported_function');
+			}
+			return FALSE;
+		}
+		
+		if ($this->dbdriver == 'oci8')
+		{
+			return $sql;
+		}
+	
+		$query = $this->query($sql);
+		return $query->row('ver');
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Execute the query
+	 *
+	 * Accepts an SQL string as input and returns a result object upon
+	 * successful execution of a "read" type query.  Returns boolean TRUE
+	 * upon successful execution of a "write" type query. Returns boolean
+	 * FALSE upon failure, and if the $db_debug variable is set to TRUE
+	 * will raise an error.
+	 *
+	 * @access	public
+	 * @param	string	An SQL query string
+	 * @param	array	An array of binding data
+	 * @return	mixed		
+	 */	
+	function query($sql, $binds = FALSE, $return_object = TRUE)
+	{
+		if ($sql == '')
+		{
+			if ($this->db_debug)
+			{
+				log_message('error', 'Invalid query: '.$sql);
+				return $this->display_error('db_invalid_query');
+			}
+			return FALSE;
+		}
+
+		// Verify table prefix and replace if necessary
+		if ( ($this->dbprefix != '' AND $this->swap_pre != '') AND ($this->dbprefix != $this->swap_pre) )
+		{			
+			$sql = preg_replace("/(\W)".$this->swap_pre."(\S+?)/", "\\1".$this->dbprefix."\\2", $sql);
+		}
+		
+		// Is query caching enabled?  If the query is a "read type"
+		// we will load the caching class and return the previously
+		// cached query if it exists
+		if ($this->cache_on == TRUE AND stristr($sql, 'SELECT'))
+		{
+			if ($this->_cache_init())
+			{
+				$this->load_rdriver();
+				if (FALSE !== ($cache = $this->CACHE->read($sql)))
+				{
+					return $cache;
+				}
+			}
+		}
+		
+		// Compile binds if needed
+		if ($binds !== FALSE)
+		{
+			$sql = $this->compile_binds($sql, $binds);
+		}
+
+		// Save the  query for debugging
+		if ($this->save_queries == TRUE)
+		{
+			$this->queries[] = $sql;
+		}
+		
+		// Start the Query Timer
+		$time_start = list($sm, $ss) = explode(' ', microtime());
+	
+		// Run the Query
+		if (FALSE === ($this->result_id = $this->simple_query($sql)))
+		{
+			if ($this->save_queries == TRUE)
+			{
+				$this->query_times[] = 0;
+			}
+		
+			// This will trigger a rollback if transactions are being used
+			$this->_trans_status = FALSE;
+
+			if ($this->db_debug)
+			{
+				// grab the error number and message now, as we might run some
+				// additional queries before displaying the error
+				$error_no = $this->_error_number();
+				$error_msg = $this->_error_message();
+				
+				// We call this function in order to roll-back queries
+				// if transactions are enabled.  If we don't call this here
+				// the error message will trigger an exit, causing the 
+				// transactions to remain in limbo.
+				$this->trans_complete();
+
+				// Log and display errors
+				log_message('error', 'Query error: '.$error_msg);
+				return $this->display_error(
+										array(
+												'Error Number: '.$error_no,
+												$error_msg,
+												$sql
+											)
+										);
+			}
+		
+			return FALSE;
+		}
+		
+		// Stop and aggregate the query time results
+		$time_end = list($em, $es) = explode(' ', microtime());
+		$this->benchmark += ($em + $es) - ($sm + $ss);
+
+		if ($this->save_queries == TRUE)
+		{
+			$this->query_times[] = ($em + $es) - ($sm + $ss);
+		}
+		
+		// Increment the query counter
+		$this->query_count++;
+		
+		// Was the query a "write" type?
+		// If so we'll simply return true
+		if ($this->is_write_type($sql) === TRUE)
+		{
+			// If caching is enabled we'll auto-cleanup any
+			// existing files related to this particular URI
+			if ($this->cache_on == TRUE AND $this->cache_autodel == TRUE AND $this->_cache_init())
+			{
+				$this->CACHE->delete();
+			}
+		
+			return TRUE;
+		}
+		
+		// Return TRUE if we don't need to create a result object
+		// Currently only the Oracle driver uses this when stored
+		// procedures are used
+		if ($return_object !== TRUE)
+		{
+			return TRUE;
+		}
+	
+		// Load and instantiate the result driver	
+		
+		$driver 		= $this->load_rdriver();
+		$RES 			= new $driver();
+		$RES->conn_id	= $this->conn_id;
+		$RES->result_id	= $this->result_id;
+
+		if ($this->dbdriver == 'oci8')
+		{
+			$RES->stmt_id		= $this->stmt_id;
+			$RES->curs_id		= NULL;
+			$RES->limit_used	= $this->limit_used;
+			$this->stmt_id		= FALSE;
+		}
+		
+		// oci8 vars must be set before calling this
+		$RES->num_rows	= $RES->num_rows();
+				
+		// Is query caching enabled?  If so, we'll serialize the
+		// result object and save it to a cache file.
+		if ($this->cache_on == TRUE AND $this->_cache_init())
+		{
+			// We'll create a new instance of the result object
+			// only without the platform specific driver since
+			// we can't use it with cached data (the query result
+			// resource ID won't be any good once we've cached the
+			// result object, so we'll have to compile the data
+			// and save it)
+			$CR = new CI_DB_result();
+			$CR->num_rows 		= $RES->num_rows();
+			$CR->result_object	= $RES->result_object();
+			$CR->result_array	= $RES->result_array();
+			
+			// Reset these since cached objects can not utilize resource IDs.
+			$CR->conn_id		= NULL;
+			$CR->result_id		= NULL;
+
+			$this->CACHE->write($sql, $CR);
+		}
+		
+		return $RES;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Load the result drivers
+	 *
+	 * @access	public
+	 * @return	string 	the name of the result class		
+	 */		
+	function load_rdriver()
+	{
+		$driver = 'CI_DB_'.$this->dbdriver.'_result';
+
+		if ( ! class_exists($driver))
+		{
+			include_once(BASEPATH.'database/DB_result'.EXT);
+			include_once(BASEPATH.'database/drivers/'.$this->dbdriver.'/'.$this->dbdriver.'_result'.EXT);
+		}
+		
+		return $driver;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Simple Query
+	 * This is a simplified version of the query() function.  Internally
+	 * we only use it when running transaction commands since they do
+	 * not require all the features of the main query() function.
+	 *
+	 * @access	public
+	 * @param	string	the sql query
+	 * @return	mixed		
+	 */	
+	function simple_query($sql)
+	{
+		if ( ! $this->conn_id)
+		{
+			$this->initialize();
+		}
+
+		return $this->_execute($sql);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Disable Transactions
+	 * This permits transactions to be disabled at run-time.
+	 *
+	 * @access	public
+	 * @return	void		
+	 */	
+	function trans_off()
+	{
+		$this->trans_enabled = FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Enable/disable Transaction Strict Mode
+	 * When strict mode is enabled, if you are running multiple groups of
+	 * transactions, if one group fails all groups will be rolled back.
+	 * If strict mode is disabled, each group is treated autonomously, meaning
+	 * a failure of one group will not affect any others
+	 *
+	 * @access	public
+	 * @return	void		
+	 */	
+	function trans_strict($mode = TRUE)
+	{
+		$this->trans_strict = is_bool($mode) ? $mode : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Start Transaction
+	 *
+	 * @access	public
+	 * @return	void		
+	 */	
+	function trans_start($test_mode = FALSE)
+	{	
+		if ( ! $this->trans_enabled)
+		{
+			return FALSE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			$this->_trans_depth += 1;
+			return;
+		}
+		
+		$this->trans_begin($test_mode);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Complete Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_complete()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return FALSE;
+		}
+	
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 1)
+		{
+			$this->_trans_depth -= 1;
+			return TRUE;
+		}
+	
+		// The query() function will set this flag to FALSE in the event that a query failed
+		if ($this->_trans_status === FALSE)
+		{
+			$this->trans_rollback();
+			
+			// If we are NOT running in strict mode, we will reset
+			// the _trans_status flag so that subsequent groups of transactions
+			// will be permitted.
+			if ($this->trans_strict === FALSE)
+			{
+				$this->_trans_status = TRUE;
+			}
+
+			log_message('debug', 'DB Transaction Failure');
+			return FALSE;
+		}
+		
+		$this->trans_commit();
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Lets you retrieve the transaction flag to determine if it has failed
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_status()
+	{
+		return $this->_trans_status;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Compile Bindings
+	 *
+	 * @access	public
+	 * @param	string	the sql statement
+	 * @param	array	an array of bind data
+	 * @return	string		
+	 */	
+	function compile_binds($sql, $binds)
+	{
+		if (strpos($sql, $this->bind_marker) === FALSE)
+		{
+			return $sql;
+		}
+		
+		if ( ! is_array($binds))
+		{
+			$binds = array($binds);
+		}
+		
+		// Get the sql segments around the bind markers
+		$segments = explode($this->bind_marker, $sql);
+
+		// The count of bind should be 1 less then the count of segments
+		// If there are more bind arguments trim it down
+		if (count($binds) >= count($segments)) {
+			$binds = array_slice($binds, 0, count($segments)-1);
+		}
+
+		// Construct the binded query
+		$result = $segments[0];
+		$i = 0;
+		foreach ($binds as $bind)
+		{
+			$result .= $this->escape($bind);
+			$result .= $segments[++$i];
+		}
+
+		return $result;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Determines if a query is a "write" type.
+	 *
+	 * @access	public
+	 * @param	string	An SQL query string
+	 * @return	boolean		
+	 */	
+	function is_write_type($sql)
+	{
+		if ( ! preg_match('/^\s*"?(SET|INSERT|UPDATE|DELETE|REPLACE|CREATE|DROP|LOAD DATA|COPY|ALTER|GRANT|REVOKE|LOCK|UNLOCK)\s+/i', $sql))
+		{
+			return FALSE;
+		}
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Calculate the aggregate query elapsed time
+	 *
+	 * @access	public
+	 * @param	integer	The number of decimal places
+	 * @return	integer		
+	 */	
+	function elapsed_time($decimals = 6)
+	{
+		return number_format($this->benchmark, $decimals);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Returns the total number of queries
+	 *
+	 * @access	public
+	 * @return	integer		
+	 */	
+	function total_queries()
+	{
+		return $this->query_count;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Returns the last query that was executed
+	 *
+	 * @access	public
+	 * @return	void		
+	 */	
+	function last_query()
+	{
+		return end($this->queries);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * "Smart" Escape String
+	 *
+	 * Escapes data based on type
+	 * Sets boolean and null types
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	integer		
+	 */	
+	function escape($str)
+	{	
+		switch (gettype($str))
+		{
+			case 'string'	:	$str = "'".$this->escape_str($str)."'";
+				break;
+			case 'boolean'	:	$str = ($str === FALSE) ? 0 : 1;
+				break;
+			default			:	$str = ($str === NULL) ? 'NULL' : $str;
+				break;
+		}		
+
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Primary
+	 *
+	 * Retrieves the primary key.  It assumes that the row in the first
+	 * position is the primary key
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string		
+	 */	
+	function primary($table = '')
+	{	
+		$fields = $this->list_fields($table);
+		
+		if ( ! is_array($fields))
+		{
+			return FALSE;
+		}
+
+		return current($fields);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Returns an array of table names
+	 *
+	 * @access	public
+	 * @return	array		
+	 */	
+	function list_tables($constrain_by_prefix = FALSE)
+	{
+		// Is there a cached result?
+		if (isset($this->data_cache['table_names']))
+		{
+			return $this->data_cache['table_names'];
+		}
+	
+		if (FALSE === ($sql = $this->_list_tables($constrain_by_prefix)))
+		{
+			if ($this->db_debug)
+			{
+				return $this->display_error('db_unsupported_function');
+			}
+			return FALSE;
+		}
+
+		$retval = array();
+		$query = $this->query($sql);
+		
+		if ($query->num_rows() > 0)
+		{
+			foreach($query->result_array() as $row)
+			{
+				if (isset($row['TABLE_NAME']))
+				{
+					$retval[] = $row['TABLE_NAME'];
+				}
+				else
+				{
+					$retval[] = array_shift($row);
+				}
+			}
+		}
+
+		$this->data_cache['table_names'] = $retval;
+		return $this->data_cache['table_names'];
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Determine if a particular table exists
+	 * @access	public
+	 * @return	boolean
+	 */
+	function table_exists($table_name)
+	{	
+		return ( ! in_array($this->_protect_identifiers($table_name, TRUE, FALSE, FALSE), $this->list_tables())) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch MySQL Field Names
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	array		
+	 */
+	function list_fields($table = '')
+	{
+		// Is there a cached result?
+		if (isset($this->data_cache['field_names'][$table]))
+		{
+			return $this->data_cache['field_names'][$table];
+		}
+	
+		if ($table == '')
+		{
+			if ($this->db_debug)
+			{
+				return $this->display_error('db_field_param_missing');
+			}
+			return FALSE;
+		}
+		
+		if (FALSE === ($sql = $this->_list_columns($this->_protect_identifiers($table, TRUE, NULL, FALSE))))
+		{
+			if ($this->db_debug)
+			{
+				return $this->display_error('db_unsupported_function');
+			}
+			return FALSE;
+		}
+		
+		$query = $this->query($sql);
+		
+		$retval = array();
+		foreach($query->result_array() as $row)
+		{
+			if (isset($row['COLUMN_NAME']))
+			{
+				$retval[] = $row['COLUMN_NAME'];
+			}
+			else
+			{
+				$retval[] = current($row);
+			}		
+		}
+		
+		$this->data_cache['field_names'][$table] = $retval;
+		return $this->data_cache['field_names'][$table];
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Determine if a particular field exists
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	boolean
+	 */
+	function field_exists($field_name, $table_name)
+	{	
+		return ( ! in_array($field_name, $this->list_fields($table_name))) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Returns an object with field data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	object		
+	 */	
+	function field_data($table = '')
+	{
+		if ($table == '')
+		{
+			if ($this->db_debug)
+			{
+				return $this->display_error('db_field_param_missing');
+			}
+			return FALSE;
+		}
+		
+		$query = $this->query($this->_field_data($this->_protect_identifiers($table, TRUE, NULL, FALSE)));
+
+		return $query->field_data();
+	}	
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Generate an insert string
+	 *
+	 * @access	public
+	 * @param	string	the table upon which the query will be performed
+	 * @param	array	an associative array data of key/values
+	 * @return	string		
+	 */	
+	function insert_string($table, $data)
+	{
+		$fields = array();
+		$values = array();
+		
+		foreach($data as $key => $val)
+		{
+			$fields[] = $this->_escape_identifiers($key);
+			$values[] = $this->escape($val);
+		}
+				
+		return $this->_insert($this->_protect_identifiers($table, TRUE, NULL, FALSE), $fields, $values);
+	}	
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Generate an update string
+	 *
+	 * @access	public
+	 * @param	string	the table upon which the query will be performed
+	 * @param	array	an associative array data of key/values
+	 * @param	mixed	the "where" statement
+	 * @return	string		
+	 */	
+	function update_string($table, $data, $where)
+	{
+		if ($where == '')
+		{
+			return false;
+		}
+					
+		$fields = array();
+		foreach($data as $key => $val)
+		{
+			$fields[$this->_protect_identifiers($key)] = $this->escape($val);
+		}
+
+		if ( ! is_array($where))
+		{
+			$dest = array($where);
+		}
+		else
+		{
+			$dest = array();
+			foreach ($where as $key => $val)
+			{
+				$prefix = (count($dest) == 0) ? '' : ' AND ';
+	
+				if ($val !== '')
+				{
+					if ( ! $this->_has_operator($key))
+					{
+						$key .= ' =';
+					}
+				
+					$val = ' '.$this->escape($val);
+				}
+							
+				$dest[] = $prefix.$key.$val;
+			}
+		}		
+
+		return $this->_update($this->_protect_identifiers($table, TRUE, NULL, FALSE), $fields, $dest);
+	}	
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Tests whether the string has an SQL operator
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	bool
+	 */
+	function _has_operator($str)
+	{
+		$str = trim($str);
+		if ( ! preg_match("/(\s|<|>|!|=|is null|is not null)/i", $str))
+		{
+			return FALSE;
+		}
+
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Enables a native PHP function to be run, using a platform agnostic wrapper.
+	 *
+	 * @access	public
+	 * @param	string	the function name
+	 * @param	mixed	any parameters needed by the function
+	 * @return	mixed		
+	 */	
+	function call_function($function)
+	{
+		$driver = ($this->dbdriver == 'postgre') ? 'pg_' : $this->dbdriver.'_';
+	
+		if (FALSE === strpos($driver, $function))
+		{
+			$function = $driver.$function;
+		}
+		
+		if ( ! function_exists($function))
+		{
+			if ($this->db_debug)
+			{
+				return $this->display_error('db_unsupported_function');
+			}
+			return FALSE;
+		}
+		else
+		{
+			$args = (func_num_args() > 1) ? array_splice(func_get_args(), 1) : null;
+
+			return call_user_func_array($function, $args);
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Cache Directory Path
+	 *
+	 * @access	public
+	 * @param	string	the path to the cache directory
+	 * @return	void
+	 */		
+	function cache_set_path($path = '')
+	{
+		$this->cachedir = $path;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Enable Query Caching
+	 *
+	 * @access	public
+	 * @return	void
+	 */		
+	function cache_on()
+	{
+		$this->cache_on = TRUE;
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Disable Query Caching
+	 *
+	 * @access	public
+	 * @return	void
+	 */	
+	function cache_off()
+	{
+		$this->cache_on = FALSE;
+		return FALSE;
+	}
+	
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete the cache files associated with a particular URI
+	 *
+	 * @access	public
+	 * @return	void
+	 */		
+	function cache_delete($segment_one = '', $segment_two = '')
+	{
+		if ( ! $this->_cache_init())
+		{
+			return FALSE;
+		}
+		return $this->CACHE->delete($segment_one, $segment_two);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete All cache files
+	 *
+	 * @access	public
+	 * @return	void
+	 */		
+	function cache_delete_all()
+	{
+		if ( ! $this->_cache_init())
+		{
+			return FALSE;
+		}
+
+		return $this->CACHE->delete_all();
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Initialize the Cache Class
+	 *
+	 * @access	private
+	 * @return	void
+	 */	
+	function _cache_init()
+	{
+		if (is_object($this->CACHE) AND class_exists('CI_DB_Cache'))
+		{
+			return TRUE;
+		}
+	
+		if ( ! @include(BASEPATH.'database/DB_cache'.EXT))
+		{
+			return $this->cache_off();
+		}
+		
+		$this->CACHE = new CI_DB_Cache($this); // pass db object to support multiple db connections and returned db objects
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Close DB Connection
+	 *
+	 * @access	public
+	 * @return	void		
+	 */	
+	function close()
+	{
+		if (is_resource($this->conn_id) OR is_object($this->conn_id))
+		{
+			$this->_close($this->conn_id);
+		}
+		$this->conn_id = FALSE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Display an error message
+	 *
+	 * @access	public
+	 * @param	string	the error message
+	 * @param	string	any "swap" values
+	 * @param	boolean	whether to localize the message
+	 * @return	string	sends the application/error_db.php template		
+	 */	
+	function display_error($error = '', $swap = '', $native = FALSE)
+	{
+		$LANG =& load_class('Language');
+		$LANG->load('db');
+
+		$heading = $LANG->line('db_error_heading');
+
+		if ($native == TRUE)
+		{
+			$message = $error;
+		}
+		else
+		{
+			$message = ( ! is_array($error)) ? array(str_replace('%s', $swap, $LANG->line($error))) : $error;
+		}
+		
+		$error =& load_class('Exceptions');
+		echo $error->show_error($heading, $message, 'error_db');
+		exit;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Protect Identifiers
+	 *
+	 * This function adds backticks if appropriate based on db type
+	 *
+	 * @access	private
+	 * @param	mixed	the item to escape
+	 * @return	mixed	the item with backticks
+	 */
+	function protect_identifiers($item, $prefix_single = FALSE)
+	{
+		return $this->_protect_identifiers($item, $prefix_single);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Protect Identifiers
+	 *
+	 * This function is used extensively by the Active Record class, and by
+	 * a couple functions in this class. 
+	 * It takes a column or table name (optionally with an alias) and inserts
+	 * the table prefix onto it.  Some logic is necessary in order to deal with
+	 * column names that include the path.  Consider a query like this:
+	 *
+	 * SELECT * FROM hostname.database.table.column AS c FROM hostname.database.table
+	 *
+	 * Or a query with aliasing:
+	 *
+	 * SELECT m.member_id, m.member_name FROM members AS m
+	 *
+	 * Since the column name can include up to four segments (host, DB, table, column)
+	 * or also have an alias prefix, we need to do a bit of work to figure this out and
+	 * insert the table prefix (if it exists) in the proper position, and escape only
+	 * the correct identifiers.
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	bool
+	 * @param	mixed
+	 * @param	bool
+	 * @return	string
+	 */	
+	function _protect_identifiers($item, $prefix_single = FALSE, $protect_identifiers = NULL, $field_exists = TRUE)
+	{
+		if ( ! is_bool($protect_identifiers))
+		{
+			$protect_identifiers = $this->_protect_identifiers;
+		}
+		
+		// Convert tabs or multiple spaces into single spaces
+		$item = preg_replace('/[\t| ]+/', ' ', $item);
+	
+		// If the item has an alias declaration we remove it and set it aside.
+		// Basically we remove everything to the right of the first space
+		$alias = '';
+		if (strpos($item, ' ') !== FALSE)
+		{		
+			$alias = strstr($item, " ");
+			$item = substr($item, 0, - strlen($alias));
+		}
+
+		// Break the string apart if it contains periods, then insert the table prefix
+		// in the correct location, assuming the period doesn't indicate that we're dealing
+		// with an alias. While we're at it, we will escape the components
+		if (strpos($item, '.') !== FALSE)
+		{
+			$parts	= explode('.', $item);
+			
+			// Does the first segment of the exploded item match
+			// one of the aliases previously identified?  If so,
+			// we have nothing more to do other then escape the item
+			if (in_array($parts[0], $this->ar_aliased_tables))
+			{				
+				if ($protect_identifiers === TRUE)
+				{
+					foreach ($parts as $key => $val)
+					{
+						if ( ! in_array($val, $this->_reserved_identifiers))
+						{
+							$parts[$key] = $this->_escape_identifiers($val);
+						}
+					}
+				
+					$item = implode('.', $parts);
+				}			
+				return $item.$alias;
+			}
+			
+			// Is there a table prefix defined in the config file?  If not, no need to do anything
+			if ($this->dbprefix != '')
+			{
+				// We now add the table prefix based on some logic.
+				// Do we have 4 segments (hostname.database.table.column)?
+				// If so, we add the table prefix to the column name in the 3rd segment.
+				if (isset($parts[3]))
+				{
+					$i = 2;
+				}
+				// Do we have 3 segments (database.table.column)?
+				// If so, we add the table prefix to the column name in 2nd position
+				elseif (isset($parts[2]))
+				{
+					$i = 1;
+				}
+				// Do we have 2 segments (table.column)?
+				// If so, we add the table prefix to the column name in 1st segment
+				else
+				{
+					$i = 0;
+				}
+				
+				// This flag is set when the supplied $item does not contain a field name.
+				// This can happen when this function is being called from a JOIN.
+				if ($field_exists == FALSE)
+				{
+					$i++;
+				}
+				
+				// We only add the table prefix if it does not already exist
+				if (substr($parts[$i], 0, strlen($this->dbprefix)) != $this->dbprefix)
+				{
+					$parts[$i] = $this->dbprefix.$parts[$i];
+				}
+				
+				// Put the parts back together
+				$item = implode('.', $parts);
+			}
+			
+			if ($protect_identifiers === TRUE)
+			{
+				$item = $this->_escape_identifiers($item);
+			}
+			
+			return $item.$alias;
+		}
+
+		// This is basically a bug fix for queries that use MAX, MIN, etc.
+		// If a parenthesis is found we know that we do not need to 
+		// escape the data or add a prefix.  There's probably a more graceful
+		// way to deal with this, but I'm not thinking of it -- Rick
+		if (strpos($item, '(') !== FALSE)
+		{
+			return $item.$alias;
+		}
+		
+		// Is there a table prefix?  If not, no need to insert it
+		if ($this->dbprefix != '')
+		{
+			// Do we prefix an item with no segments?
+			if ($prefix_single == TRUE AND substr($item, 0, strlen($this->dbprefix)) != $this->dbprefix)
+			{
+				$item = $this->dbprefix.$item;
+			}		
+		}
+		
+		if ($protect_identifiers === TRUE AND ! in_array($item, $this->_reserved_identifiers))
+		{
+			$item = $this->_escape_identifiers($item);
+		}
+		
+		return $item.$alias;
+	}
+
+
+}
+
+
+/* End of file DB_driver.php */
+/* Location: ./system/database/DB_driver.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/DB_forge.php
===================================================================
--- trunk/pintassilgo/system/database/DB_forge.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/DB_forge.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,355 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * Code Igniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Database Utility Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_forge {
+
+	var $fields		 	= array();
+	var $keys			= array();
+	var $primary_keys 	= array();
+	var $db_char_set	=	'';
+
+	/**
+	 * Constructor
+	 *
+	 * Grabs the CI super object instance so we can access it.
+	 *
+	 */	
+	function CI_DB_forge()
+	{
+		// Assign the main database object to $this->db
+		$CI =& get_instance();
+		$this->db =& $CI->db;
+		log_message('debug', "Database Forge Class Initialized");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Create database
+	 *
+	 * @access	public
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function create_database($db_name)
+	{
+		$sql = $this->_create_database($db_name);
+		
+		if (is_bool($sql))
+		{
+			return $sql;
+		}
+	
+		return $this->db->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	public
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function drop_database($db_name)
+	{
+		$sql = $this->_drop_database($db_name);
+		
+		if (is_bool($sql))
+		{
+			return $sql;
+		}
+	
+		return $this->db->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Add Key
+	 *
+	 * @access	public
+	 * @param	string	key
+	 * @param	string	type
+	 * @return	void
+	 */
+	function add_key($key = '', $primary = FALSE)
+	{
+		if (is_array($key))
+		{
+			foreach($key as $one)
+			{
+				$this->add_key($one, $primary);
+			}
+			
+			return;
+		}
+	
+		if ($key == '')
+		{
+			show_error('Key information is required for that operation.');
+		}
+		
+		if ($primary === TRUE)
+		{
+			$this->primary_keys[] = $key;
+		}
+		else
+		{
+			$this->keys[] = $key;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Add Field
+	 *
+	 * @access	public
+	 * @param	string	collation
+	 * @return	void
+	 */
+	function add_field($field = '')
+	{
+		if ($field == '')
+		{
+			show_error('Field information is required.');
+		}
+		
+		if (is_string($field))
+		{
+			if ($field == 'id')
+			{
+				$this->add_field(array(
+										'id' => array(
+													'type' => 'INT',
+													'constraint' => 9,
+													'auto_increment' => TRUE
+													)
+								));
+				$this->add_key('id', TRUE);
+			}
+			else
+			{
+				if (strpos($field, ' ') === FALSE)
+				{
+					show_error('Field information is required for that operation.');
+				}
+				
+				$this->fields[] = $field;
+			}
+		}
+		
+		if (is_array($field))
+		{
+			$this->fields = array_merge($this->fields, $field);
+		}
+		
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Create Table
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	bool
+	 */
+	function create_table($table = '', $if_not_exists = FALSE)
+	{	
+		if ($table == '')
+		{
+			show_error('A table name is required for that operation.');
+		}
+			
+		if (count($this->fields) == 0)
+		{	
+			show_error('Field information is required.');
+		}
+
+		$sql = $this->_create_table($this->db->dbprefix.$table, $this->fields, $this->primary_keys, $this->keys, $if_not_exists);
+		
+		$this->_reset();
+		return $this->db->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop Table
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	bool
+	 */
+	function drop_table($table_name)
+	{
+		$sql = $this->_drop_table($this->db->dbprefix.$table_name);
+		
+		if (is_bool($sql))
+		{
+			return $sql;
+		}
+	
+		return $this->db->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rename Table
+	 *
+	 * @access	public
+	 * @param	string	the old table name
+	 * @param	string	the new table name
+	 * @return	bool
+	 */
+	function rename_table($table_name, $new_table_name)
+	{
+		if ($table_name == '' OR $new_table_name == '')
+		{
+			show_error('A table name is required for that operation.');
+		}
+			
+		$sql = $this->_rename_table($table_name, $new_table_name);
+		return $this->db->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Column Add
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	string	the column name
+	 * @param	string	the column definition
+	 * @return	bool
+	 */
+	function add_column($table = '', $field = array(), $after_field = '')
+	{
+		if ($table == '')
+		{
+			show_error('A table name is required for that operation.');
+		}
+
+		// add field info into field array, but we can only do one at a time
+		// so only grab the first field in the event there are more then one
+		$this->add_field(array_slice($field, 0, 1));
+
+		if (count($this->fields) == 0)
+		{	
+			show_error('Field information is required.');
+		}
+
+		$sql = $this->_alter_table('ADD', $this->db->dbprefix.$table, $this->fields, $after_field);
+
+		$this->_reset();
+		return $this->db->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Column Drop
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	string	the column name
+	 * @return	bool
+	 */
+	function drop_column($table = '', $column_name = '')
+	{
+	
+		if ($table == '')
+		{
+			show_error('A table name is required for that operation.');
+		}
+
+		if ($column_name == '')
+		{
+			show_error('A column name is required for that operation.');
+		}
+
+		$sql = $this->_alter_table('DROP', $this->db->dbprefix.$table, $column_name);
+	
+		return $this->db->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Column Modify
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	string	the column name
+	 * @param	string	the column definition
+	 * @return	bool
+	 */
+	function modify_column($table = '', $field = array())
+	{
+		if ($table == '')
+		{
+			show_error('A table name is required for that operation.');
+		}
+
+		// add field info into field array, but we can only do one at a time
+		// so only grab the first field in the event there are more then one
+		$this->add_field(array_slice($field, 0, 1));
+
+		if (count($this->fields) == 0)
+		{	
+			show_error('Field information is required.');
+		}
+
+		$sql = $this->_alter_table('CHANGE', $this->db->dbprefix.$table, $this->fields);
+
+		$this->_reset();
+		return $this->db->query($sql);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Reset
+	 *
+	 * Resets table creation vars
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _reset()
+	{
+		$this->fields 		= array();
+		$this->keys			= array();
+		$this->primary_keys 	= array();
+	}
+
+}
+
+/* End of file DB_forge.php */
+/* Location: ./system/database/DB_forge.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/DB_result.php
===================================================================
--- trunk/pintassilgo/system/database/DB_result.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/DB_result.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,342 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Database Result Class
+ *
+ * This is the platform-independent result class.
+ * This class will not be called directly. Rather, the adapter
+ * class for the specific database will extend and instantiate it.
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_result {
+
+	var $conn_id		= NULL;
+	var $result_id		= NULL;
+	var $result_array	= array();
+	var $result_object	= array();
+	var $current_row 	= 0;
+	var $num_rows		= 0;
+	var $row_data		= NULL;
+
+
+	/**
+	 * Query result.  Acts as a wrapper function for the following functions.
+	 *
+	 * @access	public
+	 * @param	string	can be "object" or "array"
+	 * @return	mixed	either a result object or array	
+	 */	
+	function result($type = 'object')
+	{	
+		return ($type == 'object') ? $this->result_object() : $this->result_array();
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Query result.  "object" version.
+	 *
+	 * @access	public
+	 * @return	object
+	 */	
+	function result_object()
+	{
+		if (count($this->result_object) > 0)
+		{
+			return $this->result_object;
+		}
+		
+		// In the event that query caching is on the result_id variable 
+		// will return FALSE since there isn't a valid SQL resource so 
+		// we'll simply return an empty array.
+		if ($this->result_id === FALSE OR $this->num_rows() == 0)
+		{
+			return array();
+		}
+
+		$this->_data_seek(0);
+		while ($row = $this->_fetch_object())
+		{
+			$this->result_object[] = $row;
+		}
+		
+		return $this->result_object;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Query result.  "array" version.
+	 *
+	 * @access	public
+	 * @return	array
+	 */	
+	function result_array()
+	{
+		if (count($this->result_array) > 0)
+		{
+			return $this->result_array;
+		}
+
+		// In the event that query caching is on the result_id variable 
+		// will return FALSE since there isn't a valid SQL resource so 
+		// we'll simply return an empty array.
+		if ($this->result_id === FALSE OR $this->num_rows() == 0)
+		{
+			return array();
+		}
+
+		$this->_data_seek(0);
+		while ($row = $this->_fetch_assoc())
+		{
+			$this->result_array[] = $row;
+		}
+		
+		return $this->result_array;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Query result.  Acts as a wrapper function for the following functions.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string	can be "object" or "array"
+	 * @return	mixed	either a result object or array	
+	 */	
+	function row($n = 0, $type = 'object')
+	{
+		if ( ! is_numeric($n))
+		{
+			// We cache the row data for subsequent uses
+			if ( ! is_array($this->row_data))
+			{
+				$this->row_data = $this->row_array(0);
+			}
+		
+			// array_key_exists() instead of isset() to allow for MySQL NULL values
+			if (array_key_exists($n, $this->row_data))
+			{
+				return $this->row_data[$n];
+			}
+			// reset the $n variable if the result was not achieved			
+			$n = 0;
+		}
+		
+		return ($type == 'object') ? $this->row_object($n) : $this->row_array($n);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Assigns an item into a particular column slot
+	 *
+	 * @access	public
+	 * @return	object
+	 */	
+	function set_row($key, $value = NULL)
+	{
+		// We cache the row data for subsequent uses
+		if ( ! is_array($this->row_data))
+		{
+			$this->row_data = $this->row_array(0);
+		}
+	
+		if (is_array($key))
+		{
+			foreach ($key as $k => $v)
+			{
+				$this->row_data[$k] = $v;
+			}
+			
+			return;
+		}
+	
+		if ($key != '' AND ! is_null($value))
+		{
+			$this->row_data[$key] = $value;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Returns a single result row - object version
+	 *
+	 * @access	public
+	 * @return	object
+	 */	
+	function row_object($n = 0)
+	{
+		$result = $this->result_object();
+		
+		if (count($result) == 0)
+		{
+			return $result;
+		}
+
+		if ($n != $this->current_row AND isset($result[$n]))
+		{
+			$this->current_row = $n;
+		}
+
+		return $result[$this->current_row];
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Returns a single result row - array version
+	 *
+	 * @access	public
+	 * @return	array
+	 */	
+	function row_array($n = 0)
+	{
+		$result = $this->result_array();
+
+		if (count($result) == 0)
+		{
+			return $result;
+		}
+			
+		if ($n != $this->current_row AND isset($result[$n]))
+		{
+			$this->current_row = $n;
+		}
+		
+		return $result[$this->current_row];
+	}
+
+		
+	// --------------------------------------------------------------------
+
+	/**
+	 * Returns the "first" row
+	 *
+	 * @access	public
+	 * @return	object
+	 */	
+	function first_row($type = 'object')
+	{
+		$result = $this->result($type);
+
+		if (count($result) == 0)
+		{
+			return $result;
+		}
+		return $result[0];
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Returns the "last" row
+	 *
+	 * @access	public
+	 * @return	object
+	 */	
+	function last_row($type = 'object')
+	{
+		$result = $this->result($type);
+
+		if (count($result) == 0)
+		{
+			return $result;
+		}
+		return $result[count($result) -1];
+	}	
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Returns the "next" row
+	 *
+	 * @access	public
+	 * @return	object
+	 */	
+	function next_row($type = 'object')
+	{
+		$result = $this->result($type);
+
+		if (count($result) == 0)
+		{
+			return $result;
+		}
+
+		if (isset($result[$this->current_row + 1]))
+		{
+			++$this->current_row;
+		}
+				
+		return $result[$this->current_row];
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Returns the "previous" row
+	 *
+	 * @access	public
+	 * @return	object
+	 */	
+	function previous_row($type = 'object')
+	{
+		$result = $this->result($type);
+
+		if (count($result) == 0)
+		{
+			return $result;
+		}
+
+		if (isset($result[$this->current_row - 1]))
+		{
+			--$this->current_row;
+		}
+		return $result[$this->current_row];
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * The following functions are normally overloaded by the identically named
+	 * methods in the platform-specific driver -- except when query caching
+	 * is used.  When caching is enabled we do not load the other driver.
+	 * These functions are primarily here to prevent undefined function errors
+	 * when a cached result object is in use.  They are not otherwise fully
+	 * operational due to the unavailability of the database resource IDs with
+	 * cached results.
+	 */
+	function num_rows() { return $this->num_rows; }
+	function num_fields() { return 0; }
+	function list_fields() { return array(); }
+	function field_data() { return array(); }	
+	function free_result() { return TRUE; }
+	function _data_seek() { return TRUE; }
+	function _fetch_assoc() { return array(); }	
+	function _fetch_object() { return array(); }
+	
+}
+// END DB_result class
+
+/* End of file DB_result.php */
+/* Location: ./system/database/DB_result.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/DB_utility.php
===================================================================
--- trunk/pintassilgo/system/database/DB_utility.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/DB_utility.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,389 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * Code Igniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Database Utility Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_utility extends CI_DB_forge {
+
+	var $db;
+	var $data_cache 	= array();
+
+	/**
+	 * Constructor
+	 *
+	 * Grabs the CI super object instance so we can access it.
+	 *
+	 */	
+	function CI_DB_utility()
+	{
+		// Assign the main database object to $this->db
+		$CI =& get_instance();
+		$this->db =& $CI->db;
+		
+		log_message('debug', "Database Utility Class Initialized");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * List databases
+	 *
+	 * @access	public
+	 * @return	bool
+	 */
+	function list_databases()
+	{	
+		// Is there a cached result?
+		if (isset($this->data_cache['db_names']))
+		{
+			return $this->data_cache['db_names'];
+		}
+	
+		$query = $this->db->query($this->_list_databases());
+		$dbs = array();
+		if ($query->num_rows() > 0)
+		{
+			foreach ($query->result_array() as $row)
+			{
+				$dbs[] = current($row);
+			}
+		}
+			
+		$this->data_cache['db_names'] = $dbs;
+		return $this->data_cache['db_names'];
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Optimize Table
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	bool
+	 */
+	function optimize_table($table_name)
+	{
+		$sql = $this->_optimize_table($table_name);
+		
+		if (is_bool($sql))
+		{
+				show_error('db_must_use_set');
+		}
+	
+		$query = $this->db->query($sql);
+		$res = $query->result_array();
+		
+		// Note: Due to a bug in current() that affects some versions
+		// of PHP we can not pass function call directly into it
+		return current($res);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Optimize Database
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function optimize_database()
+	{
+		$result = array();
+		foreach ($this->db->list_tables() as $table_name)
+		{
+			$sql = $this->_optimize_table($table_name);
+			
+			if (is_bool($sql))
+			{
+				return $sql;
+			}
+			
+			$query = $this->db->query($sql);
+			
+			// Build the result array...
+			// Note: Due to a bug in current() that affects some versions
+			// of PHP we can not pass function call directly into it
+			$res = $query->result_array();
+			$res = current($res);
+			$key = str_replace($this->db->database.'.', '', current($res));
+			$keys = array_keys($res);
+			unset($res[$keys[0]]);
+			
+			$result[$key] = $res;
+		}
+
+		return $result;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Repair Table
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	bool
+	 */
+	function repair_table($table_name)
+	{
+		$sql = $this->_repair_table($table_name);
+		
+		if (is_bool($sql))
+		{
+			return $sql;
+		}
+	
+		$query = $this->db->query($sql);
+		
+		// Note: Due to a bug in current() that affects some versions
+		// of PHP we can not pass function call directly into it
+		$res = $query->result_array();
+		return current($res);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Generate CSV from a query result object
+	 *
+	 * @access	public
+	 * @param	object	The query result object
+	 * @param	string	The delimiter - comma by default
+	 * @param	string	The newline character - \n by default
+	 * @param	string	The enclosure - double quote by default
+	 * @return	string
+	 */
+	function csv_from_result($query, $delim = ",", $newline = "\n", $enclosure = '"')
+	{
+		if ( ! is_object($query) OR ! method_exists($query, 'field_names'))
+		{
+			show_error('You must submit a valid result object');
+		}	
+	
+		$out = '';
+		
+		// First generate the headings from the table column names
+		foreach ($query->list_fields() as $name)
+		{
+			$out .= $enclosure.str_replace($enclosure, $enclosure.$enclosure, $name).$enclosure.$delim;
+		}
+		
+		$out = rtrim($out);
+		$out .= $newline;
+		
+		// Next blast through the result array and build out the rows
+		foreach ($query->result_array() as $row)
+		{
+			foreach ($row as $item)
+			{
+				$out .= $enclosure.str_replace($enclosure, $enclosure.$enclosure, $item).$enclosure.$delim;			
+			}
+			$out = rtrim($out);
+			$out .= $newline;
+		}
+
+		return $out;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Generate XML data from a query result object
+	 *
+	 * @access	public
+	 * @param	object	The query result object
+	 * @param	array	Any preferences
+	 * @return	string
+	 */
+	function xml_from_result($query, $params = array())
+	{
+		if ( ! is_object($query) OR ! method_exists($query, 'field_names'))
+		{
+			show_error('You must submit a valid result object');
+		}
+		
+		// Set our default values
+		foreach (array('root' => 'root', 'element' => 'element', 'newline' => "\n", 'tab' => "\t") as $key => $val)
+		{
+			if ( ! isset($params[$key]))
+			{
+				$params[$key] = $val;
+			}
+		}
+		
+		// Create variables for convenience
+		extract($params);
+			
+		// Load the xml helper
+		$CI =& get_instance();
+		$CI->load->helper('xml');
+
+		// Generate the result
+		$xml = "<{$root}>".$newline;
+		foreach ($query->result_array() as $row)
+		{
+			$xml .= $tab."<{$element}>".$newline;
+			
+			foreach ($row as $key => $val)
+			{
+				$xml .= $tab.$tab."<{$key}>".xml_convert($val)."</{$key}>".$newline;
+			}
+			$xml .= $tab."</{$element}>".$newline;
+		}
+		$xml .= "</$root>".$newline;
+		
+		return $xml;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Database Backup
+	 *
+	 * @access	public
+	 * @return	void
+	 */
+	function backup($params = array())
+	{
+		// If the parameters have not been submitted as an
+		// array then we know that it is simply the table
+		// name, which is a valid short cut.
+		if (is_string($params))
+		{
+			$params = array('tables' => $params);
+		}
+		
+		// ------------------------------------------------------
+	
+		// Set up our default preferences
+		$prefs = array(
+							'tables'		=> array(),
+							'ignore'		=> array(),
+							'filename'		=> '',
+							'format'		=> 'gzip', // gzip, zip, txt
+							'add_drop'		=> TRUE,
+							'add_insert'	=> TRUE,
+							'newline'		=> "\n"
+						);
+
+		// Did the user submit any preferences? If so set them....
+		if (count($params) > 0)
+		{
+			foreach ($prefs as $key => $val)
+			{
+				if (isset($params[$key]))
+				{
+					$prefs[$key] = $params[$key];
+				}
+			}
+		}
+
+		// ------------------------------------------------------
+
+		// Are we backing up a complete database or individual tables?	
+		// If no table names were submitted we'll fetch the entire table list
+		if (count($prefs['tables']) == 0)
+		{
+			$prefs['tables'] = $this->db->list_tables();
+		}
+		
+		// ------------------------------------------------------
+
+		// Validate the format
+		if ( ! in_array($prefs['format'], array('gzip', 'zip', 'txt'), TRUE))
+		{
+			$prefs['format'] = 'txt';
+		}
+
+		// ------------------------------------------------------
+
+		// Is the encoder supported?  If not, we'll either issue an
+		// error or use plain text depending on the debug settings
+		if (($prefs['format'] == 'gzip' AND ! @function_exists('gzencode'))
+		 OR ($prefs['format'] == 'zip'  AND ! @function_exists('gzcompress')))
+		{
+			if ($this->db->db_debug)
+			{
+				return $this->db->display_error('db_unsuported_compression');
+			}
+		
+			$prefs['format'] = 'txt';
+		}
+
+		// ------------------------------------------------------
+
+		// Set the filename if not provided - Only needed with Zip files
+		if ($prefs['filename'] == '' AND $prefs['format'] == 'zip')
+		{
+			$prefs['filename'] = (count($prefs['tables']) == 1) ? $prefs['tables'] : $this->db->database;
+			$prefs['filename'] .= '_'.date('Y-m-d_H-i', time());
+		}
+
+		// ------------------------------------------------------
+				
+		// Was a Gzip file requested?
+		if ($prefs['format'] == 'gzip')
+		{
+			return gzencode($this->_backup($prefs));
+		}
+
+		// ------------------------------------------------------
+		
+		// Was a text file requested?
+		if ($prefs['format'] == 'txt')
+		{
+			return $this->_backup($prefs);
+		}
+
+		// ------------------------------------------------------
+
+		// Was a Zip file requested?		
+		if ($prefs['format'] == 'zip')
+		{
+			// If they included the .zip file extension we'll remove it
+			if (preg_match("|.+?\.zip$|", $prefs['filename']))
+			{
+				$prefs['filename'] = str_replace('.zip', '', $prefs['filename']);
+			}
+			
+			// Tack on the ".sql" file extension if needed
+			if ( ! preg_match("|.+?\.sql$|", $prefs['filename']))
+			{
+				$prefs['filename'] .= '.sql';
+			}
+
+			// Load the Zip class and output it
+			
+			$CI =& get_instance();
+			$CI->load->library('zip');
+			$CI->zip->add_data($prefs['filename'], $this->_backup($prefs));							
+			return $CI->zip->get_zip();
+		}
+		
+	}
+
+}
+
+
+/* End of file DB_utility.php */
+/* Location: ./system/database/DB_utility.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/index.html
===================================================================
--- trunk/pintassilgo/system/database/drivers/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mssql/index.html
===================================================================
--- trunk/pintassilgo/system/database/drivers/mssql/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mssql/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mssql/mssql_driver.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mssql/mssql_driver.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mssql/mssql_driver.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,611 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MS SQL Database Adapter Class
+ *
+ * Note: _DB is an extender class that the app controller
+ * creates dynamically based on whether the active record
+ * class is being used or not.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Drivers
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mssql_driver extends CI_DB {
+
+	var $dbdriver = 'mssql';
+	
+	// The character used for escaping
+	var $_escape_char = '';
+	/**
+	 * The syntax to count rows is slightly different across different
+	 * database engines, so this string appears in each driver and is
+	 * used for the count_all() and count_all_results() functions.
+	 */
+	var $_count_string = "SELECT COUNT(*) AS ";
+	var $_random_keyword = ' ASC'; // not currently supported
+
+	/**
+	 * Non-persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_connect()
+	{
+		if ($this->port != '')
+		{
+			$this->hostname .= ','.$this->port;
+		}
+
+		return @mssql_connect($this->hostname, $this->username, $this->password);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_pconnect()
+	{
+		if ($this->port != '')
+		{
+			$this->hostname .= ','.$this->port;
+		}
+
+		return @mssql_pconnect($this->hostname, $this->username, $this->password);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select the database
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_select()
+	{
+		// Note: The brackets are required in the event that the DB name
+		// contains reserved characters
+		return @mssql_select_db('['.$this->database.']', $this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set client character set
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	resource
+	 */
+	function db_set_charset($charset, $collation)
+	{
+		// @todo - add support if needed
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Execute the query
+	 *
+	 * @access	private called by the base class
+	 * @param	string	an SQL query
+	 * @return	resource
+	 */	
+	function _execute($sql)
+	{
+		$sql = $this->_prep_query($sql);
+		return @mssql_query($sql, $this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Prep the query
+	 *
+	 * If needed, each database adapter can prep the query string
+	 *
+	 * @access	private called by execute()
+	 * @param	string	an SQL query
+	 * @return	string
+	 */	
+	function _prep_query($sql)
+	{
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Begin Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_begin($test_mode = FALSE)
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+		
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		// Reset the transaction failure flag.
+		// If the $test_mode flag is set to TRUE transactions will be rolled back
+		// even if the queries produce a successful result.
+		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;
+
+		$this->simple_query('BEGIN TRAN');
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Commit Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_commit()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$this->simple_query('COMMIT TRAN');
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rollback Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_rollback()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$this->simple_query('ROLLBACK TRAN');
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape String
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function escape_str($str)	
+	{
+		// Access the CI object
+		$CI =& get_instance();
+		
+		// Escape single quotes
+		return str_replace("'", "''", $CI->input->_remove_invisible_characters($str));
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Affected Rows
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function affected_rows()
+	{
+		return @mssql_rows_affected($this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	* Insert ID
+	*
+	* Returns the last id created in the Identity column.
+	*
+	* @access public
+	* @return integer
+	*/
+	function insert_id()
+	{
+		$ver = self::_parse_major_version($this->version());
+		$sql = ($ver >= 8 ? "SELECT SCOPE_IDENTITY() AS last_id" : "SELECT @@IDENTITY AS last_id");
+		$query = $this->query($sql);
+		$row = $query->row();
+		return $row->last_id;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	* Parse major version
+	*
+	* Grabs the major version number from the 
+	* database server version string passed in.
+	*
+	* @access private
+	* @param string $version
+	* @return int16 major version number
+	*/
+	function _parse_major_version($version)
+	{
+		preg_match('/([0-9]+)\.([0-9]+)\.([0-9]+)/', $version, $ver_info);
+		return $ver_info[1]; // return the major version b/c that's all we're interested in.
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	* Version number query string
+	*
+	* @access public
+	* @return string
+	*/
+	function _version()
+	{
+		return "SELECT @@VERSION AS ver";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * "Count All" query
+	 *
+	 * Generates a platform-specific query string that counts all records in
+	 * the specified database
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function count_all($table = '')
+	{
+		if ($table == '')
+			return '0';
+	
+		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows'). " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));
+
+		if ($query->num_rows() == 0)
+			return '0';
+
+		$row = $query->row();
+		return $row->numrows;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * List table query
+	 *
+	 * Generates a platform-specific query string so that the table names can be fetched
+	 *
+	 * @access	private
+	 * @param	boolean
+	 * @return	string
+	 */
+	function _list_tables($prefix_limit = FALSE)
+	{
+		$sql = "SELECT name FROM sysobjects WHERE type = 'U' ORDER BY name";
+		
+		// for future compatibility
+		if ($prefix_limit !== FALSE AND $this->dbprefix != '')
+		{
+			//$sql .= " LIKE '".$this->dbprefix."%'";
+			return FALSE; // not currently supported
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * List column query
+	 *
+	 * Generates a platform-specific query string so that the column names can be fetched
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	string
+	 */
+	function _list_columns($table = '')
+	{
+		return "SELECT * FROM INFORMATION_SCHEMA.Columns WHERE TABLE_NAME = '".$table."'";	
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data query
+	 *
+	 * Generates a platform-specific query so that the column data can be retrieved
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _field_data($table)
+	{
+		return "SELECT TOP 1 * FROM ".$table;	
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message string
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _error_message()
+	{
+		// Are errros even supported in MS SQL?
+		return '';
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message number
+	 *
+	 * @access	private
+	 * @return	integer
+	 */
+	function _error_number()
+	{
+		// Are error numbers supported?
+		return '';
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape the SQL Identifiers
+	 *
+	 * This function escapes column and table names
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _escape_identifiers($item)
+	{
+		if ($this->_escape_char == '')
+		{
+			return $item;
+		}
+	
+		if (strpos($item, '.') !== FALSE)
+		{
+			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;			
+		}
+		else
+		{
+			$str = $this->_escape_char.$item.$this->_escape_char;
+		}
+		
+		// remove duplicates if the user already included the escape
+		return preg_replace('/['.$this->_escape_char.']+/', $this->_escape_char, $str);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * From Tables
+	 *
+	 * This function implicitly groups FROM tables so there is no confusion
+	 * about operator precedence in harmony with SQL standards
+	 *
+	 * @access	public
+	 * @param	type
+	 * @return	type
+	 */
+	function _from_tables($tables)
+	{
+		if ( ! is_array($tables))
+		{
+			$tables = array($tables);
+		}
+		
+		return implode(', ', $tables);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Insert statement
+	 *
+	 * Generates a platform-specific insert string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the insert keys
+	 * @param	array	the insert values
+	 * @return	string
+	 */
+	function _insert($table, $keys, $values)
+	{	
+		return "INSERT INTO ".$table." (".implode(', ', $keys).") VALUES (".implode(', ', $values).")";
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Update statement
+	 *
+	 * Generates a platform-specific update string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the update data
+	 * @param	array	the where clause
+	 * @param	array	the orderby clause
+	 * @param	array	the limit clause
+	 * @return	string
+	 */
+	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)
+	{
+		foreach($values as $key => $val)
+		{
+			$valstr[] = $key." = ".$val;
+		}
+		
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+		
+		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';
+	
+		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);
+
+		$sql .= ($where != '' AND count($where) >=1) ? " WHERE ".implode(" ", $where) : '';
+
+		$sql .= $orderby.$limit;
+		
+		return $sql;
+	}
+
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Truncate statement
+	 *
+	 * Generates a platform-specific truncate string from the supplied data
+	 * If the database does not support the truncate() command
+	 * This function maps to "DELETE FROM table"
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */	
+	function _truncate($table)
+	{
+		return "TRUNCATE ".$table;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete statement
+	 *
+	 * Generates a platform-specific delete string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the where clause
+	 * @param	string	the limit clause
+	 * @return	string
+	 */	
+	function _delete($table, $where = array(), $like = array(), $limit = FALSE)
+	{
+		$conditions = '';
+
+		if (count($where) > 0 OR count($like) > 0)
+		{
+			$conditions = "\nWHERE ";
+			$conditions .= implode("\n", $this->ar_where);
+
+			if (count($where) > 0 && count($like) > 0)
+			{
+				$conditions .= " AND ";
+			}
+			$conditions .= implode("\n", $like);
+		}
+
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+	
+		return "DELETE FROM ".$table.$conditions.$limit;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Limit string
+	 *
+	 * Generates a platform-specific LIMIT clause
+	 *
+	 * @access	public
+	 * @param	string	the sql query string
+	 * @param	integer	the number of rows to limit the query to
+	 * @param	integer	the offset value
+	 * @return	string
+	 */
+	function _limit($sql, $limit, $offset)
+	{
+		$i = $limit + $offset;
+	
+		return preg_replace('/(^\SELECT (DISTINCT)?)/i','\\1 TOP '.$i.' ', $sql);		
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Close DB Connection
+	 *
+	 * @access	public
+	 * @param	resource
+	 * @return	void
+	 */
+	function _close($conn_id)
+	{
+		@mssql_close($conn_id);
+	}	
+
+}
+
+
+
+/* End of file mssql_driver.php */
+/* Location: ./system/database/drivers/mssql/mssql_driver.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mssql/mssql_forge.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mssql/mssql_forge.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mssql/mssql_forge.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,248 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MS SQL Forge Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mssql_forge extends CI_DB_forge {
+
+	/**
+	 * Create database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database($name)
+	{
+		return "CREATE DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		return "DROP DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop Table
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _drop_table($table)
+	{
+		return "DROP TABLE ".$this->db->_escape_identifiers($table);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Create Table
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @param	array	the fields
+	 * @param	mixed	primary key(s)
+	 * @param	mixed	key(s)
+	 * @param	boolean	should 'IF NOT EXISTS' be added to the SQL
+	 * @return	bool
+	 */
+	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)
+	{
+		$sql = 'CREATE TABLE ';
+		
+		if ($if_not_exists === TRUE)
+		{
+			$sql .= 'IF NOT EXISTS ';
+		}
+		
+		$sql .= $this->db->_escape_identifiers($table)." (";
+		$current_field_count = 0;
+
+		foreach ($fields as $field=>$attributes)
+		{
+			// Numeric field names aren't allowed in databases, so if the key is
+			// numeric, we know it was assigned by PHP and the developer manually
+			// entered the field information, so we'll simply add it to the list
+			if (is_numeric($field))
+			{
+				$sql .= "\n\t$attributes";
+			}
+			else
+			{
+				$attributes = array_change_key_case($attributes, CASE_UPPER);
+				
+				$sql .= "\n\t".$this->db->_protect_identifiers($field);
+				
+				$sql .=  ' '.$attributes['TYPE'];
+	
+				if (array_key_exists('CONSTRAINT', $attributes))
+				{
+					$sql .= '('.$attributes['CONSTRAINT'].')';
+				}
+	
+				if (array_key_exists('UNSIGNED', $attributes) && $attributes['UNSIGNED'] === TRUE)
+				{
+					$sql .= ' UNSIGNED';
+				}
+	
+				if (array_key_exists('DEFAULT', $attributes))
+				{
+					$sql .= ' DEFAULT \''.$attributes['DEFAULT'].'\'';
+				}
+	
+				if (array_key_exists('NULL', $attributes) && $attributes['NULL'] === TRUE)
+				{
+					$sql .= ' NULL';
+				}
+				else
+				{
+					$sql .= ' NOT NULL';			
+				}
+	
+				if (array_key_exists('AUTO_INCREMENT', $attributes) && $attributes['AUTO_INCREMENT'] === TRUE)
+				{
+					$sql .= ' AUTO_INCREMENT';
+				}
+			}
+			
+			// don't add a comma on the end of the last field
+			if (++$current_field_count < count($fields))
+			{
+				$sql .= ',';
+			}
+		}
+
+		if (count($primary_keys) > 0)
+		{
+			$primary_keys = $this->db->_protect_identifiers($primary_keys);
+			$sql .= ",\n\tPRIMARY KEY (" . implode(', ', $primary_keys) . ")";
+		}
+		
+		if (is_array($keys) && count($keys) > 0)
+		{
+			foreach ($keys as $key)
+			{
+				if (is_array($key))
+				{
+					$key = $this->db->_protect_identifiers($key);	
+				}
+				else
+				{
+					$key = array($this->db->_protect_identifiers($key));
+				}
+				
+				$sql .= ",\n\tFOREIGN KEY (" . implode(', ', $key) . ")";
+			}
+		}
+		
+		$sql .= "\n)";
+
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Alter table query
+	 *
+	 * Generates a platform-specific query so that a table can be altered
+	 * Called by add_column(), drop_column(), and column_alter(),
+	 *
+	 * @access	private
+	 * @param	string	the ALTER type (ADD, DROP, CHANGE)
+	 * @param	string	the column name
+	 * @param	string	the table name
+	 * @param	string	the column definition
+	 * @param	string	the default value
+	 * @param	boolean	should 'NOT NULL' be added
+	 * @param	string	the field after which we should add the new field
+	 * @return	object
+	 */
+	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);
+
+		// DROP has everything it needs now.
+		if ($alter_type == 'DROP')
+		{
+			return $sql;
+		}
+
+		$sql .= " $column_definition";
+
+		if ($default_value != '')
+		{
+			$sql .= " DEFAULT \"$default_value\"";
+		}
+
+		if ($null === NULL)
+		{
+			$sql .= ' NULL';
+		}
+		else
+		{
+			$sql .= ' NOT NULL';
+		}
+
+		if ($after_field != '')
+		{
+			$sql .= ' AFTER ' . $this->db->_protect_identifiers($after_field);
+		}
+		
+		return $sql;
+		
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rename a table
+	 *
+	 * Generates a platform-specific query so that a table can be renamed
+	 *
+	 * @access	private
+	 * @param	string	the old table name
+	 * @param	string	the new table name
+	 * @return	string
+	 */
+	function _rename_table($table_name, $new_table_name)
+	{
+		// I think this syntax will work, but can find little documentation on renaming tables in MSSQL
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);
+		return $sql;
+	}
+
+}
+
+/* End of file mssql_forge.php */
+/* Location: ./system/database/drivers/mssql/mssql_forge.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mssql/mssql_result.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mssql/mssql_result.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mssql/mssql_result.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,169 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MS SQL Result Class
+ *
+ * This class extends the parent result class: CI_DB_result
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mssql_result extends CI_DB_result {
+	
+	/**
+	 * Number of rows in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_rows()
+	{
+		return @mssql_num_rows($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Number of fields in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_fields()
+	{
+		return @mssql_num_fields($this->result_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch Field Names
+	 *
+	 * Generates an array of column names
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function list_fields()
+	{
+		$field_names = array();
+		while ($field = mssql_fetch_field($this->result_id))
+		{
+			$field_names[] = $field->name;
+		}
+		
+		return $field_names;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data
+	 *
+	 * Generates an array of objects containing field meta-data
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function field_data()
+	{
+		$retval = array();
+		while ($field = mssql_fetch_field($this->result_id))
+		{	
+			$F 				= new stdClass();
+			$F->name 		= $field->name;
+			$F->type 		= $field->type;
+			$F->max_length	= $field->max_length;
+			$F->primary_key = 0;
+			$F->default		= '';
+			
+			$retval[] = $F;
+		}
+		
+		return $retval;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Free the result
+	 *
+	 * @return	null
+	 */		
+	function free_result()
+	{
+		if (is_resource($this->result_id))
+		{
+			mssql_free_result($this->result_id);
+			$this->result_id = FALSE;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Data Seek
+	 *
+	 * Moves the internal pointer to the desired offset.  We call
+	 * this internally before fetching results to make sure the
+	 * result set starts at zero
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _data_seek($n = 0)
+	{
+		return mssql_data_seek($this->result_id, $n);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - associative array
+	 *
+	 * Returns the result set as an array
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _fetch_assoc()
+	{
+		return mssql_fetch_assoc($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - object
+	 *
+	 * Returns the result set as an object
+	 *
+	 * @access	private
+	 * @return	object
+	 */
+	function _fetch_object()
+	{
+		return mssql_fetch_object($this->result_id);
+	}
+
+}
+
+
+/* End of file mssql_result.php */
+/* Location: ./system/database/drivers/mssql/mssql_result.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mssql/mssql_utility.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mssql/mssql_utility.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mssql/mssql_utility.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,123 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MS SQL Utility Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mssql_utility extends CI_DB_utility {
+
+	/**
+	 * List databases
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _list_databases()
+	{
+		return "EXEC sp_helpdb"; // Can also be: EXEC sp_databases
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Optimize table query
+	 *
+	 * Generates a platform-specific query so that a table can be optimized
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _optimize_table($table)
+	{
+		return FALSE; // Is this supported in MS SQL?
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Repair table query
+	 *
+	 * Generates a platform-specific query so that a table can be repaired
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _repair_table($table)
+	{
+		return FALSE; // Is this supported in MS SQL?
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * MSSQL Export
+	 *
+	 * @access	private
+	 * @param	array	Preferences
+	 * @return	mixed
+	 */
+	function _backup($params = array())
+	{
+		// Currently unsupported
+		return $this->db->display_error('db_unsuported_feature');
+	}
+
+	/**
+	 *
+	 * The functions below have been deprecated as of 1.6, and are only here for backwards
+	 * compatibility.  They now reside in dbforge().  The use of dbutils for database manipulation
+	 * is STRONGLY discouraged in favour if using dbforge.
+	 *
+	 */
+
+	/**
+	 * Create database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database($name)
+	{
+		return "CREATE DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		return "DROP DATABASE ".$name;
+	}
+
+}
+
+
+/* End of file mssql_utility.php */
+/* Location: ./system/database/drivers/mssql/mssql_utility.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mysql/index.html
===================================================================
--- trunk/pintassilgo/system/database/drivers/mysql/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mysql/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mysql/mysql_driver.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mysql/mysql_driver.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mysql/mysql_driver.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,623 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MySQL Database Adapter Class
+ *
+ * Note: _DB is an extender class that the app controller
+ * creates dynamically based on whether the active record
+ * class is being used or not.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Drivers
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mysql_driver extends CI_DB {
+
+	var $dbdriver = 'mysql';
+
+	// The character used for escaping
+	var	$_escape_char = '`';
+	
+	/**
+	 * Whether to use the MySQL "delete hack" which allows the number
+	 * of affected rows to be shown. Uses a preg_replace when enabled,
+	 * adding a bit more processing to all queries.
+	 */	
+	var $delete_hack = TRUE;
+	
+	/**
+	 * The syntax to count rows is slightly different across different
+	 * database engines, so this string appears in each driver and is
+	 * used for the count_all() and count_all_results() functions.
+	 */
+	var $_count_string = 'SELECT COUNT(*) AS ';
+	var $_random_keyword = ' RAND()'; // database specific random keyword
+
+	/**
+	 * Non-persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_connect()
+	{
+		if ($this->port != '')
+		{
+			$this->hostname .= ':'.$this->port;
+		}
+		
+		return @mysql_connect($this->hostname, $this->username, $this->password, TRUE);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_pconnect()
+	{
+		if ($this->port != '')
+		{
+			$this->hostname .= ':'.$this->port;
+		}
+
+		return @mysql_pconnect($this->hostname, $this->username, $this->password);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select the database
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_select()
+	{
+		return @mysql_select_db($this->database, $this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set client character set
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	resource
+	 */
+	function db_set_charset($charset, $collation)
+	{
+		return @mysql_query("SET NAMES '".$this->escape_str($charset)."' COLLATE '".$this->escape_str($collation)."'", $this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Version number query string
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function _version()
+	{
+		return "SELECT version() AS ver";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Execute the query
+	 *
+	 * @access	private called by the base class
+	 * @param	string	an SQL query
+	 * @return	resource
+	 */	
+	function _execute($sql)
+	{
+		$sql = $this->_prep_query($sql);
+		return @mysql_query($sql, $this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Prep the query
+	 *
+	 * If needed, each database adapter can prep the query string
+	 *
+	 * @access	private called by execute()
+	 * @param	string	an SQL query
+	 * @return	string
+	 */	
+	function _prep_query($sql)
+	{
+		// "DELETE FROM TABLE" returns 0 affected rows This hack modifies
+		// the query so that it returns the number of affected rows
+		if ($this->delete_hack === TRUE)
+		{
+			if (preg_match('/^\s*DELETE\s+FROM\s+(\S+)\s*$/i', $sql))
+			{
+				$sql = preg_replace("/^\s*DELETE\s+FROM\s+(\S+)\s*$/", "DELETE FROM \\1 WHERE 1=1", $sql);
+			}
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Begin Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_begin($test_mode = FALSE)
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+		
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		// Reset the transaction failure flag.
+		// If the $test_mode flag is set to TRUE transactions will be rolled back
+		// even if the queries produce a successful result.
+		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;
+		
+		$this->simple_query('SET AUTOCOMMIT=0');
+		$this->simple_query('START TRANSACTION'); // can also be BEGIN or BEGIN WORK
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Commit Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_commit()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$this->simple_query('COMMIT');
+		$this->simple_query('SET AUTOCOMMIT=1');
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rollback Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_rollback()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$this->simple_query('ROLLBACK');
+		$this->simple_query('SET AUTOCOMMIT=1');
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape String
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function escape_str($str)	
+	{	
+		if (is_array($str))
+		{
+			foreach($str as $key => $val)
+	   		{
+				$str[$key] = $this->escape_str($val);
+	   		}
+   		
+	   		return $str;
+	   	}
+
+		if (function_exists('mysql_real_escape_string') AND is_resource($this->conn_id))
+		{
+			return mysql_real_escape_string($str, $this->conn_id);
+		}
+		elseif (function_exists('mysql_escape_string'))
+		{
+			return mysql_escape_string($str);
+		}
+		else
+		{
+			return addslashes($str);
+		}
+	}
+		
+	// --------------------------------------------------------------------
+
+	/**
+	 * Affected Rows
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function affected_rows()
+	{
+		return @mysql_affected_rows($this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Insert ID
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function insert_id()
+	{
+		return @mysql_insert_id($this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * "Count All" query
+	 *
+	 * Generates a platform-specific query string that counts all records in
+	 * the specified database
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function count_all($table = '')
+	{
+		if ($table == '')
+			return '0';
+	
+		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows'). " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));
+		
+		if ($query->num_rows() == 0)
+			return '0';
+
+		$row = $query->row();
+		return (int)$row->numrows;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * List table query
+	 *
+	 * Generates a platform-specific query string so that the table names can be fetched
+	 *
+	 * @access	private
+	 * @param	boolean
+	 * @return	string
+	 */
+	function _list_tables($prefix_limit = FALSE)
+	{
+		$sql = "SHOW TABLES FROM ".$this->_escape_char.$this->database.$this->_escape_char;	
+
+		if ($prefix_limit !== FALSE AND $this->dbprefix != '')
+		{
+			$sql .= " LIKE '".$this->dbprefix."%'";
+		}
+
+		return $sql;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Show column query
+	 *
+	 * Generates a platform-specific query string so that the column names can be fetched
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */
+	function _list_columns($table = '')
+	{
+		return "SHOW COLUMNS FROM ".$table;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data query
+	 *
+	 * Generates a platform-specific query so that the column data can be retrieved
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _field_data($table)
+	{
+		return "SELECT * FROM ".$table." LIMIT 1";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message string
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _error_message()
+	{
+		return mysql_error($this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message number
+	 *
+	 * @access	private
+	 * @return	integer
+	 */
+	function _error_number()
+	{
+		return mysql_errno($this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape the SQL Identifiers
+	 *
+	 * This function escapes column and table names
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _escape_identifiers($item)
+	{
+		if ($this->_escape_char == '')
+		{
+			return $item;
+		}
+	
+		if (strpos($item, '.') !== FALSE)
+		{
+			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;			
+		}
+		else
+		{
+			$str = $this->_escape_char.$item.$this->_escape_char;
+		}
+		
+		// remove duplicates if the user already included the escape
+		return preg_replace('/['.$this->_escape_char.']+/', $this->_escape_char, $str);
+	}
+			
+	// --------------------------------------------------------------------
+
+	/**
+	 * From Tables
+	 *
+	 * This function implicitly groups FROM tables so there is no confusion
+	 * about operator precedence in harmony with SQL standards
+	 *
+	 * @access	public
+	 * @param	type
+	 * @return	type
+	 */
+	function _from_tables($tables)
+	{
+		if ( ! is_array($tables))
+		{
+			$tables = array($tables);
+		}
+		
+		return '('.implode(', ', $tables).')';
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Insert statement
+	 *
+	 * Generates a platform-specific insert string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the insert keys
+	 * @param	array	the insert values
+	 * @return	string
+	 */
+	function _insert($table, $keys, $values)
+	{	
+		return "INSERT INTO ".$table." (".implode(', ', $keys).") VALUES (".implode(', ', $values).")";
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Update statement
+	 *
+	 * Generates a platform-specific update string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the update data
+	 * @param	array	the where clause
+	 * @param	array	the orderby clause
+	 * @param	array	the limit clause
+	 * @return	string
+	 */
+	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)
+	{
+		foreach($values as $key => $val)
+		{
+			$valstr[] = $key." = ".$val;
+		}
+		
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+		
+		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';
+	
+		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);
+
+		$sql .= ($where != '' AND count($where) >=1) ? " WHERE ".implode(" ", $where) : '';
+
+		$sql .= $orderby.$limit;
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Truncate statement
+	 *
+	 * Generates a platform-specific truncate string from the supplied data
+	 * If the database does not support the truncate() command
+	 * This function maps to "DELETE FROM table"
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */	
+	function _truncate($table)
+	{
+		return "TRUNCATE ".$table;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete statement
+	 *
+	 * Generates a platform-specific delete string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the where clause
+	 * @param	string	the limit clause
+	 * @return	string
+	 */	
+	function _delete($table, $where = array(), $like = array(), $limit = FALSE)
+	{
+		$conditions = '';
+
+		if (count($where) > 0 OR count($like) > 0)
+		{
+			$conditions = "\nWHERE ";
+			$conditions .= implode("\n", $this->ar_where);
+
+			if (count($where) > 0 && count($like) > 0)
+			{
+				$conditions .= " AND ";
+			}
+			$conditions .= implode("\n", $like);
+		}
+
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+	
+		return "DELETE FROM ".$table.$conditions.$limit;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Limit string
+	 *
+	 * Generates a platform-specific LIMIT clause
+	 *
+	 * @access	public
+	 * @param	string	the sql query string
+	 * @param	integer	the number of rows to limit the query to
+	 * @param	integer	the offset value
+	 * @return	string
+	 */
+	function _limit($sql, $limit, $offset)
+	{	
+		if ($offset == 0)
+		{
+			$offset = '';
+		}
+		else
+		{
+			$offset .= ", ";
+		}
+		
+		return $sql."LIMIT ".$offset.$limit;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Close DB Connection
+	 *
+	 * @access	public
+	 * @param	resource
+	 * @return	void
+	 */
+	function _close($conn_id)
+	{
+		@mysql_close($conn_id);
+	}
+	
+}
+
+
+/* End of file mysql_driver.php */
+/* Location: ./system/database/drivers/mysql/mysql_driver.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mysql/mysql_forge.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mysql/mysql_forge.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mysql/mysql_forge.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,254 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MySQL Forge Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mysql_forge extends CI_DB_forge {
+	
+	/**
+	 * Create database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database($name)
+	{
+		return "CREATE DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		return "DROP DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Process Fields
+	 *
+	 * @access	private
+	 * @param	mixed	the fields
+	 * @return	string
+	 */
+	function _process_fields($fields)
+	{
+		$current_field_count = 0;
+		$sql = '';
+
+		foreach ($fields as $field=>$attributes)
+		{
+			// Numeric field names aren't allowed in databases, so if the key is
+			// numeric, we know it was assigned by PHP and the developer manually
+			// entered the field information, so we'll simply add it to the list
+			if (is_numeric($field))
+			{
+				$sql .= "\n\t$attributes";
+			}
+			else
+			{
+				$attributes = array_change_key_case($attributes, CASE_UPPER);
+				
+				$sql .= "\n\t".$this->db->_protect_identifiers($field);
+
+				if (array_key_exists('NAME', $attributes))
+				{
+					$sql .= ' '.$this->db->_protect_identifiers($attributes['NAME']).' ';
+				}
+				
+				if (array_key_exists('TYPE', $attributes))
+				{
+					$sql .=  ' '.$attributes['TYPE'];
+				}
+	
+				if (array_key_exists('CONSTRAINT', $attributes))
+				{
+					$sql .= '('.$attributes['CONSTRAINT'].')';
+				}
+	
+				if (array_key_exists('UNSIGNED', $attributes) && $attributes['UNSIGNED'] === TRUE)
+				{
+					$sql .= ' UNSIGNED';
+				}
+	
+				if (array_key_exists('DEFAULT', $attributes))
+				{
+					$sql .= ' DEFAULT \''.$attributes['DEFAULT'].'\'';
+				}
+	
+				if (array_key_exists('NULL', $attributes))
+				{
+					$sql .= ($attributes['NULL'] === TRUE) ? ' NULL' : ' NOT NULL';
+				}
+	
+				if (array_key_exists('AUTO_INCREMENT', $attributes) && $attributes['AUTO_INCREMENT'] === TRUE)
+				{
+					$sql .= ' AUTO_INCREMENT';
+				}
+			}
+			
+			// don't add a comma on the end of the last field
+			if (++$current_field_count < count($fields))
+			{
+				$sql .= ',';
+			}
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Create Table
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @param	mixed	the fields
+	 * @param	mixed	primary key(s)
+	 * @param	mixed	key(s)
+	 * @param	boolean	should 'IF NOT EXISTS' be added to the SQL
+	 * @return	bool
+	 */
+	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)
+	{
+		$sql = 'CREATE TABLE ';
+		
+		if ($if_not_exists === TRUE)
+		{
+			$sql .= 'IF NOT EXISTS ';
+		}
+		
+		$sql .= $this->db->_escape_identifiers($table)." (";
+
+		$sql .= $this->_process_fields($fields);
+
+		if (count($primary_keys) > 0)
+		{
+			$key_name = $this->db->_protect_identifiers(implode('_', $primary_keys));
+			$primary_keys = $this->db->_protect_identifiers($primary_keys);
+			$sql .= ",\n\tPRIMARY KEY ".$key_name." (" . implode(', ', $primary_keys) . ")";
+		}
+
+		if (is_array($keys) && count($keys) > 0)
+		{
+			foreach ($keys as $key)
+			{
+				if (is_array($key))
+				{
+					$key_name = $this->db->_protect_identifiers(implode('_', $key));
+					$key = $this->db->_protect_identifiers($key);	
+				}
+				else
+				{
+					$key_name = $this->db->_protect_identifiers($key);
+					$key = array($key_name);
+				}
+				
+				$sql .= ",\n\tKEY {$key_name} (" . implode(', ', $key) . ")";
+			}
+		}
+
+		$sql .= "\n) DEFAULT CHARACTER SET {$this->db->char_set} COLLATE {$this->db->dbcollat};";
+
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop Table
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _drop_table($table)
+	{
+		return "DROP TABLE IF EXISTS ".$this->db->_escape_identifiers($table);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Alter table query
+	 *
+	 * Generates a platform-specific query so that a table can be altered
+	 * Called by add_column(), drop_column(), and column_alter(),
+	 *
+	 * @access	private
+	 * @param	string	the ALTER type (ADD, DROP, CHANGE)
+	 * @param	string	the column name
+	 * @param	array	fields
+	 * @param	string	the field after which we should add the new field
+	 * @return	object
+	 */
+	function _alter_table($alter_type, $table, $fields, $after_field = '')
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ";
+
+		// DROP has everything it needs now.
+		if ($alter_type == 'DROP')
+		{
+			return $sql.$this->db->_protect_identifiers($fields);
+		}
+
+		$sql .= $this->_process_fields($fields);
+
+		if ($after_field != '')
+		{
+			$sql .= ' AFTER ' . $this->db->_protect_identifiers($after_field);
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rename a table
+	 *
+	 * Generates a platform-specific query so that a table can be renamed
+	 *
+	 * @access	private
+	 * @param	string	the old table name
+	 * @param	string	the new table name
+	 * @return	string
+	 */
+	function _rename_table($table_name, $new_table_name)
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);
+		return $sql;
+	}
+
+}
+
+/* End of file mysql_forge.php */
+/* Location: ./system/database/drivers/mysql/mysql_forge.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mysql/mysql_result.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mysql/mysql_result.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mysql/mysql_result.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,169 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// --------------------------------------------------------------------
+
+/**
+ * MySQL Result Class
+ *
+ * This class extends the parent result class: CI_DB_result
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mysql_result extends CI_DB_result {
+
+	/**
+	 * Number of rows in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_rows()
+	{
+		return @mysql_num_rows($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Number of fields in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_fields()
+	{
+		return @mysql_num_fields($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch Field Names
+	 *
+	 * Generates an array of column names
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function list_fields()
+	{
+		$field_names = array();
+		while ($field = mysql_fetch_field($this->result_id))
+		{
+			$field_names[] = $field->name;
+		}
+		
+		return $field_names;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data
+	 *
+	 * Generates an array of objects containing field meta-data
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function field_data()
+	{
+		$retval = array();
+		while ($field = mysql_fetch_field($this->result_id))
+		{	
+			$F				= new stdClass();
+			$F->name 		= $field->name;
+			$F->type 		= $field->type;
+			$F->default		= $field->def;
+			$F->max_length	= $field->max_length;
+			$F->primary_key = $field->primary_key;
+			
+			$retval[] = $F;
+		}
+		
+		return $retval;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Free the result
+	 *
+	 * @return	null
+	 */		
+	function free_result()
+	{
+		if (is_resource($this->result_id))
+		{
+			mysql_free_result($this->result_id);
+			$this->result_id = FALSE;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Data Seek
+	 *
+	 * Moves the internal pointer to the desired offset.  We call
+	 * this internally before fetching results to make sure the
+	 * result set starts at zero
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _data_seek($n = 0)
+	{
+		return mysql_data_seek($this->result_id, $n);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - associative array
+	 *
+	 * Returns the result set as an array
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _fetch_assoc()
+	{
+		return mysql_fetch_assoc($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - object
+	 *
+	 * Returns the result set as an object
+	 *
+	 * @access	private
+	 * @return	object
+	 */
+	function _fetch_object()
+	{
+		return mysql_fetch_object($this->result_id);
+	}
+	
+}
+
+
+/* End of file mysql_result.php */
+/* Location: ./system/database/drivers/mysql/mysql_result.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mysql/mysql_utility.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mysql/mysql_utility.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mysql/mysql_utility.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,245 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MySQL Utility Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mysql_utility extends CI_DB_utility {
+
+	/**
+	 * List databases
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _list_databases()
+	{
+		return "SHOW DATABASES";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Optimize table query
+	 *
+	 * Generates a platform-specific query so that a table can be optimized
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _optimize_table($table)
+	{
+		return "OPTIMIZE TABLE ".$this->db->_escape_identifiers($table);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Repair table query
+	 *
+	 * Generates a platform-specific query so that a table can be repaired
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _repair_table($table)
+	{
+		return "REPAIR TABLE ".$this->db->_escape_identifiers($table);
+	}
+
+	// --------------------------------------------------------------------
+	/**
+	 * MySQL Export
+	 *
+	 * @access	private
+	 * @param	array	Preferences
+	 * @return	mixed
+	 */
+	function _backup($params = array())
+	{
+		if (count($params) == 0)
+		{
+			return FALSE;
+		}
+
+		// Extract the prefs for simplicity
+		extract($params);
+	
+		// Build the output
+		$output = '';
+		foreach ((array)$tables as $table)
+		{
+			// Is the table in the "ignore" list?
+			if (in_array($table, (array)$ignore, TRUE))
+			{
+				continue;
+			}
+
+			// Get the table schema
+			$query = $this->db->query("SHOW CREATE TABLE `".$this->db->database.'`.'.$table);
+			
+			// No result means the table name was invalid
+			if ($query === FALSE)
+			{
+				continue;
+			}
+			
+			// Write out the table schema
+			$output .= '#'.$newline.'# TABLE STRUCTURE FOR: '.$table.$newline.'#'.$newline.$newline;
+
+ 			if ($add_drop == TRUE)
+ 			{
+				$output .= 'DROP TABLE IF EXISTS '.$table.';'.$newline.$newline;
+			}
+			
+			$i = 0;
+			$result = $query->result_array();
+			foreach ($result[0] as $val)
+			{
+				if ($i++ % 2)
+				{ 					
+					$output .= $val.';'.$newline.$newline;
+				}
+			}
+			
+			// If inserts are not needed we're done...
+			if ($add_insert == FALSE)
+			{
+				continue;
+			}
+
+			// Grab all the data from the current table
+			$query = $this->db->query("SELECT * FROM $table");
+			
+			if ($query->num_rows() == 0)
+			{
+				continue;
+			}
+		
+			// Fetch the field names and determine if the field is an
+			// integer type.  We use this info to decide whether to
+			// surround the data with quotes or not
+			
+			$i = 0;
+			$field_str = '';
+			$is_int = array();
+			while ($field = mysql_fetch_field($query->result_id))
+			{
+				// Most versions of MySQL store timestamp as a string
+				$is_int[$i] = (in_array(
+										strtolower(mysql_field_type($query->result_id, $i)),
+										array('tinyint', 'smallint', 'mediumint', 'int', 'bigint'), //, 'timestamp'), 
+										TRUE)
+										) ? TRUE : FALSE;
+										
+				// Create a string of field names
+				$field_str .= '`'.$field->name.'`, ';
+				$i++;
+			}
+			
+			// Trim off the end comma
+			$field_str = preg_replace( "/, $/" , "" , $field_str);
+			
+			
+			// Build the insert string
+			foreach ($query->result_array() as $row)
+			{
+				$val_str = '';
+			
+				$i = 0;
+				foreach ($row as $v)
+				{
+					// Is the value NULL?
+					if ($v === NULL)
+					{
+						$val_str .= 'NULL';
+					}
+					else
+					{
+						// Escape the data if it's not an integer
+						if ($is_int[$i] == FALSE)
+						{
+							$val_str .= $this->db->escape($v);
+						}
+						else
+						{
+							$val_str .= $v;
+						}					
+					}					
+					
+					// Append a comma
+					$val_str .= ', ';
+					$i++;
+				}
+				
+				// Remove the comma at the end of the string
+				$val_str = preg_replace( "/, $/" , "" , $val_str);
+								
+				// Build the INSERT string
+				$output .= 'INSERT INTO '.$table.' ('.$field_str.') VALUES ('.$val_str.');'.$newline;
+			}
+			
+			$output .= $newline.$newline;
+		}
+
+		return $output;
+	}
+
+	/**
+	 *
+	 * The functions below have been deprecated as of 1.6, and are only here for backwards
+	 * compatibility.  They now reside in dbforge().  The use of dbutils for database manipulation
+	 * is STRONGLY discouraged in favour if using dbforge.
+	 *
+	 */
+
+	/**
+	 * Create database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database($name)
+	{
+		return "CREATE DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		return "DROP DATABASE ".$name;
+	}
+
+}
+
+/* End of file mysql_utility.php */
+/* Location: ./system/database/drivers/mysql/mysql_utility.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mysqli/index.html
===================================================================
--- trunk/pintassilgo/system/database/drivers/mysqli/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mysqli/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mysqli/mysqli_driver.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mysqli/mysqli_driver.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mysqli/mysqli_driver.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,606 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MySQLi Database Adapter Class - MySQLi only works with PHP 5
+ *
+ * Note: _DB is an extender class that the app controller
+ * creates dynamically based on whether the active record
+ * class is being used or not.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Drivers
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mysqli_driver extends CI_DB {
+
+	var $dbdriver = 'mysqli';
+	
+	// The character used for escaping
+	var $_escape_char = '`';
+
+	/**
+	 * The syntax to count rows is slightly different across different
+	 * database engines, so this string appears in each driver and is
+	 * used for the count_all() and count_all_results() functions.
+	 */
+	var $_count_string = "SELECT COUNT(*) AS ";
+	var $_random_keyword = ' RAND()'; // database specific random keyword
+
+	/**
+	 * Whether to use the MySQL "delete hack" which allows the number
+	 * of affected rows to be shown. Uses a preg_replace when enabled,
+	 * adding a bit more processing to all queries.
+	 */	
+	var $delete_hack = TRUE;
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Non-persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_connect()
+	{
+		return @mysqli_connect($this->hostname, $this->username, $this->password, $this->database, $this->port);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_pconnect()
+	{
+		return $this->db_connect();
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select the database
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_select()
+	{
+		return @mysqli_select_db($this->conn_id, $this->database);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set client character set
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @return	resource
+	 */
+	function _db_set_charset($charset, $collation)
+	{
+		return @mysqli_query($this->conn_id, "SET NAMES '".$this->escape_str($charset)."' COLLATE '".$this->escape_str($collation)."'");
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Version number query string
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function _version()
+	{
+		return "SELECT version() AS ver";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Execute the query
+	 *
+	 * @access	private called by the base class
+	 * @param	string	an SQL query
+	 * @return	resource
+	 */	
+	function _execute($sql)
+	{
+		$sql = $this->_prep_query($sql);	
+		$result = @mysqli_query($this->conn_id, $sql);
+		return $result;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Prep the query
+	 *
+	 * If needed, each database adapter can prep the query string
+	 *
+	 * @access	private called by execute()
+	 * @param	string	an SQL query
+	 * @return	string
+	 */	
+	function _prep_query($sql)
+	{
+		// "DELETE FROM TABLE" returns 0 affected rows This hack modifies
+		// the query so that it returns the number of affected rows
+		if ($this->delete_hack === TRUE)
+		{
+			if (preg_match('/^\s*DELETE\s+FROM\s+(\S+)\s*$/i', $sql))
+			{
+				$sql = preg_replace("/^\s*DELETE\s+FROM\s+(\S+)\s*$/", "DELETE FROM \\1 WHERE 1=1", $sql);
+			}
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Begin Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_begin($test_mode = FALSE)
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+		
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		// Reset the transaction failure flag.
+		// If the $test_mode flag is set to TRUE transactions will be rolled back
+		// even if the queries produce a successful result.
+		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;
+
+		$this->simple_query('SET AUTOCOMMIT=0');
+		$this->simple_query('START TRANSACTION'); // can also be BEGIN or BEGIN WORK
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Commit Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_commit()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$this->simple_query('COMMIT');
+		$this->simple_query('SET AUTOCOMMIT=1');
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rollback Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_rollback()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$this->simple_query('ROLLBACK');
+		$this->simple_query('SET AUTOCOMMIT=1');
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape String
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function escape_str($str)	
+	{
+		if (function_exists('mysqli_real_escape_string') AND is_object($this->conn_id))
+		{
+			return mysqli_real_escape_string($this->conn_id, $str);
+		}
+		elseif (function_exists('mysql_escape_string'))
+		{
+			return mysql_escape_string($str);
+		}
+		else
+		{
+			return addslashes($str);
+		}
+	}
+		
+	// --------------------------------------------------------------------
+
+	/**
+	 * Affected Rows
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function affected_rows()
+	{
+		return @mysqli_affected_rows($this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Insert ID
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function insert_id()
+	{
+		return @mysqli_insert_id($this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * "Count All" query
+	 *
+	 * Generates a platform-specific query string that counts all records in
+	 * the specified database
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function count_all($table = '')
+	{
+		if ($table == '')
+			return '0';
+		
+		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows'). " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));
+		
+		if ($query->num_rows() == 0)
+			return '0';
+
+		$row = $query->row();
+		return $row->numrows;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * List table query
+	 *
+	 * Generates a platform-specific query string so that the table names can be fetched
+	 *
+	 * @access	private
+	 * @param	boolean
+	 * @return	string
+	 */
+	function _list_tables($prefix_limit = FALSE)
+	{
+		$sql = "SHOW TABLES FROM ".$this->_escape_char.$this->database.$this->_escape_char;	
+		
+		if ($prefix_limit !== FALSE AND $this->dbprefix != '')
+		{
+			$sql .= " LIKE '".$this->dbprefix."%'";
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Show column query
+	 *
+	 * Generates a platform-specific query string so that the column names can be fetched
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */
+	function _list_columns($table = '')
+	{
+		return "SHOW COLUMNS FROM ".$table;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data query
+	 *
+	 * Generates a platform-specific query so that the column data can be retrieved
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _field_data($table)
+	{
+		return "SELECT * FROM ".$table." LIMIT 1";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message string
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _error_message()
+	{
+		return mysqli_error($this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message number
+	 *
+	 * @access	private
+	 * @return	integer
+	 */
+	function _error_number()
+	{
+		return mysqli_errno($this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape the SQL Identifiers
+	 *
+	 * This function escapes column and table names
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _escape_identifiers($item)
+	{
+		if ($this->_escape_char == '')
+		{
+			return $item;
+		}
+	
+		if (strpos($item, '.') !== FALSE)
+		{
+			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;			
+		}
+		else
+		{
+			$str = $this->_escape_char.$item.$this->_escape_char;
+		}
+		
+		// remove duplicates if the user already included the escape
+		return preg_replace('/['.$this->_escape_char.']+/', $this->_escape_char, $str);
+	}
+			
+	// --------------------------------------------------------------------
+
+	/**
+	 * From Tables
+	 *
+	 * This function implicitly groups FROM tables so there is no confusion
+	 * about operator precedence in harmony with SQL standards
+	 *
+	 * @access	public
+	 * @param	type
+	 * @return	type
+	 */
+	function _from_tables($tables)
+	{
+		if ( ! is_array($tables))
+		{
+			$tables = array($tables);
+		}
+		
+		return '('.implode(', ', $tables).')';
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Insert statement
+	 *
+	 * Generates a platform-specific insert string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the insert keys
+	 * @param	array	the insert values
+	 * @return	string
+	 */
+	function _insert($table, $keys, $values)
+	{	
+		return "INSERT INTO ".$table." (".implode(', ', $keys).") VALUES (".implode(', ', $values).")";
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Update statement
+	 *
+	 * Generates a platform-specific update string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the update data
+	 * @param	array	the where clause
+	 * @param	array	the orderby clause
+	 * @param	array	the limit clause
+	 * @return	string
+	 */
+	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)
+	{
+		foreach($values as $key => $val)
+		{
+			$valstr[] = $key." = ".$val;
+		}
+		
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+		
+		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';
+	
+		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);
+		
+		$sql .= ($where != '' AND count($where) >=1) ? " WHERE ".implode(" ", $where) : '';
+		
+		$sql .= $orderby.$limit;
+		
+		return $sql;
+	}
+
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Truncate statement
+	 *
+	 * Generates a platform-specific truncate string from the supplied data
+	 * If the database does not support the truncate() command
+	 * This function maps to "DELETE FROM table"
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */	
+	function _truncate($table)
+	{
+		return "TRUNCATE ".$table;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete statement
+	 *
+	 * Generates a platform-specific delete string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the where clause
+	 * @param	string	the limit clause
+	 * @return	string
+	 */	
+	function _delete($table, $where = array(), $like = array(), $limit = FALSE)
+	{
+		$conditions = '';
+
+		if (count($where) > 0 OR count($like) > 0)
+		{
+			$conditions = "\nWHERE ";
+			$conditions .= implode("\n", $this->ar_where);
+
+			if (count($where) > 0 && count($like) > 0)
+			{
+				$conditions .= " AND ";
+			}
+			$conditions .= implode("\n", $like);
+		}
+
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+	
+		return "DELETE FROM ".$table.$conditions.$limit;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Limit string
+	 *
+	 * Generates a platform-specific LIMIT clause
+	 *
+	 * @access	public
+	 * @param	string	the sql query string
+	 * @param	integer	the number of rows to limit the query to
+	 * @param	integer	the offset value
+	 * @return	string
+	 */
+	function _limit($sql, $limit, $offset)
+	{	
+		$sql .= "LIMIT ".$limit;
+	
+		if ($offset > 0)
+		{
+			$sql .= " OFFSET ".$offset;
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Close DB Connection
+	 *
+	 * @access	public
+	 * @param	resource
+	 * @return	void
+	 */
+	function _close($conn_id)
+	{
+		@mysqli_close($conn_id);
+	}
+
+
+}
+
+
+/* End of file mysqli_driver.php */
+/* Location: ./system/database/drivers/mysqli/mysqli_driver.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mysqli/mysqli_forge.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mysqli/mysqli_forge.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mysqli/mysqli_forge.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,254 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MySQLi Forge Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mysqli_forge extends CI_DB_forge {
+	
+	/**
+	 * Create database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database($name)
+	{
+		return "CREATE DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		return "DROP DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Process Fields
+	 *
+	 * @access	private
+	 * @param	mixed	the fields
+	 * @return	string
+	 */
+	function _process_fields($fields)
+	{
+		$current_field_count = 0;
+		$sql = '';
+
+		foreach ($fields as $field=>$attributes)
+		{
+			// Numeric field names aren't allowed in databases, so if the key is
+			// numeric, we know it was assigned by PHP and the developer manually
+			// entered the field information, so we'll simply add it to the list
+			if (is_numeric($field))
+			{
+				$sql .= "\n\t$attributes";
+			}
+			else
+			{
+				$attributes = array_change_key_case($attributes, CASE_UPPER);
+				
+				$sql .= "\n\t".$this->db->_protect_identifiers($field);
+
+				if (array_key_exists('NAME', $attributes))
+				{
+					$sql .= ' '.$this->db->_protect_identifiers($attributes['NAME']).' ';
+				}
+				
+				if (array_key_exists('TYPE', $attributes))
+				{
+					$sql .=  ' '.$attributes['TYPE'];
+				}
+	
+				if (array_key_exists('CONSTRAINT', $attributes))
+				{
+					$sql .= '('.$attributes['CONSTRAINT'].')';
+				}
+	
+				if (array_key_exists('UNSIGNED', $attributes) && $attributes['UNSIGNED'] === TRUE)
+				{
+					$sql .= ' UNSIGNED';
+				}
+	
+				if (array_key_exists('DEFAULT', $attributes))
+				{
+					$sql .= ' DEFAULT \''.$attributes['DEFAULT'].'\'';
+				}
+	
+				if (array_key_exists('NULL', $attributes))
+				{
+					$sql .= ($attributes['NULL'] === TRUE) ? ' NULL' : ' NOT NULL';
+				}
+	
+				if (array_key_exists('AUTO_INCREMENT', $attributes) && $attributes['AUTO_INCREMENT'] === TRUE)
+				{
+					$sql .= ' AUTO_INCREMENT';
+				}
+			}
+			
+			// don't add a comma on the end of the last field
+			if (++$current_field_count < count($fields))
+			{
+				$sql .= ',';
+			}
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Create Table
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @param	mixed	the fields
+	 * @param	mixed	primary key(s)
+	 * @param	mixed	key(s)
+	 * @param	boolean	should 'IF NOT EXISTS' be added to the SQL
+	 * @return	bool
+	 */
+	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)
+	{
+		$sql = 'CREATE TABLE ';
+		
+		if ($if_not_exists === TRUE)
+		{
+			$sql .= 'IF NOT EXISTS ';
+		}
+		
+		$sql .= $this->db->_escape_identifiers($table)." (";
+
+		$sql .= $this->_process_fields($fields);
+
+		if (count($primary_keys) > 0)
+		{
+			$key_name = $this->db->_protect_identifiers(implode('_', $primary_keys));
+			$primary_keys = $this->db->_protect_identifiers($primary_keys);
+			$sql .= ",\n\tPRIMARY KEY ".$key_name." (" . implode(', ', $primary_keys) . ")";
+		}
+
+		if (is_array($keys) && count($keys) > 0)
+		{
+			foreach ($keys as $key)
+			{
+				if (is_array($key))
+				{
+					$key_name = $this->db->_protect_identifiers(implode('_', $key));
+					$key = $this->db->_protect_identifiers($key);	
+				}
+				else
+				{
+					$key_name = $this->db->_protect_identifiers($key);
+					$key = array($key_name);
+				}
+				
+				$sql .= ",\n\tKEY {$key_name} (" . implode(', ', $key) . ")";
+			}
+		}
+
+		$sql .= "\n) DEFAULT CHARACTER SET {$this->db->char_set} COLLATE {$this->db->dbcollat};";
+
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop Table
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _drop_table($table)
+	{
+		return "DROP TABLE IF EXISTS ".$this->db->_escape_identifiers($table);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Alter table query
+	 *
+	 * Generates a platform-specific query so that a table can be altered
+	 * Called by add_column(), drop_column(), and column_alter(),
+	 *
+	 * @access	private
+	 * @param	string	the ALTER type (ADD, DROP, CHANGE)
+	 * @param	string	the column name
+	 * @param	array	fields
+	 * @param	string	the field after which we should add the new field
+	 * @return	object
+	 */
+	function _alter_table($alter_type, $table, $fields, $after_field = '')
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ";
+
+		// DROP has everything it needs now.
+		if ($alter_type == 'DROP')
+		{
+			return $sql.$this->db->_protect_identifiers($fields);
+		}
+
+		$sql .= $this->_process_fields($fields);
+
+		if ($after_field != '')
+		{
+			$sql .= ' AFTER ' . $this->db->_protect_identifiers($after_field);
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rename a table
+	 *
+	 * Generates a platform-specific query so that a table can be renamed
+	 *
+	 * @access	private
+	 * @param	string	the old table name
+	 * @param	string	the new table name
+	 * @return	string
+	 */
+	function _rename_table($table_name, $new_table_name)
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);
+		return $sql;
+	}
+
+}
+
+/* End of file mysqli_forge.php */
+/* Location: ./system/database/drivers/mysqli/mysqli_forge.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mysqli/mysqli_result.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mysqli/mysqli_result.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mysqli/mysqli_result.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,169 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MySQLi Result Class
+ *
+ * This class extends the parent result class: CI_DB_result
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mysqli_result extends CI_DB_result {
+	
+	/**
+	 * Number of rows in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_rows()
+	{
+		return @mysqli_num_rows($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Number of fields in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_fields()
+	{
+		return @mysqli_num_fields($this->result_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch Field Names
+	 *
+	 * Generates an array of column names
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function list_fields()
+	{
+		$field_names = array();
+		while ($field = mysqli_fetch_field($this->result_id))
+		{
+			$field_names[] = $field->name;
+		}
+		
+		return $field_names;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data
+	 *
+	 * Generates an array of objects containing field meta-data
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function field_data()
+	{
+		$retval = array();
+		while ($field = mysqli_fetch_field($this->result_id))
+		{	
+			$F 				= new stdClass();
+			$F->name 		= $field->name;
+			$F->type 		= $field->type;
+			$F->default		= $field->def;
+			$F->max_length	= $field->max_length;
+			$F->primary_key = ($field->flags & MYSQLI_PRI_KEY_FLAG) ? 1 : 0;
+			
+			$retval[] = $F;
+		}
+		
+		return $retval;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Free the result
+	 *
+	 * @return	null
+	 */		
+	function free_result()
+	{
+		if (is_object($this->result_id))
+		{
+			mysqli_free_result($this->result_id);
+			$this->result_id = FALSE;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Data Seek
+	 *
+	 * Moves the internal pointer to the desired offset.  We call
+	 * this internally before fetching results to make sure the
+	 * result set starts at zero
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _data_seek($n = 0)
+	{
+		return mysqli_data_seek($this->result_id, $n);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - associative array
+	 *
+	 * Returns the result set as an array
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _fetch_assoc()
+	{
+		return mysqli_fetch_assoc($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - object
+	 *
+	 * Returns the result set as an object
+	 *
+	 * @access	private
+	 * @return	object
+	 */
+	function _fetch_object()
+	{
+		return mysqli_fetch_object($this->result_id);
+	}
+	
+}
+
+
+/* End of file mysqli_result.php */
+/* Location: ./system/database/drivers/mysqli/mysqli_result.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/mysqli/mysqli_utility.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/mysqli/mysqli_utility.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/mysqli/mysqli_utility.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,123 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * MySQLi Utility Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_mysqli_utility extends CI_DB_utility {
+	
+	/**
+	 * List databases
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _list_databases()
+	{
+		return "SHOW DATABASES";
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Optimize table query
+	 *
+	 * Generates a platform-specific query so that a table can be optimized
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _optimize_table($table)
+	{
+		return "OPTIMIZE TABLE ".$this->db->_escape_identifiers($table);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Repair table query
+	 *
+	 * Generates a platform-specific query so that a table can be repaired
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _repair_table($table)
+	{
+		return "REPAIR TABLE ".$this->db->_escape_identifiers($table);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * MySQLi Export
+	 *
+	 * @access	private
+	 * @param	array	Preferences
+	 * @return	mixed
+	 */
+	function _backup($params = array())
+	{
+		// Currently unsupported
+		return $this->db->display_error('db_unsuported_feature');
+	}
+
+
+	/**
+	 *
+	 * The functions below have been deprecated as of 1.6, and are only here for backwards
+	 * compatibility.  They now reside in dbforge().  The use of dbutils for database manipulation
+	 * is STRONGLY discouraged in favour if using dbforge.
+	 *
+	 */
+
+	/**
+	 * Create database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database($name)
+	{
+		return "CREATE DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		return "DROP DATABASE ".$name;
+	}
+
+}
+
+/* End of file mysqli_utility.php */
+/* Location: ./system/database/drivers/mysqli/mysqli_utility.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/oci8/index.html
===================================================================
--- trunk/pintassilgo/system/database/drivers/oci8/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/oci8/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/oci8/oci8_driver.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/oci8/oci8_driver.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/oci8/oci8_driver.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,726 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package	 	CodeIgniter
+ * @author	  	ExpressionEngine Dev Team
+ * @copyright   Copyright (c) 2008, EllisLab, Inc.
+ * @license	 	http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since	   	Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * oci8 Database Adapter Class
+ *
+ * Note: _DB is an extender class that the app controller
+ * creates dynamically based on whether the active record
+ * class is being used or not.
+ *
+ * @package	 	CodeIgniter
+ * @subpackage  Drivers
+ * @category	Database
+ * @author	  	ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+
+/**
+ * oci8 Database Adapter Class
+ *
+ * This is a modification of the DB_driver class to
+ * permit access to oracle databases
+ *
+ * NOTE: this uses the PHP 4 oci methods
+ *
+ * @author	  Kelly McArdle
+ *
+ */
+
+class CI_DB_oci8_driver extends CI_DB {
+
+	var $dbdriver = 'oci8';
+	
+	// The character used for excaping
+	var $_escape_char = '"';
+
+	/**
+	 * The syntax to count rows is slightly different across different
+	 * database engines, so this string appears in each driver and is
+	 * used for the count_all() and count_all_results() functions.
+	 */
+	var $_count_string = "SELECT COUNT(1) AS ";
+	var $_random_keyword = ' ASC'; // not currently supported
+
+	// Set "auto commit" by default
+	var $_commit = OCI_COMMIT_ON_SUCCESS;
+
+	// need to track statement id and cursor id
+	var $stmt_id;
+	var $curs_id;
+
+	// if we use a limit, we will add a field that will
+	// throw off num_fields later
+	var $limit_used;
+
+	/**
+	 * Non-persistent database connection
+	 *
+	 * @access  private called by the base class
+	 * @return  resource
+	 */
+	function db_connect()
+	{
+		return @ocilogon($this->username, $this->password, $this->hostname);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Persistent database connection
+	 *
+	 * @access  private called by the base class
+	 * @return  resource
+	 */
+	function db_pconnect()
+	{
+		return @ociplogon($this->username, $this->password, $this->hostname);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select the database
+	 *
+	 * @access  private called by the base class
+	 * @return  resource
+	 */
+	function db_select()
+	{
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set client character set
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	resource
+	 */
+	function db_set_charset($charset, $collation)
+	{
+		// @todo - add support if needed
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Version number query string
+	 *
+	 * @access  public
+	 * @return  string
+	 */
+	function _version()
+	{
+		return ociserverversion($this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Execute the query
+	 *
+	 * @access  private called by the base class
+	 * @param   string  an SQL query
+	 * @return  resource
+	 */
+	function _execute($sql)
+	{
+		// oracle must parse the query before it is run. All of the actions with
+		// the query are based on the statement id returned by ociparse
+		$this->stmt_id = FALSE;
+		$this->_set_stmt_id($sql);
+		ocisetprefetch($this->stmt_id, 1000);
+		return @ociexecute($this->stmt_id, $this->_commit);
+	}
+
+	/**
+	 * Generate a statement ID
+	 *
+	 * @access  private
+	 * @param   string  an SQL query
+	 * @return  none
+	 */
+	function _set_stmt_id($sql)
+	{
+		if ( ! is_resource($this->stmt_id))
+		{
+			$this->stmt_id = ociparse($this->conn_id, $this->_prep_query($sql));
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Prep the query
+	 *
+	 * If needed, each database adapter can prep the query string
+	 *
+	 * @access  private called by execute()
+	 * @param   string  an SQL query
+	 * @return  string
+	 */
+	function _prep_query($sql)
+	{
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * getCursor.  Returns a cursor from the datbase
+	 *
+	 * @access  public
+	 * @return  cursor id
+	 */
+	function get_cursor()
+	{
+		$this->curs_id = ocinewcursor($this->conn_id);
+		return $this->curs_id;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Stored Procedure.  Executes a stored procedure
+	 *
+	 * @access  public
+	 * @param   package	 package stored procedure is in
+	 * @param   procedure   stored procedure to execute
+	 * @param   params	  array of parameters
+	 * @return  array
+	 *
+	 * params array keys
+	 *
+	 * KEY	  OPTIONAL	NOTES
+	 * name		no		the name of the parameter should be in :<param_name> format
+	 * value	no		the value of the parameter.  If this is an OUT or IN OUT parameter,
+	 *					this should be a reference to a variable
+	 * type		yes		the type of the parameter
+	 * length	yes		the max size of the parameter
+	 */
+	function stored_procedure($package, $procedure, $params)
+	{
+		if ($package == '' OR $procedure == '' OR ! is_array($params))
+		{
+			if ($this->db_debug)
+			{
+				log_message('error', 'Invalid query: '.$package.'.'.$procedure);
+				return $this->display_error('db_invalid_query');
+			}
+			return FALSE;
+		}
+		
+		// build the query string
+		$sql = "begin $package.$procedure(";
+
+		$have_cursor = FALSE;
+		foreach($params as $param)
+		{
+			$sql .= $param['name'] . ",";
+			
+			if (array_key_exists('type', $param) && ($param['type'] == OCI_B_CURSOR))
+			{
+				$have_cursor = TRUE;
+			}
+		}
+		$sql = trim($sql, ",") . "); end;";
+				
+		$this->stmt_id = FALSE;
+		$this->_set_stmt_id($sql);
+		$this->_bind_params($params);
+		$this->query($sql, FALSE, $have_cursor);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Bind parameters
+	 *
+	 * @access  private
+	 * @return  none
+	 */
+	function _bind_params($params)
+	{
+		if ( ! is_array($params) OR ! is_resource($this->stmt_id))
+		{
+			return;
+		}
+		
+		foreach ($params as $param)
+		{
+ 			foreach (array('name', 'value', 'type', 'length') as $val)
+			{
+				if ( ! isset($param[$val]))
+				{
+					$param[$val] = '';
+				}
+			}
+
+			ocibindbyname($this->stmt_id, $param['name'], $param['value'], $param['length'], $param['type']);
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Begin Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_begin($test_mode = FALSE)
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+		
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+		
+		// Reset the transaction failure flag.
+		// If the $test_mode flag is set to TRUE transactions will be rolled back
+		// even if the queries produce a successful result.
+		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;
+		
+		$this->_commit = OCI_DEFAULT;
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Commit Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_commit()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$ret = OCIcommit($this->conn_id);
+		$this->_commit = OCI_COMMIT_ON_SUCCESS;
+		return $ret;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rollback Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_rollback()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$ret = OCIrollback($this->conn_id);
+		$this->_commit = OCI_COMMIT_ON_SUCCESS;
+		return $ret;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape String
+	 *
+	 * @access  public
+	 * @param   string
+	 * @return  string
+	 */
+	function escape_str($str)
+	{
+		// Access the CI object
+		$CI =& get_instance();
+
+		return $CI->_remove_invisible_characters($str);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Affected Rows
+	 *
+	 * @access  public
+	 * @return  integer
+	 */
+	function affected_rows()
+	{
+		return @ocirowcount($this->stmt_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Insert ID
+	 *
+	 * @access  public
+	 * @return  integer
+	 */
+	function insert_id()
+	{
+		// not supported in oracle
+		return $this->display_error('db_unsupported_function');
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * "Count All" query
+	 *
+	 * Generates a platform-specific query string that counts all records in
+	 * the specified database
+	 *
+	 * @access  public
+	 * @param   string
+	 * @return  string
+	 */
+	function count_all($table = '')
+	{
+		if ($table == '')
+			return '0';
+
+		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows'). " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));
+
+		if ($query == FALSE)
+			{
+			return 0;
+			}
+
+		$row = $query->row();
+		return $row->NUMROWS;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Show table query
+	 *
+	 * Generates a platform-specific query string so that the table names can be fetched
+	 *
+	 * @access  private
+	 * @param	boolean
+	 * @return  string
+	 */
+	function _list_tables($prefix_limit = FALSE)
+	{
+		$sql = "SELECT TABLE_NAME FROM ALL_TABLES";
+
+		if ($prefix_limit !== FALSE AND $this->dbprefix != '')
+		{
+			$sql .= " WHERE TABLE_NAME LIKE '".$this->dbprefix."%'";
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Show column query
+	 *
+	 * Generates a platform-specific query string so that the column names can be fetched
+	 *
+	 * @access  public
+	 * @param   string  the table name
+	 * @return  string
+	 */
+	function _list_columns($table = '')
+	{
+		return "SELECT COLUMN_NAME FROM all_tab_columns WHERE table_name = '$table'";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data query
+	 *
+	 * Generates a platform-specific query so that the column data can be retrieved
+	 *
+	 * @access  public
+	 * @param   string  the table name
+	 * @return  object
+	 */
+	function _field_data($table)
+	{
+		return "SELECT * FROM ".$table." where rownum = 1";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message string
+	 *
+	 * @access  private
+	 * @return  string
+	 */
+	function _error_message()
+	{
+		$error = ocierror($this->conn_id);
+		return $error['message'];
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message number
+	 *
+	 * @access  private
+	 * @return  integer
+	 */
+	function _error_number()
+	{
+		$error = ocierror($this->conn_id);
+		return $error['code'];
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape the SQL Identifiers
+	 *
+	 * This function escapes column and table names
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _escape_identifiers($item)
+	{
+		if ($this->_escape_char == '')
+		{
+			return $item;
+		}
+	
+		if (strpos($item, '.') !== FALSE)
+		{
+			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;			
+		}
+		else
+		{
+			$str = $this->_escape_char.$item.$this->_escape_char;
+		}
+		
+		// remove duplicates if the user already included the escape
+		return preg_replace('/['.$this->_escape_char.']+/', $this->_escape_char, $str);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * From Tables
+	 *
+	 * This function implicitly groups FROM tables so there is no confusion
+	 * about operator precedence in harmony with SQL standards
+	 *
+	 * @access	public
+	 * @param	type
+	 * @return	type
+	 */
+	function _from_tables($tables)
+	{
+		if ( ! is_array($tables))
+		{
+			$tables = array($tables);
+		}
+		
+		return implode(', ', $tables);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Insert statement
+	 *
+	 * Generates a platform-specific insert string from the supplied data
+	 *
+	 * @access  public
+	 * @param   string  the table name
+	 * @param   array   the insert keys
+	 * @param   array   the insert values
+	 * @return  string
+	 */
+	function _insert($table, $keys, $values)
+	{
+	return "INSERT INTO ".$table." (".implode(', ', $keys).") VALUES (".implode(', ', $values).")";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Update statement
+	 *
+	 * Generates a platform-specific update string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the update data
+	 * @param	array	the where clause
+	 * @param	array	the orderby clause
+	 * @param	array	the limit clause
+	 * @return	string
+	 */
+	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)
+	{
+		foreach($values as $key => $val)
+		{
+			$valstr[] = $key." = ".$val;
+		}
+		
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+		
+		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';
+	
+		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);
+
+		$sql .= ($where != '' AND count($where) >=1) ? " WHERE ".implode(" ", $where) : '';
+
+		$sql .= $orderby.$limit;
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Truncate statement
+	 *
+	 * Generates a platform-specific truncate string from the supplied data
+	 * If the database does not support the truncate() command
+	 * This function maps to "DELETE FROM table"
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */	
+	function _truncate($table)
+	{
+		return "TRUNCATE TABLE ".$table;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete statement
+	 *
+	 * Generates a platform-specific delete string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the where clause
+	 * @param	string	the limit clause
+	 * @return	string
+	 */	
+	function _delete($table, $where = array(), $like = array(), $limit = FALSE)
+	{
+		$conditions = '';
+
+		if (count($where) > 0 OR count($like) > 0)
+		{
+			$conditions = "\nWHERE ";
+			$conditions .= implode("\n", $this->ar_where);
+
+			if (count($where) > 0 && count($like) > 0)
+			{
+				$conditions .= " AND ";
+			}
+			$conditions .= implode("\n", $like);
+		}
+
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+	
+		return "DELETE FROM ".$table.$conditions.$limit;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Limit string
+	 *
+	 * Generates a platform-specific LIMIT clause
+	 *
+	 * @access  public
+	 * @param   string  the sql query string
+	 * @param   integer the number of rows to limit the query to
+	 * @param   integer the offset value
+	 * @return  string
+	 */
+	function _limit($sql, $limit, $offset)
+	{
+		$limit = $offset + $limit;
+		$newsql = "SELECT * FROM (select inner_query.*, rownum rnum FROM ($sql) inner_query WHERE rownum < $limit)";
+
+		if ($offset != 0)
+		{
+			$newsql .= " WHERE rnum >= $offset";
+		}
+
+		// remember that we used limits
+		$this->limit_used = TRUE;
+
+		return $newsql;
+	}	
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Close DB Connection
+	 *
+	 * @access  public
+	 * @param   resource
+	 * @return  void
+	 */
+	function _close($conn_id)
+	{
+		@ocilogoff($conn_id);
+	}
+
+
+}
+
+
+
+/* End of file oci8_driver.php */
+/* Location: ./system/database/drivers/oci8/oci8_driver.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/oci8/oci8_forge.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/oci8/oci8_forge.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/oci8/oci8_forge.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,248 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Oracle Forge Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_oci8_forge extends CI_DB_forge {
+
+	/**
+	 * Create database
+	 *
+	 * @access	public
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database($name)
+	{
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Create Table
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @param	array	the fields
+	 * @param	mixed	primary key(s)
+	 * @param	mixed	key(s)
+	 * @param	boolean	should 'IF NOT EXISTS' be added to the SQL
+	 * @return	bool
+	 */
+	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)
+	{
+		$sql = 'CREATE TABLE ';
+		
+		if ($if_not_exists === TRUE)
+		{
+			$sql .= 'IF NOT EXISTS ';
+		}
+		
+		$sql .= $this->db->_escape_identifiers($table)." (";
+		$current_field_count = 0;
+
+		foreach ($fields as $field=>$attributes)
+		{
+			// Numeric field names aren't allowed in databases, so if the key is
+			// numeric, we know it was assigned by PHP and the developer manually
+			// entered the field information, so we'll simply add it to the list
+			if (is_numeric($field))
+			{
+				$sql .= "\n\t$attributes";
+			}
+			else
+			{
+				$attributes = array_change_key_case($attributes, CASE_UPPER);
+				
+				$sql .= "\n\t".$this->db->_protect_identifiers($field);
+				
+				$sql .=  ' '.$attributes['TYPE'];
+	
+				if (array_key_exists('CONSTRAINT', $attributes))
+				{
+					$sql .= '('.$attributes['CONSTRAINT'].')';
+				}
+	
+				if (array_key_exists('UNSIGNED', $attributes) && $attributes['UNSIGNED'] === TRUE)
+				{
+					$sql .= ' UNSIGNED';
+				}
+	
+				if (array_key_exists('DEFAULT', $attributes))
+				{
+					$sql .= ' DEFAULT \''.$attributes['DEFAULT'].'\'';
+				}
+	
+				if (array_key_exists('NULL', $attributes) && $attributes['NULL'] === TRUE)
+				{
+					$sql .= ' NULL';
+				}
+				else
+				{
+					$sql .= ' NOT NULL';			
+				}
+	
+				if (array_key_exists('AUTO_INCREMENT', $attributes) && $attributes['AUTO_INCREMENT'] === TRUE)
+				{
+					$sql .= ' AUTO_INCREMENT';
+				}
+			}
+			
+			// don't add a comma on the end of the last field
+			if (++$current_field_count < count($fields))
+			{
+				$sql .= ',';
+			}
+		}
+
+		if (count($primary_keys) > 0)
+		{
+			$primary_keys = $this->db->_protect_identifiers($primary_keys);
+			$sql .= ",\n\tPRIMARY KEY (" . implode(', ', $primary_keys) . ")";
+		}
+
+		if (is_array($keys) && count($keys) > 0)
+		{
+			foreach ($keys as $key)
+			{
+				if (is_array($key))
+				{
+					$key = $this->db->_protect_identifiers($key);	
+				}
+				else
+				{
+					$key = array($this->db->_protect_identifiers($key));
+				}
+				
+				$sql .= ",\n\tUNIQUE COLUMNS (" . implode(', ', $key) . ")";
+			}
+		}
+		
+		$sql .= "\n)";
+
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop Table
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _drop_table($table)
+	{
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Alter table query
+	 *
+	 * Generates a platform-specific query so that a table can be altered
+	 * Called by add_column(), drop_column(), and column_alter(),
+	 *
+	 * @access	private
+	 * @param	string	the ALTER type (ADD, DROP, CHANGE)
+	 * @param	string	the column name
+	 * @param	string	the table name
+	 * @param	string	the column definition
+	 * @param	string	the default value
+	 * @param	boolean	should 'NOT NULL' be added
+	 * @param	string	the field after which we should add the new field
+	 * @return	object
+	 */
+	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);
+
+		// DROP has everything it needs now.
+		if ($alter_type == 'DROP')
+		{
+			return $sql;
+		}
+
+		$sql .= " $column_definition";
+
+		if ($default_value != '')
+		{
+			$sql .= " DEFAULT \"$default_value\"";
+		}
+
+		if ($null === NULL)
+		{
+			$sql .= ' NULL';
+		}
+		else
+		{
+			$sql .= ' NOT NULL';
+		}
+
+		if ($after_field != '')
+		{
+			$sql .= ' AFTER ' . $this->db->_protect_identifiers($after_field);
+		}
+		
+		return $sql;
+		
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rename a table
+	 *
+	 * Generates a platform-specific query so that a table can be renamed
+	 *
+	 * @access	private
+	 * @param	string	the old table name
+	 * @param	string	the new table name
+	 * @return	string
+	 */
+	function _rename_table($table_name, $new_table_name)
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);
+		return $sql;
+	}
+
+
+}
+
+/* End of file oci8_forge.php */
+/* Location: ./system/database/drivers/oci8/oci8_forge.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/oci8/oci8_result.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/oci8/oci8_result.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/oci8/oci8_result.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,249 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package	 	CodeIgniter
+ * @author	 	ExpressionEngine Dev Team
+ * @copyright   Copyright (c) 2008, EllisLab, Inc.
+ * @license	 	http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since	   	Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * oci8 Result Class
+ *
+ * This class extends the parent result class: CI_DB_result
+ *
+ * @category	Database
+ * @author	 	ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_oci8_result extends CI_DB_result {
+
+	var $stmt_id;
+	var $curs_id;
+	var $limit_used;
+
+	/**
+	 * Number of rows in the result set.
+	 *
+	 * Oracle doesn't have a graceful way to retun the number of rows
+	 * so we have to use what amounts to a hack.
+	 * 
+	 *
+	 * @access  public
+	 * @return  integer
+	 */
+	function num_rows()
+	{
+		$rowcount = count($this->result_array());
+		@ociexecute($this->stmt_id);
+
+		if ($this->curs_id)
+		{
+			@ociexecute($this->curs_id);
+		}
+
+		return $rowcount;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Number of fields in the result set
+	 *
+	 * @access  public
+	 * @return  integer
+	 */
+	function num_fields()
+	{
+		$count = @ocinumcols($this->stmt_id);
+
+		// if we used a limit we subtract it
+		if ($this->limit_used)
+		{
+			$count = $count - 1;
+		}
+
+		return $count;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch Field Names
+	 *
+	 * Generates an array of column names
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function list_fields()
+	{
+		$field_names = array();
+		$fieldCount = $this->num_fields();
+		for ($c = 1; $c <= $fieldCount; $c++)
+		{
+			$field_names[] = ocicolumnname($this->stmt_id, $c);
+		}
+		return $field_names;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data
+	 *
+	 * Generates an array of objects containing field meta-data
+	 *
+	 * @access  public
+	 * @return  array
+	 */
+	function field_data()
+	{
+		$retval = array();
+		$fieldCount = $this->num_fields();
+		for ($c = 1; $c <= $fieldCount; $c++)
+		{
+			$F			  = new stdClass();
+			$F->name		= ocicolumnname($this->stmt_id, $c);
+			$F->type		= ocicolumntype($this->stmt_id, $c);
+			$F->max_length  = ocicolumnsize($this->stmt_id, $c);
+
+			$retval[] = $F;
+		}
+
+		return $retval;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Free the result
+	 *
+	 * @return	null
+	 */		
+	function free_result()
+	{
+		if (is_resource($this->result_id))
+		{
+			ocifreestatement($this->result_id);			
+			$this->result_id = FALSE;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - associative array
+	 *
+	 * Returns the result set as an array
+	 *
+	 * @access  private
+	 * @return  array
+	 */
+	function _fetch_assoc(&$row)
+	{
+		$id = ($this->curs_id) ? $this->curs_id : $this->stmt_id;
+	
+		return ocifetchinto($id, $row, OCI_ASSOC + OCI_RETURN_NULLS);	
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - object
+	 *
+	 * Returns the result set as an object
+	 *
+	 * @access  private
+	 * @return  object
+	 */
+	function _fetch_object()
+	{	
+		$result = array();
+
+		// If PHP 5 is being used we can fetch an result object
+		if (function_exists('oci_fetch_object'))
+		{
+			$id = ($this->curs_id) ? $this->curs_id : $this->stmt_id;
+			
+			return @oci_fetch_object($id);
+		}
+		
+		// If PHP 4 is being used we have to build our own result
+		foreach ($this->result_array() as $key => $val)
+		{
+			$obj = new stdClass();
+			if (is_array($val))
+			{
+				foreach ($val as $k => $v)
+				{
+					$obj->$k = $v;
+				}
+			}
+			else
+			{
+				$obj->$key = $val;
+			}
+			
+			$result[] = $obj;
+		}
+
+		return $result;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Query result.  "array" version.
+	 *
+	 * @access  public
+	 * @return  array
+	 */
+	function result_array()
+	{
+		if (count($this->result_array) > 0)
+		{
+			return $this->result_array;
+		}
+
+		// oracle's fetch functions do not return arrays.
+		// The information is returned in reference parameters
+		$row = NULL;
+		while ($this->_fetch_assoc($row))
+		{
+			$this->result_array[] = $row;
+		}
+
+		return $this->result_array;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Data Seek
+	 *
+	 * Moves the internal pointer to the desired offset.  We call
+	 * this internally before fetching results to make sure the
+	 * result set starts at zero
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _data_seek($n = 0)
+	{
+		return FALSE; // Not needed
+	}
+
+}
+
+
+/* End of file oci8_result.php */
+/* Location: ./system/database/drivers/oci8/oci8_result.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/oci8/oci8_utility.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/oci8/oci8_utility.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/oci8/oci8_utility.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,122 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Oracle Utility Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_oci8_utility extends CI_DB_utility {
+
+	/**
+	 * List databases
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _list_databases()
+	{
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Optimize table query
+	 *
+	 * Generates a platform-specific query so that a table can be optimized
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _optimize_table($table)
+	{
+		return FALSE; // Is this supported in Oracle?
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Repair table query
+	 *
+	 * Generates a platform-specific query so that a table can be repaired
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _repair_table($table)
+	{
+		return FALSE; // Is this supported in Oracle?
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Oracle Export
+	 *
+	 * @access	private
+	 * @param	array	Preferences
+	 * @return	mixed
+	 */
+	function _backup($params = array())
+	{
+		// Currently unsupported
+		return $this->db->display_error('db_unsuported_feature');
+	}
+
+	/**
+	 *
+	 * The functions below have been deprecated as of 1.6, and are only here for backwards
+	 * compatibility.  They now reside in dbforge().  The use of dbutils for database manipulation
+	 * is STRONGLY discouraged in favour if using dbforge.
+	 *
+	 */
+
+	/**
+	 * Create database
+	 *
+	 * @access	public
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database($name)
+	{
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		return FALSE;
+	}
+
+}
+
+/* End of file oci8_utility.php */
+/* Location: ./system/database/drivers/oci8/oci8_utility.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/odbc/index.html
===================================================================
--- trunk/pintassilgo/system/database/drivers/odbc/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/odbc/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/odbc/odbc_driver.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/odbc/odbc_driver.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/odbc/odbc_driver.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,583 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * ODBC Database Adapter Class
+ *
+ * Note: _DB is an extender class that the app controller
+ * creates dynamically based on whether the active record
+ * class is being used or not.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Drivers
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_odbc_driver extends CI_DB {
+
+	var $dbdriver = 'odbc';
+	
+	// the character used to excape - not necessary for ODBC
+	var $_escape_char = '';
+
+	/**
+	 * The syntax to count rows is slightly different across different
+	 * database engines, so this string appears in each driver and is
+	 * used for the count_all() and count_all_results() functions.
+	 */
+	var $_count_string = "SELECT COUNT(*) AS ";
+	var $_random_keyword;
+
+
+	function CI_DB_odbc_driver($params)
+	{
+		parent::CI_DB($params);
+		
+		$this->_random_keyword = ' RND('.time().')'; // database specific random keyword
+	}
+
+	/**
+	 * Non-persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_connect()
+	{
+		return @odbc_connect($this->hostname, $this->username, $this->password);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_pconnect()
+	{
+		return @odbc_pconnect($this->hostname, $this->username, $this->password);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select the database
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_select()
+	{
+		// Not needed for ODBC
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set client character set
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	resource
+	 */
+	function db_set_charset($charset, $collation)
+	{
+		// @todo - add support if needed
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Version number query string
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function _version()
+	{
+		return "SELECT version() AS ver";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Execute the query
+	 *
+	 * @access	private called by the base class
+	 * @param	string	an SQL query
+	 * @return	resource
+	 */	
+	function _execute($sql)
+	{
+		$sql = $this->_prep_query($sql);
+		return @odbc_exec($this->conn_id, $sql);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Prep the query
+	 *
+	 * If needed, each database adapter can prep the query string
+	 *
+	 * @access	private called by execute()
+	 * @param	string	an SQL query
+	 * @return	string
+	 */	
+	function _prep_query($sql)
+	{
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Begin Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_begin($test_mode = FALSE)
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+		
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		// Reset the transaction failure flag.
+		// If the $test_mode flag is set to TRUE transactions will be rolled back
+		// even if the queries produce a successful result.
+		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;
+
+		return odbc_autocommit($this->conn_id, FALSE);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Commit Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_commit()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$ret = odbc_commit($this->conn_id);
+		odbc_autocommit($this->conn_id, TRUE);
+		return $ret;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rollback Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_rollback()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$ret = odbc_rollback($this->conn_id);
+		odbc_autocommit($this->conn_id, TRUE);
+		return $ret;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape String
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function escape_str($str)	
+	{
+		// Access the CI object
+		$CI =& get_instance();
+
+		// ODBC doesn't require escaping
+		return $CI->_remove_invisible_characters($str);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Affected Rows
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function affected_rows()
+	{
+		return @odbc_num_rows($this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Insert ID
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function insert_id()
+	{
+		return @odbc_insert_id($this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * "Count All" query
+	 *
+	 * Generates a platform-specific query string that counts all records in
+	 * the specified database
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function count_all($table = '')
+	{
+		if ($table == '')
+			return '0';
+	
+		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows'). " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));
+	
+		if ($query->num_rows() == 0)
+			return '0';
+
+		$row = $query->row();
+		return $row->numrows;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Show table query
+	 *
+	 * Generates a platform-specific query string so that the table names can be fetched
+	 *
+	 * @access	private
+	 * @param	boolean
+	 * @return	string
+	 */
+	function _list_tables($prefix_limit = FALSE)
+	{
+		$sql = "SHOW TABLES FROM `".$this->database."`";
+
+		if ($prefix_limit !== FALSE AND $this->dbprefix != '')
+		{
+			//$sql .= " LIKE '".$this->dbprefix."%'";
+			return FALSE; // not currently supported
+		}
+		
+		return $sql;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Show column query
+	 *
+	 * Generates a platform-specific query string so that the column names can be fetched
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */
+	function _list_columns($table = '')
+	{
+		return "SHOW COLUMNS FROM ".$table;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data query
+	 *
+	 * Generates a platform-specific query so that the column data can be retrieved
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _field_data($table)
+	{
+		return "SELECT TOP 1 FROM ".$table;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message string
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _error_message()
+	{
+		return odbc_errormsg($this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message number
+	 *
+	 * @access	private
+	 * @return	integer
+	 */
+	function _error_number()
+	{
+		return odbc_error($this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape the SQL Identifiers
+	 *
+	 * This function escapes column and table names
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _escape_identifiers($item)
+	{
+		if ($this->_escape_char == '')
+		{
+			return $item;
+		}
+	
+		if (strpos($item, '.') !== FALSE)
+		{
+			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;			
+		}
+		else
+		{
+			$str = $this->_escape_char.$item.$this->_escape_char;
+		}
+		
+		// remove duplicates if the user already included the escape
+		return preg_replace('/['.$this->_escape_char.']+/', $this->_escape_char, $str);
+	}
+			
+	// --------------------------------------------------------------------
+
+	/**
+	 * From Tables
+	 *
+	 * This function implicitly groups FROM tables so there is no confusion
+	 * about operator precedence in harmony with SQL standards
+	 *
+	 * @access	public
+	 * @param	type
+	 * @return	type
+	 */
+	function _from_tables($tables)
+	{
+		if ( ! is_array($tables))
+		{
+			$tables = array($tables);
+		}
+		
+		return '('.implode(', ', $tables).')';
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Insert statement
+	 *
+	 * Generates a platform-specific insert string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the insert keys
+	 * @param	array	the insert values
+	 * @return	string
+	 */
+	function _insert($table, $keys, $values)
+	{	
+		return "INSERT INTO ".$table." (".implode(', ', $keys).") VALUES (".implode(', ', $values).")";
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Update statement
+	 *
+	 * Generates a platform-specific update string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the update data
+	 * @param	array	the where clause
+	 * @param	array	the orderby clause
+	 * @param	array	the limit clause
+	 * @return	string
+	 */
+	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)
+	{
+		foreach($values as $key => $val)
+		{
+			$valstr[] = $key." = ".$val;
+		}
+		
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+		
+		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';
+	
+		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);
+
+		$sql .= ($where != '' AND count($where) >=1) ? " WHERE ".implode(" ", $where) : '';
+
+		$sql .= $orderby.$limit;
+		
+		return $sql;
+	}
+
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Truncate statement
+	 *
+	 * Generates a platform-specific truncate string from the supplied data
+	 * If the database does not support the truncate() command
+	 * This function maps to "DELETE FROM table"
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */	
+	function _truncate($table)
+	{
+		return $this->_delete($table);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete statement
+	 *
+	 * Generates a platform-specific delete string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the where clause
+	 * @param	string	the limit clause
+	 * @return	string
+	 */	
+	function _delete($table, $where = array(), $like = array(), $limit = FALSE)
+	{
+		$conditions = '';
+
+		if (count($where) > 0 OR count($like) > 0)
+		{
+			$conditions = "\nWHERE ";
+			$conditions .= implode("\n", $this->ar_where);
+
+			if (count($where) > 0 && count($like) > 0)
+			{
+				$conditions .= " AND ";
+			}
+			$conditions .= implode("\n", $like);
+		}
+
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+	
+		return "DELETE FROM ".$table.$conditions.$limit;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Limit string
+	 *
+	 * Generates a platform-specific LIMIT clause
+	 *
+	 * @access	public
+	 * @param	string	the sql query string
+	 * @param	integer	the number of rows to limit the query to
+	 * @param	integer	the offset value
+	 * @return	string
+	 */
+	function _limit($sql, $limit, $offset)
+	{
+		// Does ODBC doesn't use the LIMIT clause?
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Close DB Connection
+	 *
+	 * @access	public
+	 * @param	resource
+	 * @return	void
+	 */
+	function _close($conn_id)
+	{
+		@odbc_close($conn_id);
+	}
+
+	
+}
+
+
+
+/* End of file odbc_driver.php */
+/* Location: ./system/database/drivers/odbc/odbc_driver.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/odbc/odbc_forge.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/odbc/odbc_forge.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/odbc/odbc_forge.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,266 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * ODBC Forge Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/database/
+ */
+class CI_DB_odbc_forge extends CI_DB_forge {
+
+	/**
+	 * Create database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database()
+	{
+		// ODBC has no "create database" command since it's
+		// designed to connect to an existing database
+		if ($this->db->db_debug)
+		{
+			return $this->db->display_error('db_unsuported_feature');
+		}
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		// ODBC has no "drop database" command since it's
+		// designed to connect to an existing database		
+		if ($this->db->db_debug)
+		{
+			return $this->db->display_error('db_unsuported_feature');
+		}
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Create Table
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @param	array	the fields
+	 * @param	mixed	primary key(s)
+	 * @param	mixed	key(s)
+	 * @param	boolean	should 'IF NOT EXISTS' be added to the SQL
+	 * @return	bool
+	 */
+	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)
+	{
+		$sql = 'CREATE TABLE ';
+		
+		if ($if_not_exists === TRUE)
+		{
+			$sql .= 'IF NOT EXISTS ';
+		}
+		
+		$sql .= $this->db->_escape_identifiers($table)." (";
+		$current_field_count = 0;
+
+		foreach ($fields as $field=>$attributes)
+		{
+			// Numeric field names aren't allowed in databases, so if the key is
+			// numeric, we know it was assigned by PHP and the developer manually
+			// entered the field information, so we'll simply add it to the list
+			if (is_numeric($field))
+			{
+				$sql .= "\n\t$attributes";
+			}
+			else
+			{
+				$attributes = array_change_key_case($attributes, CASE_UPPER);
+				
+				$sql .= "\n\t".$this->db->_protect_identifiers($field);
+				
+				$sql .=  ' '.$attributes['TYPE'];
+	
+				if (array_key_exists('CONSTRAINT', $attributes))
+				{
+					$sql .= '('.$attributes['CONSTRAINT'].')';
+				}
+	
+				if (array_key_exists('UNSIGNED', $attributes) && $attributes['UNSIGNED'] === TRUE)
+				{
+					$sql .= ' UNSIGNED';
+				}
+	
+				if (array_key_exists('DEFAULT', $attributes))
+				{
+					$sql .= ' DEFAULT \''.$attributes['DEFAULT'].'\'';
+				}
+	
+				if (array_key_exists('NULL', $attributes) && $attributes['NULL'] === TRUE)
+				{
+					$sql .= ' NULL';
+				}
+				else
+				{
+					$sql .= ' NOT NULL';			
+				}
+	
+				if (array_key_exists('AUTO_INCREMENT', $attributes) && $attributes['AUTO_INCREMENT'] === TRUE)
+				{
+					$sql .= ' AUTO_INCREMENT';
+				}
+			}
+			
+			// don't add a comma on the end of the last field
+			if (++$current_field_count < count($fields))
+			{
+				$sql .= ',';
+			}
+		}
+
+		if (count($primary_keys) > 0)
+		{
+			$primary_keys = $this->db->_protect_identifiers($primary_keys);
+			$sql .= ",\n\tPRIMARY KEY (" . implode(', ', $primary_keys) . ")";
+		}
+		
+		if (is_array($keys) && count($keys) > 0)
+		{
+			foreach ($keys as $key)
+			{
+				if (is_array($key))
+				{
+					$key = $this->db->_protect_identifiers($key);	
+				}
+				else
+				{
+					$key = array($this->db->_protect_identifiers($key));
+				}
+				
+				$sql .= ",\n\tFOREIGN KEY (" . implode(', ', $key) . ")";
+			}
+		}
+		
+		$sql .= "\n)";
+
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop Table
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _drop_table($table)
+	{
+		// Not a supported ODBC feature	
+		if ($this->db->db_debug)
+		{
+			return $this->db->display_error('db_unsuported_feature');
+		}
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Alter table query
+	 *
+	 * Generates a platform-specific query so that a table can be altered
+	 * Called by add_column(), drop_column(), and column_alter(),
+	 *
+	 * @access	private
+	 * @param	string	the ALTER type (ADD, DROP, CHANGE)
+	 * @param	string	the column name
+	 * @param	string	the table name
+	 * @param	string	the column definition
+	 * @param	string	the default value
+	 * @param	boolean	should 'NOT NULL' be added
+	 * @param	string	the field after which we should add the new field
+	 * @return	object
+	 */
+	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);
+
+		// DROP has everything it needs now.
+		if ($alter_type == 'DROP')
+		{
+			return $sql;
+		}
+
+		$sql .= " $column_definition";
+
+		if ($default_value != '')
+		{
+			$sql .= " DEFAULT \"$default_value\"";
+		}
+
+		if ($null === NULL)
+		{
+			$sql .= ' NULL';
+		}
+		else
+		{
+			$sql .= ' NOT NULL';
+		}
+
+		if ($after_field != '')
+		{
+			$sql .= ' AFTER ' . $this->db->_protect_identifiers($after_field);
+		}
+		
+		return $sql;
+		
+	}
+
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rename a table
+	 *
+	 * Generates a platform-specific query so that a table can be renamed
+	 *
+	 * @access	private
+	 * @param	string	the old table name
+	 * @param	string	the new table name
+	 * @return	string
+	 */
+	function _rename_table($table_name, $new_table_name)
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);
+		return $sql;
+	}
+
+
+}
+
+/* End of file odbc_forge.php */
+/* Location: ./system/database/drivers/odbc/odbc_forge.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/odbc/odbc_result.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/odbc/odbc_result.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/odbc/odbc_result.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,228 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * ODBC Result Class
+ *
+ * This class extends the parent result class: CI_DB_result
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_odbc_result extends CI_DB_result {
+	
+	/**
+	 * Number of rows in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_rows()
+	{
+		return @odbc_num_rows($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Number of fields in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_fields()
+	{
+		return @odbc_num_fields($this->result_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch Field Names
+	 *
+	 * Generates an array of column names
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function list_fields()
+	{
+		$field_names = array();
+		for ($i = 0; $i < $this->num_fields(); $i++)
+		{
+			$field_names[] 	= odbc_field_name($this->result_id, $i);
+		}
+		
+		return $field_names;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data
+	 *
+	 * Generates an array of objects containing field meta-data
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function field_data()
+	{
+		$retval = array();
+		for ($i = 0; $i < $this->num_fields(); $i++)
+		{
+			$F 				= new stdClass();
+			$F->name 		= odbc_field_name($this->result_id, $i);
+			$F->type 		= odbc_field_type($this->result_id, $i);
+			$F->max_length	= odbc_field_len($this->result_id, $i);
+			$F->primary_key = 0;
+			$F->default		= '';
+
+			$retval[] = $F;
+		}
+		
+		return $retval;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Free the result
+	 *
+	 * @return	null
+	 */		
+	function free_result()
+	{
+		if (is_resource($this->result_id))
+		{
+			odbc_free_result($this->result_id);
+			$this->result_id = FALSE;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Data Seek
+	 *
+	 * Moves the internal pointer to the desired offset.  We call
+	 * this internally before fetching results to make sure the
+	 * result set starts at zero
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _data_seek($n = 0)
+	{
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - associative array
+	 *
+	 * Returns the result set as an array
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _fetch_assoc()
+	{
+		if (function_exists('odbc_fetch_object'))
+		{
+			return odbc_fetch_array($this->result_id);
+		}
+		else
+		{
+			return $this->_odbc_fetch_array($this->result_id);
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - object
+	 *
+	 * Returns the result set as an object
+	 *
+	 * @access	private
+	 * @return	object
+	 */
+	function _fetch_object()
+	{
+		if (function_exists('odbc_fetch_object'))
+		{
+			return odbc_fetch_object($this->result_id);
+		}
+		else
+		{
+			return $this->_odbc_fetch_object($this->result_id);
+		}
+	}
+
+
+	/**
+	 * Result - object
+	 *
+	 * subsititutes the odbc_fetch_object function when
+	 * not available (odbc_fetch_object requires unixODBC)
+	 *
+	 * @access	private
+	 * @return	object
+	 */
+	function _odbc_fetch_object(& $odbc_result) {
+		$rs = array();
+		$rs_obj = false;
+		if (odbc_fetch_into($odbc_result, $rs)) {
+			foreach ($rs as $k=>$v) {
+				$field_name= odbc_field_name($odbc_result, $k+1);
+				$rs_obj->$field_name = $v;
+			}
+		}
+		return $rs_obj;
+	}
+
+
+	/**
+	 * Result - array
+	 *
+	 * subsititutes the odbc_fetch_array function when
+	 * not available (odbc_fetch_array requires unixODBC)
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _odbc_fetch_array(& $odbc_result) {
+		$rs = array();
+		$rs_assoc = false;
+		if (odbc_fetch_into($odbc_result, $rs)) {
+			$rs_assoc=array();
+			foreach ($rs as $k=>$v) {
+				$field_name= odbc_field_name($odbc_result, $k+1);
+				$rs_assoc[$field_name] = $v;
+			}
+		}
+		return $rs_assoc;
+	}
+
+}
+
+
+/* End of file odbc_result.php */
+/* Location: ./system/database/drivers/odbc/odbc_result.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/odbc/odbc_utility.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/odbc/odbc_utility.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/odbc/odbc_utility.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,148 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * ODBC Utility Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/database/
+ */
+class CI_DB_odbc_utility extends CI_DB_utility {
+
+	/**
+	 * List databases
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _list_databases()
+	{
+		// Not sure if ODBC lets you list all databases...	
+		if ($this->db->db_debug)
+		{
+			return $this->db->display_error('db_unsuported_feature');
+		}
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Optimize table query
+	 *
+	 * Generates a platform-specific query so that a table can be optimized
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _optimize_table($table)
+	{
+		// Not a supported ODBC feature	
+		if ($this->db->db_debug)
+		{
+			return $this->db->display_error('db_unsuported_feature');
+		}
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Repair table query
+	 *
+	 * Generates a platform-specific query so that a table can be repaired
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _repair_table($table)
+	{
+		// Not a supported ODBC feature	
+		if ($this->db->db_debug)
+		{
+			return $this->db->display_error('db_unsuported_feature');
+		}
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * ODBC Export
+	 *
+	 * @access	private
+	 * @param	array	Preferences
+	 * @return	mixed
+	 */
+	function _backup($params = array())
+	{
+		// Currently unsupported
+		return $this->db->display_error('db_unsuported_feature');
+	}
+	
+	/**
+	 *
+	 * The functions below have been deprecated as of 1.6, and are only here for backwards
+	 * compatibility.  They now reside in dbforge().  The use of dbutils for database manipulation
+	 * is STRONGLY discouraged in favour if using dbforge.
+	 *
+	 */
+
+	/**
+	 * Create database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database()
+	{
+		// ODBC has no "create database" command since it's
+		// designed to connect to an existing database
+		if ($this->db->db_debug)
+		{
+			return $this->db->display_error('db_unsuported_feature');
+		}
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		// ODBC has no "drop database" command since it's
+		// designed to connect to an existing database		
+		if ($this->db->db_debug)
+		{
+			return $this->db->display_error('db_unsuported_feature');
+		}
+		return FALSE;
+	}
+}
+
+/* End of file odbc_utility.php */
+/* Location: ./system/database/drivers/odbc/odbc_utility.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/postgre/index.html
===================================================================
--- trunk/pintassilgo/system/database/drivers/postgre/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/postgre/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/postgre/postgre_driver.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/postgre/postgre_driver.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/postgre/postgre_driver.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,625 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Postgre Database Adapter Class
+ *
+ * Note: _DB is an extender class that the app controller
+ * creates dynamically based on whether the active record
+ * class is being used or not.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Drivers
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_postgre_driver extends CI_DB {
+
+	var $dbdriver = 'postgre';
+	
+	var $_escape_char = '"';
+
+	/**
+	 * The syntax to count rows is slightly different across different
+	 * database engines, so this string appears in each driver and is
+	 * used for the count_all() and count_all_results() functions.
+	 */
+	var $_count_string = "SELECT COUNT(*) AS ";
+	var $_random_keyword = ' RANDOM()'; // database specific random keyword
+
+	/**
+	 * Connection String
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _connect_string()
+	{
+		$components = array(
+								'hostname'	=> 'host',
+								'port'		=> 'port',
+								'database'	=> 'dbname',
+								'username'	=> 'user',
+								'password'	=> 'password'
+							);
+		
+		$connect_string = "";
+		foreach ($components as $key => $val)
+		{
+			if (isset($this->$key) && $this->$key != '')
+			{
+				$connect_string .= " $val=".$this->$key;
+			}
+		}
+		return trim($connect_string);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Non-persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_connect()
+	{		
+		return @pg_connect($this->_connect_string());
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_pconnect()
+	{
+		return @pg_pconnect($this->_connect_string());
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select the database
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_select()
+	{
+		// Not needed for Postgre so we'll return TRUE
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set client character set
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	resource
+	 */
+	function db_set_charset($charset, $collation)
+	{
+		// @todo - add support if needed
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Version number query string
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function _version()
+	{
+		return "SELECT version() AS ver";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Execute the query
+	 *
+	 * @access	private called by the base class
+	 * @param	string	an SQL query
+	 * @return	resource
+	 */	
+	function _execute($sql)
+	{
+		$sql = $this->_prep_query($sql);
+		return @pg_query($this->conn_id, $sql);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Prep the query
+	 *
+	 * If needed, each database adapter can prep the query string
+	 *
+	 * @access	private called by execute()
+	 * @param	string	an SQL query
+	 * @return	string
+	 */	
+	function _prep_query($sql)
+	{
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Begin Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_begin($test_mode = FALSE)
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+		
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		// Reset the transaction failure flag.
+		// If the $test_mode flag is set to TRUE transactions will be rolled back
+		// even if the queries produce a successful result.
+		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;
+
+		return @pg_exec($this->conn_id, "begin");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Commit Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_commit()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		return @pg_exec($this->conn_id, "commit");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rollback Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_rollback()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		return @pg_exec($this->conn_id, "rollback");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape String
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function escape_str($str)	
+	{	
+		return pg_escape_string($str);
+	}
+		
+	// --------------------------------------------------------------------
+
+	/**
+	 * Affected Rows
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function affected_rows()
+	{
+		return @pg_affected_rows($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Insert ID
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function insert_id()
+	{
+		$v = $this->_version();
+		$v = $v['server'];
+		
+		$table	= func_num_args() > 0 ? func_get_arg(0) : null;
+		$column	= func_num_args() > 1 ? func_get_arg(1) : null;
+		
+		if ($table == null && $v >= '8.1')
+		{
+			$sql='SELECT LASTVAL() as ins_id';
+		}
+		elseif ($table != null && $column != null && $v >= '8.0')
+		{
+			$sql = sprintf("SELECT pg_get_serial_sequence('%s','%s') as seq", $table, $column);
+			$query = $this->query($sql);
+			$row = $query->row();
+			$sql = sprintf("SELECT CURRVAL('%s') as ins_id", $row->seq);
+		}
+		elseif ($table != null)
+		{
+			// seq_name passed in table parameter
+			$sql = sprintf("SELECT CURRVAL('%s') as ins_id", $table);
+		}
+		else
+		{
+			return pg_last_oid($this->result_id);
+		}
+		$query = $this->query($sql);
+		$row = $query->row();
+		return $row->ins_id;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * "Count All" query
+	 *
+	 * Generates a platform-specific query string that counts all records in
+	 * the specified database
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function count_all($table = '')
+	{
+		if ($table == '')
+			return '0';
+
+		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows'). " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));
+				
+		if ($query->num_rows() == 0)
+			return '0';
+
+		$row = $query->row();
+		return $row->numrows;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Show table query
+	 *
+	 * Generates a platform-specific query string so that the table names can be fetched
+	 *
+	 * @access	private
+	 * @param	boolean
+	 * @return	string
+	 */
+	function _list_tables($prefix_limit = FALSE)
+	{	
+		$sql = "SELECT table_name FROM information_schema.tables WHERE table_schema = 'public'";	
+		
+		if ($prefix_limit !== FALSE AND $this->dbprefix != '')
+		{
+			$sql .= " AND table_name LIKE '".$this->dbprefix."%'";
+		}
+		
+		return $sql;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Show column query
+	 *
+	 * Generates a platform-specific query string so that the column names can be fetched
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */
+	function _list_columns($table = '')
+	{
+		return "SELECT column_name FROM information_schema.columns WHERE table_name ='".$table."'";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data query
+	 *
+	 * Generates a platform-specific query so that the column data can be retrieved
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _field_data($table)
+	{
+		return "SELECT * FROM ".$table." LIMIT 1";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message string
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _error_message()
+	{
+		return pg_last_error($this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message number
+	 *
+	 * @access	private
+	 * @return	integer
+	 */
+	function _error_number()
+	{
+		return '';
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape the SQL Identifiers
+	 *
+	 * This function escapes column and table names
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _escape_identifiers($item)
+	{
+		if ($this->_escape_char == '')
+		{
+			return $item;
+		}
+	
+		if (strpos($item, '.') !== FALSE)
+		{
+			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;			
+		}
+		else
+		{
+			$str = $this->_escape_char.$item.$this->_escape_char;
+		}
+		
+		// remove duplicates if the user already included the escape
+		return preg_replace('/['.$this->_escape_char.']+/', $this->_escape_char, $str);
+	}
+			
+	// --------------------------------------------------------------------
+
+	/**
+	 * From Tables
+	 *
+	 * This function implicitly groups FROM tables so there is no confusion
+	 * about operator precedence in harmony with SQL standards
+	 *
+	 * @access	public
+	 * @param	type
+	 * @return	type
+	 */
+	function _from_tables($tables)
+	{
+		if ( ! is_array($tables))
+		{
+			$tables = array($tables);
+		}
+		
+		return implode(', ', $tables);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Insert statement
+	 *
+	 * Generates a platform-specific insert string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the insert keys
+	 * @param	array	the insert values
+	 * @return	string
+	 */
+	function _insert($table, $keys, $values)
+	{	
+		return "INSERT INTO ".$table." (".implode(', ', $keys).") VALUES (".implode(', ', $values).")";
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Update statement
+	 *
+	 * Generates a platform-specific update string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the update data
+	 * @param	array	the where clause
+	 * @param	array	the orderby clause
+	 * @param	array	the limit clause
+	 * @return	string
+	 */
+	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)
+	{
+		foreach($values as $key => $val)
+		{
+			$valstr[] = $key." = ".$val;
+		}
+		
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+		
+		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';
+	
+		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);
+
+		$sql .= ($where != '' AND count($where) >=1) ? " WHERE ".implode(" ", $where) : '';
+
+		$sql .= $orderby.$limit;
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Truncate statement
+	 *
+	 * Generates a platform-specific truncate string from the supplied data
+	 * If the database does not support the truncate() command
+	 * This function maps to "DELETE FROM table"
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */	
+	function _truncate($table)
+	{
+		return "TRUNCATE ".$table;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete statement
+	 *
+	 * Generates a platform-specific delete string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the where clause
+	 * @param	string	the limit clause
+	 * @return	string
+	 */	
+	function _delete($table, $where = array(), $like = array(), $limit = FALSE)
+	{
+		$conditions = '';
+
+		if (count($where) > 0 OR count($like) > 0)
+		{
+			$conditions = "\nWHERE ";
+			$conditions .= implode("\n", $this->ar_where);
+
+			if (count($where) > 0 && count($like) > 0)
+			{
+				$conditions .= " AND ";
+			}
+			$conditions .= implode("\n", $like);
+		}
+
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+	
+		return "DELETE FROM ".$table.$conditions.$limit;
+	}
+
+	// --------------------------------------------------------------------
+	/**
+	 * Limit string
+	 *
+	 * Generates a platform-specific LIMIT clause
+	 *
+	 * @access	public
+	 * @param	string	the sql query string
+	 * @param	integer	the number of rows to limit the query to
+	 * @param	integer	the offset value
+	 * @return	string
+	 */
+	function _limit($sql, $limit, $offset)
+	{	
+		$sql .= "LIMIT ".$limit;
+	
+		if ($offset > 0)
+		{
+			$sql .= " OFFSET ".$offset;
+		}
+		
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Close DB Connection
+	 *
+	 * @access	public
+	 * @param	resource
+	 * @return	void
+	 */
+	function _close($conn_id)
+	{
+		@pg_close($conn_id);
+	}
+
+
+}
+
+
+/* End of file postgre_driver.php */
+/* Location: ./system/database/drivers/postgre/postgre_driver.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/postgre/postgre_forge.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/postgre/postgre_forge.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/postgre/postgre_forge.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,248 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Postgre Forge Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_postgre_forge extends CI_DB_forge {
+
+	/**
+	 * Create database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database($name)
+	{
+		return "CREATE DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		return "DROP DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Create Table
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @param	array	the fields
+	 * @param	mixed	primary key(s)
+	 * @param	mixed	key(s)
+	 * @param	boolean	should 'IF NOT EXISTS' be added to the SQL
+	 * @return	bool
+	 */
+	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)
+	{
+		$sql = 'CREATE TABLE ';
+		
+		if ($if_not_exists === TRUE)
+		{
+			$sql .= 'IF NOT EXISTS ';
+		}
+		
+		$sql .= $this->db->_escape_identifiers($table)." (";
+		$current_field_count = 0;
+
+		foreach ($fields as $field=>$attributes)
+		{
+			// Numeric field names aren't allowed in databases, so if the key is
+			// numeric, we know it was assigned by PHP and the developer manually
+			// entered the field information, so we'll simply add it to the list
+			if (is_numeric($field))
+			{
+				$sql .= "\n\t$attributes";
+			}
+			else
+			{
+				$attributes = array_change_key_case($attributes, CASE_UPPER);
+				
+				$sql .= "\n\t".$this->db->_protect_identifiers($field);
+				
+				$sql .=  ' '.$attributes['TYPE'];
+	
+				if (array_key_exists('CONSTRAINT', $attributes))
+				{
+					$sql .= '('.$attributes['CONSTRAINT'].')';
+				}
+	
+				if (array_key_exists('UNSIGNED', $attributes) && $attributes['UNSIGNED'] === TRUE)
+				{
+					$sql .= ' UNSIGNED';
+				}
+	
+				if (array_key_exists('DEFAULT', $attributes))
+				{
+					$sql .= ' DEFAULT \''.$attributes['DEFAULT'].'\'';
+				}
+	
+				if (array_key_exists('NULL', $attributes) && $attributes['NULL'] === TRUE)
+				{
+					$sql .= ' NULL';
+				}
+				else
+				{
+					$sql .= ' NOT NULL';			
+				}
+	
+				if (array_key_exists('AUTO_INCREMENT', $attributes) && $attributes['AUTO_INCREMENT'] === TRUE)
+				{
+					$sql .= ' AUTO_INCREMENT';
+				}
+			}
+			
+			// don't add a comma on the end of the last field
+			if (++$current_field_count < count($fields))
+			{
+				$sql .= ',';
+			}
+		}
+
+		if (count($primary_keys) > 0)
+		{
+			$primary_keys = $this->db->_protect_identifiers($primary_keys);
+			$sql .= ",\n\tPRIMARY KEY (" . implode(', ', $primary_keys) . ")";
+		}
+		
+		if (is_array($keys) && count($keys) > 0)
+		{
+			foreach ($keys as $key)
+			{
+				if (is_array($key))
+				{
+					$key = $this->db->_protect_identifiers($key);	
+				}
+				else
+				{
+					$key = array($this->db->_protect_identifiers($key));
+				}
+				
+				$sql .= ",\n\tFOREIGN KEY (" . implode(', ', $key) . ")";
+			}
+		}
+
+		$sql .= "\n);";
+
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop Table
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _drop_table($table)
+	{
+		return "DROP TABLE ".$this->db->_escape_identifiers($table)." CASCADE";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Alter table query
+	 *
+	 * Generates a platform-specific query so that a table can be altered
+	 * Called by add_column(), drop_column(), and column_alter(),
+	 *
+	 * @access	private
+	 * @param	string	the ALTER type (ADD, DROP, CHANGE)
+	 * @param	string	the column name
+	 * @param	string	the table name
+	 * @param	string	the column definition
+	 * @param	string	the default value
+	 * @param	boolean	should 'NOT NULL' be added
+	 * @param	string	the field after which we should add the new field
+	 * @return	object
+	 */
+	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);
+
+		// DROP has everything it needs now.
+		if ($alter_type == 'DROP')
+		{
+			return $sql;
+		}
+
+		$sql .= " $column_definition";
+
+		if ($default_value != '')
+		{
+			$sql .= " DEFAULT \"$default_value\"";
+		}
+
+		if ($null === NULL)
+		{
+			$sql .= ' NULL';
+		}
+		else
+		{
+			$sql .= ' NOT NULL';
+		}
+
+		if ($after_field != '')
+		{
+			$sql .= ' AFTER ' . $this->db->_protect_identifiers($after_field);
+		}
+		
+		return $sql;
+		
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rename a table
+	 *
+	 * Generates a platform-specific query so that a table can be renamed
+	 *
+	 * @access	private
+	 * @param	string	the old table name
+	 * @param	string	the new table name
+	 * @return	string
+	 */
+	function _rename_table($table_name, $new_table_name)
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);
+		return $sql;
+	}
+
+
+}
+
+/* End of file postgre_forge.php */
+/* Location: ./system/database/drivers/postgre/postgre_forge.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/postgre/postgre_result.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/postgre/postgre_result.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/postgre/postgre_result.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,169 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Postgres Result Class
+ *
+ * This class extends the parent result class: CI_DB_result
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_postgre_result extends CI_DB_result {
+
+	/**
+	 * Number of rows in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_rows()
+	{
+		return @pg_num_rows($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Number of fields in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_fields()
+	{
+		return @pg_num_fields($this->result_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch Field Names
+	 *
+	 * Generates an array of column names
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function list_fields()
+	{
+		$field_names = array();
+		for ($i = 0; $i < $this->num_fields(); $i++)
+		{
+			$field_names[] = pg_field_name($this->result_id, $i);
+		}
+		
+		return $field_names;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data
+	 *
+	 * Generates an array of objects containing field meta-data
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function field_data()
+	{
+		$retval = array();
+		for ($i = 0; $i < $this->num_fields(); $i++)
+		{
+			$F 				= new stdClass();
+			$F->name 		= pg_field_name($this->result_id, $i);
+			$F->type 		= pg_field_type($this->result_id, $i);
+			$F->max_length	= pg_field_size($this->result_id, $i);
+			$F->primary_key = 0;
+			$F->default		= '';
+
+			$retval[] = $F;
+		}
+		
+		return $retval;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Free the result
+	 *
+	 * @return	null
+	 */		
+	function free_result()
+	{
+		if (is_resource($this->result_id))
+		{
+			pg_free_result($this->result_id);
+			$this->result_id = FALSE;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Data Seek
+	 *
+	 * Moves the internal pointer to the desired offset.  We call
+	 * this internally before fetching results to make sure the
+	 * result set starts at zero
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _data_seek($n = 0)
+	{
+		return pg_result_seek($this->result_id, $n);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - associative array
+	 *
+	 * Returns the result set as an array
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _fetch_assoc()
+	{
+		return pg_fetch_assoc($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - object
+	 *
+	 * Returns the result set as an object
+	 *
+	 * @access	private
+	 * @return	object
+	 */
+	function _fetch_object()
+	{
+		return pg_fetch_object($this->result_id);
+	}
+	
+}
+
+
+/* End of file postgre_result.php */
+/* Location: ./system/database/drivers/postgre/postgre_result.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/postgre/postgre_utility.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/postgre/postgre_utility.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/postgre/postgre_utility.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,124 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Postgre Utility Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_postgre_utility extends CI_DB_utility {
+
+	/**
+	 * List databases
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _list_databases()
+	{
+		return "SELECT datname FROM pg_database";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Optimize table query
+	 *
+	 * Is table optimization supported in Postgre?
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _optimize_table($table)
+	{
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Repair table query
+	 *
+	 * Are table repairs supported in Postgre?
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _repair_table($table)
+	{
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Postgre Export
+	 *
+	 * @access	private
+	 * @param	array	Preferences
+	 * @return	mixed
+	 */
+	function _backup($params = array())
+	{
+		// Currently unsupported
+		return $this->db->display_error('db_unsuported_feature');
+	}
+
+	/**
+	 *
+	 * The functions below have been deprecated as of 1.6, and are only here for backwards
+	 * compatibility.  They now reside in dbforge().  The use of dbutils for database manipulation
+	 * is STRONGLY discouraged in favour if using dbforge.
+	 *
+	 */
+
+	/**
+	 * Create database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database($name)
+	{
+		return "CREATE DATABASE ".$name;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		return "DROP DATABASE ".$name;
+	}
+
+
+}
+
+
+/* End of file postgre_utility.php */
+/* Location: ./system/database/drivers/postgre/postgre_utility.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/sqlite/index.html
===================================================================
--- trunk/pintassilgo/system/database/drivers/sqlite/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/sqlite/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/sqlite/sqlite_driver.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/sqlite/sqlite_driver.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/sqlite/sqlite_driver.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,601 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+
+
+/**
+ * SQLite Database Adapter Class
+ *
+ * Note: _DB is an extender class that the app controller
+ * creates dynamically based on whether the active record
+ * class is being used or not.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Drivers
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_sqlite_driver extends CI_DB {
+
+	var $dbdriver = 'sqlite';
+	
+	// The character used to escape with - not needed for SQLite
+	var $_escape_char = '';
+
+	/**
+	 * The syntax to count rows is slightly different across different
+	 * database engines, so this string appears in each driver and is
+	 * used for the count_all() and count_all_results() functions.
+	 */
+	var $_count_string = "SELECT COUNT(*) AS ";
+	var $_random_keyword = ' Random()'; // database specific random keyword
+
+	/**
+	 * Non-persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_connect()
+	{
+		if ( ! $conn_id = @sqlite_open($this->database, FILE_WRITE_MODE, $error))
+		{
+			log_message('error', $error);
+			
+			if ($this->db_debug)
+			{
+				$this->display_error($error, '', TRUE);
+			}
+			
+			return FALSE;
+		}
+		
+		return $conn_id;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Persistent database connection
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_pconnect()
+	{
+		if ( ! $conn_id = @sqlite_popen($this->database, FILE_WRITE_MODE, $error))
+		{
+			log_message('error', $error);
+			
+			if ($this->db_debug)
+			{
+				$this->display_error($error, '', TRUE);
+			}
+			
+			return FALSE;
+		}
+		
+		return $conn_id;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Select the database
+	 *
+	 * @access	private called by the base class
+	 * @return	resource
+	 */	
+	function db_select()
+	{
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set client character set
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	resource
+	 */
+	function db_set_charset($charset, $collation)
+	{
+		// @todo - add support if needed
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Version number query string
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function _version()
+	{
+		return sqlite_libversion();
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Execute the query
+	 *
+	 * @access	private called by the base class
+	 * @param	string	an SQL query
+	 * @return	resource
+	 */	
+	function _execute($sql)
+	{
+		$sql = $this->_prep_query($sql);
+		return @sqlite_query($this->conn_id, $sql);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Prep the query
+	 *
+	 * If needed, each database adapter can prep the query string
+	 *
+	 * @access	private called by execute()
+	 * @param	string	an SQL query
+	 * @return	string
+	 */	
+	function _prep_query($sql)
+	{
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Begin Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_begin($test_mode = FALSE)
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+		
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		// Reset the transaction failure flag.
+		// If the $test_mode flag is set to TRUE transactions will be rolled back
+		// even if the queries produce a successful result.
+		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;
+
+		$this->simple_query('BEGIN TRANSACTION');
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Commit Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_commit()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$this->simple_query('COMMIT');
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rollback Transaction
+	 *
+	 * @access	public
+	 * @return	bool		
+	 */	
+	function trans_rollback()
+	{
+		if ( ! $this->trans_enabled)
+		{
+			return TRUE;
+		}
+
+		// When transactions are nested we only begin/commit/rollback the outermost ones
+		if ($this->_trans_depth > 0)
+		{
+			return TRUE;
+		}
+
+		$this->simple_query('ROLLBACK');
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape String
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function escape_str($str)	
+	{
+		return sqlite_escape_string($str);
+	}
+		
+	// --------------------------------------------------------------------
+
+	/**
+	 * Affected Rows
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function affected_rows()
+	{
+		return sqlite_changes($this->conn_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Insert ID
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function insert_id()
+	{
+		return @sqlite_last_insert_rowid($this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * "Count All" query
+	 *
+	 * Generates a platform-specific query string that counts all records in
+	 * the specified database
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function count_all($table = '')
+	{
+		if ($table == '')
+			return '0';
+	
+		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows'). " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));
+		
+		if ($query->num_rows() == 0)
+			return '0';
+
+		$row = $query->row();
+		return $row->numrows;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * List table query
+	 *
+	 * Generates a platform-specific query string so that the table names can be fetched
+	 *
+	 * @access	private
+	 * @param	boolean
+	 * @return	string
+	 */
+	function _list_tables($prefix_limit = FALSE)
+	{
+		$sql = "SELECT name from sqlite_master WHERE type='table'";
+
+		if ($prefix_limit !== FALSE AND $this->dbprefix != '')
+		{
+			$sql .= " AND 'name' LIKE '".$this->dbprefix."%'";
+		}
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Show column query
+	 *
+	 * Generates a platform-specific query string so that the column names can be fetched
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */
+	function _list_columns($table = '')
+	{
+		// Not supported
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data query
+	 *
+	 * Generates a platform-specific query so that the column data can be retrieved
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _field_data($table)
+	{
+		return "SELECT * FROM ".$table." LIMIT 1";
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message string
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _error_message()
+	{
+		return sqlite_error_string(sqlite_last_error($this->conn_id));
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * The error message number
+	 *
+	 * @access	private
+	 * @return	integer
+	 */
+	function _error_number()
+	{
+		return sqlite_last_error($this->conn_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Escape the SQL Identifiers
+	 *
+	 * This function escapes column and table names
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _escape_identifiers($item)
+	{
+		if ($this->_escape_char == '')
+		{
+			return $item;
+		}
+	
+		if (strpos($item, '.') !== FALSE)
+		{
+			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;			
+		}
+		else
+		{
+			$str = $this->_escape_char.$item.$this->_escape_char;
+		}
+		
+		// remove duplicates if the user already included the escape
+		return preg_replace('/['.$this->_escape_char.']+/', $this->_escape_char, $str);
+	}
+			
+	// --------------------------------------------------------------------
+
+	/**
+	 * From Tables
+	 *
+	 * This function implicitly groups FROM tables so there is no confusion
+	 * about operator precedence in harmony with SQL standards
+	 *
+	 * @access	public
+	 * @param	type
+	 * @return	type
+	 */
+	function _from_tables($tables)
+	{
+		if ( ! is_array($tables))
+		{
+			$tables = array($tables);
+		}
+		
+		return '('.implode(', ', $tables).')';
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Insert statement
+	 *
+	 * Generates a platform-specific insert string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the insert keys
+	 * @param	array	the insert values
+	 * @return	string
+	 */
+	function _insert($table, $keys, $values)
+	{	
+		return "INSERT INTO ".$table." (".implode(', ', $keys).") VALUES (".implode(', ', $values).")";
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Update statement
+	 *
+	 * Generates a platform-specific update string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the update data
+	 * @param	array	the where clause
+	 * @param	array	the orderby clause
+	 * @param	array	the limit clause
+	 * @return	string
+	 */
+	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)
+	{
+		foreach($values as $key => $val)
+		{
+			$valstr[] = $key." = ".$val;
+		}
+		
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+		
+		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';
+	
+		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);
+
+		$sql .= ($where != '' AND count($where) >=1) ? " WHERE ".implode(" ", $where) : '';
+
+		$sql .= $orderby.$limit;
+		
+		return $sql;
+	}
+
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Truncate statement
+	 *
+	 * Generates a platform-specific truncate string from the supplied data
+	 * If the database does not support the truncate() command
+	 * This function maps to "DELETE FROM table"
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @return	string
+	 */	
+	function _truncate($table)
+	{
+		return $this->_delete($table);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete statement
+	 *
+	 * Generates a platform-specific delete string from the supplied data
+	 *
+	 * @access	public
+	 * @param	string	the table name
+	 * @param	array	the where clause
+	 * @param	string	the limit clause
+	 * @return	string
+	 */	
+	function _delete($table, $where = array(), $like = array(), $limit = FALSE)
+	{
+		$conditions = '';
+
+		if (count($where) > 0 OR count($like) > 0)
+		{
+			$conditions = "\nWHERE ";
+			$conditions .= implode("\n", $this->ar_where);
+
+			if (count($where) > 0 && count($like) > 0)
+			{
+				$conditions .= " AND ";
+			}
+			$conditions .= implode("\n", $like);
+		}
+
+		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;
+	
+		return "DELETE FROM ".$table.$conditions.$limit;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Limit string
+	 *
+	 * Generates a platform-specific LIMIT clause
+	 *
+	 * @access	public
+	 * @param	string	the sql query string
+	 * @param	integer	the number of rows to limit the query to
+	 * @param	integer	the offset value
+	 * @return	string
+	 */
+	function _limit($sql, $limit, $offset)
+	{	
+		if ($offset == 0)
+		{
+			$offset = '';
+		}
+		else
+		{
+			$offset .= ", ";
+		}
+		
+		return $sql."LIMIT ".$offset.$limit;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Close DB Connection
+	 *
+	 * @access	public
+	 * @param	resource
+	 * @return	void
+	 */
+	function _close($conn_id)
+	{
+		@sqlite_close($conn_id);
+	}
+
+
+}
+
+
+/* End of file sqlite_driver.php */
+/* Location: ./system/database/drivers/sqlite/sqlite_driver.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/sqlite/sqlite_forge.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/sqlite/sqlite_forge.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/sqlite/sqlite_forge.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,265 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * SQLite Forge Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_sqlite_forge extends CI_DB_forge {
+
+	/**
+	 * Create database
+	 *
+	 * @access	public
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database()
+	{
+		// In SQLite, a database is created when you connect to the database.
+		// We'll return TRUE so that an error isn't generated
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		if ( ! @file_exists($this->db->database) OR ! @unlink($this->db->database))
+		{
+			if ($this->db->db_debug)
+			{
+				return $this->db->display_error('db_unable_to_drop');
+			}
+			return FALSE;
+		}
+		return TRUE;
+	}
+	// --------------------------------------------------------------------
+
+	/**
+	 * Create Table
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @param	array	the fields
+	 * @param	mixed	primary key(s)
+	 * @param	mixed	key(s)
+	 * @param	boolean	should 'IF NOT EXISTS' be added to the SQL
+	 * @return	bool
+	 */
+	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)
+	{
+		$sql = 'CREATE TABLE ';
+		
+		// IF NOT EXISTS added to SQLite in 3.3.0
+		if ($if_not_exists === TRUE && version_compare($this->_version(), '3.3.0', '>=') === TRUE)
+		{
+			$sql .= 'IF NOT EXISTS ';
+		}
+		
+		$sql .= $this->db->_escape_identifiers($table)."(";
+		$current_field_count = 0;
+
+		foreach ($fields as $field=>$attributes)
+		{
+			// Numeric field names aren't allowed in databases, so if the key is
+			// numeric, we know it was assigned by PHP and the developer manually
+			// entered the field information, so we'll simply add it to the list
+			if (is_numeric($field))
+			{
+				$sql .= "\n\t$attributes";
+			}
+			else
+			{
+				$attributes = array_change_key_case($attributes, CASE_UPPER);
+				
+				$sql .= "\n\t".$this->db->_protect_identifiers($field);
+				
+				$sql .=  ' '.$attributes['TYPE'];
+	
+				if (array_key_exists('CONSTRAINT', $attributes))
+				{
+					$sql .= '('.$attributes['CONSTRAINT'].')';
+				}
+	
+				if (array_key_exists('UNSIGNED', $attributes) && $attributes['UNSIGNED'] === TRUE)
+				{
+					$sql .= ' UNSIGNED';
+				}
+	
+				if (array_key_exists('DEFAULT', $attributes))
+				{
+					$sql .= ' DEFAULT \''.$attributes['DEFAULT'].'\'';
+				}
+	
+				if (array_key_exists('NULL', $attributes) && $attributes['NULL'] === TRUE)
+				{
+					$sql .= ' NULL';
+				}
+				else
+				{
+					$sql .= ' NOT NULL';			
+				}
+	
+				if (array_key_exists('AUTO_INCREMENT', $attributes) && $attributes['AUTO_INCREMENT'] === TRUE)
+				{
+					$sql .= ' AUTO_INCREMENT';
+				}
+			}
+			
+			// don't add a comma on the end of the last field
+			if (++$current_field_count < count($fields))
+			{
+				$sql .= ',';
+			}
+		}
+
+		if (count($primary_keys) > 0)
+		{
+			$primary_keys = $this->db->_protect_identifiers($primary_keys);
+			$sql .= ",\n\tPRIMARY KEY (" . implode(', ', $primary_keys) . ")";
+		}
+
+		if (is_array($keys) && count($keys) > 0)
+		{
+			foreach ($keys as $key)
+			{
+				if (is_array($key))
+				{
+					$key = $this->db->_protect_identifiers($key);	
+				}
+				else
+				{
+					$key = array($this->db->_protect_identifiers($key));
+				}
+				
+				$sql .= ",\n\tUNIQUE (" . implode(', ', $key) . ")";
+			}
+		}
+
+		$sql .= "\n)";
+
+		return $sql;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop Table
+	 *
+	 *  Unsupported feature in SQLite
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _drop_table($table)
+	{
+		if ($this->db->db_debug)
+		{
+			return $this->db->display_error('db_unsuported_feature');
+		}
+		return array();
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Alter table query
+	 *
+	 * Generates a platform-specific query so that a table can be altered
+	 * Called by add_column(), drop_column(), and column_alter(),
+	 *
+	 * @access	private
+	 * @param	string	the ALTER type (ADD, DROP, CHANGE)
+	 * @param	string	the column name
+	 * @param	string	the table name
+	 * @param	string	the column definition
+	 * @param	string	the default value
+	 * @param	boolean	should 'NOT NULL' be added
+	 * @param	string	the field after which we should add the new field
+	 * @return	object
+	 */
+	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);
+
+		// DROP has everything it needs now.
+		if ($alter_type == 'DROP')
+		{
+			// SQLite does not support dropping columns
+			// http://www.sqlite.org/omitted.html
+			// http://www.sqlite.org/faq.html#q11
+			return FALSE;
+		}
+
+		$sql .= " $column_definition";
+
+		if ($default_value != '')
+		{
+			$sql .= " DEFAULT \"$default_value\"";
+		}
+
+		if ($null === NULL)
+		{
+			$sql .= ' NULL';
+		}
+		else
+		{
+			$sql .= ' NOT NULL';
+		}
+
+		if ($after_field != '')
+		{
+			$sql .= ' AFTER ' . $this->db->_protect_identifiers($after_field);
+		}
+		
+		return $sql;
+		
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rename a table
+	 *
+	 * Generates a platform-specific query so that a table can be renamed
+	 *
+	 * @access	private
+	 * @param	string	the old table name
+	 * @param	string	the new table name
+	 * @return	string
+	 */
+	function _rename_table($table_name, $new_table_name)
+	{
+		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);
+		return $sql;
+	}
+}
+
+/* End of file sqlite_forge.php */
+/* Location: ./system/database/drivers/sqlite/sqlite_forge.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/sqlite/sqlite_result.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/sqlite/sqlite_result.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/sqlite/sqlite_result.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,179 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * SQLite Result Class
+ *
+ * This class extends the parent result class: CI_DB_result
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_sqlite_result extends CI_DB_result {
+	
+	/**
+	 * Number of rows in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_rows()
+	{
+		return @sqlite_num_rows($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Number of fields in the result set
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function num_fields()
+	{
+		return @sqlite_num_fields($this->result_id);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch Field Names
+	 *
+	 * Generates an array of column names
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function list_fields()
+	{
+		$field_names = array();
+		for ($i = 0; $i < $this->num_fields(); $i++)
+		{
+			$field_names[] = sqlite_field_name($this->result_id, $i);
+		}
+		
+		return $field_names;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Field data
+	 *
+	 * Generates an array of objects containing field meta-data
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function field_data()
+	{
+		$retval = array();
+		for ($i = 0; $i < $this->num_fields(); $i++)
+		{
+			$F 				= new stdClass();
+			$F->name 		= sqlite_field_name($this->result_id, $i);
+			$F->type 		= 'varchar';
+			$F->max_length	= 0;
+			$F->primary_key = 0;
+			$F->default		= '';
+
+			$retval[] = $F;
+		}
+		
+		return $retval;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Free the result
+	 *
+	 * @return	null
+	 */		
+	function free_result()
+	{
+		// Not implemented in SQLite
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Data Seek
+	 *
+	 * Moves the internal pointer to the desired offset.  We call
+	 * this internally before fetching results to make sure the
+	 * result set starts at zero
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _data_seek($n = 0)
+	{
+		return sqlite_seek($this->result_id, $n);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - associative array
+	 *
+	 * Returns the result set as an array
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _fetch_assoc()
+	{
+		return sqlite_fetch_array($this->result_id);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Result - object
+	 *
+	 * Returns the result set as an object
+	 *
+	 * @access	private
+	 * @return	object
+	 */
+	function _fetch_object()
+	{
+		if (function_exists('sqlite_fetch_object'))
+		{
+			return sqlite_fetch_object($this->result_id);
+		}
+		else
+		{
+			$arr = sqlite_fetch_array($this->result_id, SQLITE_ASSOC);
+			if (is_array($arr))
+			{
+				$obj = (object) $arr;
+				return $obj;
+			} else {
+				return NULL;
+			} 
+		}
+	}
+
+}
+
+
+/* End of file sqlite_result.php */
+/* Location: ./system/database/drivers/sqlite/sqlite_result.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/drivers/sqlite/sqlite_utility.php
===================================================================
--- trunk/pintassilgo/system/database/drivers/sqlite/sqlite_utility.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/drivers/sqlite/sqlite_utility.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,141 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * SQLite Utility Class
+ *
+ * @category	Database
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/database/
+ */
+class CI_DB_sqlite_utility extends CI_DB_utility {
+
+	/**
+	 * List databases
+	 *
+	 * I don't believe you can do a database listing with SQLite
+	 * since each database is its own file.  I suppose we could
+	 * try reading a directory looking for SQLite files, but
+	 * that doesn't seem like a terribly good idea
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _list_databases()
+	{
+		if ($this->db_debug)
+		{
+			return $this->display_error('db_unsuported_feature');
+		}
+		return array();
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Optimize table query
+	 *
+	 * Is optimization even supported in SQLite?
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _optimize_table($table)
+	{
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Repair table query
+	 *
+	 * Are table repairs even supported in SQLite?
+	 *
+	 * @access	private
+	 * @param	string	the table name
+	 * @return	object
+	 */
+	function _repair_table($table)
+	{
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * SQLite Export
+	 *
+	 * @access	private
+	 * @param	array	Preferences
+	 * @return	mixed
+	 */
+	function _backup($params = array())
+	{
+		// Currently unsupported
+		return $this->db->display_error('db_unsuported_feature');
+	}
+
+	/**
+	 *
+	 * The functions below have been deprecated as of 1.6, and are only here for backwards
+	 * compatibility.  They now reside in dbforge().  The use of dbutils for database manipulation
+	 * is STRONGLY discouraged in favour if using dbforge.
+	 *
+	 */
+
+	/**
+	 * Create database
+	 *
+	 * @access	public
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _create_database()
+	{
+		// In SQLite, a database is created when you connect to the database.
+		// We'll return TRUE so that an error isn't generated
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Drop database
+	 *
+	 * @access	private
+	 * @param	string	the database name
+	 * @return	bool
+	 */
+	function _drop_database($name)
+	{
+		if ( ! @file_exists($this->db->database) OR ! @unlink($this->db->database))
+		{
+			if ($this->db->db_debug)
+			{
+				return $this->db->display_error('db_unable_to_drop');
+			}
+			return FALSE;
+		}
+		return TRUE;
+	}
+
+}
+
+/* End of file sqlite_utility.php */
+/* Location: ./system/database/drivers/sqlite/sqlite_utility.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/database/index.html
===================================================================
--- trunk/pintassilgo/system/database/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/database/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/fonts/index.html
===================================================================
--- trunk/pintassilgo/system/fonts/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/fonts/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/fonts/texb.ttf
===================================================================
(Binary files differ)


Property changes on: trunk/pintassilgo/system/fonts/texb.ttf
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/pintassilgo/system/helpers/array_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/array_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/array_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,78 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Array Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/array_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Element
+ *
+ * Lets you determine whether an array index is set and whether it has a value.
+ * If the element is empty it returns FALSE (or whatever you specify as the default value.)
+ *
+ * @access	public
+ * @param	string
+ * @param	array
+ * @param	mixed
+ * @return	mixed	depends on what the array contains
+ */	
+if ( ! function_exists('element'))
+{
+	function element($item, $array, $default = FALSE)
+	{
+		if ( ! isset($array[$item]) OR $array[$item] == "")
+		{
+			return $default;
+		}
+
+		return $array[$item];
+	}	
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Random Element - Takes an array as input and returns a random element
+ *
+ * @access	public
+ * @param	array
+ * @return	mixed	depends on what the array contains
+ */	
+if ( ! function_exists('random_element'))
+{
+	function random_element($array)
+	{
+		if ( ! is_array($array))
+		{
+			return $array;
+		}
+		return $array[array_rand($array)];
+	}	
+}
+
+
+/* End of file array_helper.php */
+/* Location: ./system/helpers/array_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/compatibility_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/compatibility_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/compatibility_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,498 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Compatibility Helpers
+ *
+ * This helper contains some functions based on the PEAR PHP_Compat library
+ * http://pear.php.net/package/PHP_Compat
+ * 
+ * The PEAR compat library is a little bloated and the code doesn't harmonize
+ * well with CodeIgniter, so those functions have been refactored.
+ * We cheat a little and use CI's _exception_handler() to output our own PHP errors
+ * so that the behavior fully mimicks the PHP 5 counterparts.  -- Derek Jones
+ * 
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/compatibility_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+if ( ! defined('PHP_EOL'))
+{
+	define('PHP_EOL', (DIRECTORY_SEPARATOR == '/') ? "\n" : "\r\n");
+} 
+
+// ------------------------------------------------------------------------
+
+/**
+ * file_put_contents()
+ *
+ * Writes a string to a file
+ * http://us.php.net/manual/en/function.file_put_contents.php
+ * argument 4, $context, not supported
+ *
+ * @access	public
+ * @param	string		file name
+ * @param	mixed		data to be written
+ * @param	int			flags
+ * @return	int			length of written string
+ */
+if ( ! function_exists('file_put_contents'))
+{
+	function file_put_contents($filename, $data, $flags = NULL)
+	{
+		if (is_scalar($data))
+		{
+			settype($data, 'STRING');
+		}
+
+		if ( ! is_string($data) && ! is_array($data) && ! is_resource($data))
+		{
+			$backtrace = debug_backtrace();
+			_exception_handler(E_USER_WARNING, 'file_put_contents(): the 2nd parameter should be either a string or an array', $backtrace[0]['file'], $backtrace[0]['line']);
+			return FALSE;
+		}
+
+		// read stream if given a stream resource
+		if (is_resource($data))
+		{
+			if (get_resource_type($data) !== 'stream')
+			{
+				$backtrace = debug_backtrace();
+				_exception_handler(E_USER_WARNING, 'file_put_contents(): supplied resource is not a valid stream resource', $backtrace[0]['file'], $backtrace[0]['line']);
+				return FALSE;
+			}
+
+			$text = '';
+			
+			while ( ! feof($data))
+			{
+				$text .= fread($data, 4096);
+			}
+			
+			$data = $text;
+			unset($text);
+		}
+	
+		// strings only please!
+		if (is_array($data))
+		{
+			$data = implode('', $data);
+		}
+
+		// Set the appropriate mode
+		if (($flags & 8) > 0) // 8 = FILE_APPEND flag
+		{
+			$mode = FOPEN_WRITE_CREATE;
+		}
+		else
+		{
+			$mode = FOPEN_WRITE_CREATE_DESTRUCTIVE;
+		}
+	
+		// Check if we're using the include path
+		if (($flags & 1) > 0) // 1 = FILE_USE_INCLUDE_PATH flag
+		{
+			$use_include_path = TRUE;
+		}
+		else
+		{
+			$use_include_path = FALSE;
+		}
+	
+		$fp = @fopen($filename, $mode, $use_include_path);
+	
+		if ($fp === FALSE)
+		{
+			$backtrace = debug_backtrace();
+			_exception_handler(E_USER_WARNING, 'file_put_contents('.htmlentities($filename).') failed to open stream', $backtrace[0]['file'], $backtrace[0]['line']);
+			return FALSE;
+		}
+	
+		if (($flags & LOCK_EX) > 0)
+		{
+			if ( ! flock($fp, LOCK_EX))
+			{
+				$backtrace = debug_backtrace();
+				_exception_handler(E_USER_WARNING, 'file_put_contents('.htmlentities($filename).') unable to acquire an exclusive lock on file', $backtrace[0]['file'], $backtrace[0]['line']);
+				return FALSE;
+			}
+		}
+		
+		// write it
+		if (($written = @fwrite($fp, $data)) === FALSE)
+		{
+			$backtrace = debug_backtrace();
+			_exception_handler(E_USER_WARNING, 'file_put_contents('.htmlentities($filename).') failed to write to '.htmlentities($filename), $backtrace[0]['file'], $backtrace[0]['line']);
+		}
+	
+		// Close the handle
+		@fclose($fp);
+	
+		// Return length
+		return $written;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * fputcsv()
+ *
+ * Format line as CSV and write to file pointer
+ * http://us.php.net/manual/en/function.fputcsv.php
+ *
+ * @access	public
+ * @param	resource	file pointer
+ * @param	array		data to be written
+ * @param	string		delimiter
+ * @param	string		enclosure
+ * @return	int			length of written string
+ */
+if ( ! function_exists('fputcsv'))
+{
+	function fputcsv($handle, $fields, $delimiter = ',', $enclosure = '"')
+	{
+		// Checking for a handle resource
+		if ( ! is_resource($handle))
+		{
+			$backtrace = debug_backtrace();
+			_exception_handler(E_USER_WARNING, 'fputcsv() expects parameter 1 to be stream resource, '.gettype($handle).' given', $backtrace[0]['file'], $backtrace[0]['line']);
+			return FALSE;
+		}
+	
+		// OK, it is a resource, but is it a stream?
+		if (get_resource_type($handle) !== 'stream')
+		{
+			$backtrace = debug_backtrace();
+			_exception_handler(E_USER_WARNING, 'fputcsv() expects parameter 1 to be stream resource, '.get_resource_type($handle).' given', $backtrace[0]['file'], $backtrace[0]['line']);
+			return FALSE;
+		}
+	
+		// Checking for an array of fields
+		if ( ! is_array($fields))
+		{
+			$backtrace = debug_backtrace();
+			_exception_handler(E_USER_WARNING, 'fputcsv() expects parameter 2 to be array, '.gettype($fields).' given', $backtrace[0]['file'], $backtrace[0]['line']);
+			return FALSE;
+		}
+	
+		// validate delimiter
+		if (strlen($delimiter) > 1)
+		{
+			$delimiter = substr($delimiter, 0, 1);
+			$backtrace = debug_backtrace();
+			_exception_handler(E_NOTICE, 'fputcsv() delimiter must be one character long, "'.htmlentities($delimiter).'" used', $backtrace[0]['file'], $backtrace[0]['line']);
+		}
+	
+		// validate enclosure
+		if (strlen($enclosure) > 1)
+		{
+			$enclosure = substr($enclosure, 0, 1);
+			$backtrace = debug_backtrace();
+			_exception_handler(E_NOTICE, 'fputcsv() enclosure must be one character long, "'.htmlentities($enclosure).'" used', $backtrace[0]['file'], $backtrace[0]['line']);
+
+		}
+	
+		$out = '';
+	
+		foreach ($fields as $cell)
+		{
+			$cell = str_replace($enclosure, $enclosure.$enclosure, $cell);
+
+			if (strpos($cell, $delimiter) !== FALSE OR strpos($cell, $enclosure) !== FALSE OR strpos($cell, "\n") !== FALSE)
+			{
+				$out .= $enclosure.$cell.$enclosure.$delimiter;
+			}
+			else
+			{
+				$out .= $cell.$delimiter;
+			}
+		}
+	
+		$length = @fwrite($handle, substr($out, 0, -1)."\n");
+	
+		return $length;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * stripos()
+ *
+ * Find position of first occurrence of a case-insensitive string
+ * http://us.php.net/manual/en/function.stripos.php
+ *
+ * @access	public
+ * @param	string		haystack
+ * @param	string		needle
+ * @param	int			offset
+ * @return	int			numeric position of the first occurrence of needle in the haystack
+ */
+if ( ! function_exists('stripos'))
+{
+	function stripos($haystack, $needle, $offset = NULL)
+	{
+		// Cast non string scalar values
+		if (is_scalar($haystack))
+		{
+			settype($haystack, 'STRING');
+		}
+	
+		if ( ! is_string($haystack))
+		{
+			$backtrace = debug_backtrace();
+			_exception_handler(E_USER_WARNING, 'stripos() expects parameter 1 to be string, '.gettype($haystack).' given', $backtrace[0]['file'], $backtrace[0]['line']);
+			return FALSE;
+		}
+	
+		if ( ! is_scalar($needle))
+		{
+			$backtrace = debug_backtrace();
+			_exception_handler(E_USER_WARNING, 'stripos() needle is not a string or an integer in '.$backtrace[0]['file'], $backtrace[0]['line']);
+			return FALSE;
+		}
+	
+		if (is_float($offset))
+		{
+			$offset = (int)$offset;
+		}
+	
+		if ( ! is_int($offset) && ! is_bool($offset) && ! is_null($offset))
+		{
+			$backtrace = debug_backtrace();
+			_exception_handler(E_USER_WARNING, 'stripos() expects parameter 3 to be long, '.gettype($offset).' given', $backtrace[0]['file'], $backtrace[0]['line']);
+			return NULL;
+		}
+	
+		return strpos(strtolower($haystack), strtolower($needle), $offset);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * str_ireplace()
+ *
+ * Find position of first occurrence of a case-insensitive string
+ * http://us.php.net/manual/en/function.str-ireplace.php
+ * (parameter 4, $count, is not supported as to do so in PHP 4 would make
+ * it a required parameter)
+ *
+ * @access	public
+ * @param	mixed		search
+ * @param	mixed		replace
+ * @param	mixed		subject
+ * @return	int			numeric position of the first occurrence of needle in the haystack
+ */
+if ( ! function_exists('str_ireplace'))
+{
+	function str_ireplace($search, $replace, $subject)
+	{
+		// Nothing to do here
+		if ($search === NULL OR $subject === NULL)
+		{
+			return $subject;
+		}
+	
+		// Crazy arguments
+		if (is_scalar($search) && is_array($replace))
+		{
+			$backtrace = debug_backtrace();
+
+			if (is_object($replace))
+			{
+				show_error('Object of class '.get_class($replace).' could not be converted to string in '.$backtrace[0]['file'].' on line '.$backtrace[0]['line']);
+			}
+			else
+			{
+				_exception_handler(E_USER_NOTICE, 'Array to string conversion in '.$backtrace[0]['file'], $backtrace[0]['line']);
+			}
+		}
+	
+		// Searching for an array
+		if (is_array($search))
+		{
+			// Replacing with an array
+			if (is_array($replace))
+			{
+				$search = array_values($search);
+				$replace = array_values($replace);
+
+				if (count($search) >= count($replace))
+				{
+					$replace = array_pad($replace, count($search), '');
+				}
+				else
+				{
+					$replace = array_slice($replace, 0, count($search));
+				}
+			}
+			else
+			{
+				// Replacing with a string all positions
+				$replace = array_fill(0, count($search), $replace);
+			}
+		}
+		else
+		{
+			//Searching for a string and replacing with a string.
+			$search  = array((string)$search);
+			$replace = array((string)$replace);
+		}
+		
+		// Prepare the search array
+		foreach ($search as $search_key => $search_value)
+		{
+			$search[$search_key] = '/'.preg_quote($search_value, '/').'/i';
+		}
+		
+		// Prepare the replace array (escape backreferences)
+		foreach ($replace as $k => $v)
+		{
+			$replace[$k] = str_replace(array(chr(92), '$'), array(chr(92).chr(92), '\$'), $v);
+		}
+	
+		// do the replacement
+		$result = preg_replace($search, $replace, (array)$subject);
+	
+		// Check if subject was initially a string and return it as a string
+		if ( ! is_array($subject))
+		{
+			return current($result);
+		}
+	
+		// Otherwise, just return the array
+		return $result;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * http_build_query()
+ *
+ * Generate URL-encoded query string
+ * http://us.php.net/manual/en/function.http-build-query.php
+ *
+ * @access	public
+ * @param	array		form data
+ * @param	string		numeric prefix
+ * @param	string		argument separator
+ * @return	string		URL-encoded string
+ */
+if ( ! function_exists('http_build_query'))
+{
+	function http_build_query($formdata, $numeric_prefix = NULL, $separator = NULL)
+	{
+		// Check the data
+		if ( ! is_array($formdata) && ! is_object($formdata))
+		{
+			$backtrace = debug_backtrace();
+			_exception_handler(E_USER_WARNING, 'http_build_query() Parameter 1 expected to be Array or Object. Incorrect value given', $backtrace[0]['file'], $backtrace[0]['line']);
+			return FALSE;
+		}
+	
+		// Cast it as array
+		if (is_object($formdata))
+		{
+			$formdata = get_object_vars($formdata);
+		}
+	
+		// If the array is empty, return NULL
+		if (empty($formdata))
+		{
+			return NULL;
+		}
+	
+		// Argument separator
+		if ($separator === NULL)
+		{
+			$separator = ini_get('arg_separator.output');
+
+			if (strlen($separator) == 0)
+			{
+				$separator = '&';
+			}
+		}
+	
+		// Start building the query
+		$tmp = array();
+
+		foreach ($formdata as $key => $val)
+		{
+			if ($val === NULL)
+			{
+				continue;
+			}
+	
+			if (is_integer($key) && $numeric_prefix != NULL)
+			{
+				$key = $numeric_prefix.$key;
+			}
+	
+			if (is_resource($val))
+			{
+				return NULL;
+			}
+			
+			// hand it off to a recursive parser
+			$tmp[] = _http_build_query_helper($key, $val, $separator);
+		}
+	
+		return implode($separator, $tmp);
+	}
+	
+	
+	// Helper helper.  Remind anyone of college?
+	// Required to handle recursion in nested arrays.
+	// 
+	// You could shave fractions of fractions of a second by moving where
+	// the urlencoding takes place, but it's much less intuitive, and if
+	// your application has 10,000 form fields, well, you have other problems ;)
+	function _http_build_query_helper($key, $val, $separator = '&')
+	{	
+		if (is_scalar($val))
+		{
+			return urlencode($key).'='.urlencode($val);			
+		}
+		else
+		{
+			// arrays please
+			if (is_object($val))
+			{
+				$val = get_object_vars($val);
+			}
+			
+			foreach ($val as $k => $v)
+			{
+				$tmp[] = _http_build_query_helper($key.'['.$k.']', $v, $separator);
+			}
+		}
+			
+		return implode($separator, $tmp);
+	}
+}
+
+
+/* End of file compatibility_helper.php */
+/* Location: ./system/helpers/compatibility_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/cookie_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/cookie_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/cookie_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,136 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Cookie Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/cookie_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Set cookie
+ *
+ * Accepts six parameter, or you can submit an associative
+ * array in the first parameter containing all the values.
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string	the value of the cookie
+ * @param	string	the number of seconds until expiration
+ * @param	string	the cookie domain.  Usually:  .yourdomain.com
+ * @param	string	the cookie path
+ * @param	string	the cookie prefix
+ * @return	void
+ */
+if ( ! function_exists('set_cookie'))
+{
+	function set_cookie($name = '', $value = '', $expire = '', $domain = '', $path = '/', $prefix = '')
+	{
+		if (is_array($name))
+		{		
+			foreach (array('value', 'expire', 'domain', 'path', 'prefix', 'name') as $item)
+			{
+				if (isset($name[$item]))
+				{
+					$$item = $name[$item];
+				}
+			}
+		}
+	
+		// Set the config file options
+		$CI =& get_instance();
+	
+		if ($prefix == '' AND $CI->config->item('cookie_prefix') != '')
+		{
+			$prefix = $CI->config->item('cookie_prefix');
+		}
+		if ($domain == '' AND $CI->config->item('cookie_domain') != '')
+		{
+			$domain = $CI->config->item('cookie_domain');
+		}
+		if ($path == '/' AND $CI->config->item('cookie_path') != '/')
+		{
+			$path = $CI->config->item('cookie_path');
+		}
+		
+		if ( ! is_numeric($expire))
+		{
+			$expire = time() - 86500;
+		}
+		else
+		{
+			if ($expire > 0)
+			{
+				$expire = time() + $expire;
+			}
+			else
+			{
+				$expire = 0;
+			}
+		}
+	
+		setcookie($prefix.$name, $value, $expire, $path, $domain, 0);
+	}
+}
+	
+// --------------------------------------------------------------------
+
+/**
+ * Fetch an item from the COOKIE array
+ *
+ * @access	public
+ * @param	string
+ * @param	bool
+ * @return	mixed
+ */
+if ( ! function_exists('get_cookie'))
+{
+	function get_cookie($index = '', $xss_clean = FALSE)
+	{
+		$CI =& get_instance();
+		return $CI->input->cookie($index, $xss_clean);
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * Delete a COOKIE
+ *
+ * @param	mixed
+ * @param	string	the cookie domain.  Usually:  .yourdomain.com
+ * @param	string	the cookie path
+ * @param	string	the cookie prefix
+ * @return	void
+ */
+if ( ! function_exists('delete_cookie'))
+{
+	function delete_cookie($name = '', $domain = '', $path = '/', $prefix = '')
+	{
+		set_cookie($name, '', '', $domain, $path, $prefix);
+	}
+}
+
+
+/* End of file cookie_helper.php */
+/* Location: ./system/helpers/cookie_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/date_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/date_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/date_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,611 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Date Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/date_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Get "now" time
+ *
+ * Returns time() or its GMT equivalent based on the config file preference
+ *
+ * @access	public
+ * @return	integer
+ */	
+if ( ! function_exists('now'))
+{
+	function now()
+	{
+		$CI =& get_instance();
+	
+		if (strtolower($CI->config->item('time_reference')) == 'gmt')
+		{
+			$now = time();
+			$system_time = mktime(gmdate("H", $now), gmdate("i", $now), gmdate("s", $now), gmdate("m", $now), gmdate("d", $now), gmdate("Y", $now));
+	
+			if (strlen($system_time) < 10)
+			{
+				$system_time = time();
+				log_message('error', 'The Date class could not set a proper GMT timestamp so the local time() value was used.');
+			}
+	
+			return $system_time;
+		}
+		else
+		{
+			return time();
+		}
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Convert MySQL Style Datecodes
+ *
+ * This function is identical to PHPs date() function,
+ * except that it allows date codes to be formatted using
+ * the MySQL style, where each code letter is preceded
+ * with a percent sign:  %Y %m %d etc...
+ *
+ * The benefit of doing dates this way is that you don't
+ * have to worry about escaping your text letters that
+ * match the date codes.
+ *
+ * @access	public
+ * @param	string
+ * @param	integer
+ * @return	integer
+ */	
+if ( ! function_exists('mdate'))
+{
+	function mdate($datestr = '', $time = '')
+	{
+		if ($datestr == '')
+			return '';
+	
+		if ($time == '')
+			$time = now();
+		
+		$datestr = str_replace('%\\', '', preg_replace("/([a-z]+?){1}/i", "\\\\\\1", $datestr));
+		return date($datestr, $time);
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Standard Date
+ *
+ * Returns a date formatted according to the submitted standard.
+ *
+ * @access	public
+ * @param	string	the chosen format
+ * @param	integer	Unix timestamp
+ * @return	string
+ */	
+if ( ! function_exists('standard_date'))
+{
+	function standard_date($fmt = 'DATE_RFC822', $time = '')
+	{
+		$formats = array(
+						'DATE_ATOM'		=>	'%Y-%m-%dT%H:%i:%s%Q',
+						'DATE_COOKIE'	=>	'%l, %d-%M-%y %H:%i:%s UTC',
+						'DATE_ISO8601'	=>	'%Y-%m-%dT%H:%i:%s%O',
+						'DATE_RFC822'	=>	'%D, %d %M %y %H:%i:%s %O',
+						'DATE_RFC850'	=>	'%l, %d-%M-%y %H:%m:%i UTC',
+						'DATE_RFC1036'	=>	'%D, %d %M %y %H:%i:%s %O',
+						'DATE_RFC1123'	=>	'%D, %d %M %Y %H:%i:%s %O',
+						'DATE_RSS'		=>	'%D, %d %M %Y %H:%i:%s %O',
+						'DATE_W3C'		=>	'%Y-%m-%dT%H:%i:%s%Q'
+						);
+
+		if ( ! isset($formats[$fmt]))
+		{
+			return FALSE;
+		}
+	
+		return mdate($formats[$fmt], $time);
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Timespan
+ *
+ * Returns a span of seconds in this format:
+ *	10 days 14 hours 36 minutes 47 seconds
+ *
+ * @access	public
+ * @param	integer	a number of seconds
+ * @param	integer	Unix timestamp
+ * @return	integer
+ */	
+if ( ! function_exists('timespan'))
+{
+	function timespan($seconds = 1, $time = '')
+	{
+		$CI =& get_instance();
+		$CI->lang->load('date');
+
+		if ( ! is_numeric($seconds))
+		{
+			$seconds = 1;
+		}
+	
+		if ( ! is_numeric($time))
+		{
+			$time = time();
+		}
+	
+		if ($time <= $seconds)
+		{
+			$seconds = 1;
+		}
+		else
+		{
+			$seconds = $time - $seconds;
+		}
+		
+		$str = '';
+		$years = floor($seconds / 31536000);
+	
+		if ($years > 0)
+		{	
+			$str .= $years.' '.$CI->lang->line((($years	> 1) ? 'date_years' : 'date_year')).', ';
+		}	
+	
+		$seconds -= $years * 31536000;
+		$months = floor($seconds / 2628000);
+	
+		if ($years > 0 OR $months > 0)
+		{
+			if ($months > 0)
+			{	
+				$str .= $months.' '.$CI->lang->line((($months	> 1) ? 'date_months' : 'date_month')).', ';
+			}	
+	
+			$seconds -= $months * 2628000;
+		}
+
+		$weeks = floor($seconds / 604800);
+	
+		if ($years > 0 OR $months > 0 OR $weeks > 0)
+		{
+			if ($weeks > 0)
+			{	
+				$str .= $weeks.' '.$CI->lang->line((($weeks	> 1) ? 'date_weeks' : 'date_week')).', ';
+			}
+		
+			$seconds -= $weeks * 604800;
+		}			
+
+		$days = floor($seconds / 86400);
+	
+		if ($months > 0 OR $weeks > 0 OR $days > 0)
+		{
+			if ($days > 0)
+			{	
+				$str .= $days.' '.$CI->lang->line((($days	> 1) ? 'date_days' : 'date_day')).', ';
+			}
+	
+			$seconds -= $days * 86400;
+		}
+	
+		$hours = floor($seconds / 3600);
+	
+		if ($days > 0 OR $hours > 0)
+		{
+			if ($hours > 0)
+			{
+				$str .= $hours.' '.$CI->lang->line((($hours	> 1) ? 'date_hours' : 'date_hour')).', ';
+			}
+		
+			$seconds -= $hours * 3600;
+		}
+	
+		$minutes = floor($seconds / 60);
+	
+		if ($days > 0 OR $hours > 0 OR $minutes > 0)
+		{
+			if ($minutes > 0)
+			{	
+				$str .= $minutes.' '.$CI->lang->line((($minutes	> 1) ? 'date_minutes' : 'date_minute')).', ';
+			}
+		
+			$seconds -= $minutes * 60;
+		}
+	
+		if ($str == '')
+		{
+			$str .= $seconds.' '.$CI->lang->line((($seconds	> 1) ? 'date_seconds' : 'date_second')).', ';
+		}
+			
+		return substr(trim($str), 0, -1);
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Number of days in a month
+ *
+ * Takes a month/year as input and returns the number of days
+ * for the given month/year. Takes leap years into consideration.
+ *
+ * @access	public
+ * @param	integer a numeric month
+ * @param	integer	a numeric year
+ * @return	integer
+ */	
+if ( ! function_exists('days_in_month'))
+{
+	function days_in_month($month = 0, $year = '')
+	{
+		if ($month < 1 OR $month > 12)
+		{
+			return 0;
+		}
+	
+		if ( ! is_numeric($year) OR strlen($year) != 4)
+		{
+			$year = date('Y');
+		}
+	
+		if ($month == 2)
+		{
+			if ($year % 400 == 0 OR ($year % 4 == 0 AND $year % 100 != 0))
+			{
+				return 29;
+			}
+		}
+
+		$days_in_month	= array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);
+		return $days_in_month[$month - 1];
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Converts a local Unix timestamp to GMT
+ *
+ * @access	public
+ * @param	integer Unix timestamp
+ * @return	integer
+ */	
+if ( ! function_exists('local_to_gmt'))
+{
+	function local_to_gmt($time = '')
+	{
+		if ($time == '')
+			$time = time();
+	
+		return mktime( gmdate("H", $time), gmdate("i", $time), gmdate("s", $time), gmdate("m", $time), gmdate("d", $time), gmdate("Y", $time));
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Converts GMT time to a localized value
+ *
+ * Takes a Unix timestamp (in GMT) as input, and returns
+ * at the local value based on the timezone and DST setting
+ * submitted
+ *
+ * @access	public
+ * @param	integer Unix timestamp
+ * @param	string	timezone
+ * @param	bool	whether DST is active
+ * @return	integer
+ */	
+if ( ! function_exists('gmt_to_local'))
+{
+	function gmt_to_local($time = '', $timezone = 'UTC', $dst = FALSE)
+	{			
+		if ($time == '')
+		{
+			return now();
+		}
+	
+		$time += timezones($timezone) * 3600;
+
+		if ($dst == TRUE)
+		{
+			$time += 3600;
+		}
+	
+		return $time;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Converts a MySQL Timestamp to Unix
+ *
+ * @access	public
+ * @param	integer Unix timestamp
+ * @return	integer
+ */	
+if ( ! function_exists('mysql_to_unix'))
+{
+	function mysql_to_unix($time = '')
+	{
+		// We'll remove certain characters for backward compatibility
+		// since the formatting changed with MySQL 4.1
+		// YYYY-MM-DD HH:MM:SS
+	
+		$time = str_replace('-', '', $time);
+		$time = str_replace(':', '', $time);
+		$time = str_replace(' ', '', $time);
+	
+		// YYYYMMDDHHMMSS
+		return  mktime(
+						substr($time, 8, 2),
+						substr($time, 10, 2),
+						substr($time, 12, 2),
+						substr($time, 4, 2),
+						substr($time, 6, 2),
+						substr($time, 0, 4)
+						);
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Unix to "Human"
+ *
+ * Formats Unix timestamp to the following prototype: 2006-08-21 11:35 PM
+ *
+ * @access	public
+ * @param	integer Unix timestamp
+ * @param	bool	whether to show seconds
+ * @param	string	format: us or euro
+ * @return	string
+ */	
+if ( ! function_exists('unix_to_human'))
+{
+	function unix_to_human($time = '', $seconds = FALSE, $fmt = 'us')
+	{
+		$r  = date('Y', $time).'-'.date('m', $time).'-'.date('d', $time).' ';
+		
+		if ($fmt == 'us')
+		{
+			$r .= date('h', $time).':'.date('i', $time);
+		}
+		else
+		{
+			$r .= date('H', $time).':'.date('i', $time);
+		}
+	
+		if ($seconds)
+		{
+			$r .= ':'.date('s', $time);
+		}
+	
+		if ($fmt == 'us')
+		{
+			$r .= ' '.date('A', $time);
+		}
+		
+		return $r;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Convert "human" date to GMT
+ *
+ * Reverses the above process
+ *
+ * @access	public
+ * @param	string	format: us or euro
+ * @return	integer
+ */	
+if ( ! function_exists('human_to_unix'))
+{
+	function human_to_unix($datestr = '')
+	{
+		if ($datestr == '')
+		{
+			return FALSE;
+		}
+	
+		$datestr = trim($datestr);
+		$datestr = preg_replace("/\040+/", "\040", $datestr);
+
+		if ( ! preg_match('/^[0-9]{2,4}\-[0-9]{1,2}\-[0-9]{1,2}\s[0-9]{1,2}:[0-9]{1,2}(?::[0-9]{1,2})?(?:\s[AP]M)?$/i', $datestr))
+		{
+			return FALSE;
+		}
+
+		$split = preg_split("/\040/", $datestr);
+
+		$ex = explode("-", $split['0']);
+	
+		$year  = (strlen($ex['0']) == 2) ? '20'.$ex['0'] : $ex['0'];
+		$month = (strlen($ex['1']) == 1) ? '0'.$ex['1']  : $ex['1'];
+		$day   = (strlen($ex['2']) == 1) ? '0'.$ex['2']  : $ex['2'];
+
+		$ex = explode(":", $split['1']);
+	
+		$hour = (strlen($ex['0']) == 1) ? '0'.$ex['0'] : $ex['0'];
+		$min  = (strlen($ex['1']) == 1) ? '0'.$ex['1'] : $ex['1'];
+
+		if (isset($ex['2']) AND ereg("[0-9]{1,2}", $ex['2']))
+		{
+			$sec  = (strlen($ex['2']) == 1) ? '0'.$ex['2'] : $ex['2'];
+		}
+		else
+		{
+			// Unless specified, seconds get set to zero.
+			$sec = '00';
+		}
+	
+		if (isset($split['2']))
+		{
+			$ampm = strtolower($split['2']);
+		
+			if (substr($ampm, 0, 1) == 'p' AND $hour < 12)
+				$hour = $hour + 12;
+			
+			if (substr($ampm, 0, 1) == 'a' AND $hour == 12)
+				$hour =  '00';
+			
+			if (strlen($hour) == 1)
+				$hour = '0'.$hour;
+		}
+			
+		return mktime($hour, $min, $sec, $month, $day, $year);
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Timezone Menu
+ *
+ * Generates a drop-down menu of timezones.
+ *
+ * @access	public
+ * @param	string	timezone
+ * @param	string	classname
+ * @param	string	menu name
+ * @return	string
+ */	
+if ( ! function_exists('timezone_menu'))
+{
+	function timezone_menu($default = 'UTC', $class = "", $name = 'timezones')
+	{
+		$CI =& get_instance();
+		$CI->lang->load('date');
+	
+		if ($default == 'GMT')
+			$default = 'UTC';
+
+		$menu = '<select name="'.$name.'"';
+	
+		if ($class != '')
+		{
+			$menu .= ' class="'.$class.'"';
+		}
+	
+		$menu .= ">\n";
+	
+		foreach (timezones() as $key => $val)
+		{
+			$selected = ($default == $key) ? " selected='selected'" : '';
+			$menu .= "<option value='{$key}'{$selected}>".$CI->lang->line($key)."</option>\n";
+		}
+
+		$menu .= "</select>";
+
+		return $menu;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Timezones
+ *
+ * Returns an array of timezones.  This is a helper function
+ * for various other ones in this library
+ *
+ * @access	public
+ * @param	string	timezone
+ * @return	string
+ */	
+if ( ! function_exists('timezones'))
+{
+	function timezones($tz = '')
+	{
+		// Note: Don't change the order of these even though
+		// some items appear to be in the wrong order
+		
+		$zones = array( 
+						'UM12'		=> -12,
+						'UM11'		=> -11,
+						'UM10'		=> -10,
+						'UM95'		=> -9.5,
+						'UM9'		=> -9,
+						'UM8'		=> -8,
+						'UM7'		=> -7,
+						'UM6'		=> -6,
+						'UM5'		=> -5,
+						'UM45'		=> -4.5,
+						'UM4'		=> -4,
+						'UM35'		=> -3.5,
+						'UM3'		=> -3,
+						'UM2'		=> -2,
+						'UM1'		=> -1,
+						'UTC'		=> 0,
+						'UP1'		=> +1,
+						'UP2'		=> +2,
+						'UP3'		=> +3,
+						'UP35'		=> +3.5,
+						'UP4'		=> +4,
+						'UP45'		=> +4.5,
+						'UP5'		=> +5,
+						'UP55'		=> +5.5,
+						'UP575'		=> +5.75,
+						'UP6'		=> +6,
+						'UP65'		=> +6.5,
+						'UP7'		=> +7,
+						'UP8'		=> +8,
+						'UP875'		=> +8.75,
+						'UP9'		=> +9,
+						'UP95'		=> +9.5,
+						'UP10'		=> +10,
+						'UP105'		=> +10.5,
+						'UP11'		=> +11,
+						'UP115'		=> +11.5,
+						'UP12'		=> +12,
+						'UP1275'	=> +12.75,
+						'UP13'		=> +13,
+						'UP14'		=> +14
+					);
+				
+		if ($tz == '')
+		{
+			return $zones;
+		}
+	
+		if ($tz == 'GMT')
+			$tz = 'UTC';
+	
+		return ( ! isset($zones[$tz])) ? 0 : $zones[$tz];
+	}
+}
+
+
+/* End of file date_helper.php */
+/* Location: ./system/helpers/date_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/directory_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/directory_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/directory_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,80 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Directory Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/directory_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Create a Directory Map
+ *
+ * Reads the specified directory and builds an array
+ * representation of it.  Sub-folders contained with the
+ * directory will be mapped as well.
+ *
+ * @access	public
+ * @param	string	path to source
+ * @param	bool	whether to limit the result to the top level only
+ * @return	array
+ */	
+if ( ! function_exists('directory_map'))
+{
+	function directory_map($source_dir, $top_level_only = FALSE)
+	{	
+		if ($fp = @opendir($source_dir))
+		{
+			$source_dir = rtrim($source_dir, DIRECTORY_SEPARATOR).DIRECTORY_SEPARATOR;		
+			$filedata = array();
+			
+			while (FALSE !== ($file = readdir($fp)))
+			{
+				if (strncmp($file, '.', 1) == 0)
+				{
+					continue;
+				}
+				
+				if ($top_level_only == FALSE && @is_dir($source_dir.$file))
+				{
+					$temp_array = array();
+				
+					$temp_array = directory_map($source_dir.$file.DIRECTORY_SEPARATOR);
+				
+					$filedata[$file] = $temp_array;
+				}
+				else
+				{
+					$filedata[] = $file;
+				}
+			}
+			
+			closedir($fp);
+			return $filedata;
+		}
+	}
+}
+
+
+/* End of file directory_helper.php */
+/* Location: ./system/helpers/directory_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/download_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/download_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/download_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,100 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Download Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/download_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Force Download
+ *
+ * Generates headers that force a download to happen
+ *
+ * @access	public
+ * @param	string	filename
+ * @param	mixed	the data to be downloaded
+ * @return	void
+ */	
+if ( ! function_exists('force_download'))
+{
+	function force_download($filename = '', $data = '')
+	{
+		if ($filename == '' OR $data == '')
+		{
+			return FALSE;
+		}
+
+		// Try to determine if the filename includes a file extension.
+		// We need it in order to set the MIME type
+		if (FALSE === strpos($filename, '.'))
+		{
+			return FALSE;
+		}
+	
+		// Grab the file extension
+		$x = explode('.', $filename);
+		$extension = end($x);
+
+		// Load the mime types
+		@include(APPPATH.'config/mimes'.EXT);
+	
+		// Set a default mime if we can't find it
+		if ( ! isset($mimes[$extension]))
+		{
+			$mime = 'application/octet-stream';
+		}
+		else
+		{
+			$mime = (is_array($mimes[$extension])) ? $mimes[$extension][0] : $mimes[$extension];
+		}
+	
+		// Generate the server headers
+		if (strstr($_SERVER['HTTP_USER_AGENT'], "MSIE"))
+		{
+			header('Content-Type: "'.$mime.'"');
+			header('Content-Disposition: attachment; filename="'.$filename.'"');
+			header('Expires: 0');
+			header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
+			header("Content-Transfer-Encoding: binary");
+			header('Pragma: public');
+			header("Content-Length: ".strlen($data));
+		}
+		else
+		{
+			header('Content-Type: "'.$mime.'"');
+			header('Content-Disposition: attachment; filename="'.$filename.'"');
+			header("Content-Transfer-Encoding: binary");
+			header('Expires: 0');
+			header('Pragma: no-cache');
+			header("Content-Length: ".strlen($data));
+		}
+	
+		exit($data);
+	}
+}
+
+
+/* End of file download_helper.php */
+/* Location: ./system/helpers/download_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/email_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/email_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/email_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,62 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Email Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/email_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Validate email address
+ *
+ * @access	public
+ * @return	bool
+ */	
+if ( ! function_exists('valid_email'))
+{
+	function valid_email($address)
+	{
+		return ( ! preg_match("/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/ix", $address)) ? FALSE : TRUE;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Send an email
+ *
+ * @access	public
+ * @return	bool
+ */	
+if ( ! function_exists('send_email'))
+{
+	function send_email($recipient, $subject = 'Test email', $message = 'Hello World')
+	{
+		return mail($recipient, $subject, $message);
+	}
+}
+
+
+/* End of file email_helper.php */
+/* Location: ./system/helpers/email_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/file_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/file_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/file_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,465 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter File Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/file_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Read File
+ *
+ * Opens the file specfied in the path and returns it as a string.
+ *
+ * @access	public
+ * @param	string	path to file
+ * @return	string
+ */	
+if ( ! function_exists('read_file'))
+{
+	function read_file($file)
+	{
+		if ( ! file_exists($file))
+		{
+			return FALSE;
+		}
+	
+		if (function_exists('file_get_contents'))
+		{
+			return file_get_contents($file);		
+		}
+
+		if ( ! $fp = @fopen($file, FOPEN_READ))
+		{
+			return FALSE;
+		}
+		
+		flock($fp, LOCK_SH);
+	
+		$data = '';
+		if (filesize($file) > 0)
+		{
+			$data =& fread($fp, filesize($file));
+		}
+
+		flock($fp, LOCK_UN);
+		fclose($fp);
+
+		return $data;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Write File
+ *
+ * Writes data to the file specified in the path.
+ * Creates a new file if non-existent.
+ *
+ * @access	public
+ * @param	string	path to file
+ * @param	string	file data
+ * @return	bool
+ */	
+if ( ! function_exists('write_file'))
+{
+	function write_file($path, $data, $mode = FOPEN_WRITE_CREATE_DESTRUCTIVE)
+	{
+		if ( ! $fp = @fopen($path, $mode))
+		{
+			return FALSE;
+		}
+		
+		flock($fp, LOCK_EX);
+		fwrite($fp, $data);
+		flock($fp, LOCK_UN);
+		fclose($fp);	
+
+		return TRUE;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Delete Files
+ *
+ * Deletes all files contained in the supplied directory path.
+ * Files must be writable or owned by the system in order to be deleted.
+ * If the second parameter is set to TRUE, any directories contained
+ * within the supplied base directory will be nuked as well.
+ *
+ * @access	public
+ * @param	string	path to file
+ * @param	bool	whether to delete any directories found in the path
+ * @return	bool
+ */	
+if ( ! function_exists('delete_files'))
+{
+	function delete_files($path, $del_dir = FALSE, $level = 0)
+	{	
+		// Trim the trailing slash
+		$path = preg_replace("|^(.+?)/*$|", "\\1", $path);
+		
+		if ( ! $current_dir = @opendir($path))
+			return;
+	
+		while(FALSE !== ($filename = @readdir($current_dir)))
+		{
+			if ($filename != "." and $filename != "..")
+			{
+				if (is_dir($path.'/'.$filename))
+				{
+					// Ignore empty folders
+					if (substr($filename, 0, 1) != '.')
+					{
+						delete_files($path.'/'.$filename, $del_dir, $level + 1);
+					}
+				}
+				else
+				{
+					unlink($path.'/'.$filename);
+				}
+			}
+		}
+		@closedir($current_dir);
+	
+		if ($del_dir == TRUE AND $level > 0)
+		{
+			@rmdir($path);
+		}
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Get Filenames
+ *
+ * Reads the specified directory and builds an array containing the filenames.  
+ * Any sub-folders contained within the specified path are read as well.
+ *
+ * @access	public
+ * @param	string	path to source
+ * @param	bool	whether to include the path as part of the filename
+ * @param	bool	internal variable to determine recursion status - do not use in calls
+ * @return	array
+ */	
+if ( ! function_exists('get_filenames'))
+{
+	function get_filenames($source_dir, $include_path = FALSE, $_recursion = FALSE)
+	{
+		static $_filedata = array();
+				
+		if ($fp = @opendir($source_dir))
+		{
+			// reset the array and make sure $source_dir has a trailing slash on the initial call
+			if ($_recursion === FALSE)
+			{
+				$_filedata = array();
+				$source_dir = rtrim(realpath($source_dir), DIRECTORY_SEPARATOR).DIRECTORY_SEPARATOR;
+			}
+			
+			while (FALSE !== ($file = readdir($fp)))
+			{
+				if (@is_dir($source_dir.$file) && strncmp($file, '.', 1) !== 0)
+				{
+					 get_filenames($source_dir.$file.DIRECTORY_SEPARATOR, $include_path, TRUE);
+				}
+				elseif (strncmp($file, '.', 1) !== 0)
+				{
+			
+					$_filedata[] = ($include_path == TRUE) ? $source_dir.$file : $file;
+				}
+			}
+			return $_filedata;
+		}
+		else
+		{
+			return FALSE;
+		}
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * Get Directory File Information
+ *
+ * Reads the specified directory and builds an array containing the filenames,  
+ * filesize, dates, and permissions
+ *
+ * Any sub-folders contained within the specified path are read as well.
+ *
+ * @access	public
+ * @param	string	path to source
+ * @param	bool	whether to include the path as part of the filename
+ * @param	bool	internal variable to determine recursion status - do not use in calls
+ * @return	array
+ */	
+if ( ! function_exists('get_dir_file_info'))
+{
+	function get_dir_file_info($source_dir, $include_path = FALSE, $_recursion = FALSE)
+	{
+		$_filedata = array();
+		$relative_path = $source_dir;
+				
+		if ($fp = @opendir($source_dir))
+		{
+			// reset the array and make sure $source_dir has a trailing slash on the initial call
+			if ($_recursion === FALSE)
+			{
+				$_filedata = array();
+				$source_dir = rtrim(realpath($source_dir), DIRECTORY_SEPARATOR).DIRECTORY_SEPARATOR;
+			}
+
+			while (FALSE !== ($file = readdir($fp)))
+			{
+				if (@is_dir($source_dir.$file) && strncmp($file, '.', 1) !== 0)
+				{
+					 get_dir_file_info($source_dir.$file.DIRECTORY_SEPARATOR, $include_path, TRUE);
+				}
+				elseif (strncmp($file, '.', 1) !== 0)
+				{
+					$_filedata[$file] = get_file_info($source_dir.$file);
+					$_filedata[$file]['relative_path'] = $relative_path;
+				}
+			}
+			return $_filedata;
+		}
+		else
+		{
+			return FALSE;
+		}
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+* Get File Info
+*
+* Given a file and path, returns the name, path, size, date modified
+* Second parameter allows you to explicitly declare what information you want returned
+* Options are: name, server_path, size, date, readable, writable, executable, fileperms
+* Returns FALSE if the file cannot be found.
+*
+* @access	public
+* @param	string		path to file
+* @param	mixed		array or comma separated string of information returned
+* @return	array
+*/
+if ( ! function_exists('get_file_info'))
+{
+	function get_file_info($file, $returned_values = array('name', 'server_path', 'size', 'date'))
+	{
+
+		if ( ! file_exists($file))
+		{
+			return FALSE;
+		}
+
+		if (is_string($returned_values))
+		{
+			$returned_values = explode(',', $returned_values);
+		}
+
+		foreach ($returned_values as $key)
+		{
+			switch ($key)
+			{
+				case 'name':
+					$fileinfo['name'] = substr(strrchr($file, '/'), 1);
+					break;
+				case 'server_path':
+					$fileinfo['server_path'] = $file;
+					break;
+				case 'size':
+					$fileinfo['size'] = filesize($file);
+					break;
+				case 'date':
+					$fileinfo['date'] = filectime($file);
+					break;
+				case 'readable':
+					$fileinfo['readable'] = is_readable($file);
+					break;
+				case 'writable':
+					// There are known problems using is_weritable on IIS.  It may not be reliable - consider fileperms()
+					$fileinfo['writable'] = is_writable($file);
+					break;
+				case 'executable':
+					$fileinfo['executable'] = is_executable($file);
+					break;
+				case 'fileperms':
+					$fileinfo['fileperms'] = fileperms($file);
+					break;
+			}
+		}
+
+		return $fileinfo;
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * Get Mime by Extension
+ *
+ * Translates a file extension into a mime type based on config/mimes.php. 
+ * Returns FALSE if it can't determine the type, or open the mime config file
+ *
+ * Note: this is NOT an accurate way of determining file mime types, and is here strictly as a convenience
+ * It should NOT be trusted, and should certainly NOT be used for security
+ *
+ * @access	public
+ * @param	string	path to file
+ * @return	mixed
+ */	
+if ( ! function_exists('get_mime_by_extension'))
+{
+	function get_mime_by_extension($file)
+	{
+		$extension = substr(strrchr($file, '.'), 1);
+	
+		global $mimes;
+	
+		if ( ! is_array($mimes))
+		{
+			if ( ! require_once(APPPATH.'config/mimes.php'))
+			{
+				return FALSE;
+			}
+		}
+
+		if (array_key_exists($extension, $mimes))
+		{
+			if (is_array($mimes[$extension]))
+			{
+				// Multiple mime types, just give the first one
+				return current($mimes[$extension]);
+			}
+			else
+			{
+				return $mimes[$extension];
+			}
+		}
+		else
+		{
+			return FALSE;
+		}
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * Symbolic Permissions
+ *
+ * Takes a numeric value representing a file's permissions and returns
+ * standard symbolic notation representing that value
+ *
+ * @access	public
+ * @param	int
+ * @return	string
+ */	
+if ( ! function_exists('symbolic_permissions'))
+{
+	function symbolic_permissions($perms)
+	{	
+		if (($perms & 0xC000) == 0xC000)
+		{
+			$symbolic = 's'; // Socket
+		}
+		elseif (($perms & 0xA000) == 0xA000)
+		{
+			$symbolic = 'l'; // Symbolic Link
+		}
+		elseif (($perms & 0x8000) == 0x8000)
+		{
+			$symbolic = '-'; // Regular
+		}
+		elseif (($perms & 0x6000) == 0x6000)
+		{
+			$symbolic = 'b'; // Block special
+		}
+		elseif (($perms & 0x4000) == 0x4000)
+		{
+			$symbolic = 'd'; // Directory
+		}
+		elseif (($perms & 0x2000) == 0x2000)
+		{
+			$symbolic = 'c'; // Character special
+		}
+		elseif (($perms & 0x1000) == 0x1000)
+		{
+			$symbolic = 'p'; // FIFO pipe
+		}
+		else
+		{
+			$symbolic = 'u'; // Unknown
+		}
+
+		// Owner
+		$symbolic .= (($perms & 0x0100) ? 'r' : '-');
+		$symbolic .= (($perms & 0x0080) ? 'w' : '-');
+		$symbolic .= (($perms & 0x0040) ? (($perms & 0x0800) ? 's' : 'x' ) : (($perms & 0x0800) ? 'S' : '-'));
+
+		// Group
+		$symbolic .= (($perms & 0x0020) ? 'r' : '-');
+		$symbolic .= (($perms & 0x0010) ? 'w' : '-');
+		$symbolic .= (($perms & 0x0008) ? (($perms & 0x0400) ? 's' : 'x' ) : (($perms & 0x0400) ? 'S' : '-'));
+
+		// World
+		$symbolic .= (($perms & 0x0004) ? 'r' : '-');
+		$symbolic .= (($perms & 0x0002) ? 'w' : '-');
+		$symbolic .= (($perms & 0x0001) ? (($perms & 0x0200) ? 't' : 'x' ) : (($perms & 0x0200) ? 'T' : '-'));
+
+		return $symbolic;		
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * Octal Permissions
+ *
+ * Takes a numeric value representing a file's permissions and returns
+ * a three character string representing the file's octal permissions
+ *
+ * @access	public
+ * @param	int
+ * @return	string
+ */	
+if ( ! function_exists('octal_permissions'))
+{
+	function octal_permissions($perms)
+	{
+		return substr(sprintf('%o', $perms), -3);
+	}
+}
+
+
+/* End of file file_helper.php */
+/* Location: ./system/helpers/file_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/form_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/form_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/form_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,963 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Form Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/form_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Form Declaration
+ *
+ * Creates the opening portion of the form.
+ *
+ * @access	public
+ * @param	string	the URI segments of the form destination
+ * @param	array	a key/value pair of attributes
+ * @param	array	a key/value pair hidden data
+ * @return	string
+ */	
+if ( ! function_exists('form_open'))
+{
+	function form_open($action = '', $attributes = '', $hidden = array())
+	{
+		$CI =& get_instance();
+
+		if ($attributes == '')
+		{
+			$attributes = 'method="post"';
+		}
+
+		$action = ( strpos($action, '://') === FALSE) ? $CI->config->site_url($action) : $action;
+
+		$form = '<form action="'.$action.'"';
+	
+		$form .= _attributes_to_string($attributes, TRUE);
+	
+		$form .= '>';
+
+		if (is_array($hidden) AND count($hidden) > 0)
+		{
+			$form .= form_hidden($hidden);
+		}
+
+		return $form;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Form Declaration - Multipart type
+ *
+ * Creates the opening portion of the form, but with "multipart/form-data".
+ *
+ * @access	public
+ * @param	string	the URI segments of the form destination
+ * @param	array	a key/value pair of attributes
+ * @param	array	a key/value pair hidden data
+ * @return	string
+ */
+if ( ! function_exists('form_open_multipart'))
+{
+	function form_open_multipart($action, $attributes = array(), $hidden = array())
+	{
+		$attributes['enctype'] = 'multipart/form-data';
+		return form_open($action, $attributes, $hidden);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Hidden Input Field
+ *
+ * Generates hidden fields.  You can pass a simple key/value string or an associative
+ * array with multiple values.
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_hidden'))
+{
+	function form_hidden($name, $value = '')
+	{
+		if ( ! is_array($name))
+		{
+			return '<input type="hidden" name="'.$name.'" value="'.form_prep($value).'" />';
+		}
+
+		$form = '';
+
+		foreach ($name as $name => $value)
+		{
+			$form .= "\n";
+			$form .= '<input type="hidden" name="'.$name.'" value="'.form_prep($value).'" />';
+		}
+
+		return $form;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Text Input Field
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_input'))
+{
+	function form_input($data = '', $value = '', $extra = '')
+	{
+		$defaults = array('type' => 'text', 'name' => (( ! is_array($data)) ? $data : ''), 'value' => $value);
+
+		return "<input "._parse_form_attributes($data, $defaults).$extra." />";
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Password Field
+ *
+ * Identical to the input function but adds the "password" type
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_password'))
+{
+	function form_password($data = '', $value = '', $extra = '')
+	{
+		if ( ! is_array($data))
+		{
+			$data = array('name' => $data);
+		}
+
+		$data['type'] = 'password';
+		return form_input($data, $value, $extra);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Upload Field
+ *
+ * Identical to the input function but adds the "file" type
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_upload'))
+{
+	function form_upload($data = '', $value = '', $extra = '')
+	{
+		if ( ! is_array($data))
+		{
+			$data = array('name' => $data);
+		}
+
+		$data['type'] = 'file';
+		return form_input($data, $value, $extra);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Textarea field
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_textarea'))
+{
+	function form_textarea($data = '', $value = '', $extra = '')
+	{
+		$defaults = array('name' => (( ! is_array($data)) ? $data : ''), 'cols' => '90', 'rows' => '12');
+
+		if ( ! is_array($data) OR ! isset($data['value']))
+		{
+			$val = $value;
+		}
+		else
+		{
+			$val = $data['value']; 
+			unset($data['value']); // textareas don't use the value attribute
+		}
+
+		return "<textarea "._parse_form_attributes($data, $defaults).$extra.">".$val."</textarea>";
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Drop-down Menu
+ *
+ * @access	public
+ * @param	string
+ * @param	array
+ * @param	string
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_dropdown'))
+{
+	function form_dropdown($name = '', $options = array(), $selected = array(), $extra = '')
+	{
+		if ( ! is_array($selected))
+		{
+			$selected = array($selected);
+		}
+
+		// If no selected state was submitted we will attempt to set it automatically
+		if (count($selected) === 0)
+		{
+			// If the form name appears in the $_POST array we have a winner!
+			if (isset($_POST[$name]))
+			{
+				$selected = array($_POST[$name]);
+			}
+		}
+
+		if ($extra != '') $extra = ' '.$extra;
+
+		$multiple = (count($selected) > 1 && strpos($extra, 'multiple') === FALSE) ? ' multiple="multiple"' : '';
+
+		$form = '<select name="'.$name.'"'.$extra.$multiple.">\n";
+	
+		foreach ($options as $key => $val)
+		{
+			$key = (string) $key;
+			$val = (string) $val;
+
+			$sel = (in_array($key, $selected))?' selected="selected"':'';
+
+			$form .= '<option value="'.$key.'"'.$sel.'>'.$val."</option>\n";
+		}
+
+		$form .= '</select>';
+
+		return $form;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Checkbox Field
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string
+ * @param	bool
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_checkbox'))
+{
+	function form_checkbox($data = '', $value = '', $checked = FALSE, $extra = '')
+	{
+		$defaults = array('type' => 'checkbox', 'name' => (( ! is_array($data)) ? $data : ''), 'value' => $value);
+
+		if (is_array($data) AND array_key_exists('checked', $data))
+		{
+			$checked = $data['checked'];
+
+			if ($checked == FALSE)
+			{
+				unset($data['checked']);
+			}
+			else
+			{
+				$data['checked'] = 'checked';
+			}
+		}
+
+		if ($checked == TRUE)
+		{
+			$defaults['checked'] = 'checked';
+		}
+		else
+		{
+			unset($defaults['checked']);
+		}
+
+		return "<input "._parse_form_attributes($data, $defaults).$extra." />";
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Radio Button
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string
+ * @param	bool
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_radio'))
+{
+	function form_radio($data = '', $value = '', $checked = FALSE, $extra = '')
+	{
+		if ( ! is_array($data))
+		{	
+			$data = array('name' => $data);
+		}
+
+		$data['type'] = 'radio';
+		return form_checkbox($data, $value, $checked, $extra);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Submit Button
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_submit'))
+{	
+	function form_submit($data = '', $value = '', $extra = '')
+	{
+		$defaults = array('type' => 'submit', 'name' => (( ! is_array($data)) ? $data : ''), 'value' => $value);
+
+		return "<input "._parse_form_attributes($data, $defaults).$extra." />";
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Reset Button
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_reset'))
+{
+	function form_reset($data = '', $value = '', $extra = '')
+	{
+		$defaults = array('type' => 'reset', 'name' => (( ! is_array($data)) ? $data : ''), 'value' => $value);
+
+		return "<input "._parse_form_attributes($data, $defaults).$extra." />";
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Form Button
+ *
+ * @access	public
+ * @param	mixed
+ * @param	string
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_button'))
+{
+	function form_button($data = '', $content = '', $extra = '')
+	{
+		$defaults = array('name' => (( ! is_array($data)) ? $data : ''), 'type' => 'submit');
+
+		if ( is_array($data) AND isset($data['content']))
+		{
+			$content = $data['content'];
+			unset($data['content']); // content is not an attribute
+		}
+
+		return "<button "._parse_form_attributes($data, $defaults).$extra.">".$content."</button>";
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Form Label Tag
+ *
+ * @access	public
+ * @param	string	The text to appear onscreen
+ * @param	string	The id the label applies to
+ * @param	string	Additional attributes
+ * @return	string
+ */
+if ( ! function_exists('form_label'))
+{
+	function form_label($label_text = '', $id = '', $attributes = array())
+	{
+
+		$label = '<label';
+
+		if ($id != '')
+		{
+			 $label .= " for=\"$id\"";
+		}
+
+		if (is_array($attributes) AND count($attributes) > 0)
+		{
+			foreach ($attributes as $key => $val)
+			{
+				$label .= ' '.$key.'="'.$val.'"';
+			}
+		}
+
+		$label .= ">$label_text</label>";
+
+		return $label;
+	}
+}
+
+// ------------------------------------------------------------------------
+/**
+ * Fieldset Tag
+ *
+ * Used to produce <fieldset><legend>text</legend>.  To close fieldset
+ * use form_fieldset_close()
+ *
+ * @access	public
+ * @param	string	The legend text
+ * @param	string	Additional attributes
+ * @return	string
+ */
+if ( ! function_exists('form_fieldset'))
+{
+	function form_fieldset($legend_text = '', $attributes = array())
+	{
+		$fieldset = "<fieldset";
+
+		$fieldset .= _attributes_to_string($attributes, FALSE);
+
+		$fieldset .= ">\n";
+
+		if ($legend_text != '')
+		{
+			$fieldset .= "<legend>$legend_text</legend>\n";
+		}
+
+		return $fieldset;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Fieldset Close Tag
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_fieldset_close'))
+{
+	function form_fieldset_close($extra = '')
+	{
+		return "</fieldset>".$extra;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Form Close Tag
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_close'))
+{
+	function form_close($extra = '')
+	{
+		return "</form>".$extra;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Form Prep
+ *
+ * Formats text so that it can be safely placed in a form field in the event it has HTML tags.
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_prep'))
+{
+	function form_prep($str = '')
+	{
+		// if the field name is an array we do this recursively
+		if (is_array($str))
+		{
+			foreach ($str as $key => $val)
+			{
+				$str[$key] = form_prep($val);
+			}
+
+			return $str;
+		}
+
+		if ($str === '')
+		{
+			return '';
+		}
+
+		$temp = '__TEMP_AMPERSANDS__';
+
+		// Replace entities to temporary markers so that 
+		// htmlspecialchars won't mess them up
+		$str = preg_replace("/&#(\d+);/", "$temp\\1;", $str);
+		$str = preg_replace("/&(\w+);/",  "$temp\\1;", $str);
+
+		$str = htmlspecialchars($str);
+
+		// In case htmlspecialchars misses these.
+		$str = str_replace(array("'", '"'), array("&#39;", "&quot;"), $str);
+
+		// Decode the temp markers back to entities
+		$str = preg_replace("/$temp(\d+);/","&#\\1;",$str);
+		$str = preg_replace("/$temp(\w+);/","&\\1;",$str);
+
+		return $str;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Form Value
+ *
+ * Grabs a value from the POST array for the specified field so you can
+ * re-populate an input field or textarea.  If Form Validation
+ * is active it retrieves the info from the validation class
+ *
+ * @access	public
+ * @param	string
+ * @return	mixed
+ */
+if ( ! function_exists('set_value'))
+{
+	function set_value($field = '', $default = '')
+	{
+		if (FALSE === ($OBJ =& _get_validation_object()))
+		{
+			if ( ! isset($_POST[$field]))
+			{
+				return $default;
+			}
+
+			return form_prep($_POST[$field]);
+		}
+
+		return form_prep($OBJ->set_value($field, $default));
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Set Select
+ *
+ * Let's you set the selected value of a <select> menu via data in the POST array.
+ * If Form Validation is active it retrieves the info from the validation class
+ *
+ * @access	public
+ * @param	string
+ * @param	string
+ * @param	bool
+ * @return	string
+ */
+if ( ! function_exists('set_select'))
+{
+	function set_select($field = '', $value = '', $default = FALSE)
+	{
+		$OBJ =& _get_validation_object();
+
+		if ($OBJ === FALSE)
+		{
+			if ( ! isset($_POST[$field]))
+			{
+				if (count($_POST) === 0)
+				{
+					return ' selected="selected"';
+				}
+				return '';
+			}
+
+			$field = $_POST[$field];
+
+			if (is_array($field))
+			{
+				if ( ! in_array($value, $field))
+				{
+					return '';
+				}
+			}
+			else
+			{
+				if (($field == '' OR $value == '') OR ($field != $value))
+				{
+					return '';
+				}
+			}
+
+			return ' selected="selected"';
+		}
+
+		return $OBJ->set_select($field, $value, $default);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Set Checkbox
+ *
+ * Let's you set the selected value of a checkbox via the value in the POST array.
+ * If Form Validation is active it retrieves the info from the validation class
+ *
+ * @access	public
+ * @param	string
+ * @param	string
+ * @param	bool
+ * @return	string
+ */
+if ( ! function_exists('set_checkbox'))
+{
+	function set_checkbox($field = '', $value = '', $default = FALSE)
+	{
+		$OBJ =& _get_validation_object();
+
+		if ($OBJ === FALSE)
+		{ 
+			if ( ! isset($_POST[$field]))
+			{
+				if (count($_POST) === 0)
+				{
+					return ' checked="checked"';
+				}
+				return '';
+			}
+
+			$field = $_POST[$field];
+			
+			if (is_array($field))
+			{
+				if ( ! in_array($value, $field))
+				{
+					return '';
+				}
+			}
+			else
+			{
+				if (($field == '' OR $value == '') OR ($field != $value))
+				{
+					return '';
+				}
+			}
+
+			return ' checked="checked"';
+		}
+
+		return $OBJ->set_checkbox($field, $value, $default);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Set Radio
+ *
+ * Let's you set the selected value of a radio field via info in the POST array.
+ * If Form Validation is active it retrieves the info from the validation class
+ *
+ * @access	public
+ * @param	string
+ * @param	string
+ * @param	bool
+ * @return	string
+ */
+if ( ! function_exists('set_radio'))
+{
+	function set_radio($field = '', $value = '', $default = FALSE)
+	{
+		$OBJ =& _get_validation_object();
+
+		if ($OBJ === FALSE)
+		{
+			if ( ! isset($_POST[$field]))
+			{
+				if (count($_POST) === 0)
+				{
+					return ' checked="checked"';
+				}
+				return '';
+			}
+
+			$field = $_POST[$field];
+			
+			if (is_array($field))
+			{
+				if ( ! in_array($value, $field))
+				{
+					return '';
+				}
+			}
+			else
+			{
+				if (($field == '' OR $value == '') OR ($field != $value))
+				{
+					return '';
+				}
+			}
+
+			return ' checked="checked"';
+		}
+
+		return $OBJ->set_radio($field, $value, $default);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Form Error
+ *
+ * Returns the error for a specific form field.  This is a helper for the
+ * form validation class.
+ *
+ * @access	public
+ * @param	string
+ * @param	string
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('form_error'))
+{
+	function form_error($field = '', $prefix = '', $suffix = '')
+	{
+		if (FALSE === ($OBJ =& _get_validation_object()))
+		{
+			return '';
+		}
+
+		return $OBJ->error($field, $prefix, $suffix);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Validation Error String
+ *
+ * Returns all the errors associated with a form submission.  This is a helper
+ * function for the form validation class.
+ *
+ * @access	public
+ * @param	string
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('validation_errors'))
+{
+	function validation_errors($prefix = '', $suffix = '')
+	{
+		if (FALSE === ($OBJ =& _get_validation_object()))
+		{
+			return '';
+		}
+
+		return $OBJ->error_string($prefix, $suffix);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Parse the form attributes
+ *
+ * Helper function used by some of the form helpers
+ *
+ * @access	private
+ * @param	array
+ * @param	array
+ * @return	string
+ */
+if ( ! function_exists('_parse_form_attributes'))
+{
+	function _parse_form_attributes($attributes, $default)
+	{
+		if (is_array($attributes))
+		{
+			foreach ($default as $key => $val)
+			{
+				if (isset($attributes[$key]))
+				{
+					$default[$key] = $attributes[$key];
+					unset($attributes[$key]);
+				}
+			}
+
+			if (count($attributes) > 0)
+			{
+				$default = array_merge($default, $attributes);
+			}
+		}
+
+		$att = '';
+
+		foreach ($default as $key => $val)
+		{
+			if ($key == 'value')
+			{
+				$val = form_prep($val);
+			}
+
+			$att .= $key . '="' . $val . '" ';
+		}
+
+		return $att;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Attributes To String
+ *
+ * Helper function used by some of the form helpers
+ *
+ * @access	private
+ * @param	mixed
+ * @param	bool
+ * @return	string
+ */
+if ( ! function_exists('_attributes_to_string'))
+{
+	function _attributes_to_string($attributes, $formtag = FALSE)
+	{
+		if (is_string($attributes) AND strlen($attributes) > 0)
+		{
+			if ($formtag == TRUE AND strpos($attributes, 'method=') === FALSE)
+			{
+				$attributes .= ' method="post"';
+			}
+
+		return ' '.$attributes;
+		}
+	
+		if (is_object($attributes) AND count($attributes) > 0)
+		{
+			$attributes = (array)$attributes;
+		}
+
+		if (is_array($attributes) AND count($attributes) > 0)
+		{
+		$atts = '';
+
+		if ( ! isset($attributes['method']) AND $formtag === TRUE)
+		{
+			$atts .= ' method="post"';
+		}
+
+		foreach ($attributes as $key => $val)
+		{
+			$atts .= ' '.$key.'="'.$val.'"';
+		}
+
+		return $atts;
+		}
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Validation Object
+ *
+ * Determines what the form validation class was instantiated as, fetches
+ * the object and returns it.
+ *
+ * @access	private
+ * @return	mixed
+ */
+if ( ! function_exists('_get_validation_object'))
+{
+	function &_get_validation_object()
+	{
+		$CI =& get_instance();
+
+		// We set this as a variable since we're returning by reference
+		$return = FALSE;
+
+		if ( ! isset($CI->load->_ci_classes) OR  ! isset($CI->load->_ci_classes['form_validation']))
+		{
+			return $return;
+		}
+
+		$object = $CI->load->_ci_classes['form_validation'];
+
+		if ( ! isset($CI->$object) OR ! is_object($CI->$object))
+		{
+			return $return;
+		}
+
+		return $CI->$object;
+	}
+}
+
+
+/* End of file form_helper.php */
+/* Location: ./system/helpers/form_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/html_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/html_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/html_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,376 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter HTML Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/html_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Heading
+ *
+ * Generates an HTML heading tag.  First param is the data.
+ * Second param is the size of the heading tag.
+ *
+ * @access	public
+ * @param	string
+ * @param	integer
+ * @return	string
+ */	
+if ( ! function_exists('heading'))
+{
+	function heading($data = '', $h = '1')
+	{
+		return "<h".$h.">".$data."</h".$h.">";
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Unordered List
+ *
+ * Generates an HTML unordered list from an single or multi-dimensional array.
+ *
+ * @access	public
+ * @param	array
+ * @param	mixed
+ * @return	string
+ */	
+if ( ! function_exists('ul'))
+{
+	function ul($list, $attributes = '')
+	{
+		return _list('ul', $list, $attributes);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Ordered List
+ *
+ * Generates an HTML ordered list from an single or multi-dimensional array.
+ *
+ * @access	public
+ * @param	array
+ * @param	mixed
+ * @return	string
+ */	
+if ( ! function_exists('ol'))
+{
+	function ol($list, $attributes = '')
+	{
+		return _list('ol', $list, $attributes);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Generates the list
+ *
+ * Generates an HTML ordered list from an single or multi-dimensional array.
+ *
+ * @access	private
+ * @param	string
+ * @param	mixed		
+ * @param	mixed		
+ * @param	intiger		
+ * @return	string
+ */	
+if ( ! function_exists('_list'))
+{
+	function _list($type = 'ul', $list, $attributes = '', $depth = 0)
+	{
+		// If an array wasn't submitted there's nothing to do...
+		if ( ! is_array($list))
+		{
+			return $list;
+		}
+	
+		// Set the indentation based on the depth
+		$out = str_repeat(" ", $depth);
+	
+		// Were any attributes submitted?  If so generate a string
+		if (is_array($attributes))
+		{
+			$atts = '';
+			foreach ($attributes as $key => $val)
+			{
+				$atts .= ' ' . $key . '="' . $val . '"';
+			}
+			$attributes = $atts;
+		}
+	
+		// Write the opening list tag
+		$out .= "<".$type.$attributes.">\n";
+
+		// Cycle through the list elements.  If an array is 
+		// encountered we will recursively call _list()
+
+		static $_last_list_item = '';
+		foreach ($list as $key => $val)
+		{	
+			$_last_list_item = $key;
+
+			$out .= str_repeat(" ", $depth + 2);
+			$out .= "<li>";
+		
+			if ( ! is_array($val))
+			{
+				$out .= $val;
+			}
+			else
+			{
+				$out .= $_last_list_item."\n";
+				$out .= _list($type, $val, '', $depth + 4);
+				$out .= str_repeat(" ", $depth + 2);
+			}
+
+			$out .= "</li>\n";		
+		}
+
+		// Set the indentation for the closing tag
+		$out .= str_repeat(" ", $depth);
+	
+		// Write the closing list tag
+		$out .= "</".$type.">\n";
+
+		return $out;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Generates HTML BR tags based on number supplied
+ *
+ * @access	public
+ * @param	integer
+ * @return	string
+ */	
+if ( ! function_exists('br'))
+{
+	function br($num = 1)
+	{
+		return str_repeat("<br />", $num);
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Image
+ *
+ * Generates an <img /> element
+ *
+ * @access	public
+ * @param	mixed
+ * @return	string
+ */	
+if ( ! function_exists('img'))
+{
+	function img($src = '', $index_page = FALSE)
+	{
+		if ( ! is_array($src) )
+		{
+			$src = array('src' => $src);
+		}
+
+		$img = '<img';
+		
+		foreach ($src as $k=>$v)
+		{
+
+			if ($k == 'src' AND strpos($v, '://') === FALSE)
+			{
+				$CI =& get_instance();
+
+				if ($index_page === TRUE)
+				{
+					$img .= ' src="'.$CI->config->site_url($v).'" ';
+				}
+				else
+				{
+					$img .= ' src="'.$CI->config->slash_item('base_url').$v.'" ';
+				}
+			}
+			else
+			{
+				$img .= " $k=\"$v\" ";
+			}
+		}
+
+		$img .= '/>';
+
+		return $img;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Link
+ *
+ * Generates link to a CSS file
+ *
+ * @access	public
+ * @param	mixed	stylesheet hrefs or an array
+ * @param	string	rel
+ * @param	string	type
+ * @param	string	title
+ * @param	string	media
+ * @param	boolean	should index_page be added to the css path 
+ * @return	string
+ */	
+if ( ! function_exists('link_tag'))
+{
+	function link_tag($href = '', $rel = 'stylesheet', $type = 'text/css', $title = '', $media = '', $index_page = FALSE)
+	{
+		$CI =& get_instance();
+
+		$link = '<link ';
+
+		if (is_array($href))
+		{
+			foreach ($href as $k=>$v)
+			{
+				if ($k == 'href' AND strpos($v, '://') === FALSE)
+				{
+					if ($index_page === TRUE)
+					{
+						$link .= ' href="'.$CI->config->site_url($v).'" ';
+					}
+					else
+					{
+						$link .= ' href="'.$CI->config->slash_item('base_url').$v.'" ';
+					}
+				}
+				else
+				{
+					$link .= "$k=\"$v\" ";
+				}
+			}
+			
+			$link .= "/>";
+		}
+		else
+		{
+			if ( strpos($href, '://') !== FALSE)
+			{
+				$link .= ' href="'.$href.'" ';
+			}
+			elseif ($index_page === TRUE)
+			{
+				$link .= ' href="'.$CI->config->site_url($href).'" ';
+			}
+			else
+			{
+				$link .= ' href="'.$CI->config->slash_item('base_url').$href.'" ';
+			}
+				
+			$link .= 'rel="'.$rel.'" type="'.$type.'" ';
+			
+			if ($media	!= '')
+			{
+				$link .= 'media="'.$media.'" ';
+			}
+
+			if ($title	!= '')
+			{
+				$link .= 'title="'.$title.'" ';
+			}
+			
+			$link .= '/>';
+		}
+
+	
+		return $link;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Generates meta tags from an array of key/values
+ *
+ * @access	public
+ * @param	array
+ * @return	string
+ */	
+if ( ! function_exists('meta'))
+{
+	function meta($name = '', $content = '', $type = 'name', $newline = "\n")
+	{
+		// Since we allow the data to be passes as a string, a simple array
+		// or a multidimensional one, we need to do a little prepping.
+		if ( ! is_array($name))
+		{
+			$name = array(array('name' => $name, 'content' => $content, 'type' => $type, 'newline' => $newline));
+		}
+		else
+		{
+			// Turn single array into multidimensional
+			if (isset($name['name']))
+			{
+				$name = array($name);
+			}
+		}
+	
+		$str = '';
+		foreach ($name as $meta)
+		{
+			$type 		= ( ! isset($meta['type']) OR $meta['type'] == 'name') ? 'name' : 'http-equiv';
+			$name 		= ( ! isset($meta['name'])) 	? '' 	: $meta['name'];
+			$content	= ( ! isset($meta['content']))	? '' 	: $meta['content'];
+			$newline	= ( ! isset($meta['newline']))	? "\n"	: $meta['newline'];
+			
+			$str .= '<meta '.$type.'="'.$name.'" content="'.$content.'" />'.$newline;
+		}
+
+		return $str;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Generates non-breaking space entities based on number supplied
+ *
+ * @access	public
+ * @param	integer
+ * @return	string
+ */	
+if ( ! function_exists('nbs'))
+{
+	function nbs($num = 1)
+	{
+		return str_repeat("&nbsp;", $num);
+	}
+}
+
+
+/* End of file html_helper.php */
+/* Location: ./system/helpers/html_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/index.html
===================================================================
--- trunk/pintassilgo/system/helpers/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/inflector_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/inflector_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/inflector_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,169 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Inflector Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/directory_helper.html
+ */
+
+
+// --------------------------------------------------------------------
+
+/**
+ * Singular
+ *
+ * Takes a plural word and makes it singular
+ *
+ * @access	public
+ * @param	string
+ * @return	str
+ */	
+if ( ! function_exists('singular'))
+{	
+	function singular($str)
+	{
+		$str = strtolower(trim($str));
+		$end = substr($str, -3);
+	
+		if ($end == 'ies')
+		{
+			$str = substr($str, 0, strlen($str)-3).'y';
+		}
+		elseif ($end == 'ses')
+		{
+			$str = substr($str, 0, strlen($str)-2);
+		}
+		else
+		{
+			$end = substr($str, -1);
+		
+			if ($end == 's')
+			{
+				$str = substr($str, 0, strlen($str)-1);
+			}
+		}
+	
+		return $str;
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * Plural
+ *
+ * Takes a singular word and makes it plural
+ *
+ * @access	public
+ * @param	string
+ * @param	bool
+ * @return	str
+ */	
+if ( ! function_exists('plural'))
+{	
+	function plural($str, $force = FALSE)
+	{
+		$str = strtolower(trim($str));
+		$end = substr($str, -1);
+
+		if ($end == 'y')
+		{
+			$str = substr($str, 0, strlen($str)-1).'ies';
+		}
+		elseif ($end == 's')
+		{
+			if ($force == TRUE)
+			{
+				$str .= 'es';
+			}
+		}
+		else
+		{
+			$str .= 's';
+		}
+
+		return $str;
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * Camelize
+ *
+ * Takes multiple words separated by spaces or underscores and camelizes them
+ *
+ * @access	public
+ * @param	string
+ * @return	str
+ */	
+if ( ! function_exists('camelize'))
+{	
+	function camelize($str)
+	{		
+		$str = 'x'.strtolower(trim($str));
+		$str = ucwords(preg_replace('/[\s_]+/', ' ', $str));
+		return substr(str_replace(' ', '', $str), 1);
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * Underscore
+ *
+ * Takes multiple words separated by spaces and underscores them
+ *
+ * @access	public
+ * @param	string
+ * @return	str
+ */	
+if ( ! function_exists('underscore'))
+{
+	function underscore($str)
+	{
+		return preg_replace('/[\s]+/', '_', strtolower(trim($str)));
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * Humanize
+ *
+ * Takes multiple words separated by underscores and changes them to spaces
+ *
+ * @access	public
+ * @param	string
+ * @return	str
+ */	
+if ( ! function_exists('humanize'))
+{	
+	function humanize($str)
+	{
+		return ucwords(preg_replace('/[_]+/', ' ', strtolower(trim($str))));
+	}
+}
+	
+
+/* End of file inflector_helper.php */
+/* Location: ./system/helpers/inflector_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/language_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/language_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/language_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,58 @@
+<?php  if (!defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Language Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/language_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Lang
+ *
+ * Fetches a language variable and optionally outputs a form label
+ *
+ * @access	public
+ * @param	string	the language line
+ * @param	string	the id of the form element
+ * @return	string
+ */	
+if ( ! function_exists('lang'))
+{
+	function lang($line, $id = '')
+	{
+		$CI =& get_instance();
+		$line = $CI->lang->line($line);
+
+		if ($id != '')
+		{
+			$line = '<label for="'.$id.'">'.$line."</label>";
+		}
+
+		return $line;
+	}
+}
+
+// ------------------------------------------------------------------------
+/* End of file language_helper.php */
+/* Location: ./system/helpers/language_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/number_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/number_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/number_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,75 @@
+<?php  if (!defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Number Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/number_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Formats a numbers as bytes, based on size, and adds the appropriate suffix
+ *
+ * @access	public
+ * @param	mixed	// will be cast as int
+ * @return	string
+ */
+if ( ! function_exists('byte_format'))
+{
+	function byte_format($num)
+	{
+		$CI =& get_instance();
+		$CI->lang->load('number');
+	
+		if ($num >= 1000000000000) 
+		{
+			$num = round($num / 1099511627776, 1);
+			$unit = $CI->lang->line('terabyte_abbr');
+		}
+		elseif ($num >= 1000000000) 
+		{
+			$num = round($num / 1073741824, 1);
+			$unit = $CI->lang->line('gigabyte_abbr');
+		}
+		elseif ($num >= 1000000) 
+		{
+			$num = round($num / 1048576, 1);
+			$unit = $CI->lang->line('megabyte_abbr');
+		}
+		elseif ($num >= 1000) 
+		{
+			$num = round($num / 1024, 1);
+			$unit = $CI->lang->line('kilobyte_abbr');
+		}
+		else
+		{
+			$unit = $CI->lang->line('bytes');
+			return number_format($num).' '.$unit;
+		}
+
+		return number_format($num, 1).' '.$unit;
+	}	
+}
+
+/* End of file number_helper.php */
+/* Location: ./system/helpers/number_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/path_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/path_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/path_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,72 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Path Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/xml_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Set Realpath
+ *
+ * @access	public
+ * @param	string
+ * @param	bool	checks to see if the path exists
+ * @return	string
+ */	
+if ( ! function_exists('set_realpath'))
+{
+	function set_realpath($path, $check_existance = FALSE)
+	{
+		// Security check to make sure the path is NOT a URL.  No remote file inclusion!
+		if (preg_match("#^(http:\/\/|https:\/\/|www\.|ftp|[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})#i", $path))
+		{
+			show_error('The path you submitted must be a local server path, not a URL');
+		}
+	
+		// Resolve the path
+		if (function_exists('realpath') AND @realpath($path) !== FALSE)
+		{
+			$path = realpath($path).'/';
+		}
+	
+		// Add a trailing slash
+		$path = preg_replace("#([^/])/*$#", "\\1/", $path);
+	
+		// Make sure the path exists
+		if ($check_existance == TRUE)
+		{
+			if ( ! is_dir($path))
+			{
+				show_error('Not a valid path: '.$path);
+			}
+		}
+	
+		return $path;
+	}
+}
+
+
+/* End of file path_helper.php */
+/* Location: ./system/helpers/path_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/security_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/security_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/security_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,126 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Security Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/security_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * XSS Filtering
+ *
+ * @access	public
+ * @param	string
+ * @param	string	the character set of your data
+ * @return	string
+ */	
+if ( ! function_exists('xss_clean'))
+{
+	function xss_clean($str, $charset = 'ISO-8859-1')
+	{
+		$CI =& get_instance();
+		return $CI->input->xss_clean($str, $charset);
+	}
+}
+
+// --------------------------------------------------------------------
+
+/**
+ * Hash encode a string
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */	
+if ( ! function_exists('dohash'))
+{	
+	function dohash($str, $type = 'sha1')
+	{
+		if ($type == 'sha1')
+		{
+			if ( ! function_exists('sha1'))
+			{
+				if ( ! function_exists('mhash'))
+				{	
+					require_once(BASEPATH.'libraries/Sha1'.EXT);
+					$SH = new CI_SHA;
+					return $SH->generate($str);
+				}
+				else
+				{
+					return bin2hex(mhash(MHASH_SHA1, $str));
+				}
+			}
+			else
+			{
+				return sha1($str);
+			}	
+		}
+		else
+		{
+			return md5($str);
+		}
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Strip Image Tags
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */	
+if ( ! function_exists('strip_image_tags'))
+{
+	function strip_image_tags($str)
+	{
+		$str = preg_replace("#<img\s+.*?src\s*=\s*[\"'](.+?)[\"'].*?\>#", "\\1", $str);
+		$str = preg_replace("#<img\s+.*?src\s*=\s*(.+?).*?\>#", "\\1", $str);
+			
+		return $str;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Convert PHP tags to entities
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */	
+if ( ! function_exists('encode_php_tags'))
+{
+	function encode_php_tags($str)
+	{
+		return str_replace(array('<?php', '<?PHP', '<?', '?>'),  array('&lt;?php', '&lt;?PHP', '&lt;?', '?&gt;'), $str);
+	}
+}
+
+
+/* End of file security_helper.php */
+/* Location: ./system/helpers/security_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/smiley_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/smiley_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/smiley_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,175 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Smiley Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/smiley_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * JS Insert Smiley
+ *
+ * Generates the javascrip function needed to insert smileys into a form field
+ *
+ * @access	public
+ * @param	string	form name
+ * @param	string	field name
+ * @return	string
+ */
+if ( ! function_exists('js_insert_smiley'))
+{
+	function js_insert_smiley($form_name = '', $form_field = '')
+	{
+		return <<<EOF
+<script type="text/javascript">
+	function insert_smiley(smiley)
+	{
+		document.{$form_name}.{$form_field}.value += " " + smiley;
+	}
+</script>
+EOF;
+	}
+}
+// ------------------------------------------------------------------------
+
+/**
+ * Get Clickable Smileys
+ *
+ * Returns an array of image tag links that can be clicked to be inserted 
+ * into a form field.  
+ *
+ * @access	public
+ * @param	string	the URL to the folder containing the smiley images
+ * @return	array
+ */
+if ( ! function_exists('get_clickable_smileys'))
+{
+	function get_clickable_smileys($image_url = '', $smileys = NULL)
+	{
+		if ( ! is_array($smileys))
+		{
+			if (FALSE === ($smileys = _get_smiley_array()))
+			{
+				return $smileys;
+			}
+		}
+
+		// Add a trailing slash to the file path if needed
+		$image_url = preg_replace("/(.+?)\/*$/", "\\1/",  $image_url);
+
+		$used = array();
+		foreach ($smileys as $key => $val)
+		{
+			// Keep duplicates from being used, which can happen if the
+			// mapping array contains multiple identical replacements.  For example:
+			// :-) and :) might be replaced with the same image so both smileys
+			// will be in the array.
+			if (isset($used[$smileys[$key][0]]))
+			{
+				continue;
+			}
+
+			$link[] = "<a href=\"javascript:void(0);\" onClick=\"insert_smiley('".$key."')\"><img src=\"".$image_url.$smileys[$key][0]."\" width=\"".$smileys[$key][1]."\" height=\"".$smileys[$key][2]."\" alt=\"".$smileys[$key][3]."\" style=\"border:0;\" /></a>";
+
+			$used[$smileys[$key][0]] = TRUE;
+		}
+
+		return $link;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Parse Smileys
+ *
+ * Takes a string as input and swaps any contained smileys for the actual image
+ *
+ * @access	public
+ * @param	string	the text to be parsed
+ * @param	string	the URL to the folder containing the smiley images
+ * @return	string
+ */
+if ( ! function_exists('parse_smileys'))
+{
+	function parse_smileys($str = '', $image_url = '', $smileys = NULL)
+	{
+		if ($image_url == '')
+		{
+			return $str;
+		}
+
+		if ( ! is_array($smileys))
+		{
+			if (FALSE === ($smileys = _get_smiley_array()))
+			{
+				return $str;
+			}
+		}
+
+		// Add a trailing slash to the file path if needed
+		$image_url = preg_replace("/(.+?)\/*$/", "\\1/",  $image_url);
+
+		foreach ($smileys as $key => $val)
+		{
+			$str = str_replace($key, "<img src=\"".$image_url.$smileys[$key][0]."\" width=\"".$smileys[$key][1]."\" height=\"".$smileys[$key][2]."\" alt=\"".$smileys[$key][3]."\" style=\"border:0;\" />", $str);
+		}
+
+		return $str;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Get Smiley Array
+ *
+ * Fetches the config/smiley.php file
+ *
+ * @access	private
+ * @return	mixed
+ */
+if ( ! function_exists('_get_smiley_array'))
+{
+	function _get_smiley_array()
+	{
+		if ( ! file_exists(APPPATH.'config/smileys'.EXT))
+		{
+			return FALSE;
+		}
+
+		include(APPPATH.'config/smileys'.EXT);
+
+		if ( ! isset($smileys) OR ! is_array($smileys))
+		{
+			return FALSE;
+		}
+
+		return $smileys;
+	}
+}
+
+
+/* End of file smiley_helper.php */
+/* Location: ./system/helpers/smiley_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/string_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/string_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/string_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,273 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter String Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/string_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Trim Slashes
+ *
+ * Removes any leading/traling slashes from a string:
+ *
+ * /this/that/theother/
+ *
+ * becomes:
+ *
+ * this/that/theother
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */	
+if ( ! function_exists('trim_slashes'))
+{
+	function trim_slashes($str)
+	{
+		return trim($str, '/');
+	} 
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Strip Slashes
+ *
+ * Removes slashes contained in a string or in an array
+ *
+ * @access	public
+ * @param	mixed	string or array
+ * @return	mixed	string or array
+ */	
+if ( ! function_exists('strip_slashes'))
+{
+	function strip_slashes($str)
+	{
+		if (is_array($str))
+		{	
+			foreach ($str as $key => $val)
+			{
+				$str[$key] = strip_slashes($val);
+			}
+		}
+		else
+		{
+			$str = stripslashes($str);
+		}
+	
+		return $str;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Strip Quotes
+ *
+ * Removes single and double quotes from a string
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */	
+if ( ! function_exists('strip_quotes'))
+{
+	function strip_quotes($str)
+	{
+		return str_replace(array('"', "'"), '', $str);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Quotes to Entities
+ *
+ * Converts single and double quotes to entities
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */	
+if ( ! function_exists('quotes_to_entities'))
+{
+	function quotes_to_entities($str)
+	{	
+		return str_replace(array("\'","\"","'",'"'), array("&#39;","&quot;","&#39;","&quot;"), $str);
+	}
+}
+
+// ------------------------------------------------------------------------
+/**
+ * Reduce Double Slashes
+ *
+ * Converts double slashes in a string to a single slash,
+ * except those found in http://
+ *
+ * http://www.some-site.com//index.php
+ *
+ * becomes:
+ *
+ * http://www.some-site.com/index.php
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */	
+if ( ! function_exists('reduce_double_slashes'))
+{
+	function reduce_double_slashes($str)
+	{
+		return preg_replace("#([^:])//+#", "\\1/", $str);
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Reduce Multiples
+ *
+ * Reduces multiple instances of a particular character.  Example:
+ *
+ * Fred, Bill,, Joe, Jimmy
+ *
+ * becomes:
+ *
+ * Fred, Bill, Joe, Jimmy
+ *
+ * @access	public
+ * @param	string
+ * @param	string	the character you wish to reduce
+ * @param	bool	TRUE/FALSE - whether to trim the character from the beginning/end
+ * @return	string
+ */	
+if ( ! function_exists('reduce_multiples'))
+{
+	function reduce_multiples($str, $character = ',', $trim = FALSE)
+	{
+		$str = preg_replace('#'.preg_quote($character, '#').'{2,}#', $character, $str);
+
+		if ($trim === TRUE)
+		{
+			$str = trim($str, $character);
+		}
+
+		return $str;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Create a Random String
+ *
+ * Useful for generating passwords or hashes.
+ *
+ * @access	public
+ * @param	string 	type of random string.  Options: alunum, numeric, nozero, unique
+ * @param	integer	number of characters
+ * @return	string
+ */
+if ( ! function_exists('random_string'))
+{	
+	function random_string($type = 'alnum', $len = 8)
+	{					
+		switch($type)
+		{
+			case 'alnum'	:
+			case 'numeric'	:
+			case 'nozero'	:
+		
+					switch ($type)
+					{
+						case 'alnum'	:	$pool = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
+							break;
+						case 'numeric'	:	$pool = '0123456789';
+							break;
+						case 'nozero'	:	$pool = '123456789';
+							break;
+					}
+
+					$str = '';
+					for ($i=0; $i < $len; $i++)
+					{
+						$str .= substr($pool, mt_rand(0, strlen($pool) -1), 1);
+					}
+					return $str;
+			  break;
+			case 'unique' : return md5(uniqid(mt_rand()));
+			  break;
+		}
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Alternator
+ *
+ * Allows strings to be alternated.  See docs...
+ *
+ * @access	public
+ * @param	string (as many parameters as needed)
+ * @return	string
+ */	
+if ( ! function_exists('alternator'))
+{
+	function alternator()
+	{
+		static $i;	
+
+		if (func_num_args() == 0)
+		{
+			$i = 0;
+			return '';
+		}
+		$args = func_get_args();
+		return $args[($i++ % count($args))];
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Repeater function
+ *
+ * @access	public
+ * @param	string
+ * @param	integer	number of repeats
+ * @return	string
+ */	
+if ( ! function_exists('repeater'))
+{
+	function repeater($data, $num = 1)
+	{
+		return (($num > 0) ? str_repeat($data, $num) : '');
+	} 
+}
+
+
+/* End of file string_helper.php */
+/* Location: ./system/helpers/string_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/text_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/text_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/text_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,443 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Text Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/text_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Word Limiter
+ *
+ * Limits a string to X number of words.
+ *
+ * @access	public
+ * @param	string
+ * @param	integer
+ * @param	string	the end character. Usually an ellipsis
+ * @return	string
+ */	
+if ( ! function_exists('word_limiter'))
+{
+	function word_limiter($str, $limit = 100, $end_char = '&#8230;')
+	{
+		if (trim($str) == '')
+		{
+			return $str;
+		}
+	
+		preg_match('/^\s*+(?:\S++\s*+){1,'.(int) $limit.'}/', $str, $matches);
+			
+		if (strlen($str) == strlen($matches[0]))
+		{
+			$end_char = '';
+		}
+		
+		return rtrim($matches[0]).$end_char;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Character Limiter
+ *
+ * Limits the string based on the character count.  Preserves complete words
+ * so the character count may not be exactly as specified.
+ *
+ * @access	public
+ * @param	string
+ * @param	integer
+ * @param	string	the end character. Usually an ellipsis
+ * @return	string
+ */	
+if ( ! function_exists('character_limiter'))
+{
+	function character_limiter($str, $n = 500, $end_char = '&#8230;')
+	{
+		if (strlen($str) < $n)
+		{
+			return $str;
+		}
+		
+		$str = preg_replace("/\s+/", ' ', str_replace(array("\r\n", "\r", "\n"), ' ', $str));
+
+		if (strlen($str) <= $n)
+		{
+			return $str;
+		}
+									
+		$out = "";
+		foreach (explode(' ', trim($str)) as $val)
+		{
+			$out .= $val.' ';			
+			if (strlen($out) >= $n)
+			{
+				return trim($out).$end_char;
+			}		
+		}
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * High ASCII to Entities
+ *
+ * Converts High ascii text and MS Word special characters to character entities
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */	
+if ( ! function_exists('ascii_to_entities'))
+{
+	function ascii_to_entities($str)
+	{
+	   $count	= 1;
+	   $out	= '';
+	   $temp	= array();
+	
+	   for ($i = 0, $s = strlen($str); $i < $s; $i++)
+	   {
+		   $ordinal = ord($str[$i]);
+	
+		   if ($ordinal < 128)
+		   {
+			   $out .= $str[$i];
+		   }
+		   else
+		   {
+			   if (count($temp) == 0)
+			   {
+				   $count = ($ordinal < 224) ? 2 : 3;
+			   }
+		
+			   $temp[] = $ordinal;
+		
+			   if (count($temp) == $count)
+			   {
+				   $number = ($count == 3) ? (($temp['0'] % 16) * 4096) + (($temp['1'] % 64) * 64) + ($temp['2'] % 64) : (($temp['0'] % 32) * 64) + ($temp['1'] % 64);
+
+				   $out .= '&#'.$number.';';
+				   $count = 1;
+				   $temp = array();
+			   }
+		   }
+	   }
+
+	   return $out;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Entities to ASCII
+ *
+ * Converts character entities back to ASCII
+ *
+ * @access	public
+ * @param	string
+ * @param	bool
+ * @return	string
+ */	
+if ( ! function_exists('entities_to_ascii'))
+{
+	function entities_to_ascii($str, $all = TRUE)
+	{
+	   if (preg_match_all('/\&#(\d+)\;/', $str, $matches))
+	   {
+		   for ($i = 0, $s = count($matches['0']); $i < $s; $i++)
+		   {				
+			   $digits = $matches['1'][$i];
+
+			   $out = '';
+
+			   if ($digits < 128)
+			   {
+				   $out .= chr($digits);
+		
+			   }
+			   elseif ($digits < 2048)
+			   {
+				   $out .= chr(192 + (($digits - ($digits % 64)) / 64));
+				   $out .= chr(128 + ($digits % 64));
+			   }
+			   else
+			   {
+				   $out .= chr(224 + (($digits - ($digits % 4096)) / 4096));
+				   $out .= chr(128 + ((($digits % 4096) - ($digits % 64)) / 64));
+				   $out .= chr(128 + ($digits % 64));
+			   }
+
+			   $str = str_replace($matches['0'][$i], $out, $str);				
+		   }
+	   }
+
+	   if ($all)
+	   {
+		   $str = str_replace(array("&amp;", "&lt;", "&gt;", "&quot;", "&apos;", "&#45;"),
+							  array("&","<",">","\"", "'", "-"),
+							  $str);
+	   }
+
+	   return $str;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Word Censoring Function
+ *
+ * Supply a string and an array of disallowed words and any
+ * matched words will be converted to #### or to the replacement
+ * word you've submitted.
+ *
+ * @access	public
+ * @param	string	the text string
+ * @param	string	the array of censoered words
+ * @param	string	the optional replacement value
+ * @return	string
+ */	
+if ( ! function_exists('word_censor'))
+{
+	function word_censor($str, $censored, $replacement = '')
+	{
+		if ( ! is_array($censored))
+		{
+			return $str;
+		}
+
+		$str = ' '.$str.' ';
+		foreach ($censored as $badword)
+		{
+			if ($replacement != '')
+			{
+				$str = preg_replace("/\b(".str_replace('\*', '\w*?', preg_quote($badword, '/')).")\b/i", $replacement, $str);
+			}
+			else
+			{
+				$str = preg_replace("/\b(".str_replace('\*', '\w*?', preg_quote($badword, '/')).")\b/ie", "str_repeat('#', strlen('\\1'))", $str);
+			}
+		}
+	
+		return trim($str);
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Code Highlighter
+ *
+ * Colorizes code strings
+ *
+ * @access	public
+ * @param	string	the text string
+ * @return	string
+ */	
+if ( ! function_exists('highlight_code'))
+{
+	function highlight_code($str)
+	{		
+		// The highlight string function encodes and highlights
+		// brackets so we need them to start raw
+		$str = str_replace(array('&lt;', '&gt;'), array('<', '>'), $str);
+	
+		// Replace any existing PHP tags to temporary markers so they don't accidentally
+		// break the string out of PHP, and thus, thwart the highlighting.
+	
+		$str = str_replace(array('<?', '?>', '<%', '%>', '\\', '</script>'), 
+							array('phptagopen', 'phptagclose', 'asptagopen', 'asptagclose', 'backslashtmp', 'scriptclose'), $str);
+
+		// The highlight_string function requires that the text be surrounded
+		// by PHP tags, which we will remove later
+		$str = '<?php '.$str.' ?>'; // <?
+
+		// All the magic happens here, baby!	
+		$str = highlight_string($str, TRUE);
+
+		// Prior to PHP 5, the highligh function used icky <font> tags
+		// so we'll replace them with <span> tags.
+
+		if (abs(PHP_VERSION) < 5)
+		{
+			$str = str_replace(array('<font ', '</font>'), array('<span ', '</span>'), $str);
+			$str = preg_replace('#color="(.*?)"#', 'style="color: \\1"', $str);
+		}
+		
+		// Remove our artificially added PHP, and the syntax highlighting that came with it
+		$str = preg_replace('/<span style="color: #([A-Z0-9]+)">&lt;\?php(&nbsp;| )/i', '<span style="color: #$1">', $str);
+		$str = preg_replace('/(<span style="color: #[A-Z0-9]+">.*?)\?&gt;<\/span>\n<\/span>\n<\/code>/is', "$1</span>\n</span>\n</code>", $str);
+		$str = preg_replace('/<span style="color: #[A-Z0-9]+"\><\/span>/i', '', $str);
+			
+		// Replace our markers back to PHP tags.
+		$str = str_replace(array('phptagopen', 'phptagclose', 'asptagopen', 'asptagclose', 'backslashtmp', 'scriptclose'),
+							array('&lt;?', '?&gt;', '&lt;%', '%&gt;', '\\', '&lt;/script&gt;'), $str);
+										
+		return $str;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Phrase Highlighter
+ *
+ * Highlights a phrase within a text string
+ *
+ * @access	public
+ * @param	string	the text string
+ * @param	string	the phrase you'd like to highlight
+ * @param	string	the openging tag to precede the phrase with
+ * @param	string	the closing tag to end the phrase with
+ * @return	string
+ */	
+if ( ! function_exists('highlight_phrase'))
+{
+	function highlight_phrase($str, $phrase, $tag_open = '<strong>', $tag_close = '</strong>')
+	{
+		if ($str == '')
+		{
+			return '';
+		}
+	
+		if ($phrase != '')
+		{
+			return preg_replace('/('.preg_quote($phrase, '/').')/i', $tag_open."\\1".$tag_close, $str);
+		}
+
+		return $str;
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Word Wrap
+ *
+ * Wraps text at the specified character.  Maintains the integrity of words.
+ * Anything placed between {unwrap}{/unwrap} will not be word wrapped, nor
+ * will URLs.
+ *
+ * @access	public
+ * @param	string	the text string
+ * @param	integer	the number of characters to wrap at
+ * @return	string
+ */	
+if ( ! function_exists('word_wrap'))
+{
+	function word_wrap($str, $charlim = '76')
+	{
+		// Se the character limit
+		if ( ! is_numeric($charlim))
+			$charlim = 76;
+	
+		// Reduce multiple spaces
+		$str = preg_replace("| +|", " ", $str);
+	
+		// Standardize newlines
+		if (strpos($str, "\r") !== FALSE)
+		{
+			$str = str_replace(array("\r\n", "\r"), "\n", $str);			
+		}
+	
+		// If the current word is surrounded by {unwrap} tags we'll 
+		// strip the entire chunk and replace it with a marker.
+		$unwrap = array();
+		if (preg_match_all("|(\{unwrap\}.+?\{/unwrap\})|s", $str, $matches))
+		{
+			for ($i = 0; $i < count($matches['0']); $i++)
+			{
+				$unwrap[] = $matches['1'][$i];				
+				$str = str_replace($matches['1'][$i], "{{unwrapped".$i."}}", $str);
+			}
+		}
+	
+		// Use PHP's native function to do the initial wordwrap.  
+		// We set the cut flag to FALSE so that any individual words that are 
+		// too long get left alone.  In the next step we'll deal with them.
+		$str = wordwrap($str, $charlim, "\n", FALSE);
+	
+		// Split the string into individual lines of text and cycle through them
+		$output = "";
+		foreach (explode("\n", $str) as $line) 
+		{
+			// Is the line within the allowed character count?
+			// If so we'll join it to the output and continue
+			if (strlen($line) <= $charlim)
+			{
+				$output .= $line."\n";			
+				continue;
+			}
+			
+			$temp = '';
+			while((strlen($line)) > $charlim) 
+			{
+				// If the over-length word is a URL we won't wrap it
+				if (preg_match("!\[url.+\]|://|wwww.!", $line))
+				{
+					break;
+				}
+
+				// Trim the word down
+				$temp .= substr($line, 0, $charlim-1);
+				$line = substr($line, $charlim-1);
+			}
+		
+			// If $temp contains data it means we had to split up an over-length 
+			// word into smaller chunks so we'll add it back to our current line
+			if ($temp != '')
+			{
+				$output .= $temp . "\n" . $line; 
+			}
+			else
+			{
+				$output .= $line;
+			}
+
+			$output .= "\n";
+		}
+
+		// Put our markers back
+		if (count($unwrap) > 0)
+		{	
+			foreach ($unwrap as $key => $val)
+			{
+				$output = str_replace("{{unwrapped".$key."}}", $val, $output);
+			}
+		}
+
+		// Remove the unwrap tags
+		$output = str_replace(array('{unwrap}', '{/unwrap}'), '', $output);
+
+		return $output;	
+	}
+}
+
+
+/* End of file text_helper.php */
+/* Location: ./system/helpers/text_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/typography_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/typography_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/typography_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,72 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Typography Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/typography_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Convert newlines to HTML line breaks except within PRE tags
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */	
+if ( ! function_exists('nl2br_except_pre'))
+{
+	function nl2br_except_pre($str)
+	{
+		$CI =& get_instance();
+	
+		$CI->load->library('typography');
+		
+		return $CI->typography->nl2br_except_pre($str);
+	}
+}
+	
+// ------------------------------------------------------------------------
+
+/**
+ * Auto Typography Wrapper Function
+ *
+ *
+ * @access	public
+ * @param	string
+ * @param	bool	whether to allow javascript event handlers
+ * @param	bool	whether to reduce multiple instances of double newlines to two
+ * @return	string
+ */
+if ( ! function_exists('auto_typography'))
+{
+	function auto_typography($str, $strip_js_event_handlers = TRUE, $reduce_linebreaks = FALSE)
+	{
+		$CI =& get_instance();	
+		$CI->load->library('typography');
+		return $CI->typography->auto_typography($str, $strip_js_event_handlers, $reduce_linebreaks);
+	}
+}
+
+/* End of file typography_helper.php */
+/* Location: ./system/helpers/typography_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/url_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/url_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/url_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,582 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter URL Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/url_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Site URL
+ *
+ * Create a local URL based on your basepath. Segments can be passed via the
+ * first parameter either as a string or an array.
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */
+if ( ! function_exists('site_url'))
+{
+	function site_url($uri = '')
+	{
+		$CI =& get_instance();
+		return $CI->config->site_url($uri);
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Base URL
+ *
+ * Returns the "base_url" item from your config file
+ *
+ * @access	public
+ * @return	string
+ */
+if ( ! function_exists('base_url'))
+{
+	function base_url()
+	{
+		$CI =& get_instance();
+		return $CI->config->slash_item('base_url');
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Current URL
+ *
+ * Returns the full URL (including segments) of the page where this 
+ * function is placed
+ *
+ * @access	public
+ * @return	string
+ */
+if ( ! function_exists('current_url'))
+{
+	function current_url()
+	{
+		$CI =& get_instance();
+		return $CI->config->site_url($CI->uri->uri_string());
+	}
+}
+
+// ------------------------------------------------------------------------
+/**
+ * URL String
+ *
+ * Returns the URI segments.
+ *
+ * @access	public
+ * @return	string
+ */
+if ( ! function_exists('uri_string'))
+{
+	function uri_string()
+	{
+		$CI =& get_instance();
+		return $CI->uri->uri_string();
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Index page
+ *
+ * Returns the "index_page" from your config file
+ *
+ * @access	public
+ * @return	string
+ */
+if ( ! function_exists('index_page'))
+{
+	function index_page()
+	{
+		$CI =& get_instance();
+		return $CI->config->item('index_page');
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Anchor Link
+ *
+ * Creates an anchor based on the local URL.
+ *
+ * @access	public
+ * @param	string	the URL
+ * @param	string	the link title
+ * @param	mixed	any attributes
+ * @return	string
+ */
+if ( ! function_exists('anchor'))
+{
+	function anchor($uri = '', $title = '', $attributes = '')
+	{
+		$title = (string) $title;
+
+		if ( ! is_array($uri))
+		{
+			$site_url = ( ! preg_match('!^\w+://! i', $uri)) ? site_url($uri) : $uri;
+		}
+		else
+		{
+			$site_url = site_url($uri);
+		}
+
+		if ($title == '')
+		{
+			$title = $site_url;
+		}
+
+		if ($attributes != '')
+		{
+			$attributes = _parse_attributes($attributes);
+		}
+
+		return '<a href="'.$site_url.'"'.$attributes.'>'.$title.'</a>';
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Anchor Link - Pop-up version
+ *
+ * Creates an anchor based on the local URL. The link
+ * opens a new window based on the attributes specified.
+ *
+ * @access	public
+ * @param	string	the URL
+ * @param	string	the link title
+ * @param	mixed	any attributes
+ * @return	string
+ */
+if ( ! function_exists('anchor_popup'))
+{
+	function anchor_popup($uri = '', $title = '', $attributes = FALSE)
+	{
+		$title = (string) $title;
+
+		$site_url = ( ! preg_match('!^\w+://! i', $uri)) ? site_url($uri) : $uri;
+
+		if ($title == '')
+		{
+			$title = $site_url;
+		}
+
+		if ($attributes === FALSE)
+		{
+			return "<a href='javascript:void(0);' onclick=\"window.open('".$site_url."', '_blank');\">".$title."</a>";
+		}
+
+		if ( ! is_array($attributes))
+		{
+			$attributes = array();
+		}
+
+		foreach (array('width' => '800', 'height' => '600', 'scrollbars' => 'yes', 'status' => 'yes', 'resizable' => 'yes', 'screenx' => '0', 'screeny' => '0', ) as $key => $val)
+		{
+			$atts[$key] = ( ! isset($attributes[$key])) ? $val : $attributes[$key];
+			unset($attributes[$key]);
+		}
+
+		if ($attributes != '')
+		{
+			$attributes = _parse_attributes($attributes);
+		}
+
+		return "<a href='javascript:void(0);' onclick=\"window.open('".$site_url."', '_blank', '"._parse_attributes($atts, TRUE)."');\"$attributes>".$title."</a>";
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Mailto Link
+ *
+ * @access	public
+ * @param	string	the email address
+ * @param	string	the link title
+ * @param	mixed 	any attributes
+ * @return	string
+ */
+if ( ! function_exists('mailto'))
+{
+	function mailto($email, $title = '', $attributes = '')
+	{
+		$title = (string) $title;
+
+		if ($title == "")
+		{
+			$title = $email;
+		}
+
+		$attributes = _parse_attributes($attributes);
+
+		return '<a href="mailto:'.$email.'"'.$attributes.'>'.$title.'</a>';
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Encoded Mailto Link
+ *
+ * Create a spam-protected mailto link written in Javascript
+ *
+ * @access	public
+ * @param	string	the email address
+ * @param	string	the link title
+ * @param	mixed 	any attributes
+ * @return	string
+ */
+if ( ! function_exists('safe_mailto'))
+{
+	function safe_mailto($email, $title = '', $attributes = '')
+	{
+		$title = (string) $title;
+
+		if ($title == "")
+		{
+			$title = $email;
+		}
+
+		for ($i = 0; $i < 16; $i++)
+		{
+			$x[] = substr('<a href="mailto:', $i, 1);
+		}
+
+		for ($i = 0; $i < strlen($email); $i++)
+		{
+			$x[] = "|".ord(substr($email, $i, 1));
+		}
+
+		$x[] = '"';
+
+		if ($attributes != '')
+		{
+			if (is_array($attributes))
+			{
+				foreach ($attributes as $key => $val)
+				{
+					$x[] =  ' '.$key.'="';
+					for ($i = 0; $i < strlen($val); $i++)
+					{
+						$x[] = "|".ord(substr($val, $i, 1));
+					}
+					$x[] = '"';
+				}
+			}
+			else
+			{
+				for ($i = 0; $i < strlen($attributes); $i++)
+				{
+					$x[] = substr($attributes, $i, 1);
+				}
+			}
+		}
+
+		$x[] = '>';
+
+		$temp = array();
+		for ($i = 0; $i < strlen($title); $i++)
+		{
+			$ordinal = ord($title[$i]);
+
+			if ($ordinal < 128)
+			{
+				$x[] = "|".$ordinal;
+			}
+			else
+			{
+				if (count($temp) == 0)
+				{
+					$count = ($ordinal < 224) ? 2 : 3;
+				}
+	
+				$temp[] = $ordinal;
+				if (count($temp) == $count)
+				{
+					$number = ($count == 3) ? (($temp['0'] % 16) * 4096) + (($temp['1'] % 64) * 64) + ($temp['2'] % 64) : (($temp['0'] % 32) * 64) + ($temp['1'] % 64);
+					$x[] = "|".$number;
+					$count = 1;
+					$temp = array();
+				}
+			}
+		}
+
+		$x[] = '<'; $x[] = '/'; $x[] = 'a'; $x[] = '>';
+
+		$x = array_reverse($x);
+		ob_start();
+
+	?><script type="text/javascript">
+	//<![CDATA[
+	var l=new Array();
+	<?php
+	$i = 0;
+	foreach ($x as $val){ ?>l[<?php echo $i++; ?>]='<?php echo $val; ?>';<?php } ?>
+
+	for (var i = l.length-1; i >= 0; i=i-1){
+	if (l[i].substring(0, 1) == '|') document.write("&#"+unescape(l[i].substring(1))+";");
+	else document.write(unescape(l[i]));}
+	//]]>
+	</script><?php
+
+		$buffer = ob_get_contents();
+		ob_end_clean();
+		return $buffer;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Auto-linker
+ *
+ * Automatically links URL and Email addresses.
+ * Note: There's a bit of extra code here to deal with
+ * URLs or emails that end in a period.  We'll strip these
+ * off and add them after the link.
+ *
+ * @access	public
+ * @param	string	the string
+ * @param	string	the type: email, url, or both
+ * @param	bool 	whether to create pop-up links
+ * @return	string
+ */
+if ( ! function_exists('auto_link'))
+{
+	function auto_link($str, $type = 'both', $popup = FALSE)
+	{
+		if ($type != 'email')
+		{
+			if (preg_match_all("#(^|\s|\()((http(s?)://)|(www\.))(\w+[^\s\)\<]+)#i", $str, $matches))
+			{
+				$pop = ($popup == TRUE) ? " target=\"_blank\" " : "";
+	
+				for ($i = 0; $i < sizeof($matches['0']); $i++)
+				{
+					$period = '';
+					if (preg_match("|\.$|", $matches['6'][$i]))
+					{
+						$period = '.';
+						$matches['6'][$i] = substr($matches['6'][$i], 0, -1);
+					}
+		
+					$str = str_replace($matches['0'][$i],
+										$matches['1'][$i].'<a href="http'.
+										$matches['4'][$i].'://'.
+										$matches['5'][$i].
+										$matches['6'][$i].'"'.$pop.'>http'.
+										$matches['4'][$i].'://'.
+										$matches['5'][$i].
+										$matches['6'][$i].'</a>'.
+										$period, $str);
+				}
+			}
+		}
+
+		if ($type != 'url')
+		{
+			if (preg_match_all("/([a-zA-Z0-9_\.\-\+??]+)@([a-zA-Z0-9\-]+)\.([a-zA-Z0-9\-\.]*)/i", $str, $matches))
+			{
+				for ($i = 0; $i < sizeof($matches['0']); $i++)
+				{
+					$period = '';
+					if (preg_match("|\.$|", $matches['3'][$i]))
+					{
+						$period = '.';
+						$matches['3'][$i] = substr($matches['3'][$i], 0, -1);
+					}
+		
+					$str = str_replace($matches['0'][$i], safe_mailto($matches['1'][$i].'@'.$matches['2'][$i].'.'.$matches['3'][$i]).$period, $str);
+				}
+			}
+		}
+
+		return $str;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Prep URL
+ *
+ * Simply adds the http:// part if missing
+ *
+ * @access	public
+ * @param	string	the URL
+ * @return	string
+ */
+if ( ! function_exists('prep_url'))
+{
+	function prep_url($str = '')
+	{
+		if ($str == 'http://' OR $str == '')
+		{
+			return '';
+		}
+
+		if (substr($str, 0, 7) != 'http://' && substr($str, 0, 8) != 'https://')
+		{
+			$str = 'http://'.$str;
+		}
+
+		return $str;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Create URL Title
+ *
+ * Takes a "title" string as input and creates a
+ * human-friendly URL string with either a dash
+ * or an underscore as the word separator.
+ *
+ * @access	public
+ * @param	string	the string
+ * @param	string	the separator: dash, or underscore
+ * @return	string
+ */
+if ( ! function_exists('url_title'))
+{
+	function url_title($str, $separator = 'dash')
+	{
+		if ($separator == 'dash')
+		{
+			$search		= '_';
+			$replace	= '-';
+		}
+		else
+		{
+			$search		= '-';
+			$replace	= '_';
+		}
+
+		$trans = array(
+						'&\#\d+?;'				=> '',
+						'&\S+?;'				=> '',
+						'\s+'					=> $replace,
+						'[^a-z0-9\-\._]'		=> '',
+						$replace.'+'			=> $replace,
+						$replace.'$'			=> $replace,
+						'^'.$replace			=> $replace
+					  );
+
+		$str = strip_tags($str);
+
+		foreach ($trans as $key => $val)
+		{
+			$str = preg_replace("#".$key."#i", $val, $str);
+		}
+
+		return trim(stripslashes($str));
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Header Redirect
+ *
+ * Header redirect in two flavors
+ * For very fine grained control over headers, you could use the Output
+ * Library's set_header() function.
+ *
+ * @access	public
+ * @param	string	the URL
+ * @param	string	the method: location or redirect
+ * @return	string
+ */
+if ( ! function_exists('redirect'))
+{
+	function redirect($uri = '', $method = 'location', $http_response_code = 302)
+	{
+		switch($method)
+		{
+			case 'refresh'	: header("Refresh:0;url=".site_url($uri));
+				break;
+			default			: header("Location: ".site_url($uri), TRUE, $http_response_code);
+				break;
+		}
+		exit;
+	}
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * Parse out the attributes
+ *
+ * Some of the functions use this
+ *
+ * @access	private
+ * @param	array
+ * @param	bool
+ * @return	string
+ */
+if ( ! function_exists('_parse_attributes'))
+{
+	function _parse_attributes($attributes, $javascript = FALSE)
+	{
+		if (is_string($attributes))
+		{
+			return ($attributes != '') ? ' '.$attributes : '';
+		}
+
+		$att = '';
+		foreach ($attributes as $key => $val)
+		{
+			if ($javascript == TRUE)
+			{
+				$att .= $key . '=' . $val . ',';
+			}
+			else
+			{
+				$att .= ' ' . $key . '="' . $val . '"';
+			}
+		}
+
+		if ($javascript == TRUE AND $att != '')
+		{
+			$att = substr($att, 0, -1);
+		}
+
+		return $att;
+	}
+}
+
+
+/* End of file url_helper.php */
+/* Location: ./system/helpers/url_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/helpers/xml_helper.php
===================================================================
--- trunk/pintassilgo/system/helpers/xml_helper.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/helpers/xml_helper.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,62 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter XML Helpers
+ *
+ * @package		CodeIgniter
+ * @subpackage	Helpers
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/xml_helper.html
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Convert Reserved XML characters to Entities
+ *
+ * @access	public
+ * @param	string
+ * @return	string
+ */	
+if ( ! function_exists('xml_convert'))
+{
+	function xml_convert($str)
+	{
+		$temp = '__TEMP_AMPERSANDS__';
+
+		// Replace entities to temporary markers so that 
+		// ampersands won't get messed up
+		$str = preg_replace("/&#(\d+);/", "$temp\\1;", $str);
+		$str = preg_replace("/&(\w+);/",  "$temp\\1;", $str);
+	
+		$str = str_replace(array("&","<",">","\"", "'", "-"),
+						   array("&amp;", "&lt;", "&gt;", "&quot;", "&#39;", "&#45;"),
+						   $str);
+
+		// Decode the temp markers back to entities		
+		$str = preg_replace("/$temp(\d+);/","&#\\1;",$str);
+		$str = preg_replace("/$temp(\w+);/","&\\1;", $str);
+		
+		return $str;
+	}
+}
+
+
+/* End of file xml_helper.php */
+/* Location: ./system/helpers/xml_helper.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/calendar_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/calendar_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/calendar_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,51 @@
+<?php
+
+$lang['cal_su']			= "Su";
+$lang['cal_mo'] 		= "Mo";
+$lang['cal_tu'] 		= "Tu";
+$lang['cal_we'] 		= "We";
+$lang['cal_th'] 		= "Th";
+$lang['cal_fr'] 		= "Fr";
+$lang['cal_sa'] 		= "Sa";
+$lang['cal_sun'] 		= "Sun";
+$lang['cal_mon'] 		= "Mon";
+$lang['cal_tue'] 		= "Tue";
+$lang['cal_wed'] 		= "Wed";
+$lang['cal_thu'] 		= "Thu";
+$lang['cal_fri'] 		= "Fri";
+$lang['cal_sat'] 		= "Sat";
+$lang['cal_sunday']		= "Sunday";
+$lang['cal_monday']		= "Monday";
+$lang['cal_tuesday']	= "Tuesday";
+$lang['cal_wednesday']	= "Wednesday";
+$lang['cal_thursday']	= "Thursday";
+$lang['cal_friday']		= "Friday";
+$lang['cal_saturday']	= "Saturday";
+$lang['cal_jan'] 		= "Jan";
+$lang['cal_feb'] 		= "Feb";
+$lang['cal_mar'] 		= "Mar";
+$lang['cal_apr'] 		= "Apr";
+$lang['cal_may'] 		= "May";
+$lang['cal_jun'] 		= "Jun";
+$lang['cal_jul'] 		= "Jul";
+$lang['cal_aug'] 		= "Aug";
+$lang['cal_sep'] 		= "Sep";
+$lang['cal_oct'] 		= "Oct";
+$lang['cal_nov'] 		= "Nov";
+$lang['cal_dec'] 		= "Dec";
+$lang['cal_january'] 	= "January";
+$lang['cal_february'] 	= "February";
+$lang['cal_march'] 		= "March";
+$lang['cal_april']		= "April";
+$lang['cal_mayl'] 		= "May";
+$lang['cal_june'] 		= "June";
+$lang['cal_july'] 		= "July";
+$lang['cal_august']		= "August";
+$lang['cal_september']	= "September";
+$lang['cal_october'] 	= "October";
+$lang['cal_november']	= "November";
+$lang['cal_december'] 	= "December";
+
+
+/* End of file calendar_lang.php */
+/* Location: ./system/language/english/calendar_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/date_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/date_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/date_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,60 @@
+<?php
+
+$lang['date_year'] = "Year";
+$lang['date_years'] = "Years";
+$lang['date_month'] = "Month";
+$lang['date_months'] = "Months";
+$lang['date_week'] = "Week";
+$lang['date_weeks'] = "Weeks";
+$lang['date_day'] = "Day";
+$lang['date_days'] = "Days";
+$lang['date_hour'] = "Hour";
+$lang['date_hours'] = "Hours";
+$lang['date_minute'] = "Minute";
+$lang['date_minutes'] = "Minutes";
+$lang['date_second'] = "Second";
+$lang['date_seconds'] = "Seconds";
+
+$lang['UM12']	= '(UTC -12:00) Baker/Howland Island';
+$lang['UM11']	= '(UTC -11:00) Samoa Time Zone, Niue';
+$lang['UM10']	= '(UTC -10:00) Hawaii-Aleutian Standard Time, Cook Islands, Tahiti';
+$lang['UM95']	= '(UTC -9:30) Marquesas Islands';
+$lang['UM9']	= '(UTC -9:00) Alaska Standard Time, Gambier Islands';
+$lang['UM8']	= '(UTC -8:00) Pacific Standard Time, Clipperton Island';
+$lang['UM7']	= '(UTC -7:00) Mountain Standard Time';
+$lang['UM6']	= '(UTC -6:00) Central Standard Time';
+$lang['UM5']	= '(UTC -5:00) Eastern Standard Time, Western Caribbean Standard Time';
+$lang['UM45']	= '(UTC -4:30) Venezuelan Standard Time';
+$lang['UM4']	= '(UTC -4:00) Atlantic Standard Time, Eastern Caribbean Standard Time';
+$lang['UM35']	= '(UTC -3:30) Newfoundland Standard Time';
+$lang['UM3']	= '(UTC -3:00) Argentina, Brazil, French Guiana, Uruguay';
+$lang['UM2']	= '(UTC -2:00) South Georgia/South Sandwich Islands';
+$lang['UM1']	= '(UTC -1:00) Azores, Cape Verde Islands';
+$lang['UTC']	= '(UTC) Greenwich Mean Time, Western European Time';
+$lang['UP1']	= '(UTC +1:00) Central European Time, West Africa Time';
+$lang['UP2']	= '(UTC +2:00) Central Africa Time, Eastern European Time, Kaliningrad Time';
+$lang['UP3']	= '(UTC +3:00) Moscow Time, East Africa Time';
+$lang['UP35']	= '(UTC +3:30) Iran Standard Time';
+$lang['UP4']	= '(UTC +4:00) Azerbaijan Standard Time, Samara Time';
+$lang['UP45']	= '(UTC +4:30) Afghanistan';
+$lang['UP5']	= '(UTC +5:00) Pakistan Standard Time, Yekaterinburg Time';
+$lang['UP55']	= '(UTC +5:30) Indian Standard Time, Sri Lanka Time';
+$lang['UP575']	= '(UTC +5:45) Nepal Time';
+$lang['UP6']	= '(UTC +6:00) Bangladesh Standard Time, Bhutan Time, Omsk Time';
+$lang['UP65']	= '(UTC +6:30) Cocos Islands, Myanmar';
+$lang['UP7']	= '(UTC +7:00) Krasnoyarsk Time, Cambodia, Laos, Thailand, Vietnam';
+$lang['UP8']	= '(UTC +8:00) Australian Western Standard Time, Beijing Time, Irkutsk Time';
+$lang['UP875']	= '(UTC +8:45) Australian Central Western Standard Time';
+$lang['UP9']	= '(UTC +9:00) Japan Standard Time, Korea Standard Time, Yakutsk Time';
+$lang['UP95']	= '(UTC +9:30) Australian Central Standard Time';
+$lang['UP10']	= '(UTC +10:00) Australian Eastern Standard Time, Vladivostok Time';
+$lang['UP105']	= '(UTC +10:30) Lord Howe Island';
+$lang['UP11']	= '(UTC +11:00) Magadan Time, Solomon Islands, Vanuatu';
+$lang['UP115']	= '(UTC +11:30) Norfolk Island';
+$lang['UP12']	= '(UTC +12:00) Fiji, Gilbert Islands, Kamchatka Time, New Zealand Standard Time';
+$lang['UP1275']	= '(UTC +12:45) Chatham Islands Standard Time';
+$lang['UP13']	= '(UTC +13:00) Phoenix Islands Time, Tonga';
+$lang['UP14']	= '(UTC +14:00) Line Islands';
+
+/* End of file date_lang.php */
+/* Location: ./system/language/english/date_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/db_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/db_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/db_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,28 @@
+<?php
+
+$lang['db_invalid_connection_str'] = 'Unable to determine the database settings based on the connection string you submitted.';
+$lang['db_unable_to_connect'] = 'Unable to connect to your database server using the provided settings.';
+$lang['db_unable_to_select'] = 'Unable to select the specified database: %s';
+$lang['db_unable_to_create'] = 'Unable to create the specified database: %s';
+$lang['db_invalid_query'] = 'The query you submitted is not valid.';
+$lang['db_must_set_table'] = 'You must set the database table to be used with your query.';
+$lang['db_must_set_database'] = 'You must set the database name in your database config file.';
+$lang['db_must_use_set'] = 'You must use the "set" method to update an entry.';
+$lang['db_must_use_where'] = 'Updates are not allowed unless they contain a "where" clause.';
+$lang['db_del_must_use_where'] = 'Deletes are not allowed unless they contain a "where" or "like" clause.';
+$lang['db_field_param_missing'] = 'To fetch fields requires the name of the table as a parameter.';
+$lang['db_unsupported_function'] = 'This feature is not available for the database you are using.';
+$lang['db_transaction_failure'] = 'Transaction failure: Rollback performed.';
+$lang['db_unable_to_drop'] = 'Unable to drop the specified database.';
+$lang['db_unsuported_feature'] = 'Unsupported feature of the database platform you are using.';
+$lang['db_unsuported_compression'] = 'The file compression format you chose is not supported by your server.';
+$lang['db_filepath_error'] = 'Unable to write data to the file path you have submitted.';
+$lang['db_invalid_cache_path'] = 'The cache path you submitted is not valid or writable.';
+$lang['db_table_name_required'] = 'A table name is required for that operation.';
+$lang['db_column_name_required'] = 'A column name is required for that operation.';
+$lang['db_column_definition_required'] = 'A column definition is required for that operation.';
+$lang['db_unable_to_set_charset'] = 'Unable to set client connection character set: %s';
+$lang['db_error_heading'] = 'A Database Error Occurred';
+
+/* End of file db_lang.php */
+/* Location: ./system/language/english/db_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/email_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/email_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/email_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,23 @@
+<?php
+
+$lang['email_must_be_array'] = "The email validation method must be passed an array.";
+$lang['email_invalid_address'] = "Invalid email address: %s";
+$lang['email_attachment_missing'] = "Unable to locate the following email attachment: %s";
+$lang['email_attachment_unreadable'] = "Unable to open this attachment: %s";
+$lang['email_no_recipients'] = "You must include recipients: To, Cc, or Bcc";
+$lang['email_send_failure_phpmail'] = "Unable to send email using PHP mail().  Your server might not be configured to send mail using this method.";
+$lang['email_send_failure_sendmail'] = "Unable to send email using PHP Sendmail.  Your server might not be configured to send mail using this method.";
+$lang['email_send_failure_smtp'] = "Unable to send email using PHP SMTP.  Your server might not be configured to send mail using this method.";
+$lang['email_sent'] = "Your message has been successfully sent using the following protocol: %s";
+$lang['email_no_socket'] = "Unable to open a socket to Sendmail. Please check settings.";
+$lang['email_no_hostname'] = "You did not specify a SMTP hostname.";
+$lang['email_smtp_error'] = "The following SMTP error was encountered: %s";
+$lang['email_no_smtp_unpw'] = "Error: You must assign a SMTP username and password.";
+$lang['email_failed_smtp_login'] = "Failed to send AUTH LOGIN command. Error: %s";
+$lang['email_smtp_auth_un'] = "Failed to authenticate username. Error: %s";
+$lang['email_smtp_auth_pw'] = "Failed to authenticate password. Error: %s";
+$lang['email_smtp_data_failure'] = "Unable to send data: %s";
+
+
+/* End of file email_lang.php */
+/* Location: ./system/language/english/email_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/form_validation_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/form_validation_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/form_validation_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,24 @@
+<?php
+
+$lang['required'] 			= "The %s field is required.";
+$lang['isset']				= "The %s field must have a value.";
+$lang['valid_email']		= "The %s field must contain a valid email address.";
+$lang['valid_emails'] 		= "The %s field must contain all valid email addresses.";
+$lang['valid_url'] 			= "The %s field must contain a valid URL.";
+$lang['valid_ip'] 			= "The %s field must contain a valid IP.";
+$lang['min_length']			= "The %s field must be at least %s characters in length.";
+$lang['max_length']			= "The %s field can not exceed %s characters in length.";
+$lang['exact_length']		= "The %s field must be exactly %s characters in length.";
+$lang['alpha']				= "The %s field may only contain alphabetical characters.";
+$lang['alpha_numeric']		= "The %s field may only contain alpha-numeric characters.";
+$lang['alpha_dash']			= "The %s field may only contain alpha-numeric characters, underscores, and dashes.";
+$lang['numeric']			= "The %s field must contain only numbers.";
+$lang['is_numeric']			= "The %s field must contain only numeric characters.";
+$lang['integer']			= "The %s field must contain an integer.";
+$lang['matches']			= "The %s field does not match the %s field.";
+$lang['is_natural']			= "The %s field must contain only positive numbers.";
+$lang['is_natural_no_zero']	= "The %s field must contain a number greater than zero.";
+
+
+/* End of file form_validation_lang.php */
+/* Location: ./system/language/english/form_validation_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/ftp_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/ftp_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/ftp_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,17 @@
+<?php
+
+$lang['ftp_no_connection']			= "Unable to locate a valid connection ID.  Please make sure you are connected before peforming any file routines.";
+$lang['ftp_unable_to_connect']		= "Unable to connect to your FTP server using the supplied hostname.";
+$lang['ftp_unable_to_login']		= "Unable to login to your FTP server.  Please check your username and password.";
+$lang['ftp_unable_to_makdir']		= "Unable to create the directory you have specified.";
+$lang['ftp_unable_to_changedir']	= "Unable to change directories.";
+$lang['ftp_unable_to_chmod']		= "Unable to set file permissions.  Please check your path.  Note: This feature is only available in PHP 5 or higher.";
+$lang['ftp_unable_to_upload']		= "Unable to upload the specified file.  Please check your path.";
+$lang['ftp_no_source_file']			= "Unable to locate the source file.  Please check your path.";
+$lang['ftp_unable_to_rename']		= "Unable to rename the file.";
+$lang['ftp_unable_to_delete']		= "Unable to delete the file.";
+$lang['ftp_unable_to_move']			= "Unable to move the file.  Please make sure the destination directory exists.";
+
+
+/* End of file ftp_lang.php */
+/* Location: ./system/language/english/ftp_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/imglib_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/imglib_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/imglib_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,23 @@
+<?php
+
+$lang['imglib_source_image_required'] = "You must specify a source image in your preferences.";
+$lang['imglib_gd_required'] = "The GD image library is required for this feature.";
+$lang['imglib_gd_required_for_props'] = "Your server must support the GD image library in order to determine the image properties.";
+$lang['imglib_unsupported_imagecreate'] = "Your server does not support the GD function required to process this type of image.";
+$lang['imglib_gif_not_supported'] = "GIF images are often not supported due to licensing restrictions.  You may have to use JPG or PNG images instead.";
+$lang['imglib_jpg_not_supported'] = "JPG images are not supported.";
+$lang['imglib_png_not_supported'] = "PNG images are not supported.";
+$lang['imglib_jpg_or_png_required'] = "The image resize protocol specified in your preferences only works with JPEG or PNG image types.";
+$lang['imglib_copy_error'] = "An error was encountered while attempting to replace the file.  Please make sure your file directory is writable.";
+$lang['imglib_rotate_unsupported'] = "Image rotation does not appear to be supported by your server.";
+$lang['imglib_libpath_invalid'] = "The path to your image library is not correct.  Please set the correct path in your image preferences.";
+$lang['imglib_image_process_failed'] = "Image processing failed.  Please verify that your server supports the chosen protocol and that the path to your image library is correct.";
+$lang['imglib_rotation_angle_required'] = "An angle of rotation is required to rotate the image.";
+$lang['imglib_writing_failed_gif'] = "GIF image.";
+$lang['imglib_invalid_path'] = "The path to the image is not correct.";
+$lang['imglib_copy_failed'] = "The image copy routine failed.";
+$lang['imglib_missing_font'] = "Unable to find a font to use.";
+
+
+/* End of file imglib_lang.php */
+/* Location: ./system/language/english/imglib_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/index.html
===================================================================
--- trunk/pintassilgo/system/language/english/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/number_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/number_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/number_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<?php
+
+$lang['terabyte_abbr'] = "TB";
+$lang['gigabyte_abbr'] = "GB";
+$lang['megabyte_abbr'] = "MB";
+$lang['kilobyte_abbr'] = "KB";
+$lang['bytes'] = "Bytes";
+
+/* End of file number_lang.php */
+/* Location: ./system/language/english/number_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/profiler_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/profiler_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/profiler_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,19 @@
+<?php
+
+$lang['profiler_database']		  = 'DATABASE';
+$lang['profiler_controller_info'] = 'CLASS/METHOD';
+$lang['profiler_benchmarks']	= 'BENCHMARKS';
+$lang['profiler_queries']		= 'QUERIES';
+$lang['profiler_get_data']		= 'GET DATA';
+$lang['profiler_post_data']		= 'POST DATA';
+$lang['profiler_uri_string']	= 'URI STRING';
+$lang['profiler_memory_usage']	= 'MEMORY USAGE';
+$lang['profiler_no_db']			= 'Database driver is not currently loaded';
+$lang['profiler_no_queries']	= 'No queries were run';
+$lang['profiler_no_post']		= 'No POST data exists';
+$lang['profiler_no_get']		= 'No GET data exists';
+$lang['profiler_no_uri']		= 'No URI data exists';
+$lang['profiler_no_memory']		= 'Memory Usage Unavailable';
+
+/* End of file profiler_lang.php */
+/* Location: ./system/language/english/profiler_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/scaffolding_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/scaffolding_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/scaffolding_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,17 @@
+<?php
+
+$lang['scaff_view_records']		= 'View Records';
+$lang['scaff_create_record']	= 'Create New Record';
+$lang['scaff_add']				= 'Add Data';
+$lang['scaff_view']				= 'View Data';
+$lang['scaff_edit']				= 'Edit';
+$lang['scaff_delete']			= 'Delete';
+$lang['scaff_view_all']			= 'View All';
+$lang['scaff_yes']				= 'Yes';
+$lang['scaff_no']				= 'No';
+$lang['scaff_no_data']			= 'No data exists for this table yet.';
+$lang['scaff_del_confirm']		= 'Are you sure you want to delete the following row:';
+
+
+/* End of file scaffolding_lang.php */
+/* Location: ./system/language/english/scaffolding_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/unit_test_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/unit_test_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/unit_test_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,24 @@
+<?php
+
+$lang['ut_test_name']		= 'Test Name';
+$lang['ut_test_datatype']	= 'Test Datatype';
+$lang['ut_res_datatype']	= 'Expected Datatype';
+$lang['ut_result']			= 'Result';
+$lang['ut_undefined']		= 'Undefined Test Name';
+$lang['ut_file']			= 'File Name';
+$lang['ut_line']			= 'Line Number';
+$lang['ut_passed']			= 'Passed';
+$lang['ut_failed']			= 'Failed';
+$lang['ut_boolean']			= 'Boolean';
+$lang['ut_integer']			= 'Integer';
+$lang['ut_float']			= 'Float';
+$lang['ut_double']			= 'Float'; // can be the same as float
+$lang['ut_string']			= 'String';
+$lang['ut_array']			= 'Array';
+$lang['ut_object']			= 'Object';
+$lang['ut_resource']		= 'Resource';
+$lang['ut_null']			= 'Null';
+
+
+/* End of file unit_test_lang.php */
+/* Location: ./system/language/english/unit_test_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/upload_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/upload_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/upload_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,22 @@
+<?php
+
+$lang['upload_userfile_not_set'] = "Unable to find a post variable called userfile.";
+$lang['upload_file_exceeds_limit'] = "The uploaded file exceeds the maximum allowed size in your PHP configuration file.";
+$lang['upload_file_exceeds_form_limit'] = "The uploaded file exceeds the maximum size allowed by the submission form.";
+$lang['upload_file_partial'] = "The file was only partially uploaded.";
+$lang['upload_no_temp_directory'] = "The temporary folder is missing.";
+$lang['upload_unable_to_write_file'] = "The file could not be written to disk.";
+$lang['upload_stopped_by_extension'] = "The file upload was stopped by extension.";
+$lang['upload_no_file_selected'] = "You did not select a file to upload.";
+$lang['upload_invalid_filetype'] = "The filetype you are attempting to upload is not allowed.";
+$lang['upload_invalid_filesize'] = "The file you are attempting to upload is larger than the permitted size.";
+$lang['upload_invalid_dimensions'] = "The image you are attempting to upload exceedes the maximum height or width.";
+$lang['upload_destination_error'] = "A problem was encountered while attempting to move the uploaded file to the final destination.";
+$lang['upload_no_filepath'] = "The upload path does not appear to be valid.";
+$lang['upload_no_file_types'] = "You have not specified any allowed file types.";
+$lang['upload_bad_filename'] = "The file name you submitted already exists on the server.";
+$lang['upload_not_writable'] = "The upload destination folder does not appear to be writable.";
+
+
+/* End of file upload_lang.php */
+/* Location: ./system/language/english/upload_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/english/validation_lang.php
===================================================================
--- trunk/pintassilgo/system/language/english/validation_lang.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/english/validation_lang.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,24 @@
+<?php
+
+$lang['required'] 			= "The %s field is required.";
+$lang['isset']				= "The %s field must have a value.";
+$lang['valid_email']		= "The %s field must contain a valid email address.";
+$lang['valid_emails'] 		= "The %s field must contain all valid email addresses.";
+$lang['valid_url'] 			= "The %s field must contain a valid URL.";
+$lang['valid_ip'] 			= "The %s field must contain a valid IP.";
+$lang['min_length']			= "The %s field must be at least %s characters in length.";
+$lang['max_length']			= "The %s field can not exceed %s characters in length.";
+$lang['exact_length']		= "The %s field must be exactly %s characters in length.";
+$lang['alpha']				= "The %s field may only contain alphabetical characters.";
+$lang['alpha_numeric']		= "The %s field may only contain alpha-numeric characters.";
+$lang['alpha_dash']			= "The %s field may only contain alpha-numeric characters, underscores, and dashes.";
+$lang['numeric']			= "The %s field must contain a number.";
+$lang['is_numeric']			= "The %s field must contain a number.";
+$lang['integer']			= "The %s field must contain an integer.";
+$lang['matches']			= "The %s field does not match the %s field.";
+$lang['is_natural']			= "The %s field must contain a number.";
+$lang['is_natural_no_zero']	= "The %s field must contain a number greater than zero.";
+
+
+/* End of file validation_lang.php */
+/* Location: ./system/language/english/validation_lang.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/language/index.html
===================================================================
--- trunk/pintassilgo/system/language/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/language/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Benchmark.php
===================================================================
--- trunk/pintassilgo/system/libraries/Benchmark.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Benchmark.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,113 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Benchmark Class
+ *
+ * This class enables you to mark points and calculate the time difference
+ * between them.  Memory consumption can also be displayed.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/benchmark.html
+ */
+class CI_Benchmark {
+
+	var $marker = array();
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set a benchmark marker
+	 *
+	 * Multiple calls to this function can be made so that several
+	 * execution points can be timed
+	 *
+	 * @access	public
+	 * @param	string	$name	name of the marker
+	 * @return	void
+	 */
+	function mark($name)
+	{
+		$this->marker[$name] = microtime();
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Calculates the time difference between two marked points.
+	 *
+	 * If the first parameter is empty this function instead returns the
+	 * {elapsed_time} pseudo-variable. This permits the full system
+	 * execution time to be shown in a template. The output class will
+	 * swap the real value for this variable.
+	 *
+	 * @access	public
+	 * @param	string	a particular marked point
+	 * @param	string	a particular marked point
+	 * @param	integer	the number of decimal places
+	 * @return	mixed
+	 */
+	function elapsed_time($point1 = '', $point2 = '', $decimals = 4)
+	{
+		if ($point1 == '')
+		{
+			return '{elapsed_time}';
+		}
+
+		if ( ! isset($this->marker[$point1]))
+		{
+			return '';
+		}
+
+		if ( ! isset($this->marker[$point2]))
+		{
+			$this->marker[$point2] = microtime();
+		}
+	
+		list($sm, $ss) = explode(' ', $this->marker[$point1]);
+		list($em, $es) = explode(' ', $this->marker[$point2]);
+
+		return number_format(($em + $es) - ($sm + $ss), $decimals);
+	}
+ 	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Memory Usage
+	 *
+	 * This function returns the {memory_usage} pseudo-variable.
+	 * This permits it to be put it anywhere in a template
+	 * without the memory being calculated until the end.
+	 * The output class will swap the real value for this variable.
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function memory_usage()
+	{
+		return '{memory_usage}';
+	}
+
+}
+
+// END CI_Benchmark class
+
+/* End of file Benchmark.php */
+/* Location: ./system/libraries/Benchmark.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Calendar.php
===================================================================
--- trunk/pintassilgo/system/libraries/Calendar.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Calendar.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,477 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Calendar Class
+ *
+ * This class enables the creation of calendars
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/calendar.html
+ */
+class CI_Calendar {
+
+	var $CI;
+	var $lang;
+	var $local_time;
+	var $template		= '';
+	var $start_day		= 'sunday';
+	var $month_type 	= 'long';
+	var $day_type		= 'abr';
+	var $show_next_prev	= FALSE;
+	var $next_prev_url	= '';
+
+	/**
+	 * Constructor
+	 *
+	 * Loads the calendar language file and sets the default time reference
+	 *
+	 * @access	public
+	 */
+	function CI_Calendar($config = array())
+	{		
+		$this->CI =& get_instance();
+		
+		if ( ! in_array('calendar_lang'.EXT, $this->CI->lang->is_loaded, TRUE))
+		{
+			$this->CI->lang->load('calendar');
+		}
+
+		$this->local_time = time();
+		
+		if (count($config) > 0)
+		{
+			$this->initialize($config);
+		}
+		
+		log_message('debug', "Calendar Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Initialize the user preferences
+	 *
+	 * Accepts an associative array as input, containing display preferences
+	 *
+	 * @access	public
+	 * @param	array	config preferences
+	 * @return	void
+	 */	
+	function initialize($config = array())
+	{
+		foreach ($config as $key => $val)
+		{
+			if (isset($this->$key))
+			{
+				$this->$key = $val;
+			}
+		}
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Generate the calendar
+	 *
+	 * @access	public
+	 * @param	integer	the year
+	 * @param	integer	the month
+	 * @param	array	the data to be shown in the calendar cells
+	 * @return	string
+	 */
+	function generate($year = '', $month = '', $data = array())
+	{
+		// Set and validate the supplied month/year
+		if ($year == '')
+			$year  = date("Y", $this->local_time);
+			
+		if ($month == '')
+			$month = date("m", $this->local_time);
+			
+ 		if (strlen($year) == 1)
+			$year = '200'.$year;
+		
+ 		if (strlen($year) == 2)
+			$year = '20'.$year;
+
+ 		if (strlen($month) == 1)
+			$month = '0'.$month;
+		
+		$adjusted_date = $this->adjust_date($month, $year);
+		
+		$month	= $adjusted_date['month'];
+		$year	= $adjusted_date['year'];
+		
+		// Determine the total days in the month
+		$total_days = $this->get_total_days($month, $year);
+						
+		// Set the starting day of the week
+		$start_days	= array('sunday' => 0, 'monday' => 1, 'tuesday' => 2, 'wednesday' => 3, 'thursday' => 4, 'friday' => 5, 'saturday' => 6);
+		$start_day = ( ! isset($start_days[$this->start_day])) ? 0 : $start_days[$this->start_day];
+		
+		// Set the starting day number
+		$local_date = mktime(12, 0, 0, $month, 1, $year);
+		$date = getdate($local_date);
+		$day  = $start_day + 1 - $date["wday"];
+		
+		while ($day > 1)
+		{
+			$day -= 7;
+		}
+		
+		// Set the current month/year/day
+		// We use this to determine the "today" date
+		$cur_year	= date("Y", $this->local_time);
+		$cur_month	= date("m", $this->local_time);
+		$cur_day	= date("j", $this->local_time);
+		
+		$is_current_month = ($cur_year == $year AND $cur_month == $month) ? TRUE : FALSE;
+	
+		// Generate the template data array
+		$this->parse_template();
+	
+		// Begin building the calendar output						
+		$out = $this->temp['table_open'];
+		$out .= "\n";	
+
+		$out .= "\n";		
+		$out .= $this->temp['heading_row_start'];
+		$out .= "\n";
+		
+		// "previous" month link
+		if ($this->show_next_prev == TRUE)
+		{
+			// Add a trailing slash to the  URL if needed
+			$this->next_prev_url = preg_replace("/(.+?)\/*$/", "\\1/",  $this->next_prev_url);
+		
+			$adjusted_date = $this->adjust_date($month - 1, $year);
+			$out .= str_replace('{previous_url}', $this->next_prev_url.$adjusted_date['year'].'/'.$adjusted_date['month'], $this->temp['heading_previous_cell']);
+			$out .= "\n";
+		}
+
+		// Heading containing the month/year
+		$colspan = ($this->show_next_prev == TRUE) ? 5 : 7;
+		
+		$this->temp['heading_title_cell'] = str_replace('{colspan}', $colspan, $this->temp['heading_title_cell']);
+		$this->temp['heading_title_cell'] = str_replace('{heading}', $this->get_month_name($month)."&nbsp;".$year, $this->temp['heading_title_cell']);
+		
+		$out .= $this->temp['heading_title_cell'];
+		$out .= "\n";
+
+		// "next" month link
+		if ($this->show_next_prev == TRUE)
+		{		
+			$adjusted_date = $this->adjust_date($month + 1, $year);
+			$out .= str_replace('{next_url}', $this->next_prev_url.$adjusted_date['year'].'/'.$adjusted_date['month'], $this->temp['heading_next_cell']);
+		}
+
+		$out .= "\n";		
+		$out .= $this->temp['heading_row_end'];
+		$out .= "\n";
+
+		// Write the cells containing the days of the week
+		$out .= "\n";	
+		$out .= $this->temp['week_row_start'];
+		$out .= "\n";
+
+		$day_names = $this->get_day_names();
+
+		for ($i = 0; $i < 7; $i ++)
+		{
+			$out .= str_replace('{week_day}', $day_names[($start_day + $i) %7], $this->temp['week_day_cell']);
+		}
+
+		$out .= "\n";
+		$out .= $this->temp['week_row_end'];
+		$out .= "\n";
+
+		// Build the main body of the calendar
+		while ($day <= $total_days)
+		{
+			$out .= "\n";
+			$out .= $this->temp['cal_row_start'];
+			$out .= "\n";
+
+			for ($i = 0; $i < 7; $i++)
+			{
+				$out .= ($is_current_month == TRUE AND $day == $cur_day) ? $this->temp['cal_cell_start_today'] : $this->temp['cal_cell_start'];
+			
+				if ($day > 0 AND $day <= $total_days)
+				{ 					
+					if (isset($data[$day]))
+					{	
+						// Cells with content
+						$temp = ($is_current_month == TRUE AND $day == $cur_day) ? $this->temp['cal_cell_content_today'] : $this->temp['cal_cell_content'];
+						$out .= str_replace('{day}', $day, str_replace('{content}', $data[$day], $temp));
+					}
+					else
+					{
+						// Cells with no content
+						$temp = ($is_current_month == TRUE AND $day == $cur_day) ? $this->temp['cal_cell_no_content_today'] : $this->temp['cal_cell_no_content'];
+						$out .= str_replace('{day}', $day, $temp);
+					}
+				}
+				else
+				{
+					// Blank cells
+					$out .= $this->temp['cal_cell_blank'];
+				}
+				
+				$out .= ($is_current_month == TRUE AND $day == $cur_day) ? $this->temp['cal_cell_end_today'] : $this->temp['cal_cell_end'];					  	
+				$day++;
+			}
+			
+			$out .= "\n";		
+			$out .= $this->temp['cal_row_end'];
+			$out .= "\n";		
+		}
+
+		$out .= "\n";		
+		$out .= $this->temp['table_close'];
+
+		return $out;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get Month Name
+	 *
+	 * Generates a textual month name based on the numeric
+	 * month provided.
+	 *
+	 * @access	public
+	 * @param	integer	the month
+	 * @return	string
+	 */
+	function get_month_name($month)
+	{
+		if ($this->month_type == 'short')
+		{
+			$month_names = array('01' => 'cal_jan', '02' => 'cal_feb', '03' => 'cal_mar', '04' => 'cal_apr', '05' => 'cal_may', '06' => 'cal_jun', '07' => 'cal_jul', '08' => 'cal_aug', '09' => 'cal_sep', '10' => 'cal_oct', '11' => 'cal_nov', '12' => 'cal_dec');
+		}
+		else
+		{
+			$month_names = array('01' => 'cal_january', '02' => 'cal_february', '03' => 'cal_march', '04' => 'cal_april', '05' => 'cal_may', '06' => 'cal_june', '07' => 'cal_july', '08' => 'cal_august', '09' => 'cal_september', '10' => 'cal_october', '11' => 'cal_november', '12' => 'cal_december');
+		}
+		
+		$month = $month_names[$month];
+		
+		if ($this->CI->lang->line($month) === FALSE)
+		{
+			return ucfirst(str_replace('cal_', '', $month));
+		}
+
+		return $this->CI->lang->line($month);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get Day Names
+	 *
+	 * Returns an array of day names (Sunday, Monday, etc.) based
+	 * on the type.  Options: long, short, abrev
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	array
+	 */
+	function get_day_names($day_type = '')
+	{
+		if ($day_type != '')
+			$this->day_type = $day_type;
+	
+		if ($this->day_type == 'long')
+		{
+			$day_names = array('sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday');
+		}
+		elseif ($this->day_type == 'short')
+		{
+			$day_names = array('sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat');
+		}
+		else
+		{
+			$day_names = array('su', 'mo', 'tu', 'we', 'th', 'fr', 'sa');
+		}
+	
+		$days = array();
+		foreach ($day_names as $val)
+		{			
+			$days[] = ($this->CI->lang->line('cal_'.$val) === FALSE) ? ucfirst($val) : $this->CI->lang->line('cal_'.$val);
+		}
+	
+		return $days;
+	}
+ 	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Adjust Date
+	 *
+	 * This function makes sure that we have a valid month/year.
+	 * For example, if you submit 13 as the month, the year will
+	 * increment and the month will become January.
+	 *
+	 * @access	public
+	 * @param	integer	the month
+	 * @param	integer	the year
+	 * @return	array
+	 */
+	function adjust_date($month, $year)
+	{
+		$date = array();
+
+		$date['month']	= $month;
+		$date['year']	= $year;
+
+		while ($date['month'] > 12)
+		{
+			$date['month'] -= 12;
+			$date['year']++;
+		}
+
+		while ($date['month'] <= 0)
+		{
+			$date['month'] += 12;
+			$date['year']--;
+		}
+
+		if (strlen($date['month']) == 1)
+		{
+			$date['month'] = '0'.$date['month'];
+		}
+
+		return $date;
+	}
+ 	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Total days in a given month
+	 *
+	 * @access	public
+	 * @param	integer	the month
+	 * @param	integer	the year
+	 * @return	integer
+	 */
+	function get_total_days($month, $year)
+	{
+		$days_in_month	= array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);
+
+		if ($month < 1 OR $month > 12)
+		{
+			return 0;
+		}
+
+		// Is the year a leap year?
+		if ($month == 2)
+		{
+			if ($year % 400 == 0 OR ($year % 4 == 0 AND $year % 100 != 0))
+			{
+				return 29;
+			}
+		}
+
+		return $days_in_month[$month - 1];
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Default Template Data
+	 *
+	 * This is used in the event that the user has not created their own template
+	 *
+	 * @access	public
+	 * @return array
+	 */
+	function default_template()
+	{
+		return  array (
+						'table_open' 				=> '<table border="0" cellpadding="4" cellspacing="0">',
+						'heading_row_start' 		=> '<tr>',
+						'heading_previous_cell'		=> '<th><a href="{previous_url}">&lt;&lt;</a></th>',
+						'heading_title_cell' 		=> '<th colspan="{colspan}">{heading}</th>',
+						'heading_next_cell' 		=> '<th><a href="{next_url}">&gt;&gt;</a></th>',
+						'heading_row_end' 			=> '</tr>',
+						'week_row_start' 			=> '<tr>',
+						'week_day_cell' 			=> '<td>{week_day}</td>',
+						'week_row_end' 				=> '</tr>',
+						'cal_row_start' 			=> '<tr>',
+						'cal_cell_start' 			=> '<td>',
+						'cal_cell_start_today'		=> '<td>',
+						'cal_cell_content'			=> '<a href="{content}">{day}</a>',
+						'cal_cell_content_today'	=> '<a href="{content}"><strong>{day}</strong></a>',
+						'cal_cell_no_content'		=> '{day}',
+						'cal_cell_no_content_today'	=> '<strong>{day}</strong>',
+						'cal_cell_blank'			=> '&nbsp;',
+						'cal_cell_end'				=> '</td>',
+						'cal_cell_end_today'		=> '</td>',
+						'cal_row_end'				=> '</tr>',
+						'table_close'				=> '</table>'
+					);	
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Parse Template
+	 *
+	 * Harvests the data within the template {pseudo-variables}
+	 * used to display the calendar
+	 *
+	 * @access	public
+	 * @return	void
+	 */
+ 	function parse_template()
+ 	{
+		$this->temp = $this->default_template();
+ 	
+ 		if ($this->template == '')
+ 		{
+ 			return;
+ 		}
+ 		
+		$today = array('cal_cell_start_today', 'cal_cell_content_today', 'cal_cell_no_content_today', 'cal_cell_end_today');
+		
+		foreach (array('table_open', 'table_close', 'heading_row_start', 'heading_previous_cell', 'heading_title_cell', 'heading_next_cell', 'heading_row_end', 'week_row_start', 'week_day_cell', 'week_row_end', 'cal_row_start', 'cal_cell_start', 'cal_cell_content', 'cal_cell_no_content',  'cal_cell_blank', 'cal_cell_end', 'cal_row_end', 'cal_cell_start_today', 'cal_cell_content_today', 'cal_cell_no_content_today', 'cal_cell_end_today') as $val)
+		{
+			if (preg_match("/\{".$val."\}(.*?)\{\/".$val."\}/si", $this->template, $match))
+			{
+				$this->temp[$val] = $match['1'];
+			}
+			else
+			{
+				if (in_array($val, $today, TRUE))
+				{
+					$this->temp[$val] = $this->temp[str_replace('_today', '', $val)];
+				}
+			}
+		} 	
+ 	}
+
+}
+
+// END CI_Calendar class
+
+/* End of file Calendar.php */
+/* Location: ./system/libraries/Calendar.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Config.php
===================================================================
--- trunk/pintassilgo/system/libraries/Config.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Config.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,244 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Config Class
+ *
+ * This class contains functions that enable config files to be managed
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/config.html
+ */
+class CI_Config {
+
+	var $config = array();
+	var $is_loaded = array();
+
+	/**
+	 * Constructor
+	 *
+	 * Sets the $config data from the primary config.php file as a class variable
+	 *
+	 * @access   public
+	 * @param   string	the config file name
+	 * @param   boolean  if configuration values should be loaded into their own section
+	 * @param   boolean  true if errors should just return false, false if an error message should be displayed
+	 * @return  boolean  if the file was successfully loaded or not
+	 */
+	function CI_Config()
+	{
+		$this->config =& get_config();
+		log_message('debug', "Config Class Initialized");
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Load Config File
+	 *
+	 * @access	public
+	 * @param	string	the config file name
+	 * @return	boolean	if the file was loaded correctly
+	 */	
+	function load($file = '', $use_sections = FALSE, $fail_gracefully = FALSE)
+	{
+		$file = ($file == '') ? 'config' : str_replace(EXT, '', $file);
+	
+		if (in_array($file, $this->is_loaded, TRUE))
+		{
+			return TRUE;
+		}
+
+		if ( ! file_exists(APPPATH.'config/'.$file.EXT))
+		{
+			if ($fail_gracefully === TRUE)
+			{
+				return FALSE;
+			}
+			show_error('The configuration file '.$file.EXT.' does not exist.');
+		}
+	
+		include(APPPATH.'config/'.$file.EXT);
+
+		if ( ! isset($config) OR ! is_array($config))
+		{
+			if ($fail_gracefully === TRUE)
+			{
+				return FALSE;
+			}
+			show_error('Your '.$file.EXT.' file does not appear to contain a valid configuration array.');
+		}
+
+		if ($use_sections === TRUE)
+		{
+			if (isset($this->config[$file]))
+			{
+				$this->config[$file] = array_merge($this->config[$file], $config);
+			}
+			else
+			{
+				$this->config[$file] = $config;
+			}
+		}
+		else
+		{
+			$this->config = array_merge($this->config, $config);
+		}
+
+		$this->is_loaded[] = $file;
+		unset($config);
+
+		log_message('debug', 'Config file loaded: config/'.$file.EXT);
+		return TRUE;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch a config file item
+	 *
+	 *
+	 * @access	public
+	 * @param	string	the config item name
+	 * @param	string	the index name
+	 * @param	bool
+	 * @return	string
+	 */
+	function item($item, $index = '')
+	{	
+		if ($index == '')
+		{	
+			if ( ! isset($this->config[$item]))
+			{
+				return FALSE;
+			}
+
+			$pref = $this->config[$item];
+		}
+		else
+		{
+			if ( ! isset($this->config[$index]))
+			{
+				return FALSE;
+			}
+
+			if ( ! isset($this->config[$index][$item]))
+			{
+				return FALSE;
+			}
+
+			$pref = $this->config[$index][$item];
+		}
+
+		return $pref;
+	}
+  	
+  	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch a config file item - adds slash after item
+	 *
+	 * The second parameter allows a slash to be added to the end of
+	 * the item, in the case of a path.
+	 *
+	 * @access	public
+	 * @param	string	the config item name
+	 * @param	bool
+	 * @return	string
+	 */
+	function slash_item($item)
+	{
+		if ( ! isset($this->config[$item]))
+		{
+			return FALSE;
+		}
+
+		$pref = $this->config[$item];
+
+		if ($pref != '' && substr($pref, -1) != '/')
+		{	
+			$pref .= '/';
+		}
+
+		return $pref;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Site URL
+	 *
+	 * @access	public
+	 * @param	string	the URI string
+	 * @return	string
+	 */
+	function site_url($uri = '')
+	{
+		if (is_array($uri))
+		{
+			$uri = implode('/', $uri);
+		}
+
+		if ($uri == '')
+		{
+			return $this->slash_item('base_url').$this->item('index_page');
+		}
+		else
+		{
+			$suffix = ($this->item('url_suffix') == FALSE) ? '' : $this->item('url_suffix');
+			return $this->slash_item('base_url').$this->slash_item('index_page').preg_replace("|^/*(.+?)/*$|", "\\1", $uri).$suffix;
+		}
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * System URL
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function system_url()
+	{
+		$x = explode("/", preg_replace("|/*(.+?)/*$|", "\\1", BASEPATH));
+		return $this->slash_item('base_url').end($x).'/';
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set a config file item
+	 *
+	 * @access	public
+	 * @param	string	the config item key
+	 * @param	string	the config item value
+	 * @return	void
+	 */
+	function set_item($item, $value)
+	{
+		$this->config[$item] = $value;
+	}
+
+}
+
+// END CI_Config class
+
+/* End of file Config.php */
+/* Location: ./system/libraries/Config.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Controller.php
===================================================================
--- trunk/pintassilgo/system/libraries/Controller.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Controller.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,127 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Application Controller Class
+ *
+ * This class object is the super class the every library in
+ * CodeIgniter will be assigned to.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/general/controllers.html
+ */
+class Controller extends CI_Base {
+
+	var $_ci_scaffolding	= FALSE;
+	var $_ci_scaff_table	= FALSE;
+	
+	/**
+	 * Constructor
+	 *
+	 * Calls the initialize() function
+	 */
+	function Controller()
+	{	
+		parent::CI_Base();
+		$this->_ci_initialize();
+		log_message('debug', "Controller Class Initialized");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Initialize
+	 *
+	 * Assigns all the bases classes loaded by the front controller to
+	 * variables in this class.  Also calls the autoload routine.
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _ci_initialize()
+	{
+		// Assign all the class objects that were instantiated by the
+		// front controller to local class variables so that CI can be
+		// run as one big super object.
+		$classes = array(
+							'config'	=> 'Config',
+							'input'		=> 'Input',
+							'benchmark'	=> 'Benchmark',
+							'uri'		=> 'URI',
+							'output'	=> 'Output',
+							'lang'		=> 'Language',
+							'router'	=> 'Router'
+							);
+		
+		foreach ($classes as $var => $class)
+		{
+			$this->$var =& load_class($class);
+		}
+
+		// In PHP 5 the Loader class is run as a discreet
+		// class.  In PHP 4 it extends the Controller
+		if (floor(phpversion()) >= 5)
+		{
+			$this->load =& load_class('Loader');
+			$this->load->_ci_autoloader();
+		}
+		else
+		{
+			$this->_ci_autoloader();
+			
+			// sync up the objects since PHP4 was working from a copy
+			foreach (array_keys(get_object_vars($this)) as $attribute)
+			{
+				if (is_object($this->$attribute))
+				{
+					$this->load->$attribute =& $this->$attribute;
+				}
+			}
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Run Scaffolding
+	 *
+	 * @access	private
+	 * @return	void
+	 */	
+	function _ci_scaffolding()
+	{
+		if ($this->_ci_scaffolding === FALSE OR $this->_ci_scaff_table === FALSE)
+		{
+			show_404('Scaffolding unavailable');
+		}
+		
+		$method = ( ! in_array($this->uri->segment(3), array('add', 'insert', 'edit', 'update', 'view', 'delete', 'do_delete'), TRUE)) ? 'view' : $this->uri->segment(3);
+		
+		require_once(BASEPATH.'scaffolding/Scaffolding'.EXT);
+		$scaff = new Scaffolding($this->_ci_scaff_table);
+		$scaff->$method();
+	}
+
+
+}
+// END _Controller class
+
+/* End of file Controller.php */
+/* Location: ./system/libraries/Controller.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Email.php
===================================================================
--- trunk/pintassilgo/system/libraries/Email.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Email.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,1953 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Email Class
+ *
+ * Permits email to be sent using Mail, Sendmail, or SMTP.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/email.html
+ */
+class CI_Email {
+
+	var	$useragent		= "CodeIgniter";
+	var	$mailpath		= "/usr/sbin/sendmail";	// Sendmail path
+	var	$protocol		= "mail";	// mail/sendmail/smtp
+	var	$smtp_host		= "";		// SMTP Server.  Example: mail.earthlink.net
+	var	$smtp_user		= "";		// SMTP Username
+	var	$smtp_pass		= "";		// SMTP Password
+	var	$smtp_port		= "25";		// SMTP Port
+	var	$smtp_timeout	= 5;		// SMTP Timeout in seconds
+	var	$wordwrap		= TRUE;		// TRUE/FALSE  Turns word-wrap on/off
+	var	$wrapchars		= "76";		// Number of characters to wrap at.
+	var	$mailtype		= "text";	// text/html  Defines email formatting
+	var	$charset		= "utf-8";	// Default char set: iso-8859-1 or us-ascii
+	var	$multipart		= "mixed";	// "mixed" (in the body) or "related" (separate)
+	var $alt_message	= '';		// Alternative message for HTML emails
+	var	$validate		= FALSE;	// TRUE/FALSE.  Enables email validation
+	var	$priority		= "3";		// Default priority (1 - 5)
+	var	$newline		= "\n";		// Default newline. "\r\n" or "\n" (Use "\r\n" to comply with RFC 822)
+	var $crlf			= "\n";		// The RFC 2045 compliant CRLF for quoted-printable is "\r\n".  Apparently some servers,
+									// even on the receiving end think they need to muck with CRLFs, so using "\n", while
+									// distasteful, is the only thing that seems to work for all environments.
+	var $send_multipart	= TRUE;		// TRUE/FALSE - Yahoo does not like multipart alternative, so this is an override.  Set to FALSE for Yahoo.	
+	var	$bcc_batch_mode	= FALSE;	// TRUE/FALSE  Turns on/off Bcc batch feature
+	var	$bcc_batch_size	= 200;		// If bcc_batch_mode = TRUE, sets max number of Bccs in each batch
+	var $_safe_mode		= FALSE;
+	var	$_subject		= "";
+	var	$_body			= "";
+	var	$_finalbody		= "";
+	var	$_alt_boundary	= "";
+	var	$_atc_boundary	= "";
+	var	$_header_str	= "";
+	var	$_smtp_connect	= "";
+	var	$_encoding		= "8bit";
+	var $_IP			= FALSE;
+	var	$_smtp_auth		= FALSE;
+	var $_replyto_flag	= FALSE;
+	var	$_debug_msg		= array();
+	var	$_recipients	= array();
+	var	$_cc_array		= array();
+	var	$_bcc_array		= array();
+	var	$_headers		= array();
+	var	$_attach_name	= array();
+	var	$_attach_type	= array();
+	var	$_attach_disp	= array();
+	var	$_protocols		= array('mail', 'sendmail', 'smtp');
+	var	$_base_charsets	= array('us-ascii', 'iso-2022-');	// 7-bit charsets (excluding language suffix)
+	var	$_bit_depths	= array('7bit', '8bit');
+	var	$_priorities	= array('1 (Highest)', '2 (High)', '3 (Normal)', '4 (Low)', '5 (Lowest)');
+
+
+	/**
+	 * Constructor - Sets Email Preferences
+	 *
+	 * The constructor can be passed an array of config values
+	 */
+	function CI_Email($config = array())
+	{	
+		if (count($config) > 0)
+		{
+			$this->initialize($config);
+		}	
+		else
+		{
+			$this->_smtp_auth = ($this->smtp_user == '' AND $this->smtp_pass == '') ? FALSE : TRUE;	
+			$this->_safe_mode = ((boolean)@ini_get("safe_mode") === FALSE) ? FALSE : TRUE;
+		}
+		
+		log_message('debug', "Email Class Initialized");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Initialize preferences
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	void
+	 */
+	function initialize($config = array())
+	{
+		$this->clear();
+		foreach ($config as $key => $val)
+		{
+			if (isset($this->$key))
+			{
+				$method = 'set_'.$key;
+
+				if (method_exists($this, $method))
+				{
+					$this->$method($val);
+				}
+				else
+				{
+					$this->$key = $val;
+				}	
+			}
+		}
+		
+		$this->_smtp_auth = ($this->smtp_user == '' AND $this->smtp_pass == '') ? FALSE : TRUE;	
+		$this->_safe_mode = ((boolean)@ini_get("safe_mode") === FALSE) ? FALSE : TRUE;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Initialize the Email Data
+	 *
+	 * @access	public
+	 * @return	void
+	 */	
+	function clear($clear_attachments = FALSE)
+	{
+		$this->_subject		= "";
+		$this->_body		= "";
+		$this->_finalbody	= "";
+		$this->_header_str	= "";
+		$this->_replyto_flag = FALSE;
+		$this->_recipients	= array();
+		$this->_headers		= array();
+		$this->_debug_msg	= array();
+
+		$this->_set_header('User-Agent', $this->useragent);
+		$this->_set_header('Date', $this->_set_date());
+
+		if ($clear_attachments !== FALSE)
+		{
+			$this->_attach_name = array();
+			$this->_attach_type = array();
+			$this->_attach_disp = array();
+		}   
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set FROM
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	void
+	 */	
+	function from($from, $name = '')
+	{
+		if (preg_match( '/\<(.*)\>/', $from, $match))
+		{
+			$from = $match['1'];
+		}
+
+		if ($this->validate)
+		{
+			$this->validate_email($this->_str_to_array($from));
+		}
+	
+		if ($name != '' && strncmp($name, '"', 1) != 0)
+		{
+			$name = '"'.$name.'"';
+		}
+	
+		$this->_set_header('From', $name.' <'.$from.'>');
+		$this->_set_header('Return-Path', '<'.$from.'>');
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Reply-to
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	void
+	 */	
+	function reply_to($replyto, $name = '')
+	{
+		if (preg_match( '/\<(.*)\>/', $replyto, $match))
+		{
+			$replyto = $match['1'];
+		}
+
+		if ($this->validate)
+		{
+			$this->validate_email($this->_str_to_array($replyto));	
+		}
+
+		if ($name == '')
+		{
+			$name = $replyto;
+		}
+
+		if (strncmp($name, '"', 1) != 0)
+		{
+			$name = '"'.$name.'"';
+		}
+
+		$this->_set_header('Reply-To', $name.' <'.$replyto.'>');
+		$this->_replyto_flag = TRUE;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Recipients
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function to($to)
+	{
+		$to = $this->_str_to_array($to);
+		$to = $this->clean_email($to);
+	
+		if ($this->validate)
+		{
+			$this->validate_email($to);
+		}
+	
+		if ($this->_get_protocol() != 'mail')
+		{
+			$this->_set_header('To', implode(", ", $to));
+		}
+
+		switch ($this->_get_protocol())
+		{
+			case 'smtp'		: $this->_recipients = $to;
+			break;
+			case 'sendmail'	: $this->_recipients = implode(", ", $to);
+			break;
+			case 'mail'		: $this->_recipients = implode(", ", $to);
+			break;
+		}	
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set CC
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function cc($cc)
+	{	
+		$cc = $this->_str_to_array($cc);
+		$cc = $this->clean_email($cc);
+
+		if ($this->validate)
+		{
+			$this->validate_email($cc);
+		}
+
+		$this->_set_header('Cc', implode(", ", $cc));
+
+		if ($this->_get_protocol() == "smtp")
+		{
+			$this->_cc_array = $cc;
+		}
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set BCC
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	void
+	 */	
+	function bcc($bcc, $limit = '')
+	{
+		if ($limit != '' && is_numeric($limit))
+		{
+			$this->bcc_batch_mode = TRUE;
+			$this->bcc_batch_size = $limit;
+		}
+
+		$bcc = $this->_str_to_array($bcc);
+		$bcc = $this->clean_email($bcc);
+
+		if ($this->validate)
+		{
+			$this->validate_email($bcc);
+		}
+
+		if (($this->_get_protocol() == "smtp") OR ($this->bcc_batch_mode && count($bcc) > $this->bcc_batch_size))
+		{
+			$this->_bcc_array = $bcc;
+		}
+		else
+		{
+			$this->_set_header('Bcc', implode(", ", $bcc));
+		}
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Email Subject
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function subject($subject)
+	{
+		if (strpos($subject, "\r") !== FALSE OR strpos($subject, "\n") !== FALSE)
+		{
+			$subject = str_replace(array("\r\n", "\r", "\n"), '', $subject);			
+		}
+
+		if (strpos($subject, "\t"))
+		{
+			$subject = str_replace("\t", ' ', $subject);
+		}
+
+		$this->_set_header('Subject', trim($subject));
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Body
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function message($body)
+	{
+		$this->_body = stripslashes(rtrim(str_replace("\r", "", $body)));	
+	}	
+ 	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Assign file attachments
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function attach($filename, $disposition = 'attachment')
+	{	
+		$this->_attach_name[] = $filename;
+		$this->_attach_type[] = $this->_mime_types(next(explode('.', basename($filename))));
+		$this->_attach_disp[] = $disposition; // Can also be 'inline'  Not sure if it matters
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Add a Header Item
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @return	void
+	 */	
+	function _set_header($header, $value)
+	{
+		$this->_headers[$header] = $value;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Convert a String to an Array
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	array
+	 */	
+	function _str_to_array($email)
+	{
+		if ( ! is_array($email))
+		{
+			if (strpos($email, ',') !== FALSE)
+			{
+				$email = preg_split('/[\s,]/', $email, -1, PREG_SPLIT_NO_EMPTY);
+			}
+			else
+			{
+				$email = trim($email);
+				settype($email, "array");
+			}
+		}
+		return $email;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Multipart Value
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_alt_message($str = '')
+	{
+		$this->alt_message = ($str == '') ? '' : $str;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Mailtype
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_mailtype($type = 'text')
+	{
+		$this->mailtype = ($type == 'html') ? 'html' : 'text';
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Wordwrap
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_wordwrap($wordwrap = TRUE)
+	{
+		$this->wordwrap = ($wordwrap === FALSE) ? FALSE : TRUE;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Protocol
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_protocol($protocol = 'mail')
+	{
+		$this->protocol = ( ! in_array($protocol, $this->_protocols, TRUE)) ? 'mail' : strtolower($protocol);
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Priority
+	 *
+	 * @access	public
+	 * @param	integer
+	 * @return	void
+	 */	
+	function set_priority($n = 3)
+	{
+		if ( ! is_numeric($n))
+		{
+			$this->priority = 3;
+			return;
+		}
+	
+		if ($n < 1 OR $n > 5)
+		{
+			$this->priority = 3;
+			return;
+		}
+	
+		$this->priority = $n;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Newline Character
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_newline($newline = "\n")
+	{
+		if ($newline != "\n" AND $newline != "\r\n" AND $newline != "\r")
+		{
+			$this->newline	= "\n";	
+			return;
+		}
+	
+		$this->newline	= $newline;	
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set CRLF
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_crlf($crlf = "\n")
+	{
+		if ($crlf != "\n" AND $crlf != "\r\n" AND $crlf != "\r")
+		{
+			$this->crlf	= "\n";	
+			return;
+		}
+	
+		$this->crlf	= $crlf;	
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Message Boundary
+	 *
+	 * @access	private
+	 * @return	void
+	 */	
+	function _set_boundaries()
+	{
+		$this->_alt_boundary = "B_ALT_".uniqid(''); // multipart/alternative
+		$this->_atc_boundary = "B_ATC_".uniqid(''); // attachment boundary
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get the Message ID
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _get_message_id()
+	{
+		$from = $this->_headers['Return-Path'];
+		$from = str_replace(">", "", $from);
+		$from = str_replace("<", "", $from);
+	
+		return  "<".uniqid('').strstr($from, '@').">";	
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get Mail Protocol
+	 *
+	 * @access	private
+	 * @param	bool
+	 * @return	string
+	 */	
+	function _get_protocol($return = TRUE)
+	{
+		$this->protocol = strtolower($this->protocol);
+		$this->protocol = ( ! in_array($this->protocol, $this->_protocols, TRUE)) ? 'mail' : $this->protocol;
+
+		if ($return == TRUE)
+		{
+			return $this->protocol;
+		}
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get Mail Encoding
+	 *
+	 * @access	private
+	 * @param	bool
+	 * @return	string
+	 */	
+	function _get_encoding($return = TRUE)
+	{
+		$this->_encoding = ( ! in_array($this->_encoding, $this->_bit_depths)) ? '8bit' : $this->_encoding;
+
+		foreach ($this->_base_charsets as $charset)
+		{
+			if (strncmp($charset, $this->charset, strlen($charset)) == 0)
+			{
+				$this->_encoding = '7bit';
+			}
+		}
+	
+		if ($return == TRUE)
+		{
+			return $this->_encoding;	
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get content type (text/html/attachment)
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _get_content_type()
+	{	
+		if	($this->mailtype == 'html' &&  count($this->_attach_name) == 0)
+		{
+			return 'html';
+		}
+		elseif	($this->mailtype == 'html' &&  count($this->_attach_name)  > 0)
+		{
+			return 'html-attach';
+		}
+		elseif	($this->mailtype == 'text' &&  count($this->_attach_name)  > 0)
+		{
+			return 'plain-attach';
+		}
+		else
+		{
+			return 'plain';
+		}
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set RFC 822 Date
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _set_date()
+	{
+		$timezone = date("Z");
+		$operator = (strncmp($timezone, '-', 1) == 0) ? '-' : '+';
+		$timezone = abs($timezone);
+		$timezone = floor($timezone/3600) * 100 + ($timezone % 3600 ) / 60;
+
+		return sprintf("%s %s%04d", date("D, j M Y H:i:s"), $operator, $timezone);
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Mime message
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _get_mime_message()
+	{
+		return "This is a multi-part message in MIME format.".$this->newline."Your email application may not support this format.";
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Validate Email Address
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function validate_email($email)
+	{	
+		if ( ! is_array($email))
+		{
+			$this->_set_error_message('email_must_be_array');
+			return FALSE;
+		}
+
+		foreach ($email as $val)
+		{
+			if ( ! $this->valid_email($val))
+			{
+				$this->_set_error_message('email_invalid_address', $val);
+				return FALSE;
+			}
+		}
+	}	
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Email Validation
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function valid_email($address)
+	{
+		return ( ! preg_match("/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/ix", $address)) ? FALSE : TRUE;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Clean Extended Email Address: Joe Smith <joe at smith.com>
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function clean_email($email)
+	{
+		if ( ! is_array($email))
+		{
+			if (preg_match('/\<(.*)\>/', $email, $match))
+			{
+		   		return $match['1'];
+			}
+		   	else
+			{
+		   		return $email;
+			}
+		}
+	
+		$clean_email = array();
+
+		foreach ($email as $addy)
+		{
+			if (preg_match( '/\<(.*)\>/', $addy, $match))
+			{
+		   		$clean_email[] = $match['1'];
+			}
+		   	else
+			{
+		   		$clean_email[] = $addy;	
+			}
+		}
+
+		return $clean_email;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Build alternative plain text message
+	 *
+	 * This function provides the raw message for use
+	 * in plain-text headers of HTML-formatted emails.
+	 * If the user hasn't specified his own alternative message
+	 * it creates one by stripping the HTML
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _get_alt_message()
+	{
+		if ($this->alt_message != "")
+		{
+			return $this->word_wrap($this->alt_message, '76');
+		}
+
+		if (preg_match('/\<body.*?\>(.*)\<\/body\>/si', $this->_body, $match))
+		{
+			$body = $match['1'];
+		}
+		else
+		{
+			$body = $this->_body;
+		}
+
+		$body = trim(strip_tags($body));
+		$body = preg_replace( '#<!--(.*)--\>#', "", $body);
+		$body = str_replace("\t", "", $body);
+
+		for ($i = 20; $i >= 3; $i--)
+		{
+			$n = "";
+	
+			for ($x = 1; $x <= $i; $x ++)
+			{
+				 $n .= "\n";
+			}
+
+			$body = str_replace($n, "\n\n", $body);	
+		}
+
+		return $this->word_wrap($body, '76');
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Word Wrap
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	integer
+	 * @return	string
+	 */	
+	function word_wrap($str, $charlim = '')
+	{
+		// Se the character limit
+		if ($charlim == '')
+		{
+			$charlim = ($this->wrapchars == "") ? "76" : $this->wrapchars;
+		}
+
+		// Reduce multiple spaces
+		$str = preg_replace("| +|", " ", $str);
+
+		// Standardize newlines
+		if (strpos($str, "\r") !== FALSE)
+		{
+			$str = str_replace(array("\r\n", "\r"), "\n", $str);			
+		}
+
+		// If the current word is surrounded by {unwrap} tags we'll 
+		// strip the entire chunk and replace it with a marker.
+		$unwrap = array();
+		if (preg_match_all("|(\{unwrap\}.+?\{/unwrap\})|s", $str, $matches))
+		{
+			for ($i = 0; $i < count($matches['0']); $i++)
+			{
+				$unwrap[] = $matches['1'][$i];
+				$str = str_replace($matches['1'][$i], "{{unwrapped".$i."}}", $str);
+			}
+		}
+
+		// Use PHP's native function to do the initial wordwrap.  
+		// We set the cut flag to FALSE so that any individual words that are 
+		// too long get left alone.  In the next step we'll deal with them.
+		$str = wordwrap($str, $charlim, "\n", FALSE);
+
+		// Split the string into individual lines of text and cycle through them
+		$output = "";
+		foreach (explode("\n", $str) as $line) 
+		{
+			// Is the line within the allowed character count?
+			// If so we'll join it to the output and continue
+			if (strlen($line) <= $charlim)
+			{
+				$output .= $line.$this->newline;	
+				continue;
+			}
+
+			$temp = '';
+			while((strlen($line)) > $charlim) 
+			{
+				// If the over-length word is a URL we won't wrap it
+				if (preg_match("!\[url.+\]|://|wwww.!", $line))
+				{
+					break;
+				}
+
+				// Trim the word down
+				$temp .= substr($line, 0, $charlim-1);
+				$line = substr($line, $charlim-1);
+			}
+	
+			// If $temp contains data it means we had to split up an over-length 
+			// word into smaller chunks so we'll add it back to our current line
+			if ($temp != '')
+			{
+				$output .= $temp.$this->newline.$line;
+			}
+			else
+			{
+				$output .= $line;
+			}
+
+			$output .= $this->newline;
+		}
+
+		// Put our markers back
+		if (count($unwrap) > 0)
+		{	
+			foreach ($unwrap as $key => $val)
+			{
+				$output = str_replace("{{unwrapped".$key."}}", $val, $output);
+			}
+		}
+
+		return $output;	
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Build final headers
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */	
+	function _build_headers()
+	{
+		$this->_set_header('X-Sender', $this->clean_email($this->_headers['From']));
+		$this->_set_header('X-Mailer', $this->useragent);
+		$this->_set_header('X-Priority', $this->_priorities[$this->priority - 1]);
+		$this->_set_header('Message-ID', $this->_get_message_id());
+		$this->_set_header('Mime-Version', '1.0');
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Write Headers as a string
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _write_headers()
+	{
+		if ($this->protocol == 'mail')
+		{
+			$this->_subject = $this->_headers['Subject'];
+			unset($this->_headers['Subject']);
+		}	
+
+		reset($this->_headers);
+		$this->_header_str = "";
+
+		foreach($this->_headers as $key => $val)
+		{
+			$val = trim($val);
+
+			if ($val != "")
+			{
+				$this->_header_str .= $key.": ".$val.$this->newline;
+			}
+		}
+
+		if ($this->_get_protocol() == 'mail')
+		{
+			$this->_header_str = substr($this->_header_str, 0, -1);
+		}
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Build Final Body and attachments
+	 *
+	 * @access	private
+	 * @return	void
+	 */	
+	function _build_message()
+	{
+		if ($this->wordwrap === TRUE  AND  $this->mailtype != 'html')
+		{
+			$this->_body = $this->word_wrap($this->_body);
+		}
+	
+		$this->_set_boundaries();
+		$this->_write_headers();
+
+		$hdr = ($this->_get_protocol() == 'mail') ? $this->newline : '';
+	
+		switch ($this->_get_content_type())
+		{
+			case 'plain' :
+	
+				$hdr .= "Content-Type: text/plain; charset=" . $this->charset . $this->newline;
+				$hdr .= "Content-Transfer-Encoding: " . $this->_get_encoding();
+
+				if ($this->_get_protocol() == 'mail')
+				{
+					$this->_header_str .= $hdr;
+					$this->_finalbody = $this->_body;
+	
+					return;
+				}
+
+				$hdr .= $this->newline . $this->newline . $this->_body;
+
+				$this->_finalbody = $hdr;
+				return;
+	
+			break;
+			case 'html' :
+	
+				if ($this->send_multipart === FALSE)
+				{
+					$hdr .= "Content-Type: text/html; charset=" . $this->charset . $this->newline;
+					$hdr .= "Content-Transfer-Encoding: quoted-printable";
+				}
+				else
+				{	
+					$hdr .= "Content-Type: multipart/alternative; boundary=\"" . $this->_alt_boundary . "\"" . $this->newline;
+					$hdr .= $this->_get_mime_message() . $this->newline . $this->newline;
+					$hdr .= "--" . $this->_alt_boundary . $this->newline;
+	
+					$hdr .= "Content-Type: text/plain; charset=" . $this->charset . $this->newline;
+					$hdr .= "Content-Transfer-Encoding: " . $this->_get_encoding() . $this->newline . $this->newline;
+					$hdr .= $this->_get_alt_message() . $this->newline . $this->newline . "--" . $this->_alt_boundary . $this->newline;
+
+					$hdr .= "Content-Type: text/html; charset=" . $this->charset . $this->newline;
+					$hdr .= "Content-Transfer-Encoding: quoted-printable";
+				}
+
+				$this->_body = $this->_prep_quoted_printable($this->_body);
+
+				if ($this->_get_protocol() == 'mail')
+				{
+					$this->_header_str .= $hdr;
+					$this->_finalbody = $this->_body . $this->newline . $this->newline;
+	
+					if ($this->send_multipart !== FALSE)
+					{
+						$this->_finalbody .= "--" . $this->_alt_boundary . "--";
+					}
+	
+					return;
+				}
+
+				$hdr .= $this->newline . $this->newline;
+				$hdr .= $this->_body . $this->newline . $this->newline;
+
+				if ($this->send_multipart !== FALSE)
+				{
+					$hdr .= "--" . $this->_alt_boundary . "--";
+				}
+
+				$this->_finalbody = $hdr;
+				return;
+
+			break;
+			case 'plain-attach' :
+	
+				$hdr .= "Content-Type: multipart/".$this->multipart."; boundary=\"" . $this->_atc_boundary."\"" . $this->newline;
+				$hdr .= $this->_get_mime_message() . $this->newline . $this->newline;
+				$hdr .= "--" . $this->_atc_boundary . $this->newline;
+	
+				$hdr .= "Content-Type: text/plain; charset=" . $this->charset . $this->newline;
+				$hdr .= "Content-Transfer-Encoding: " . $this->_get_encoding();
+
+				if ($this->_get_protocol() == 'mail')
+				{
+					$this->_header_str .= $hdr;
+	
+					$body  = $this->_body . $this->newline . $this->newline;
+				}
+
+				$hdr .= $this->newline . $this->newline;
+				$hdr .= $this->_body . $this->newline . $this->newline;
+
+			break;
+			case 'html-attach' :
+	
+				$hdr .= "Content-Type: multipart/".$this->multipart."; boundary=\"" . $this->_atc_boundary."\"" . $this->newline;
+				$hdr .= $this->_get_mime_message() . $this->newline . $this->newline;
+				$hdr .= "--" . $this->_atc_boundary . $this->newline;
+	
+				$hdr .= "Content-Type: multipart/alternative; boundary=\"" . $this->_alt_boundary . "\"" . $this->newline .$this->newline;
+				$hdr .= "--" . $this->_alt_boundary . $this->newline;
+
+				$hdr .= "Content-Type: text/plain; charset=" . $this->charset . $this->newline;
+				$hdr .= "Content-Transfer-Encoding: " . $this->_get_encoding() . $this->newline . $this->newline;
+				$hdr .= $this->_get_alt_message() . $this->newline . $this->newline . "--" . $this->_alt_boundary . $this->newline;
+	
+				$hdr .= "Content-Type: text/html; charset=" . $this->charset . $this->newline;
+				$hdr .= "Content-Transfer-Encoding: quoted-printable";
+
+				$this->_body = $this->_prep_quoted_printable($this->_body);
+
+				if ($this->_get_protocol() == 'mail')
+				{
+					$this->_header_str .= $hdr;	
+	
+					$body  = $this->_body . $this->newline . $this->newline;
+					$body .= "--" . $this->_alt_boundary . "--" . $this->newline . $this->newline;
+				}
+
+				$hdr .= $this->newline . $this->newline;
+				$hdr .= $this->_body . $this->newline . $this->newline;
+				$hdr .= "--" . $this->_alt_boundary . "--" . $this->newline . $this->newline;
+
+			break;
+		}
+
+		$attachment = array();
+
+		$z = 0;
+
+		for ($i=0; $i < count($this->_attach_name); $i++)
+		{
+			$filename = $this->_attach_name[$i];
+			$basename = basename($filename);
+			$ctype = $this->_attach_type[$i];
+
+			if ( ! file_exists($filename))
+			{
+				$this->_set_error_message('email_attachment_missing', $filename);
+				return FALSE;
+			}	
+
+			$h  = "--".$this->_atc_boundary.$this->newline;
+			$h .= "Content-type: ".$ctype."; ";
+			$h .= "name=\"".$basename."\"".$this->newline;
+			$h .= "Content-Disposition: ".$this->_attach_disp[$i].";".$this->newline;
+			$h .= "Content-Transfer-Encoding: base64".$this->newline;
+
+			$attachment[$z++] = $h;
+			$file = filesize($filename) +1;
+	
+			if ( ! $fp = fopen($filename, FOPEN_READ))
+			{
+				$this->_set_error_message('email_attachment_unreadable', $filename);
+				return FALSE;
+			}
+	
+			$attachment[$z++] = chunk_split(base64_encode(fread($fp, $file)));
+			fclose($fp);
+		}
+
+		if ($this->_get_protocol() == 'mail')
+		{
+			$this->_finalbody = $body . implode($this->newline, $attachment).$this->newline."--".$this->_atc_boundary."--";	
+	
+			return;
+		}
+
+		$this->_finalbody = $hdr.implode($this->newline, $attachment).$this->newline."--".$this->_atc_boundary."--";	
+
+		return;	
+	}
+  	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Prep Quoted Printable
+	 *
+	 * Prepares string for Quoted-Printable Content-Transfer-Encoding
+	 * Refer to RFC 2045 http://www.ietf.org/rfc/rfc2045.txt
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	integer
+	 * @return	string
+	 */
+	function _prep_quoted_printable($str, $charlim = '')
+	{
+		// Set the character limit
+		// Don't allow over 76, as that will make servers and MUAs barf
+		// all over quoted-printable data
+		if ($charlim == '' OR $charlim > '76')
+		{
+			$charlim = '76';
+		}
+
+		// Reduce multiple spaces
+		$str = preg_replace("| +|", " ", $str);
+
+		// kill nulls
+		$str = preg_replace('/\x00+/', '', $str);
+		
+		// Standardize newlines
+		if (strpos($str, "\r") !== FALSE)
+		{
+			$str = str_replace(array("\r\n", "\r"), "\n", $str);
+		}
+
+		// We are intentionally wrapping so mail servers will encode characters
+		// properly and MUAs will behave, so {unwrap} must go!
+		$str = str_replace(array('{unwrap}', '{/unwrap}'), '', $str);
+
+		// Break into an array of lines
+		$lines = explode("\n", $str);
+
+		$escape = '=';
+		$output = '';
+
+		foreach ($lines as $line)
+		{
+			$length = strlen($line);
+			$temp = '';
+
+			// Loop through each character in the line to add soft-wrap
+			// characters at the end of a line " =\r\n" and add the newly
+			// processed line(s) to the output (see comment on $crlf class property)
+			for ($i = 0; $i < $length; $i++)
+			{
+				// Grab the next character
+				$char = substr($line, $i, 1);
+				$ascii = ord($char);
+
+				// Convert spaces and tabs but only if it's the end of the line
+				if ($i == ($length - 1))
+				{
+					$char = ($ascii == '32' OR $ascii == '9') ? $escape.sprintf('%02s', dechex($ascii)) : $char;
+				}
+
+				// encode = signs
+				if ($ascii == '61')
+				{
+					$char = $escape.strtoupper(sprintf('%02s', dechex($ascii)));  // =3D
+				}
+
+				// If we're at the character limit, add the line to the output,
+				// reset our temp variable, and keep on chuggin'
+				if ((strlen($temp) + strlen($char)) >= $charlim)
+				{
+					$output .= $temp.$escape.$this->crlf;
+					$temp = '';
+				}
+
+				// Add the character to our temporary line
+				$temp .= $char;
+			}
+
+			// Add our completed line to the output
+			$output .= $temp.$this->crlf;
+		}
+
+		// get rid of extra CRLF tacked onto the end
+		$output = substr($output, 0, strlen($this->crlf) * -1);
+
+		return $output;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Send Email
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function send()
+	{	
+		if ($this->_replyto_flag == FALSE)
+		{
+			$this->reply_to($this->_headers['From']);
+		}
+	
+		if (( ! isset($this->_recipients) AND ! isset($this->_headers['To']))  AND
+			( ! isset($this->_bcc_array) AND ! isset($this->_headers['Bcc'])) AND
+			( ! isset($this->_headers['Cc'])))
+		{
+			$this->_set_error_message('email_no_recipients');
+			return FALSE;
+		}
+
+		$this->_build_headers();
+
+		if ($this->bcc_batch_mode  AND  count($this->_bcc_array) > 0)
+		{
+			if (count($this->_bcc_array) > $this->bcc_batch_size)
+				return $this->batch_bcc_send();
+		}
+
+		$this->_build_message();
+
+		if ( ! $this->_spool_email())
+		{
+			return FALSE;
+		}
+		else
+		{
+			return TRUE;
+		}
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Batch Bcc Send.  Sends groups of BCCs in batches
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function batch_bcc_send()
+	{
+		$float = $this->bcc_batch_size -1;
+
+		$set = "";
+
+		$chunk = array();
+
+		for ($i = 0; $i < count($this->_bcc_array); $i++)
+		{
+			if (isset($this->_bcc_array[$i]))
+			{
+				$set .= ", ".$this->_bcc_array[$i];
+			}
+
+			if ($i == $float)
+			{	
+				$chunk[] = substr($set, 1);
+				$float = $float + $this->bcc_batch_size;
+				$set = "";
+			}
+	
+			if ($i == count($this->_bcc_array)-1)
+			{
+				$chunk[] = substr($set, 1);
+			}
+		}
+
+		for ($i = 0; $i < count($chunk); $i++)
+		{
+			unset($this->_headers['Bcc']);
+			unset($bcc);
+
+			$bcc = $this->_str_to_array($chunk[$i]);
+			$bcc = $this->clean_email($bcc);
+	
+			if ($this->protocol != 'smtp')
+			{
+				$this->_set_header('Bcc', implode(", ", $bcc));
+			}
+			else
+			{
+				$this->_bcc_array = $bcc;
+			}
+	
+			$this->_build_message();
+			$this->_spool_email();
+		}
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Unwrap special elements
+	 *
+	 * @access	private
+	 * @return	void
+	 */	
+	function _unwrap_specials()
+	{
+		$this->_finalbody = preg_replace_callback("/\{unwrap\}(.*?)\{\/unwrap\}/si", array($this, '_remove_nl_callback'), $this->_finalbody);
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Strip line-breaks via callback
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _remove_nl_callback($matches)
+	{
+		if (strpos($matches[1], "\r") !== FALSE OR strpos($matches[1], "\n") !== FALSE)
+		{
+			$matches[1] = str_replace(array("\r\n", "\r", "\n"), '', $matches[1]);
+		}
+		
+		return $matches[1];
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Spool mail to the mail server
+	 *
+	 * @access	private
+	 * @return	bool
+	 */	
+	function _spool_email()
+	{
+		$this->_unwrap_specials();
+
+		switch ($this->_get_protocol())
+		{
+			case 'mail'	:
+	
+					if ( ! $this->_send_with_mail())
+					{
+						$this->_set_error_message('email_send_failure_phpmail');	
+						return FALSE;
+					}
+			break;
+			case 'sendmail'	:
+		
+					if ( ! $this->_send_with_sendmail())
+					{
+						$this->_set_error_message('email_send_failure_sendmail');	
+						return FALSE;
+					}
+			break;
+			case 'smtp'	:
+		
+					if ( ! $this->_send_with_smtp())
+					{
+						$this->_set_error_message('email_send_failure_smtp');	
+						return FALSE;
+					}
+			break;
+
+		}
+
+		$this->_set_error_message('email_sent', $this->_get_protocol());
+		return TRUE;
+	}	
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Send using mail()
+	 *
+	 * @access	private
+	 * @return	bool
+	 */	
+	function _send_with_mail()
+	{	
+		if ($this->_safe_mode == TRUE)
+		{
+			if ( ! mail($this->_recipients, $this->_subject, $this->_finalbody, $this->_header_str))
+			{
+				return FALSE;
+			}
+			else
+			{
+				return TRUE;
+			}
+		}
+		else
+		{
+			// most documentation of sendmail using the "-f" flag lacks a space after it, however
+			// we've encountered servers that seem to require it to be in place.
+			if ( ! mail($this->_recipients, $this->_subject, $this->_finalbody, $this->_header_str, "-f ".$this->clean_email($this->_headers['From'])))
+			{
+				return FALSE;
+			}
+			else
+			{
+				return TRUE;
+			}
+		}
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Send using Sendmail
+	 *
+	 * @access	private
+	 * @return	bool
+	 */	
+	function _send_with_sendmail()
+	{
+		$fp = @popen($this->mailpath . " -oi -f ".$this->clean_email($this->_headers['From'])." -t", 'w');
+
+		if ( ! is_resource($fp))
+		{		
+			$this->_set_error_message('email_no_socket');
+			return FALSE;
+		}
+
+		fputs($fp, $this->_header_str);
+		fputs($fp, $this->_finalbody);
+		pclose($fp) >> 8 & 0xFF;
+
+		return TRUE;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Send using SMTP
+	 *
+	 * @access	private
+	 * @return	bool
+	 */	
+	function _send_with_smtp()
+	{	
+		if ($this->smtp_host == '')
+		{	
+			$this->_set_error_message('email_no_hostname');
+			return FALSE;
+		}
+
+		$this->_smtp_connect();
+		$this->_smtp_authenticate();
+
+		$this->_send_command('from', $this->clean_email($this->_headers['From']));
+
+		foreach($this->_recipients as $val)
+		{
+			$this->_send_command('to', $val);
+		}
+	
+		if (count($this->_cc_array) > 0)
+		{
+			foreach($this->_cc_array as $val)
+			{
+				if ($val != "")
+				{
+					$this->_send_command('to', $val);
+				}
+			}
+		}
+
+		if (count($this->_bcc_array) > 0)
+		{
+			foreach($this->_bcc_array as $val)
+			{
+				if ($val != "")
+				{
+					$this->_send_command('to', $val);
+				}
+			}
+		}
+
+		$this->_send_command('data');
+
+		// perform dot transformation on any lines that begin with a dot
+		$this->_send_data($this->_header_str . preg_replace('/^\./m', '..$1', $this->_finalbody));
+
+		$this->_send_data('.');
+
+		$reply = $this->_get_smtp_data();
+
+		$this->_set_error_message($reply);	
+
+		if (strncmp($reply, '250', 3) != 0)
+		{
+			$this->_set_error_message('email_smtp_error', $reply);	
+			return FALSE;
+		}
+
+		$this->_send_command('quit');
+		return TRUE;
+	}	
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * SMTP Connect
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */	
+	function _smtp_connect()
+	{
+		$this->_smtp_connect = fsockopen($this->smtp_host,
+										$this->smtp_port,
+										$errno,
+										$errstr,
+										$this->smtp_timeout);
+
+		if( ! is_resource($this->_smtp_connect))
+		{		
+			$this->_set_error_message('email_smtp_error', $errno." ".$errstr);
+			return FALSE;
+		}
+
+		$this->_set_error_message($this->_get_smtp_data());
+		return $this->_send_command('hello');
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Send SMTP command
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */	
+	function _send_command($cmd, $data = '')
+	{
+		switch ($cmd)
+		{
+			case 'hello' :
+
+					if ($this->_smtp_auth OR $this->_get_encoding() == '8bit')
+						$this->_send_data('EHLO '.$this->_get_hostname());
+					else
+						$this->_send_data('HELO '.$this->_get_hostname());
+
+						$resp = 250;
+			break;
+			case 'from' :
+	
+						$this->_send_data('MAIL FROM:<'.$data.'>');
+
+						$resp = 250;
+			break;
+			case 'to'	:
+	
+						$this->_send_data('RCPT TO:<'.$data.'>');
+
+						$resp = 250;	
+			break;
+			case 'data'	:
+	
+						$this->_send_data('DATA');
+
+						$resp = 354;	
+			break;
+			case 'quit'	:
+
+						$this->_send_data('QUIT');
+
+						$resp = 221;
+			break;
+		}
+
+		$reply = $this->_get_smtp_data();	
+
+		$this->_debug_msg[] = "<pre>".$cmd.": ".$reply."</pre>";
+
+		if (substr($reply, 0, 3) != $resp)
+		{
+			$this->_set_error_message('email_smtp_error', $reply);
+			return FALSE;
+		}
+	
+		if ($cmd == 'quit')
+		{
+			fclose($this->_smtp_connect);
+		}
+	
+		return TRUE;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 *  SMTP Authenticate
+	 *
+	 * @access	private
+	 * @return	bool
+	 */	
+	function _smtp_authenticate()
+	{	
+		if ( ! $this->_smtp_auth)
+		{
+			return TRUE;
+		}
+	
+		if ($this->smtp_user == ""  AND  $this->smtp_pass == "")
+		{
+			$this->_set_error_message('email_no_smtp_unpw');
+			return FALSE;
+		}
+
+		$this->_send_data('AUTH LOGIN');
+
+		$reply = $this->_get_smtp_data();	
+
+		if (strncmp($reply, '334', 3) != 0)
+		{
+			$this->_set_error_message('email_failed_smtp_login', $reply);	
+			return FALSE;
+		}
+
+		$this->_send_data(base64_encode($this->smtp_user));
+
+		$reply = $this->_get_smtp_data();	
+
+		if (strncmp($reply, '334', 3) != 0)
+		{
+			$this->_set_error_message('email_smtp_auth_un', $reply);	
+			return FALSE;
+		}
+
+		$this->_send_data(base64_encode($this->smtp_pass));
+
+		$reply = $this->_get_smtp_data();	
+
+		if (strncmp($reply, '235', 3) != 0)
+		{
+			$this->_set_error_message('email_smtp_auth_pw', $reply);	
+			return FALSE;
+		}
+	
+		return TRUE;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Send SMTP data
+	 *
+	 * @access	private
+	 * @return	bool
+	 */	
+	function _send_data($data)
+	{
+		if ( ! fwrite($this->_smtp_connect, $data . $this->newline))
+		{
+			$this->_set_error_message('email_smtp_data_failure', $data);	
+			return FALSE;
+		}
+		else
+		{
+			return TRUE;
+		}
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get SMTP data
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _get_smtp_data()
+	{
+		$data = "";
+
+		while ($str = fgets($this->_smtp_connect, 512))
+		{
+			$data .= $str;
+	
+			if (substr($str, 3, 1) == " ")
+			{
+				break;
+			}
+		}
+
+		return $data;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get Hostname
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _get_hostname()
+	{	
+		return (isset($_SERVER['SERVER_NAME'])) ? $_SERVER['SERVER_NAME'] : 'localhost.localdomain';	
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get IP
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _get_ip()
+	{
+		if ($this->_IP !== FALSE)
+		{
+			return $this->_IP;
+		}
+	
+		$cip = (isset($_SERVER['HTTP_CLIENT_IP']) AND $_SERVER['HTTP_CLIENT_IP'] != "") ? $_SERVER['HTTP_CLIENT_IP'] : FALSE;
+		$rip = (isset($_SERVER['REMOTE_ADDR']) AND $_SERVER['REMOTE_ADDR'] != "") ? $_SERVER['REMOTE_ADDR'] : FALSE;
+		$fip = (isset($_SERVER['HTTP_X_FORWARDED_FOR']) AND $_SERVER['HTTP_X_FORWARDED_FOR'] != "") ? $_SERVER['HTTP_X_FORWARDED_FOR'] : FALSE;
+	
+		if ($cip && $rip) 	$this->_IP = $cip;	
+		elseif ($rip)		$this->_IP = $rip;
+		elseif ($cip)		$this->_IP = $cip;
+		elseif ($fip)		$this->_IP = $fip;
+
+		if (strstr($this->_IP, ','))
+		{
+			$x = explode(',', $this->_IP);
+			$this->_IP = end($x);
+		}
+
+		if ( ! preg_match( "/^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/", $this->_IP))
+		{
+			$this->_IP = '0.0.0.0';
+		}
+
+		unset($cip);
+		unset($rip);
+		unset($fip);
+
+		return $this->_IP;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get Debug Message
+	 *
+	 * @access	public
+	 * @return	string
+	 */	
+	function print_debugger()
+	{
+		$msg = '';
+
+		if (count($this->_debug_msg) > 0)
+		{
+			foreach ($this->_debug_msg as $val)
+			{
+				$msg .= $val;
+			}
+		}
+
+		$msg .= "<pre>".$this->_header_str."\n".htmlspecialchars($this->_subject)."\n".htmlspecialchars($this->_finalbody).'</pre>';	
+		return $msg;
+	}	
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Message
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */	
+	function _set_error_message($msg, $val = '')
+	{
+		$CI =& get_instance();
+		$CI->lang->load('email');
+	
+		if (FALSE === ($line = $CI->lang->line($msg)))
+		{	
+			$this->_debug_msg[] = str_replace('%s', $val, $msg)."<br />";
+		}	
+		else
+		{
+			$this->_debug_msg[] = str_replace('%s', $val, $line)."<br />";
+		}	
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Mime Types
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _mime_types($ext = "")
+	{
+		$mimes = array(	'hqx'	=>	'application/mac-binhex40',
+						'cpt'	=>	'application/mac-compactpro',
+						'doc'	=>	'application/msword',
+						'bin'	=>	'application/macbinary',
+						'dms'	=>	'application/octet-stream',
+						'lha'	=>	'application/octet-stream',
+						'lzh'	=>	'application/octet-stream',
+						'exe'	=>	'application/octet-stream',
+						'class'	=>	'application/octet-stream',
+						'psd'	=>	'application/octet-stream',
+						'so'	=>	'application/octet-stream',
+						'sea'	=>	'application/octet-stream',
+						'dll'	=>	'application/octet-stream',
+						'oda'	=>	'application/oda',
+						'pdf'	=>	'application/pdf',
+						'ai'	=>	'application/postscript',
+						'eps'	=>	'application/postscript',
+						'ps'	=>	'application/postscript',
+						'smi'	=>	'application/smil',
+						'smil'	=>	'application/smil',
+						'mif'	=>	'application/vnd.mif',
+						'xls'	=>	'application/vnd.ms-excel',
+						'ppt'	=>	'application/vnd.ms-powerpoint',
+						'wbxml'	=>	'application/vnd.wap.wbxml',
+						'wmlc'	=>	'application/vnd.wap.wmlc',
+						'dcr'	=>	'application/x-director',
+						'dir'	=>	'application/x-director',
+						'dxr'	=>	'application/x-director',
+						'dvi'	=>	'application/x-dvi',
+						'gtar'	=>	'application/x-gtar',
+						'php'	=>	'application/x-httpd-php',
+						'php4'	=>	'application/x-httpd-php',
+						'php3'	=>	'application/x-httpd-php',
+						'phtml'	=>	'application/x-httpd-php',
+						'phps'	=>	'application/x-httpd-php-source',
+						'js'	=>	'application/x-javascript',
+						'swf'	=>	'application/x-shockwave-flash',
+						'sit'	=>	'application/x-stuffit',
+						'tar'	=>	'application/x-tar',
+						'tgz'	=>	'application/x-tar',
+						'xhtml'	=>	'application/xhtml+xml',
+						'xht'	=>	'application/xhtml+xml',
+						'zip'	=>	'application/zip',
+						'mid'	=>	'audio/midi',
+						'midi'	=>	'audio/midi',
+						'mpga'	=>	'audio/mpeg',
+						'mp2'	=>	'audio/mpeg',
+						'mp3'	=>	'audio/mpeg',
+						'aif'	=>	'audio/x-aiff',
+						'aiff'	=>	'audio/x-aiff',
+						'aifc'	=>	'audio/x-aiff',
+						'ram'	=>	'audio/x-pn-realaudio',
+						'rm'	=>	'audio/x-pn-realaudio',
+						'rpm'	=>	'audio/x-pn-realaudio-plugin',
+						'ra'	=>	'audio/x-realaudio',
+						'rv'	=>	'video/vnd.rn-realvideo',
+						'wav'	=>	'audio/x-wav',
+						'bmp'	=>	'image/bmp',
+						'gif'	=>	'image/gif',
+						'jpeg'	=>	'image/jpeg',
+						'jpg'	=>	'image/jpeg',
+						'jpe'	=>	'image/jpeg',
+						'png'	=>	'image/png',
+						'tiff'	=>	'image/tiff',
+						'tif'	=>	'image/tiff',
+						'css'	=>	'text/css',
+						'html'	=>	'text/html',
+						'htm'	=>	'text/html',
+						'shtml'	=>	'text/html',
+						'txt'	=>	'text/plain',
+						'text'	=>	'text/plain',
+						'log'	=>	'text/plain',
+						'rtx'	=>	'text/richtext',
+						'rtf'	=>	'text/rtf',
+						'xml'	=>	'text/xml',
+						'xsl'	=>	'text/xml',
+						'mpeg'	=>	'video/mpeg',
+						'mpg'	=>	'video/mpeg',
+						'mpe'	=>	'video/mpeg',
+						'qt'	=>	'video/quicktime',
+						'mov'	=>	'video/quicktime',
+						'avi'	=>	'video/x-msvideo',
+						'movie'	=>	'video/x-sgi-movie',
+						'doc'	=>	'application/msword',
+						'word'	=>	'application/msword',
+						'xl'	=>	'application/excel',
+						'eml'	=>	'message/rfc822'
+					);
+
+		return ( ! isset($mimes[strtolower($ext)])) ? "application/x-unknown-content-type" : $mimes[strtolower($ext)];
+	}
+
+}
+// END CI_Email class
+
+/* End of file Email.php */
+/* Location: ./system/libraries/Email.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Encrypt.php
===================================================================
--- trunk/pintassilgo/system/libraries/Encrypt.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Encrypt.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,484 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Encryption Class
+ *
+ * Provides two-way keyed encoding using XOR Hashing and Mcrypt
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/encryption.html
+ */
+class CI_Encrypt {
+
+	var $CI;
+	var $encryption_key	= '';
+	var $_hash_type	= 'sha1';
+	var $_mcrypt_exists = FALSE;
+	var $_mcrypt_cipher;
+	var $_mcrypt_mode;
+
+	/**
+	 * Constructor
+	 *
+	 * Simply determines whether the mcrypt library exists.
+	 *
+	 */
+	function CI_Encrypt()
+	{
+		$this->CI =& get_instance();
+		$this->_mcrypt_exists = ( ! function_exists('mcrypt_encrypt')) ? FALSE : TRUE;
+		log_message('debug', "Encrypt Class Initialized");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch the encryption key
+	 *
+	 * Returns it as MD5 in order to have an exact-length 128 bit key.
+	 * Mcrypt is sensitive to keys that are not the correct length
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function get_key($key = '')
+	{
+		if ($key == '')
+		{
+			if ($this->encryption_key != '')
+			{
+				return $this->encryption_key;
+			}
+
+			$CI =& get_instance();
+			$key = $CI->config->item('encryption_key');
+
+			if ($key === FALSE)
+			{
+				show_error('In order to use the encryption class requires that you set an encryption key in your config file.');
+			}
+		}
+
+		return md5($key);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set the encryption key
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */
+	function set_key($key = '')
+	{
+		$this->encryption_key = $key;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Encode
+	 *
+	 * Encodes the message string using bitwise XOR encoding.
+	 * The key is combined with a random hash, and then it
+	 * too gets converted using XOR. The whole thing is then run
+	 * through mcrypt (if supported) using the randomized key.
+	 * The end result is a double-encrypted message string
+	 * that is randomized with each call to this function,
+	 * even if the supplied message and key are the same.
+	 *
+	 * @access	public
+	 * @param	string	the string to encode
+	 * @param	string	the key
+	 * @return	string
+	 */
+	function encode($string, $key = '')
+	{
+		$key = $this->get_key($key);
+		$enc = $this->_xor_encode($string, $key);
+		
+		if ($this->_mcrypt_exists === TRUE)
+		{
+			$enc = $this->mcrypt_encode($enc, $key);
+		}
+		return base64_encode($enc);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Decode
+	 *
+	 * Reverses the above process
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function decode($string, $key = '')
+	{
+		$key = $this->get_key($key);
+		
+		if (preg_match('/[^a-zA-Z0-9\/\+=]/', $string))
+		{
+			return FALSE;
+		}
+
+		$dec = base64_decode($string);
+
+		if ($this->_mcrypt_exists === TRUE)
+		{
+			if (($dec = $this->mcrypt_decode($dec, $key)) === FALSE)
+			{
+				return FALSE;
+			}
+		}
+
+		return $this->_xor_decode($dec, $key);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * XOR Encode
+	 *
+	 * Takes a plain-text string and key as input and generates an
+	 * encoded bit-string using XOR
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function _xor_encode($string, $key)
+	{
+		$rand = '';
+		while (strlen($rand) < 32)
+		{
+			$rand .= mt_rand(0, mt_getrandmax());
+		}
+
+		$rand = $this->hash($rand);
+
+		$enc = '';
+		for ($i = 0; $i < strlen($string); $i++)
+		{			
+			$enc .= substr($rand, ($i % strlen($rand)), 1).(substr($rand, ($i % strlen($rand)), 1) ^ substr($string, $i, 1));
+		}
+
+		return $this->_xor_merge($enc, $key);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * XOR Decode
+	 *
+	 * Takes an encoded string and key as input and generates the
+	 * plain-text original message
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function _xor_decode($string, $key)
+	{
+		$string = $this->_xor_merge($string, $key);
+
+		$dec = '';
+		for ($i = 0; $i < strlen($string); $i++)
+		{
+			$dec .= (substr($string, $i++, 1) ^ substr($string, $i, 1));
+		}
+
+		return $dec;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * XOR key + string Combiner
+	 *
+	 * Takes a string and key as input and computes the difference using XOR
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function _xor_merge($string, $key)
+	{
+		$hash = $this->hash($key);
+		$str = '';
+		for ($i = 0; $i < strlen($string); $i++)
+		{
+			$str .= substr($string, $i, 1) ^ substr($hash, ($i % strlen($hash)), 1);
+		}
+
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Encrypt using Mcrypt
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function mcrypt_encode($data, $key)
+	{
+		$init_size = mcrypt_get_iv_size($this->_get_cipher(), $this->_get_mode());
+		$init_vect = mcrypt_create_iv($init_size, MCRYPT_RAND);
+		return $this->_add_cipher_noise($init_vect.mcrypt_encrypt($this->_get_cipher(), $key, $data, $this->_get_mode(), $init_vect), $key);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Decrypt using Mcrypt
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function mcrypt_decode($data, $key)
+	{
+		$data = $this->_remove_cipher_noise($data, $key);
+		$init_size = mcrypt_get_iv_size($this->_get_cipher(), $this->_get_mode());
+
+		if ($init_size > strlen($data))
+		{
+			return FALSE;
+		}
+
+		$init_vect = substr($data, 0, $init_size);
+		$data = substr($data, $init_size);
+		return rtrim(mcrypt_decrypt($this->_get_cipher(), $key, $data, $this->_get_mode(), $init_vect), "\0");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Adds permuted noise to the IV + encrypted data to protect
+	 * against Man-in-the-middle attacks on CBC mode ciphers
+	 * http://www.ciphersbyritter.com/GLOSSARY.HTM#IV
+	 *
+	 * Function description
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function _add_cipher_noise($data, $key)
+	{
+		$keyhash = $this->hash($key);
+		$keylen = strlen($keyhash);
+		$str = '';
+
+		for ($i = 0, $j = 0, $len = strlen($data); $i < $len; ++$i, ++$j)
+		{
+			if ($j >= $keylen)
+			{
+				$j = 0;
+			}
+
+			$str .= chr((ord($data[$i]) + ord($keyhash[$j])) % 256);
+		}
+
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Removes permuted noise from the IV + encrypted data, reversing
+	 * _add_cipher_noise()
+	 *
+	 * Function description
+	 *
+	 * @access	public
+	 * @param	type
+	 * @return	type
+	 */
+	function _remove_cipher_noise($data, $key)
+	{
+		$keyhash = $this->hash($key);
+		$keylen = strlen($keyhash);
+		$str = '';
+
+		for ($i = 0, $j = 0, $len = strlen($data); $i < $len; ++$i, ++$j)
+		{
+			if ($j >= $keylen)
+			{
+				$j = 0;
+			}
+
+			$temp = ord($data[$i]) - ord($keyhash[$j]);
+
+			if ($temp < 0)
+			{
+				$temp = $temp + 256;
+			}
+			
+			$str .= chr($temp);
+		}
+
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the Mcrypt Cipher
+	 *
+	 * @access	public
+	 * @param	constant
+	 * @return	string
+	 */
+	function set_cipher($cipher)
+	{
+		$this->_mcrypt_cipher = $cipher;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set the Mcrypt Mode
+	 *
+	 * @access	public
+	 * @param	constant
+	 * @return	string
+	 */
+	function set_mode($mode)
+	{
+		$this->_mcrypt_mode = $mode;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get Mcrypt cipher Value
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _get_cipher()
+	{
+		if ($this->_mcrypt_cipher == '')
+		{
+			$this->_mcrypt_cipher = MCRYPT_RIJNDAEL_256;
+		}
+
+		return $this->_mcrypt_cipher;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get Mcrypt Mode Value
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _get_mode()
+	{
+		if ($this->_mcrypt_mode == '')
+		{
+			$this->_mcrypt_mode = MCRYPT_MODE_ECB;
+		}
+		
+		return $this->_mcrypt_mode;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set the Hash type
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function set_hash($type = 'sha1')
+	{
+		$this->_hash_type = ($type != 'sha1' AND $type != 'md5') ? 'sha1' : $type;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Hash encode a string
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function hash($str)
+	{
+		return ($this->_hash_type == 'sha1') ? $this->sha1($str) : md5($str);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Generate an SHA1 Hash
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function sha1($str)
+	{
+		if ( ! function_exists('sha1'))
+		{
+			if ( ! function_exists('mhash'))
+			{
+				require_once(BASEPATH.'libraries/Sha1'.EXT);
+				$SH = new CI_SHA;
+				return $SH->generate($str);
+			}
+			else
+			{
+				return bin2hex(mhash(MHASH_SHA1, $str));
+			}
+		}
+		else
+		{
+			return sha1($str);
+		}
+	}
+
+}
+
+// END CI_Encrypt class
+
+/* End of file Encrypt.php */
+/* Location: ./system/libraries/Encrypt.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Exceptions.php
===================================================================
--- trunk/pintassilgo/system/libraries/Exceptions.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Exceptions.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,172 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Exceptions Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Exceptions
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/exceptions.html
+ */
+class CI_Exceptions {
+	var $action;
+	var $severity;
+	var $message;
+	var $filename;
+	var $line;
+	var $ob_level;
+
+	var $levels = array(
+						E_ERROR				=>	'Error',
+						E_WARNING			=>	'Warning',
+						E_PARSE				=>	'Parsing Error',
+						E_NOTICE			=>	'Notice',
+						E_CORE_ERROR		=>	'Core Error',
+						E_CORE_WARNING		=>	'Core Warning',
+						E_COMPILE_ERROR		=>	'Compile Error',
+						E_COMPILE_WARNING	=>	'Compile Warning',
+						E_USER_ERROR		=>	'User Error',
+						E_USER_WARNING		=>	'User Warning',
+						E_USER_NOTICE		=>	'User Notice',
+						E_STRICT			=>	'Runtime Notice'
+					);
+
+
+	/**
+	 * Constructor
+	 *
+	 */	
+	function CI_Exceptions()
+	{
+		$this->ob_level = ob_get_level();
+		// Note:  Do not log messages from this constructor.
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Exception Logger
+	 *
+	 * This function logs PHP generated error messages
+	 *
+	 * @access	private
+	 * @param	string	the error severity
+	 * @param	string	the error string
+	 * @param	string	the error filepath
+	 * @param	string	the error line number
+	 * @return	string
+	 */
+	function log_exception($severity, $message, $filepath, $line)
+	{	
+		$severity = ( ! isset($this->levels[$severity])) ? $severity : $this->levels[$severity];
+		
+		log_message('error', 'Severity: '.$severity.'  --> '.$message. ' '.$filepath.' '.$line, TRUE);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * 404 Page Not Found Handler
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function show_404($page = '')
+	{	
+		$heading = "404 Page Not Found";
+		$message = "The page you requested was not found.";
+
+		log_message('error', '404 Page Not Found --> '.$page);
+		echo $this->show_error($heading, $message, 'error_404');
+		exit;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * General Error Page
+	 *
+	 * This function takes an error message as input
+	 * (either as a string or an array) and displays
+	 * it using the specified template.
+	 *
+	 * @access	private
+	 * @param	string	the heading
+	 * @param	string	the message
+	 * @param	string	the template name
+	 * @return	string
+	 */
+	function show_error($heading, $message, $template = 'error_general')
+	{
+		$message = '<p>'.implode('</p><p>', ( ! is_array($message)) ? array($message) : $message).'</p>';
+
+		if (ob_get_level() > $this->ob_level + 1)
+		{
+			ob_end_flush();	
+		}
+		ob_start();
+		include(APPPATH.'errors/'.$template.EXT);
+		$buffer = ob_get_contents();
+		ob_end_clean();
+		return $buffer;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Native PHP error handler
+	 *
+	 * @access	private
+	 * @param	string	the error severity
+	 * @param	string	the error string
+	 * @param	string	the error filepath
+	 * @param	string	the error line number
+	 * @return	string
+	 */
+	function show_php_error($severity, $message, $filepath, $line)
+	{	
+		$severity = ( ! isset($this->levels[$severity])) ? $severity : $this->levels[$severity];
+	
+		$filepath = str_replace("\\", "/", $filepath);
+		
+		// For safety reasons we do not show the full file path
+		if (FALSE !== strpos($filepath, '/'))
+		{
+			$x = explode('/', $filepath);
+			$filepath = $x[count($x)-2].'/'.end($x);
+		}
+		
+		if (ob_get_level() > $this->ob_level + 1)
+		{
+			ob_end_flush();	
+		}
+		ob_start();
+		include(APPPATH.'errors/error_php'.EXT);
+		$buffer = ob_get_contents();
+		ob_end_clean();
+		echo $buffer;
+	}
+
+
+}
+// END Exceptions Class
+
+/* End of file Exceptions.php */
+/* Location: ./system/libraries/Exceptions.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Form_validation.php
===================================================================
--- trunk/pintassilgo/system/libraries/Form_validation.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Form_validation.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,1280 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Form Validation Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Validation
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/form_validation.html
+ */
+class CI_Form_validation {
+	
+	var $CI;
+	var $_field_data			= array();	
+	var $_config_rules			= array();
+	var $_error_array			= array();
+	var $_error_messages		= array();	
+	var $_error_prefix			= '<p>';
+	var $_error_suffix			= '</p>';
+	var $error_string			= '';
+	var $_safe_form_data 		= FALSE;
+
+
+	/**
+	 * Constructor
+	 *
+	 */	
+	function CI_Form_validation($rules = array())
+	{	
+		$this->CI =& get_instance();
+		
+		// Validation rules can be stored in a config file.
+		$this->_config_rules = $rules;
+		
+		// Automatically load the form helper
+		$this->CI->load->helper('form');
+
+		// Set the character encoding in MB.
+		if (function_exists('mb_internal_encoding'))
+		{
+			mb_internal_encoding($this->CI->config->item('charset'));
+		}
+	
+		log_message('debug', "Validation Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Rules
+	 *
+	 * This function takes an array of field names and validation
+	 * rules as input, validates the info, and stores it
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	string
+	 * @return	void
+	 */
+	function set_rules($field, $label = '', $rules = '')
+	{
+		// No reason to set rules if we have no POST data
+		if (count($_POST) == 0)
+		{
+			return;
+		}
+	
+		// If an array was passed via the first parameter instead of indidual string
+		// values we cycle through it and recursively call this function.
+		if (is_array($field))
+		{
+			foreach ($field as $row)
+			{
+				// Houston, we have a problem...
+				if ( ! isset($row['field']) OR ! isset($row['rules']))
+				{
+					continue;
+				}
+
+				// If the field label wasn't passed we use the field name
+				$label = ( ! isset($row['label'])) ? $row['field'] : $row['label'];
+
+				// Here we go!
+				$this->set_rules($row['field'], $label, $row['rules']);
+			}
+			return;
+		}
+		
+		// No fields? Nothing to do...
+		if ( ! is_string($field) OR  ! is_string($rules) OR $field == '')
+		{
+			return;
+		}
+
+		// If the field label wasn't passed we use the field name
+		$label = ($label == '') ? $field : $label;
+
+		// Is the field name an array?  We test for the existence of a bracket "[" in
+		// the field name to determine this.  If it is an array, we break it apart
+		// into its components so that we can fetch the corresponding POST data later		
+		if (strpos($field, '[') !== FALSE AND preg_match_all('/\[(.*?)\]/', $field, $matches))
+		{	
+			// Note: Due to a bug in current() that affects some versions
+			// of PHP we can not pass function call directly into it
+			$x = explode('[', $field);
+			$indexes[] = current($x);
+
+			for ($i = 0; $i < count($matches['0']); $i++)
+			{
+				if ($matches['1'][$i] != '')
+				{
+					$indexes[] = $matches['1'][$i];
+				}
+			}
+			
+			$is_array = TRUE;
+		}
+		else
+		{
+			$indexes 	= array();
+			$is_array	= FALSE;		
+		}
+		
+		// Build our master array		
+		$this->_field_data[$field] = array(
+											'field'				=> $field, 
+											'label'				=> $label, 
+											'rules'				=> $rules,
+											'is_array'			=> $is_array,
+											'keys'				=> $indexes,
+											'postdata'			=> NULL,
+											'error'				=> ''
+											);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Error Message
+	 *
+	 * Lets users set their own error messages on the fly.  Note:  The key
+	 * name has to match the  function name that it corresponds to.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function set_message($lang, $val = '')
+	{
+		if ( ! is_array($lang))
+		{
+			$lang = array($lang => $val);
+		}
+	
+		$this->_error_messages = array_merge($this->_error_messages, $lang);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set The Error Delimiter
+	 *
+	 * Permits a prefix/suffix to be added to each error message
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_error_delimiters($prefix = '<p>', $suffix = '</p>')
+	{
+		$this->_error_prefix = $prefix;
+		$this->_error_suffix = $suffix;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get Error Message
+	 *
+	 * Gets the error message associated with a particular field
+	 *
+	 * @access	public
+	 * @param	string	the field name
+	 * @return	void
+	 */	
+	function error($field = '', $prefix = '', $suffix = '')
+	{	
+		if ( ! isset($this->_field_data[$field]['error']) OR $this->_field_data[$field]['error'] == '')
+		{
+			return '';
+		}
+		
+		if ($prefix == '')
+		{
+			$prefix = $this->_error_prefix;
+		}
+
+		if ($suffix == '')
+		{
+			$suffix = $this->_error_suffix;
+		}
+
+		return $prefix.$this->_field_data[$field]['error'].$suffix;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Error String
+	 *
+	 * Returns the error messages as a string, wrapped in the error delimiters
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	str
+	 */	
+	function error_string($prefix = '', $suffix = '')
+	{
+		// No errrors, validation passes!
+		if (count($this->_error_array) === 0)
+		{
+			return '';
+		}
+		
+		if ($prefix == '')
+		{
+			$prefix = $this->_error_prefix;
+		}
+
+		if ($suffix == '')
+		{
+			$suffix = $this->_error_suffix;
+		}
+		
+		// Generate the error string
+		$str = '';
+		foreach ($this->_error_array as $val)
+		{
+			if ($val != '')
+			{
+				$str .= $prefix.$val.$suffix."\n";
+			}
+		}
+		
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Run the Validator
+	 *
+	 * This function does all the work.
+	 *
+	 * @access	public
+	 * @return	bool
+	 */		
+	function run($group = '')
+	{
+		// Do we even have any data to process?  Mm?
+		if (count($_POST) == 0)
+		{
+			return FALSE;
+		}
+		
+		// Does the _field_data array containing the validation rules exist?
+		// If not, we look to see if they were assigned via a config file
+		if (count($this->_field_data) == 0)
+		{
+			// No validation rules?  We're done...
+			if (count($this->_config_rules) == 0)
+			{
+				return FALSE;
+			}
+			
+			// Is there a validation rule for the particular URI being accessed?
+			$uri = ($group == '') ? trim($this->CI->uri->ruri_string(), '/') : $group;
+			
+			if ($uri != '' AND isset($this->_config_rules[$uri]))
+			{
+				$this->set_rules($this->_config_rules[$uri]);
+			}
+			else
+			{
+				$this->set_rules($this->_config_rules);
+			}
+	
+			// We're we able to set the rules correctly?
+			if (count($this->_field_data) == 0)
+			{
+				log_message('debug', "Unable to find validation rules");
+				return FALSE;
+			}
+		}
+	
+		// Load the language file containing error messages
+		$this->CI->lang->load('form_validation');
+							
+		// Cycle through the rules for each field, match the 
+		// corresponding $_POST item and test for errors
+		foreach ($this->_field_data as $field => $row)
+		{		
+			// Fetch the data from the corresponding $_POST array and cache it in the _field_data array.
+			// Depending on whether the field name is an array or a string will determine where we get it from.
+			
+			if ($row['is_array'] == TRUE)
+			{
+				$this->_field_data[$field]['postdata'] = $this->_reduce_array($_POST, $row['keys']);
+			}
+			else
+			{
+				if (isset($_POST[$field]) AND $_POST[$field] != "")
+				{
+					$this->_field_data[$field]['postdata'] = $_POST[$field];
+				}
+			}
+		
+			$this->_execute($row, explode('|', $row['rules']), $this->_field_data[$field]['postdata']);		
+		}
+
+		// Did we end up with any errors?
+		$total_errors = count($this->_error_array);
+
+		if ($total_errors > 0)
+		{
+			$this->_safe_form_data = TRUE;
+		}
+
+		// Now we need to re-set the POST data with the new, processed data
+		$this->_reset_post_array();
+		
+		// No errors, validation passes!
+		if ($total_errors == 0)
+		{
+			return TRUE;
+		}
+
+		// Validation fails
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Traverse a multidimensional $_POST array index until the data is found
+	 *
+	 * @access	private
+	 * @param	array
+	 * @param	array
+	 * @param	integer
+	 * @return	mixed
+	 */		
+	function _reduce_array($array, $keys, $i = 0)
+	{
+		if (is_array($array))
+		{
+			if (isset($keys[$i]))
+			{
+				if (isset($array[$keys[$i]]))
+				{
+					$array = $this->_reduce_array($array[$keys[$i]], $keys, ($i+1));
+				}
+				else
+				{
+					return NULL;
+				}
+			}
+			else
+			{
+				return $array;
+			}
+		}
+	
+		return $array;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Re-populate the _POST array with our finalized and processed data
+	 *
+	 * @access	private
+	 * @return	null
+	 */		
+	function _reset_post_array()
+	{
+		foreach ($this->_field_data as $field => $row)
+		{
+			if ( ! is_null($row['postdata']))
+			{
+				if ($row['is_array'] == FALSE)
+				{
+					if (isset($_POST[$row['field']]))
+					{
+						$_POST[$row['field']] = $this->prep_for_form($row['postdata']);
+					}
+				}
+				else
+				{
+					$post = '$_POST["';
+					
+					if (count($row['keys']) == 1)
+					{
+						$post .= current($row['keys']);
+						$post .= '"]';
+					}
+					else
+					{
+						$i = 0;
+						foreach ($row['keys'] as $val)
+						{
+							if ($i == 0)
+							{
+								$post .= $val.'"]';
+								$i++;
+								continue;
+							}
+						
+							$post .= '["'.$val.'"]';
+						}
+					}
+					
+					if (is_array($row['postdata']))
+					{					
+						$array = array();
+						foreach ($row['postdata'] as $k => $v)
+						{
+							$array[$k] = $this->prep_for_form($v);
+						}
+						
+						$post .= ' = $array;';
+					}
+					else
+					{						
+						$post .= ' = "'.$this->prep_for_form($row['postdata']).'";';
+					}
+
+					eval($post);
+				}
+			}
+		}
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Executes the Validation routines
+	 *
+	 * @access	private
+	 * @param	array
+	 * @param	array
+	 * @param	mixed
+	 * @param	integer
+	 * @return	mixed
+	 */	
+	function _execute($row, $rules, $postdata = NULL, $cycles = 0)
+	{
+		// If the $_POST data is an array we will run a recursive call
+		if (is_array($postdata))
+		{ 
+			foreach ($postdata as $key => $val)
+			{
+				$this->_execute($row, $rules, $val, $cycles);
+				$cycles++;
+			}
+			
+			return;
+		}
+		
+		// --------------------------------------------------------------------
+
+		// If the field is blank, but NOT required, no further tests are necessary
+		$callback = FALSE;
+		if ( ! in_array('required', $rules) AND is_null($postdata))
+		{
+			// Before we bail out, does the rule contain a callback?
+			if (preg_match("/(callback_\w+)/", implode(' ', $rules), $match))
+			{
+				$callback = TRUE;
+				$rules = (array('1' => $match[1]));
+			}
+			else
+			{
+				return;
+			}
+		}
+
+		// --------------------------------------------------------------------
+		
+		// Isset Test. Typically this rule will only apply to checkboxes.
+		if (is_null($postdata) AND $callback == FALSE)
+		{
+			if (in_array('isset', $rules, TRUE) OR in_array('required', $rules))
+			{
+				// Set the message type
+				$type = (in_array('required', $rules)) ? 'required' : 'isset';
+			
+				if ( ! isset($this->_error_messages[$type]))
+				{
+					if (FALSE === ($line = $this->CI->lang->line($type)))
+					{
+						$line = 'The field was not set';
+					}							
+				}
+				else
+				{
+					$line = $this->_error_messages[$type];
+				}
+				
+				// Build the error message
+				$message = sprintf($line, $this->_translate_fieldname($row['label']));
+
+				// Save the error message
+				$this->_field_data[$row['field']]['error'] = $message;
+				
+				if ( ! isset($this->_error_array[$row['field']]))
+				{
+					$this->_error_array[$row['field']] = $message;
+				}
+			}
+					
+			return;
+		}
+
+		// --------------------------------------------------------------------
+
+		// Cycle through each rule and run it
+		foreach ($rules As $rule)
+		{
+			$_in_array = FALSE;
+			
+			// We set the $postdata variable with the current data in our master array so that
+			// each cycle of the loop is dealing with the processed data from the last cycle
+			if ($row['is_array'] == TRUE AND is_array($this->_field_data[$row['field']]['postdata']))
+			{
+				// We shouldn't need this safety, but just in case there isn't an array index
+				// associated with this cycle we'll bail out
+				if ( ! isset($this->_field_data[$row['field']]['postdata'][$cycles]))
+				{
+					continue;
+				}
+			
+				$postdata = $this->_field_data[$row['field']]['postdata'][$cycles];
+				$_in_array = TRUE;
+			}
+			else
+			{
+				$postdata = $this->_field_data[$row['field']]['postdata'];
+			}
+
+			// --------------------------------------------------------------------
+	
+			// Is the rule a callback?			
+			$callback = FALSE;
+			if (substr($rule, 0, 9) == 'callback_')
+			{
+				$rule = substr($rule, 9);
+				$callback = TRUE;
+			}
+			
+			// Strip the parameter (if exists) from the rule
+			// Rules can contain a parameter: max_length[5]
+			$param = FALSE;
+			if (preg_match("/(.*?)\[(.*?)\]/", $rule, $match))
+			{
+				$rule	= $match[1];
+				$param	= $match[2];
+			}
+			
+			// Call the function that corresponds to the rule
+			if ($callback === TRUE)
+			{
+				if ( ! method_exists($this->CI, $rule))
+				{ 		
+					continue;
+				}
+				
+				// Run the function and grab the result
+				$result = $this->CI->$rule($postdata, $param);
+
+				// Re-assign the result to the master data array
+				if ($_in_array == TRUE)
+				{
+					$this->_field_data[$row['field']]['postdata'][$cycles] = (is_bool($result)) ? $postdata : $result;
+				}
+				else
+				{
+					$this->_field_data[$row['field']]['postdata'] = (is_bool($result)) ? $postdata : $result;
+				}
+			
+				// If the field isn't required and we just processed a callback we'll move on...
+				if ( ! in_array('required', $rules, TRUE) AND $result !== FALSE)
+				{
+					return;
+				}
+			}
+			else
+			{				
+				if ( ! method_exists($this, $rule))
+				{
+					// If our own wrapper function doesn't exist we see if a native PHP function does. 
+					// Users can use any native PHP function call that has one param.
+					if (function_exists($rule))
+					{
+						$result = $rule($postdata);
+											
+						if ($_in_array == TRUE)
+						{
+							$this->_field_data[$row['field']]['postdata'][$cycles] = (is_bool($result)) ? $postdata : $result;
+						}
+						else
+						{
+							$this->_field_data[$row['field']]['postdata'] = (is_bool($result)) ? $postdata : $result;
+						}
+					}
+										
+					continue;
+				}
+
+				$result = $this->$rule($postdata, $param);
+
+				if ($_in_array == TRUE)
+				{
+					$this->_field_data[$row['field']]['postdata'][$cycles] = (is_bool($result)) ? $postdata : $result;
+				}
+				else
+				{
+					$this->_field_data[$row['field']]['postdata'] = (is_bool($result)) ? $postdata : $result;
+				}
+			}
+							
+			// Did the rule test negatively?  If so, grab the error.
+			if ($result === FALSE)
+			{			
+				if ( ! isset($this->_error_messages[$rule]))
+				{
+					if (FALSE === ($line = $this->CI->lang->line($rule)))
+					{
+						$line = 'Unable to access an error message corresponding to your field name.';
+					}						
+				}
+				else
+				{
+					$line = $this->_error_messages[$rule];
+				}
+
+				// Build the error message
+				$message = sprintf($line, $this->_translate_fieldname($row['label']), $param);
+
+				// Save the error message
+				$this->_field_data[$row['field']]['error'] = $message;
+				
+				if ( ! isset($this->_error_array[$row['field']]))
+				{
+					$this->_error_array[$row['field']] = $message;
+				}
+				
+				return;
+			}
+		}
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Translate a field name
+	 *
+	 * @access	private
+	 * @param	string	the field name
+	 * @return	string
+	 */	
+	function _translate_fieldname($fieldname)
+	{
+		// Do we need to translate the field name?
+		// We look for the prefix lang: to determine this
+		if (substr($fieldname, 0, 5) == 'lang:')
+		{
+			// Grab the variable
+			$line = substr($fieldname, 5);			
+			
+			// Were we able to translate the field name?  If not we use $line
+			if (FALSE === ($fieldname = $this->CI->lang->line($line)))
+			{
+				return $line;
+			}
+		}
+
+		return $fieldname;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get the value from a form
+	 *
+	 * Permits you to repopulate a form field with the value it was submitted
+	 * with, or, if that value doesn't exist, with the default
+	 *
+	 * @access	public
+	 * @param	string	the field name
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_value($field = '', $default = '')
+	{
+		if ( ! isset($this->_field_data[$field]))
+		{
+			return $default;
+		}
+		
+		return $this->_field_data[$field]['postdata'];
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Select
+	 *
+	 * Enables pull-down lists to be set to the value the user
+	 * selected in the event of an error
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */	
+	function set_select($field = '', $value = '', $default = FALSE)
+	{		
+		if ( ! isset($this->_field_data[$field]) OR ! isset($this->_field_data[$field]['postdata']))
+		{
+			if ($default === TRUE AND count($this->_field_data) === 0)
+			{
+				return ' selected="selected"';
+			}
+			return '';
+		}
+	
+		$field = $this->_field_data[$field]['postdata'];
+		
+		if (is_array($field))
+		{
+			if ( ! in_array($value, $field))
+			{
+				return '';
+			}
+		}
+		else
+		{
+			if (($field == '' OR $value == '') OR ($field != $value))
+			{
+				return '';
+			}
+		}
+			
+		return ' selected="selected"';
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Radio
+	 *
+	 * Enables radio buttons to be set to the value the user
+	 * selected in the event of an error
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */	
+	function set_radio($field = '', $value = '', $default = FALSE)
+	{
+		if ( ! isset($this->_field_data[$field]) OR ! isset($this->_field_data[$field]['postdata']))
+		{
+			if ($default === TRUE AND count($this->_field_data) === 0)
+			{
+				return ' checked="checked"';
+			}
+			return '';
+		}
+	
+		$field = $this->_field_data[$field]['postdata'];
+		
+		if (is_array($field))
+		{
+			if ( ! in_array($value, $field))
+			{
+				return '';
+			}
+		}
+		else
+		{
+			if (($field == '' OR $value == '') OR ($field != $value))
+			{
+				return '';
+			}
+		}
+			
+		return ' checked="checked"';
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Checkbox
+	 *
+	 * Enables checkboxes to be set to the value the user
+	 * selected in the event of an error
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */	
+	function set_checkbox($field = '', $value = '', $default = FALSE)
+	{
+		if ( ! isset($this->_field_data[$field]) OR ! isset($this->_field_data[$field]['postdata']))
+		{
+			if ($default === TRUE AND count($this->_field_data) === 0)
+			{
+				return ' checked="checked"';
+			}
+			return '';
+		}
+	
+		$field = $this->_field_data[$field]['postdata'];
+		
+		if (is_array($field))
+		{
+			if ( ! in_array($value, $field))
+			{
+				return '';
+			}
+		}
+		else
+		{
+			if (($field == '' OR $value == '') OR ($field != $value))
+			{
+				return '';
+			}
+		}
+			
+		return ' checked="checked"';
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Required
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */
+	function required($str)
+	{
+		if ( ! is_array($str))
+		{
+			return (trim($str) == '') ? FALSE : TRUE;
+		}
+		else
+		{
+			return ( ! empty($str));
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Match one field to another
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	field
+	 * @return	bool
+	 */
+	function matches($str, $field)
+	{
+		if ( ! isset($_POST[$field]))
+		{
+			return FALSE;				
+		}
+		
+		$field = $_POST[$field];
+
+		return ($str !== $field) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Minimum Length
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	value
+	 * @return	bool
+	 */	
+	function min_length($str, $val)
+	{
+		if (preg_match("/[^0-9]/", $val))
+		{
+			return FALSE;
+		}
+
+		if (function_exists('mb_strlen'))
+		{
+			return (mb_strlen($str) < $val) ? FALSE : TRUE;		
+		}
+	
+		return (strlen($str) < $val) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Max Length
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	value
+	 * @return	bool
+	 */	
+	function max_length($str, $val)
+	{
+		if (preg_match("/[^0-9]/", $val))
+		{
+			return FALSE;
+		}
+
+		if (function_exists('mb_strlen'))
+		{
+			return (mb_strlen($str) > $val) ? FALSE : TRUE;		
+		}
+	
+		return (strlen($str) > $val) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Exact Length
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	value
+	 * @return	bool
+	 */	
+	function exact_length($str, $val)
+	{
+		if (preg_match("/[^0-9]/", $val))
+		{
+			return FALSE;
+		}
+
+		if (function_exists('mb_strlen'))
+		{
+			return (mb_strlen($str) != $val) ? FALSE : TRUE;		
+		}
+	
+		return (strlen($str) != $val) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Valid Email
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function valid_email($str)
+	{
+		return ( ! preg_match("/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/ix", $str)) ? FALSE : TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Valid Emails
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function valid_emails($str)
+	{
+		if (strpos($str, ',') === FALSE)
+		{
+			return $this->valid_email(trim($str));
+		}
+		
+		foreach(explode(',', $str) as $email)
+		{
+			if (trim($email) != '' && $this->valid_email(trim($email)) === FALSE)
+			{
+				return FALSE;
+			}
+		}
+		
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Validate IP Address
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function valid_ip($ip)
+	{
+		return $this->CI->input->valid_ip($ip);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Alpha
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */		
+	function alpha($str)
+	{
+		return ( ! preg_match("/^([a-z])+$/i", $str)) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Alpha-numeric
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function alpha_numeric($str)
+	{
+		return ( ! preg_match("/^([a-z0-9])+$/i", $str)) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Alpha-numeric with underscores and dashes
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function alpha_dash($str)
+	{
+		return ( ! preg_match("/^([-a-z0-9_-])+$/i", $str)) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Numeric
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function numeric($str)
+	{
+		return (bool)preg_match( '/^[\-+]?[0-9]*\.?[0-9]+$/', $str);
+
+	}
+
+	// --------------------------------------------------------------------
+
+    /**
+     * Is Numeric
+     *
+     * @access    public
+     * @param    string
+     * @return    bool
+     */
+    function is_numeric($str)
+    {
+        return ( ! is_numeric($str)) ? FALSE : TRUE;
+    } 
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Integer
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function integer($str)
+	{
+		return (bool)preg_match( '/^[\-+]?[0-9]+$/', $str);
+	}
+	
+	// --------------------------------------------------------------------
+
+    /**
+     * Is a Natural number  (0,1,2,3, etc.)
+     *
+     * @access	public
+     * @param	string
+     * @return	bool
+     */
+    function is_natural($str)
+    {   
+   		return (bool)preg_match( '/^[0-9]+$/', $str);
+    }
+
+	// --------------------------------------------------------------------
+
+    /**
+     * Is a Natural number, but not a zero  (1,2,3, etc.)
+     *
+     * @access	public
+     * @param	string
+     * @return	bool
+     */
+	function is_natural_no_zero($str)
+    {
+    	if ( ! preg_match( '/^[0-9]+$/', $str))
+    	{
+    		return FALSE;
+    	}
+    	
+    	if ($str == 0)
+    	{
+    		return FALSE;
+    	}
+    
+   		return TRUE;
+    }
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Valid Base64
+	 *
+	 * Tests a string for characters outside of the Base64 alphabet
+	 * as defined by RFC 2045 http://www.faqs.org/rfcs/rfc2045
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */
+	function valid_base64($str)
+	{
+		return (bool) ! preg_match('/[^a-zA-Z0-9\/\+=]/', $str);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Prep data for form
+	 *
+	 * This function allows HTML to be safely shown in a form.
+	 * Special characters are converted.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function prep_for_form($data = '')
+	{
+		if (is_array($data))
+		{
+			foreach ($data as $key => $val)
+			{
+				$data[$key] = $this->prep_for_form($val);
+			}
+			
+			return $data;
+		}
+		
+		if ($this->_safe_form_data == FALSE OR $data === '')
+		{
+			return $data;
+		}
+
+		return str_replace(array("'", '"', '<', '>'), array("&#39;", "&quot;", '&lt;', '&gt;'), stripslashes($data));
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Prep URL
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function prep_url($str = '')
+	{
+		if ($str == 'http://' OR $str == '')
+		{
+			return '';
+		}
+		
+		if (substr($str, 0, 7) != 'http://' && substr($str, 0, 8) != 'https://')
+		{
+			$str = 'http://'.$str;
+		}
+		
+		return $str;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Strip Image Tags
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function strip_image_tags($str)
+	{
+		return $this->CI->input->strip_image_tags($str);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * XSS Clean
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function xss_clean($str)
+	{
+		return $this->CI->input->xss_clean($str);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Convert PHP tags to entities
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function encode_php_tags($str)
+	{
+		return str_replace(array('<?php', '<?PHP', '<?', '?>'),  array('&lt;?php', '&lt;?PHP', '&lt;?', '?&gt;'), $str);
+	}
+
+}
+// END Form Validation Class
+
+/* End of file Form_validation.php */
+/* Location: ./system/libraries/Form_validation.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Ftp.php
===================================================================
--- trunk/pintassilgo/system/libraries/Ftp.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Ftp.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,618 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * FTP Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/ftp.html
+ */ 
+class CI_FTP {
+
+	var $hostname	= '';
+	var $username	= '';
+	var $password	= '';
+	var $port		= 21;
+	var $passive	= TRUE;
+	var $debug		= FALSE;
+	var $conn_id	= FALSE;
+
+
+	/**
+	 * Constructor - Sets Preferences
+	 *
+	 * The constructor can be passed an array of config values
+	 */	
+	function CI_FTP($config = array())
+	{		
+		if (count($config) > 0)
+		{
+			$this->initialize($config);
+		}	
+
+		log_message('debug', "FTP Class Initialized");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Initialize preferences
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	void
+	 */	
+	function initialize($config = array())
+	{
+		foreach ($config as $key => $val)
+		{
+			if (isset($this->$key))
+			{
+				$this->$key = $val;
+			}
+		}
+		
+		// Prep the hostname
+		$this->hostname = preg_replace('|.+?://|', '', $this->hostname);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * FTP Connect
+	 *
+	 * @access	public
+	 * @param	array	 the connection values
+	 * @return	bool
+	 */	
+	function connect($config = array())
+	{		
+		if (count($config) > 0)
+		{
+			$this->initialize($config);
+		}	
+	
+		if (FALSE === ($this->conn_id = @ftp_connect($this->hostname, $this->port)))
+		{
+			if ($this->debug == TRUE)
+			{
+				$this->_error('ftp_unable_to_connect');
+			}		
+			return FALSE;
+		}
+		
+		if ( ! $this->_login())
+		{
+			if ($this->debug == TRUE)
+			{
+				$this->_error('ftp_unable_to_login');
+			}		
+			return FALSE;
+		}
+		
+		// Set passive mode if needed
+		if ($this->passive == TRUE)
+		{
+			ftp_pasv($this->conn_id, TRUE);
+		}
+		
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * FTP Login
+	 *
+	 * @access	private
+	 * @return	bool
+	 */	
+	function _login()
+	{
+		return @ftp_login($this->conn_id, $this->username, $this->password);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Validates the connection ID
+	 *
+	 * @access	private
+	 * @return	bool
+	 */	
+	function _is_conn()
+	{
+		if ( ! is_resource($this->conn_id))
+		{
+			if ($this->debug == TRUE)
+			{
+				$this->_error('ftp_no_connection');
+			}		
+			return FALSE;
+		}
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+
+	/**
+	 * Change direcotry
+	 *
+	 * The second parameter lets us momentarily turn off debugging so that
+	 * this function can be used to test for the existance of a folder
+	 * without throwing an error.  There's no FTP equivalent to is_dir()
+	 * so we do it by trying to change to a particular directory.  
+	 * Internally, this paramter is only used by the "mirror" function below.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	bool
+	 * @return	bool
+	 */	
+	function changedir($path = '', $supress_debug = FALSE)
+	{
+		if ($path == '' OR ! $this->_is_conn())
+		{
+			return FALSE;
+		}
+		
+		$result = @ftp_chdir($this->conn_id, $path);
+		
+		if ($result === FALSE)
+		{
+			if ($this->debug == TRUE AND $supress_debug == FALSE)
+			{
+				$this->_error('ftp_unable_to_changedir');
+			}		
+			return FALSE;		
+		}
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Create a directory
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function mkdir($path = '', $permissions = NULL)
+	{
+		if ($path == '' OR ! $this->_is_conn())
+		{
+			return FALSE;
+		}
+	
+		$result = @ftp_mkdir($this->conn_id, $path);
+		
+		if ($result === FALSE)
+		{
+			if ($this->debug == TRUE)
+			{
+				$this->_error('ftp_unable_to_makdir');
+			}		
+			return FALSE;		
+		}
+
+		// Set file permissions if needed
+		if ( ! is_null($permissions))
+		{
+			$this->chmod($path, (int)$permissions);
+		}
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Upload a file to the server
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @param	string
+	 * @return	bool
+	 */	
+	function upload($locpath, $rempath, $mode = 'auto', $permissions = NULL)
+	{
+		if ( ! $this->_is_conn())
+		{
+			return FALSE;
+		}
+
+		if ( ! file_exists($locpath))
+		{
+			$this->_error('ftp_no_source_file');
+			return FALSE;
+		}
+	
+		// Set the mode if not specified
+		if ($mode == 'auto')
+		{
+			// Get the file extension so we can set the upload type
+			$ext = $this->_getext($locpath);
+			$mode = $this->_settype($ext);
+		}
+		
+		$mode = ($mode == 'ascii') ? FTP_ASCII : FTP_BINARY;
+		
+		$result = @ftp_put($this->conn_id, $rempath, $locpath, $mode);
+		
+		if ($result === FALSE)
+		{
+			if ($this->debug == TRUE)
+			{
+				$this->_error('ftp_unable_to_upload');
+			}		
+			return FALSE;		
+		}
+		
+		// Set file permissions if needed
+		if ( ! is_null($permissions))
+		{
+			$this->chmod($rempath, (int)$permissions);
+		}
+		
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rename (or move) a file
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @param	bool
+	 * @return	bool
+	 */	
+	function rename($old_file, $new_file, $move = FALSE)
+	{
+		if ( ! $this->_is_conn())
+		{
+			return FALSE;
+		}
+
+		$result = @ftp_rename($this->conn_id, $old_file, $new_file);
+		
+		if ($result === FALSE)
+		{
+			if ($this->debug == TRUE)
+			{
+				$msg = ($move == FALSE) ? 'ftp_unable_to_rename' : 'ftp_unable_to_move';
+				
+				$this->_error($msg);
+			}		
+			return FALSE;		
+		}
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Move a file
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	bool
+	 */	
+	function move($old_file, $new_file)
+	{
+		return $this->rename($old_file, $new_file, TRUE);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Rename (or move) a file
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function delete_file($filepath)
+	{
+		if ( ! $this->_is_conn())
+		{
+			return FALSE;
+		}
+
+		$result = @ftp_delete($this->conn_id, $filepath);
+		
+		if ($result === FALSE)
+		{
+			if ($this->debug == TRUE)
+			{				
+				$this->_error('ftp_unable_to_delete');
+			}		
+			return FALSE;		
+		}
+		
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Delete a folder and recursively delete everything (including sub-folders)
+	 * containted within it.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function delete_dir($filepath)
+	{
+		if ( ! $this->_is_conn())
+		{
+			return FALSE;
+		}
+
+		// Add a trailing slash to the file path if needed
+		$filepath = preg_replace("/(.+?)\/*$/", "\\1/",  $filepath);
+		
+		$list = $this->list_files($filepath);
+		
+		if ($list !== FALSE AND count($list) > 0)
+		{
+			foreach ($list as $item)
+			{			
+				// If we can't delete the item it's probaly a folder so
+				// we'll recursively call delete_dir()
+				if ( ! @ftp_delete($this->conn_id, $item))
+				{
+					$this->delete_dir($item);
+				}
+			}
+		}
+	
+		$result = @ftp_rmdir($this->conn_id, $filepath);
+		
+		if ($result === FALSE)
+		{
+			if ($this->debug == TRUE)
+			{				
+				$this->_error('ftp_unable_to_delete');
+			}		
+			return FALSE;		
+		}
+		
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set file permissions
+	 *
+	 * @access	public
+	 * @param	string 	the file path
+	 * @param	string	the permissions
+	 * @return	bool
+	 */		
+	function chmod($path, $perm)
+	{
+		if ( ! $this->_is_conn())
+		{
+			return FALSE;
+		}
+
+		// Permissions can only be set when running PHP 5
+		if ( ! function_exists('ftp_chmod'))
+		{
+			if ($this->debug == TRUE)
+			{
+				$this->_error('ftp_unable_to_chmod');
+			}		
+			return FALSE;		
+		}
+	
+		$result = @ftp_chmod($this->conn_id, $perm, $path);
+		
+		if ($result === FALSE)
+		{
+			if ($this->debug == TRUE)
+			{
+				$this->_error('ftp_unable_to_chmod');
+			}		
+			return FALSE;		
+		}
+		
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * FTP List files in the specified directory
+	 *
+	 * @access	public
+	 * @return	array
+	 */	
+	function list_files($path = '.')
+	{
+		if ( ! $this->_is_conn())
+		{
+			return FALSE;
+		}
+
+		return ftp_nlist($this->conn_id, $path);
+	}
+
+	// ------------------------------------------------------------------------
+	
+	/**
+	 * Read a directory and recreate it remotely
+	 *
+	 * This function recursively reads a folder and everything it contains (including
+	 * sub-folders) and creates a mirror via FTP based on it.  Whatever the directory structure
+	 * of the original file path will be recreated on the server.
+	 *
+	 * @access	public
+	 * @param	string	path to source with trailing slash
+	 * @param	string	path to destination - include the base folder with trailing slash
+	 * @return	bool
+	 */	
+	function mirror($locpath, $rempath)
+	{
+		if ( ! $this->_is_conn())
+		{
+			return FALSE;
+		}
+
+		// Open the local file path
+		if ($fp = @opendir($locpath))
+		{
+			// Attempt to open the remote file path.
+			if ( ! $this->changedir($rempath, TRUE))
+			{
+				// If it doesn't exist we'll attempt to create the direcotory
+				if ( ! $this->mkdir($rempath) OR ! $this->changedir($rempath))
+				{
+					return FALSE;
+				}
+			}
+		
+			// Recursively read the local directory
+			while (FALSE !== ($file = readdir($fp)))
+			{
+				if (@is_dir($locpath.$file) && substr($file, 0, 1) != '.')
+				{					
+					$this->mirror($locpath.$file."/", $rempath.$file."/");
+				}
+				elseif (substr($file, 0, 1) != ".")
+				{
+					// Get the file extension so we can se the upload type
+					$ext = $this->_getext($file);
+					$mode = $this->_settype($ext);
+					
+					$this->upload($locpath.$file, $rempath.$file, $mode);
+				}
+			}
+			return TRUE;
+		}
+		
+		return FALSE;
+	}
+
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Extract the file extension
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */	
+	function _getext($filename)
+	{
+		if (FALSE === strpos($filename, '.'))
+		{
+			return 'txt';
+		}
+	
+		$x = explode('.', $filename);
+		return end($x);
+	}	
+
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the upload type
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */	
+	function _settype($ext)
+	{
+		$text_types = array(
+							'txt',
+							'text',
+							'php',
+							'phps',
+							'php4',
+							'js',
+							'css',
+							'htm',
+							'html',
+							'phtml',
+							'shtml',
+							'log',
+							'xml'
+							);
+	
+	
+		return (in_array($ext, $text_types)) ? 'ascii' : 'binary';
+	}
+
+	// ------------------------------------------------------------------------
+	
+	/**
+	 * Close the connection
+	 *
+	 * @access	public
+	 * @param	string	path to source
+	 * @param	string	path to destination
+	 * @return	bool
+	 */	
+	function close()
+	{
+		if ( ! $this->_is_conn())
+		{
+			return FALSE;
+		}
+
+		@ftp_close($this->conn_id);
+	}
+
+	// ------------------------------------------------------------------------
+	
+	/**
+	 * Display error message
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	bool
+	 */	
+	function _error($line)
+	{
+		$CI =& get_instance();
+		$CI->lang->load('ftp');
+		show_error($CI->lang->line($line));		
+	}
+
+
+}
+// END FTP Class
+
+/* End of file Ftp.php */
+/* Location: ./system/libraries/Ftp.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Hooks.php
===================================================================
--- trunk/pintassilgo/system/libraries/Hooks.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Hooks.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,226 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Hooks Class
+ *
+ * Provides a mechanism to extend the base system without hacking.  Most of
+ * this class is borrowed from Paul's Extension class in ExpressionEngine.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/encryption.html
+ */
+class CI_Hooks {
+	
+	var $enabled 		= FALSE;
+	var $hooks   		= array();
+	var $in_progress	= FALSE;
+	
+	/**
+	 * Constructor
+	 *
+	 */
+	function CI_Hooks()
+	{
+		$this->_initialize();	
+		log_message('debug', "Hooks Class Initialized");
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Initialize the Hooks Preferences
+	 *
+	 * @access	private
+	 * @return	void
+	 */  	
+  	function _initialize()
+  	{
+		$CFG =& load_class('Config');
+		
+		// If hooks are not enabled in the config file
+		// there is nothing else to do
+		
+		if ($CFG->item('enable_hooks') == FALSE)
+		{
+			return;
+		}
+		
+		// Grab the "hooks" definition file.
+		// If there are no hooks, we're done.
+		
+		@include(APPPATH.'config/hooks'.EXT);
+		
+		if ( ! isset($hook) OR ! is_array($hook))
+		{
+			return;
+		}
+
+		$this->hooks =& $hook;
+		$this->enabled = TRUE;
+  	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Call Hook
+	 *
+	 * Calls a particular hook
+	 *
+	 * @access	private
+	 * @param	string	the hook name
+	 * @return	mixed
+	 */
+	function _call_hook($which = '')
+	{
+		if ( ! $this->enabled OR ! isset($this->hooks[$which]))
+		{
+			return FALSE;
+		}
+	
+		if (isset($this->hooks[$which][0]) AND is_array($this->hooks[$which][0]))
+		{
+			foreach ($this->hooks[$which] as $val)
+			{
+				$this->_run_hook($val);
+			}
+		}
+		else
+		{
+			$this->_run_hook($this->hooks[$which]);
+		}
+		
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Run Hook
+	 *
+	 * Runs a particular hook
+	 *
+	 * @access	private
+	 * @param	array	the hook details
+	 * @return	bool
+	 */
+	function _run_hook($data)
+	{
+		if ( ! is_array($data))
+		{
+			return FALSE;
+		}
+		
+		// -----------------------------------
+		// Safety - Prevents run-away loops
+		// -----------------------------------
+	
+		// If the script being called happens to have the same
+		// hook call within it a loop can happen
+		
+		if ($this->in_progress == TRUE)
+		{
+			return;
+		}
+
+		// -----------------------------------
+		// Set file path
+		// -----------------------------------
+		
+		if ( ! isset($data['filepath']) OR ! isset($data['filename']))
+		{
+			return FALSE;
+		}
+		
+		$filepath = APPPATH.$data['filepath'].'/'.$data['filename'];
+	
+		if ( ! file_exists($filepath))
+		{
+			return FALSE;
+		}
+		
+		// -----------------------------------
+		// Set class/function name
+		// -----------------------------------
+		
+		$class		= FALSE;
+		$function	= FALSE;
+		$params		= '';
+		
+		if (isset($data['class']) AND $data['class'] != '')
+		{
+			$class = $data['class'];
+		}
+
+		if (isset($data['function']))
+		{
+			$function = $data['function'];
+		}
+
+		if (isset($data['params']))
+		{
+			$params = $data['params'];
+		}
+		
+		if ($class === FALSE AND $function === FALSE)
+		{
+			return FALSE;
+		}
+		
+		// -----------------------------------
+		// Set the in_progress flag
+		// -----------------------------------
+
+		$this->in_progress = TRUE;
+		
+		// -----------------------------------
+		// Call the requested class and/or function
+		// -----------------------------------
+		
+		if ($class !== FALSE)
+		{
+			if ( ! class_exists($class))
+			{
+				require($filepath);
+			}
+		
+			$HOOK = new $class;
+			$HOOK->$function($params);
+		}
+		else
+		{
+			if ( ! function_exists($function))
+			{
+				require($filepath);
+			}
+		
+			$function($params);
+		}
+	
+		$this->in_progress = FALSE;
+		return TRUE;
+	}
+
+}
+
+// END CI_Hooks class
+
+/* End of file Hooks.php */
+/* Location: ./system/libraries/Hooks.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Image_lib.php
===================================================================
--- trunk/pintassilgo/system/libraries/Image_lib.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Image_lib.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,1546 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Image Manipulation class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Image_lib
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/image_lib.html
+ */
+class CI_Image_lib {
+	
+	var $image_library		= 'gd2';  	// Can be:  imagemagick, netpbm, gd, gd2
+	var $library_path		= '';
+	var $dynamic_output		= FALSE;	// Whether to send to browser or write to disk
+	var $source_image		= '';	
+	var $new_image			= '';
+	var $width				= '';
+	var $height				= '';
+	var $quality			= '90';
+	var $create_thumb		= FALSE;
+	var $thumb_marker		= '_thumb';
+	var $maintain_ratio		= TRUE;  	// Whether to maintain aspect ratio when resizing or use hard values
+	var $master_dim			= 'auto';	// auto, height, or width.  Determines what to use as the master dimension
+	var $rotation_angle		= '';
+	var $x_axis				= '';
+	var	$y_axis				= '';
+	
+	// Watermark Vars
+	var $wm_text			= '';			// Watermark text if graphic is not used
+	var $wm_type			= 'text';		// Type of watermarking.  Options:  text/overlay
+	var $wm_x_transp		= 4;
+	var $wm_y_transp		= 4;
+	var $wm_overlay_path	= '';			// Watermark image path
+	var $wm_font_path		= '';			// TT font
+	var $wm_font_size		= 17;			// Font size (different versions of GD will either use points or pixels)
+	var $wm_vrt_alignment	= 'B';			// Vertical alignment:   T M B
+	var $wm_hor_alignment	= 'C';			// Horizontal alignment: L R C
+	var $wm_padding			= 0;			// Padding around text
+	var $wm_hor_offset		= 0;			// Lets you push text to the right
+	var $wm_vrt_offset		= 0;			 // Lets you push  text down
+	var $wm_font_color		= '#ffffff';	// Text color
+	var $wm_shadow_color	= '';			// Dropshadow color
+	var $wm_shadow_distance	= 2;			// Dropshadow distance
+	var $wm_opacity			= 50; 			// Image opacity: 1 - 100  Only works with image
+	
+	// Private Vars
+	var $source_folder		= '';
+	var $dest_folder		= '';
+	var $mime_type			= '';
+	var $orig_width			= '';
+	var $orig_height		= '';
+	var $image_type			= '';
+	var $size_str			= '';
+	var $full_src_path		= '';
+	var $full_dst_path		= '';
+	var $create_fnc			= 'imagecreatetruecolor';
+	var $copy_fnc			= 'imagecopyresampled';
+	var $error_msg			= array();
+	var $wm_use_drop_shadow	= FALSE;
+	var $wm_use_truetype	= FALSE;		
+	
+	/**
+	 * Constructor
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function CI_Image_lib($props = array())
+	{
+		if (count($props) > 0)
+		{
+			$this->initialize($props);
+		}
+		
+		log_message('debug', "Image Lib Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Initialize image properties
+	 *
+	 * Resets values in case this class is used in a loop
+	 *
+	 * @access	public
+	 * @return	void
+	 */	
+	function clear()
+	{
+		$props = array('source_folder', 'dest_folder', 'source_image', 'full_src_path', 'full_dst_path', 'new_image', 'image_type', 'size_str', 'quality', 'orig_width', 'orig_height', 'rotation_angle', 'x_axis', 'y_axis', 'create_fnc', 'copy_fnc', 'wm_overlay_path', 'wm_use_truetype', 'dynamic_output', 'wm_font_size', 'wm_text', 'wm_vrt_alignment', 'wm_hor_alignment', 'wm_padding', 'wm_hor_offset', 'wm_vrt_offset', 'wm_font_color', 'wm_use_drop_shadow', 'wm_shadow_color', 'wm_shadow_distance', 'wm_opacity');
+	
+		foreach ($props as $val)
+		{
+			$this->$val = '';
+		}
+
+		// special consideration for master_dim
+		$this->master_dim = 'auto';
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * initialize image preferences
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	void
+	 */	
+	function initialize($props = array())
+	{
+		/*
+		 * Convert array elements into class variables
+		 */
+		if (count($props) > 0)
+		{
+			foreach ($props as $key => $val)
+			{
+				$this->$key = $val;
+			}
+		}
+
+		/*
+		 * Is there a source image?
+		 *
+		 * If not, there's no reason to continue
+		 *
+		 */
+		if ($this->source_image == '')
+		{
+			$this->set_error('imglib_source_image_required');
+			return FALSE;	   	
+		}
+		
+		/*
+		 * Is getimagesize() Available?
+		 *
+		 * We use it to determine the image properties (width/height).
+		 * Note:  We need to figure out how to determine image
+		 * properties using ImageMagick and NetPBM
+		 *
+		 */		
+		if ( ! function_exists('getimagesize'))
+		{
+			$this->set_error('imglib_gd_required_for_props');
+			return FALSE;		
+		}
+		
+		$this->image_library = strtolower($this->image_library);
+		
+		/*
+		 * Set the full server path
+		 *
+		 * The source image may or may not contain a path.
+		 * Either way, we'll try use realpath to generate the
+		 * full server path in order to more reliably read it.
+		 *
+		 */	
+		if (function_exists('realpath') AND @realpath($this->source_image) !== FALSE)
+		{
+			$full_source_path = str_replace("\\", "/", realpath($this->source_image));
+		}
+		else
+		{
+			$full_source_path = $this->source_image;
+		}
+		
+		$x = explode('/', $full_source_path);
+		$this->source_image = end($x);
+		$this->source_folder = str_replace($this->source_image, '', $full_source_path);
+								
+		// Set the Image Properties
+		if ( ! $this->get_image_properties($this->source_folder.$this->source_image))
+		{
+			return FALSE;	   	
+		}				
+
+		/*
+		 * Assign the "new" image name/path
+		 *
+		 * If the user has set a "new_image" name it means
+		 * we are making a copy of the source image. If not
+		 * it means we are altering the original.  We'll
+		 * set the destination filename and path accordingly.
+		 *
+		 */			
+		if ($this->new_image == '')
+		{
+			$this->dest_image = $this->source_image;
+			$this->dest_folder = $this->source_folder;
+		}
+		else
+		{
+			if (strpos($this->new_image, '/') === FALSE)
+			{
+				$this->dest_folder = $this->source_folder;
+				$this->dest_image = $this->new_image;
+			}
+			else
+			{
+				if (function_exists('realpath') AND @realpath($this->new_image) !== FALSE)
+				{
+					$full_dest_path = str_replace("\\", "/", realpath($this->new_image));
+				}
+				else
+				{
+					$full_dest_path = $this->new_image;
+				}
+				
+				// Is there a file name?
+				if ( ! preg_match("#\.(jpg|jpeg|gif|png)$#i", $full_dest_path))
+				{
+					$this->dest_folder = $full_dest_path.'/';
+					$this->dest_image = $this->source_image;
+				}
+				else
+				{
+					$x = explode('/', $full_dest_path);
+					$this->dest_image = end($x);
+					$this->dest_folder = str_replace($this->dest_image, '', $full_dest_path);
+				}
+			}
+		}
+
+		/*
+		 * Compile the finalized filenames/paths
+		 *
+		 * We'll create two master strings containing the
+		 * full server path to the source image and the
+		 * full server path to the destination image.
+		 * We'll also split the destination image name
+		 * so we can insert the thumbnail marker if needed.
+		 *
+		 */	
+		if ($this->create_thumb === FALSE OR $this->thumb_marker == '')
+		{
+			$this->thumb_marker = '';
+		}
+
+		$xp	= $this->explode_name($this->dest_image);
+	
+		$filename = $xp['name'];
+		$file_ext = $xp['ext'];
+				
+		$this->full_src_path = $this->source_folder.$this->source_image;		
+		$this->full_dst_path = $this->dest_folder.$filename.$this->thumb_marker.$file_ext;
+
+		/*
+		 * Should we maintain image proportions?
+		 *
+		 * When creating thumbs or copies, the target width/height
+		 * might not be in correct proportion with the source
+		 * image's width/height.  We'll recalculate it here.
+		 *
+		 */	
+		if ($this->maintain_ratio === TRUE && ($this->width != '' AND $this->height != ''))
+		{
+			$this->image_reproportion();
+		}
+
+		/*
+		 * Was a width and height specified?
+		 *
+		 * If the destination width/height was
+		 * not submitted we will use the values
+		 * from the actual file
+		 *
+		 */	
+		if ($this->width == '')
+			$this->width = $this->orig_width;
+	
+		if ($this->height == '')
+			$this->height = $this->orig_height;
+	
+		// Set the quality
+		$this->quality = trim(str_replace("%", "", $this->quality));
+		
+		if ($this->quality == '' OR $this->quality == 0 OR ! is_numeric($this->quality))
+			$this->quality = 90;
+	
+		// Set the x/y coordinates
+		$this->x_axis = ($this->x_axis == '' OR ! is_numeric($this->x_axis)) ? 0 : $this->x_axis;
+		$this->y_axis = ($this->y_axis == '' OR ! is_numeric($this->y_axis)) ? 0 : $this->y_axis;
+	
+		// Watermark-related Stuff...
+		if ($this->wm_font_color != '')
+		{
+			if (strlen($this->wm_font_color) == 6)
+			{
+				$this->wm_font_color = '#'.$this->wm_font_color;
+			}
+		}
+		
+		if ($this->wm_shadow_color != '')
+		{
+			if (strlen($this->wm_shadow_color) == 6)
+			{
+				$this->wm_shadow_color = '#'.$this->wm_shadow_color;
+			}
+		}
+	
+		if ($this->wm_overlay_path != '')
+		{
+			$this->wm_overlay_path = str_replace("\\", "/", realpath($this->wm_overlay_path));
+		}
+	
+		if ($this->wm_shadow_color != '')
+		{
+			$this->wm_use_drop_shadow = TRUE;
+		}
+
+		if ($this->wm_font_path != '')
+		{
+			$this->wm_use_truetype = TRUE;
+		}
+
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Image Resize
+	 *
+	 * This is a wrapper function that chooses the proper
+	 * resize function based on the protocol specified
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function resize()
+	{
+		$protocol = 'image_process_'.$this->image_library;
+		
+		if (eregi("gd2$", $protocol))
+		{
+			$protocol = 'image_process_gd';
+		}
+		
+		return $this->$protocol('resize');
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Image Crop
+	 *
+	 * This is a wrapper function that chooses the proper
+	 * cropping function based on the protocol specified
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function crop()
+	{
+		$protocol = 'image_process_'.$this->image_library;
+		
+		if (eregi("gd2$", $protocol))
+		{
+			$protocol = 'image_process_gd';
+		}
+		
+		return $this->$protocol('crop');
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Image Rotate
+	 *
+	 * This is a wrapper function that chooses the proper
+	 * rotation function based on the protocol specified
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function rotate()
+	{
+		// Allowed rotation values		
+		$degs = array(90, 180, 270, 'vrt', 'hor');	
+	
+		if ($this->rotation_angle == '' OR ! in_array($this->rotation_angle, $degs, TRUE))
+		{
+			$this->set_error('imglib_rotation_angle_required');
+			return FALSE;	   	
+		}
+	
+		// Reassign the width and height
+		if ($this->rotation_angle == 90 OR $this->rotation_angle == 270)
+		{
+			$this->width	= $this->orig_height;
+			$this->height	= $this->orig_width;
+		}
+		else
+		{
+			$this->width	= $this->orig_width;
+			$this->height	= $this->orig_height;
+		}
+	
+
+		// Choose resizing function
+		if ($this->image_library == 'imagemagick' OR $this->image_library == 'netpbm')
+		{
+			$protocol = 'image_process_'.$this->image_library;
+		
+			return $this->$protocol('rotate');
+		}
+		
+		if ($this->rotation_angle == 'hor' OR $this->rotation_angle == 'vrt')
+		{
+			return $this->image_mirror_gd();
+		}
+		else
+		{		
+			return $this->image_rotate_gd();
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Image Process Using GD/GD2
+	 *
+	 * This function will resize or crop
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */		
+	function image_process_gd($action = 'resize')
+	{	
+		$v2_override = FALSE;
+
+		// If the target width/height match the source, AND if the new file name is not equal to the old file name
+		// we'll simply make a copy of the original with the new name... assuming dynamic rendering is off.
+		if ($this->dynamic_output === FALSE)
+		{
+			if ($this->orig_width == $this->width AND $this->orig_height == $this->height)			
+			{
+ 				if ($this->source_image != $this->new_image)
+ 				{
+					if (@copy($this->full_src_path, $this->full_dst_path))
+					{
+						@chmod($this->full_dst_path, DIR_WRITE_MODE);
+					}
+				}
+				
+				return TRUE;
+			}
+		}
+		
+		// Let's set up our values based on the action
+		if ($action == 'crop')
+		{
+			//  Reassign the source width/height if cropping
+			$this->orig_width  = $this->width;
+			$this->orig_height = $this->height;	
+				
+			// GD 2.0 has a cropping bug so we'll test for it
+			if ($this->gd_version() !== FALSE)
+			{
+				$gd_version = str_replace('0', '', $this->gd_version());			
+				$v2_override = ($gd_version == 2) ? TRUE : FALSE;
+			}
+		}
+		else
+		{			
+			// If resizing the x/y axis must be zero
+			$this->x_axis = 0;
+			$this->y_axis = 0;
+		}
+		
+		//  Create the image handle
+		if ( ! ($src_img = $this->image_create_gd()))
+		{		
+			return FALSE;
+		}
+
+ 		//  Create The Image
+		//
+		//  old conditional which users report cause problems with shared GD libs who report themselves as "2.0 or greater"
+		//  it appears that this is no longer the issue that it was in 2004, so we've removed it, retaining it in the comment
+		//  below should that ever prove inaccurate.
+		//
+		//  if ($this->image_library == 'gd2' AND function_exists('imagecreatetruecolor') AND $v2_override == FALSE)
+ 		if ($this->image_library == 'gd2' AND function_exists('imagecreatetruecolor'))		
+		{
+			$create	= 'imagecreatetruecolor';
+			$copy	= 'imagecopyresampled';
+		}
+		else
+		{
+			$create	= 'imagecreate';	
+			$copy	= 'imagecopyresized';
+		}
+			
+		$dst_img = $create($this->width, $this->height);
+		$copy($dst_img, $src_img, 0, 0, $this->x_axis, $this->y_axis, $this->width, $this->height, $this->orig_width, $this->orig_height);
+
+		//  Show the image	
+		if ($this->dynamic_output == TRUE)
+		{
+			$this->image_display_gd($dst_img);
+		}
+		else
+		{
+			// Or save it
+			if ( ! $this->image_save_gd($dst_img))
+			{
+				return FALSE;
+			}
+		}
+
+		//  Kill the file handles
+		imagedestroy($dst_img);
+		imagedestroy($src_img);
+		
+		// Set the file to 777
+		@chmod($this->full_dst_path, DIR_WRITE_MODE);
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Image Process Using ImageMagick
+	 *
+	 * This function will resize, crop or rotate
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */		
+	function image_process_imagemagick($action = 'resize')
+	{
+		//  Do we have a vaild library path?
+		if ($this->library_path == '')
+		{
+			$this->set_error('imglib_libpath_invalid');
+			return FALSE;
+		}
+				
+		if ( ! eregi("convert$", $this->library_path))
+		{
+			if ( ! eregi("/$", $this->library_path)) $this->library_path .= "/";
+		
+			$this->library_path .= 'convert';
+		}
+		
+		// Execute the command
+		$cmd = $this->library_path." -quality ".$this->quality;
+	
+		if ($action == 'crop')
+		{
+			$cmd .= " -crop ".$this->width."x".$this->height."+".$this->x_axis."+".$this->y_axis." \"$this->full_src_path\" \"$this->full_dst_path\" 2>&1";
+		}
+		elseif ($action == 'rotate')
+		{
+			switch ($this->rotation_angle)
+			{
+				case 'hor' 	: $angle = '-flop';
+					break;
+				case 'vrt' 	: $angle = '-flip';
+					break;
+				default		: $angle = '-rotate '.$this->rotation_angle;
+					break;
+			}			
+		
+			$cmd .= " ".$angle." \"$this->full_src_path\" \"$this->full_dst_path\" 2>&1";
+		}
+		else  // Resize
+		{
+			$cmd .= " -resize ".$this->width."x".$this->height." \"$this->full_src_path\" \"$this->full_dst_path\" 2>&1";
+		}
+	
+		$retval = 1;
+	
+		@exec($cmd, $output, $retval);
+
+		//	Did it work?	
+		if ($retval > 0)
+		{
+			$this->set_error('imglib_image_process_failed');
+			return FALSE;
+		}
+		
+		// Set the file to 777
+		@chmod($this->full_dst_path, DIR_WRITE_MODE);
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Image Process Using NetPBM
+	 *
+	 * This function will resize, crop or rotate
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */		
+	function image_process_netpbm($action = 'resize')
+	{
+		if ($this->library_path == '')
+		{
+			$this->set_error('imglib_libpath_invalid');
+			return FALSE;
+		}
+			
+		//  Build the resizing command
+		switch ($this->image_type)
+		{
+			case 1 :
+						$cmd_in		= 'giftopnm';
+						$cmd_out	= 'ppmtogif';
+				break;
+			case 2 :
+						$cmd_in		= 'jpegtopnm';
+						$cmd_out	= 'ppmtojpeg';			
+				break;
+			case 3 :
+						$cmd_in		= 'pngtopnm';
+						$cmd_out	= 'ppmtopng';
+				break;
+		}
+		
+		if ($action == 'crop')
+		{
+			$cmd_inner = 'pnmcut -left '.$this->x_axis.' -top '.$this->y_axis.' -width '.$this->width.' -height '.$this->height;
+		}
+		elseif ($action == 'rotate')
+		{
+			switch ($this->rotation_angle)
+			{
+				case 90		:	$angle = 'r270';
+					break;
+				case 180	:	$angle = 'r180';
+					break;
+				case 270 	:	$angle = 'r90';
+					break;
+				case 'vrt'	:	$angle = 'tb';
+					break;
+				case 'hor'	:	$angle = 'lr';
+					break;
+			}
+		
+			$cmd_inner = 'pnmflip -'.$angle.' ';
+		}
+		else // Resize
+		{
+			$cmd_inner = 'pnmscale -xysize '.$this->width.' '.$this->height;
+		}
+						
+		$cmd = $this->library_path.$cmd_in.' '.$this->full_src_path.' | '.$cmd_inner.' | '.$cmd_out.' > '.$this->dest_folder.'netpbm.tmp';
+		
+		$retval = 1;
+		
+		@exec($cmd, $output, $retval);
+		
+		//  Did it work?
+		if ($retval > 0)
+		{
+			$this->set_error('imglib_image_process_failed');
+			return FALSE;
+		}
+		
+		// With NetPBM we have to create a temporary image.
+		// If you try manipulating the original it fails so
+		// we have to rename the temp file.
+		copy ($this->dest_folder.'netpbm.tmp', $this->full_dst_path);
+		unlink ($this->dest_folder.'netpbm.tmp');
+		@chmod($this->full_dst_path, DIR_WRITE_MODE);
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Image Rotate Using GD
+	 *
+	 * @access	public
+	 * @return	bool
+	 */		
+	function image_rotate_gd()
+	{	
+		// Is Image Rotation Supported?
+		// this function is only supported as of PHP 4.3
+		if ( ! function_exists('imagerotate'))
+		{
+			$this->set_error('imglib_rotate_unsupported');
+			return FALSE;
+		}
+		
+		//  Create the image handle
+		if ( ! ($src_img = $this->image_create_gd()))
+		{		
+			return FALSE;
+		}
+
+		// Set the background color		
+		// This won't work with transparent PNG files so we are
+		// going to have to figure out how to determine the color
+		// of the alpha channel in a future release.
+	
+		$white	= imagecolorallocate($src_img, 255, 255, 255);
+
+		//  Rotate it!
+		$dst_img = imagerotate($src_img, $this->rotation_angle, $white);
+	
+		//  Save the Image
+		if ($this->dynamic_output == TRUE)
+		{
+			$this->image_display_gd($dst_img);
+		}
+		else
+		{
+			// Or save it
+			if ( ! $this->image_save_gd($dst_img))
+			{
+				return FALSE;
+			}
+		}
+
+		//  Kill the file handles
+		imagedestroy($dst_img);
+		imagedestroy($src_img);
+		
+		// Set the file to 777
+		
+		@chmod($this->full_dst_path, DIR_WRITE_MODE);
+		
+		return true;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Create Mirror Image using GD
+	 *
+	 * This function will flip horizontal or vertical
+	 *
+	 * @access	public
+	 * @return	bool
+	 */			
+	function image_mirror_gd()
+	{		
+		if ( ! $src_img = $this->image_create_gd())
+		{
+			return FALSE;
+		}
+		
+		$width  = $this->orig_width;
+		$height = $this->orig_height;
+	
+		if ($this->rotation_angle == 'hor')
+		{
+			for ($i = 0; $i < $height; $i++)
+			{
+				$left  = 0;
+				$right = $width-1;
+	
+				while ($left < $right)
+				{
+					$cl = imagecolorat($src_img, $left, $i);
+					$cr = imagecolorat($src_img, $right, $i);
+					
+					imagesetpixel($src_img, $left, $i, $cr);
+					imagesetpixel($src_img, $right, $i, $cl);
+					
+					$left++;
+					$right--;
+				}
+			}
+		}
+		else
+		{
+			for ($i = 0; $i < $width; $i++)
+			{
+				$top = 0;
+				$bot = $height-1;
+	
+				while ($top < $bot)
+				{
+					$ct = imagecolorat($src_img, $i, $top);
+					$cb = imagecolorat($src_img, $i, $bot);
+					
+					imagesetpixel($src_img, $i, $top, $cb);
+					imagesetpixel($src_img, $i, $bot, $ct);
+					
+					$top++;
+					$bot--;
+				}
+			}		
+		}		
+
+		//  Show the image
+		if ($this->dynamic_output == TRUE)
+		{
+			$this->image_display_gd($src_img);
+		}
+		else
+		{
+			// Or save it
+			if ( ! $this->image_save_gd($src_img))
+			{
+				return FALSE;
+			}
+		}
+		
+		//  Kill the file handles
+		imagedestroy($src_img);
+		
+		// Set the file to 777
+		@chmod($this->full_dst_path, DIR_WRITE_MODE);
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Image Watermark
+	 *
+	 * This is a wrapper function that chooses the type
+	 * of watermarking based on the specified preference.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function watermark()
+	{
+		if ($this->wm_type == 'overlay')
+		{
+			return $this->overlay_watermark();
+		}
+		else
+		{
+			return $this->text_watermark();
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Watermark - Graphic Version
+	 *
+	 * @access	public
+	 * @return	bool
+	 */			
+	function overlay_watermark()
+	{
+		if ( ! function_exists('imagecolortransparent'))
+		{
+			$this->set_error('imglib_gd_required');
+			return FALSE;		
+		}
+	
+		//  Fetch source image properties
+		$this->get_image_properties();
+
+		//  Fetch watermark image properties
+		$props 			= $this->get_image_properties($this->wm_overlay_path, TRUE);	
+		$wm_img_type	= $props['image_type'];
+		$wm_width		= $props['width'];
+		$wm_height		= $props['height'];
+	
+		//  Create two image resources	
+		$wm_img  = $this->image_create_gd($this->wm_overlay_path, $wm_img_type);
+		$src_img = $this->image_create_gd($this->full_src_path);
+		
+		// Reverse the offset if necessary		
+		// When the image is positioned at the bottom
+		// we don't want the vertical offset to push it
+		// further down.  We want the reverse, so we'll
+		// invert the offset.  Same with the horizontal
+		// offset when the image is at the right
+		
+		$this->wm_vrt_alignment = strtoupper(substr($this->wm_vrt_alignment, 0, 1));
+		$this->wm_hor_alignment = strtoupper(substr($this->wm_hor_alignment, 0, 1));
+	
+		if ($this->wm_vrt_alignment == 'B')
+			$this->wm_vrt_offset = $this->wm_vrt_offset * -1;
+	
+		if ($this->wm_hor_alignment == 'R')
+			$this->wm_hor_offset = $this->wm_hor_offset * -1;
+
+		//  Set the base x and y axis values
+		$x_axis = $this->wm_hor_offset + $this->wm_padding;
+		$y_axis = $this->wm_vrt_offset + $this->wm_padding;
+
+		//  Set the vertical position
+		switch ($this->wm_vrt_alignment)
+		{
+			case 'T':
+				break;
+			case 'M':	$y_axis += ($this->orig_height / 2) - ($wm_height / 2);
+				break;
+			case 'B':	$y_axis += $this->orig_height - $wm_height;
+				break;
+		}
+
+		//  Set the horizontal position
+		switch ($this->wm_hor_alignment)
+		{
+			case 'L':
+				break;	
+			case 'C':	$x_axis += ($this->orig_width / 2) - ($wm_width / 2);
+				break;
+			case 'R':	$x_axis += $this->orig_width - $wm_width;
+				break;
+		}
+	
+		//  Build the finalized image			
+		if ($wm_img_type == 3 AND function_exists('imagealphablending'))
+		{
+			@imagealphablending($src_img, TRUE);
+		} 		
+
+		// Set RGB values for text and shadow
+		$rgba = imagecolorat($wm_img, $this->wm_x_transp, $this->wm_y_transp);
+		$alpha = ($rgba & 0x7F000000) >> 24;
+		
+		// make a best guess as to whether we're dealing with an image with alpha transparency or no/binary transparency
+		if ($alpha > 0)
+		{
+			// copy the image directly, the image's alpha transparency being the sole determinant of blending
+			imagecopy($src_img, $wm_img, $x_axis, $y_axis, 0, 0, $wm_width, $wm_height);
+		}
+		else
+		{
+			// set our RGB value from above to be transparent and merge the images with the specified opacity
+			imagecolortransparent($wm_img, imagecolorat($wm_img, $this->wm_x_transp, $this->wm_y_transp));
+			imagecopymerge($src_img, $wm_img, $x_axis, $y_axis, 0, 0, $wm_width, $wm_height, $this->wm_opacity);			
+		}
+				
+		//  Output the image
+		if ($this->dynamic_output == TRUE)
+		{
+			$this->image_display_gd($src_img);
+		}
+		else
+		{
+			if ( ! $this->image_save_gd($src_img))
+			{
+				return FALSE;
+			}
+		}
+		
+		imagedestroy($src_img);
+		imagedestroy($wm_img);
+				
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Watermark - Text Version
+	 *
+	 * @access	public
+	 * @return	bool
+	 */			
+	function text_watermark()
+	{
+		if ( ! ($src_img = $this->image_create_gd()))
+		{		
+			return FALSE;
+		}
+				
+		if ($this->wm_use_truetype == TRUE AND ! file_exists($this->wm_font_path))
+		{
+			$this->set_error('imglib_missing_font');
+			return FALSE;
+		}
+		
+		//  Fetch source image properties		
+		$this->get_image_properties();				
+		
+		// Set RGB values for text and shadow		
+		$this->wm_font_color	= str_replace('#', '', $this->wm_font_color);
+		$this->wm_shadow_color	= str_replace('#', '', $this->wm_shadow_color);
+		
+		$R1 = hexdec(substr($this->wm_font_color, 0, 2));
+		$G1 = hexdec(substr($this->wm_font_color, 2, 2));
+		$B1 = hexdec(substr($this->wm_font_color, 4, 2));
+	
+		$R2 = hexdec(substr($this->wm_shadow_color, 0, 2));
+		$G2 = hexdec(substr($this->wm_shadow_color, 2, 2));
+		$B2 = hexdec(substr($this->wm_shadow_color, 4, 2));
+		
+		$txt_color	= imagecolorclosest($src_img, $R1, $G1, $B1);
+		$drp_color	= imagecolorclosest($src_img, $R2, $G2, $B2);
+
+		// Reverse the vertical offset
+		// When the image is positioned at the bottom
+		// we don't want the vertical offset to push it
+		// further down.  We want the reverse, so we'll
+		// invert the offset.  Note: The horizontal
+		// offset flips itself automatically
+	
+		if ($this->wm_vrt_alignment == 'B')
+			$this->wm_vrt_offset = $this->wm_vrt_offset * -1;
+			
+		if ($this->wm_hor_alignment == 'R')
+			$this->wm_hor_offset = $this->wm_hor_offset * -1;
+
+		// Set font width and height
+		// These are calculated differently depending on
+		// whether we are using the true type font or not
+		if ($this->wm_use_truetype == TRUE)
+		{
+			if ($this->wm_font_size == '')
+				$this->wm_font_size = '17';
+		
+			$fontwidth  = $this->wm_font_size-($this->wm_font_size/4);
+			$fontheight = $this->wm_font_size;
+			$this->wm_vrt_offset += $this->wm_font_size;
+		}
+		else
+		{
+			$fontwidth  = imagefontwidth($this->wm_font_size);
+			$fontheight = imagefontheight($this->wm_font_size);
+		}
+
+		// Set base X and Y axis values
+		$x_axis = $this->wm_hor_offset + $this->wm_padding;
+		$y_axis = $this->wm_vrt_offset + $this->wm_padding;
+
+		// Set verticle alignment
+		if ($this->wm_use_drop_shadow == FALSE)
+			$this->wm_shadow_distance = 0;
+			
+		$this->wm_vrt_alignment = strtoupper(substr($this->wm_vrt_alignment, 0, 1));
+		$this->wm_hor_alignment = strtoupper(substr($this->wm_hor_alignment, 0, 1));
+	
+		switch ($this->wm_vrt_alignment)
+		{
+			case	 "T" :
+				break;
+			case "M":	$y_axis += ($this->orig_height/2)+($fontheight/2);
+				break;
+			case "B":	$y_axis += ($this->orig_height - $fontheight - $this->wm_shadow_distance - ($fontheight/2));
+				break;
+		}
+	
+		$x_shad = $x_axis + $this->wm_shadow_distance;
+		$y_shad = $y_axis + $this->wm_shadow_distance;
+		
+		// Set horizontal alignment
+		switch ($this->wm_hor_alignment)
+		{
+			case "L":
+				break;
+			case "R":
+						if ($this->wm_use_drop_shadow)
+							$x_shad += ($this->orig_width - $fontwidth*strlen($this->wm_text));
+							$x_axis += ($this->orig_width - $fontwidth*strlen($this->wm_text));
+				break;
+			case "C":
+						if ($this->wm_use_drop_shadow)
+							$x_shad += floor(($this->orig_width - $fontwidth*strlen($this->wm_text))/2);
+							$x_axis += floor(($this->orig_width  -$fontwidth*strlen($this->wm_text))/2);
+				break;
+		}
+		
+		//  Add the text to the source image
+		if ($this->wm_use_truetype)
+		{	
+			if ($this->wm_use_drop_shadow)
+				imagettftext($src_img, $this->wm_font_size, 0, $x_shad, $y_shad, $drp_color, $this->wm_font_path, $this->wm_text);
+				imagettftext($src_img, $this->wm_font_size, 0, $x_axis, $y_axis, $txt_color, $this->wm_font_path, $this->wm_text);
+		}
+		else
+		{
+			if ($this->wm_use_drop_shadow)
+				imagestring($src_img, $this->wm_font_size, $x_shad, $y_shad, $this->wm_text, $drp_color);
+				imagestring($src_img, $this->wm_font_size, $x_axis, $y_axis, $this->wm_text, $txt_color);
+		}
+	
+		//  Output the final image
+		if ($this->dynamic_output == TRUE)
+		{
+			$this->image_display_gd($src_img);
+		}
+		else
+		{
+			$this->image_save_gd($src_img);
+		}
+		
+		imagedestroy($src_img);
+	
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Create Image - GD
+	 *
+	 * This simply creates an image resource handle
+	 * based on the type of image being processed
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	resource
+	 */			
+	function image_create_gd($path = '', $image_type = '')
+	{
+		if ($path == '')
+			$path = $this->full_src_path;
+			
+		if ($image_type == '')
+			$image_type = $this->image_type;
+	
+		
+		switch ($image_type)
+		{
+			case	 1 :
+						if ( ! function_exists('imagecreatefromgif'))
+						{
+							$this->set_error(array('imglib_unsupported_imagecreate', 'imglib_gif_not_supported'));
+							return FALSE;
+						}
+					
+						return imagecreatefromgif($path);
+				break;
+			case 2 :
+						if ( ! function_exists('imagecreatefromjpeg'))
+						{
+							$this->set_error(array('imglib_unsupported_imagecreate', 'imglib_jpg_not_supported'));
+							return FALSE;
+						}
+					
+						return imagecreatefromjpeg($path);
+				break;
+			case 3 :
+						if ( ! function_exists('imagecreatefrompng'))
+						{
+							$this->set_error(array('imglib_unsupported_imagecreate', 'imglib_png_not_supported'));				
+							return FALSE;
+						}
+					
+						return imagecreatefrompng($path);
+				break;			
+		
+		}
+		
+		$this->set_error(array('imglib_unsupported_imagecreate'));
+		return FALSE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Write image file to disk - GD
+	 *
+	 * Takes an image resource as input and writes the file
+	 * to the specified destination
+	 *
+	 * @access	public
+	 * @param	resource
+	 * @return	bool
+	 */			
+	function image_save_gd($resource)
+	{	
+		switch ($this->image_type)
+		{
+			case 1 :
+						if ( ! function_exists('imagegif'))
+						{
+							$this->set_error(array('imglib_unsupported_imagecreate', 'imglib_gif_not_supported'));
+							return FALSE;		
+						}
+						
+						@imagegif($resource, $this->full_dst_path);
+				break;
+			case 2	:
+						if ( ! function_exists('imagejpeg'))
+						{
+							$this->set_error(array('imglib_unsupported_imagecreate', 'imglib_jpg_not_supported'));
+							return FALSE;		
+						}
+						
+						if (phpversion() == '4.4.1')
+						{
+							@touch($this->full_dst_path); // PHP 4.4.1 bug #35060 - workaround
+						}
+						
+						@imagejpeg($resource, $this->full_dst_path, $this->quality);
+				break;
+			case 3	:
+						if ( ! function_exists('imagepng'))
+						{
+							$this->set_error(array('imglib_unsupported_imagecreate', 'imglib_png_not_supported'));
+							return FALSE;		
+						}
+					
+						@imagepng($resource, $this->full_dst_path);
+				break;
+			default		:
+							$this->set_error(array('imglib_unsupported_imagecreate'));
+							return FALSE;		
+				break;		
+		}
+	
+		return TRUE;
+	}	
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Dynamically outputs an image
+	 *
+	 * @access	public
+	 * @param	resource
+	 * @return	void
+	 */			
+	function image_display_gd($resource)
+	{		
+		header("Content-Disposition: filename={$this->source_image};");
+		header("Content-Type: {$this->mime_type}");
+		header('Content-Transfer-Encoding: binary');
+		header('Last-Modified: '.gmdate('D, d M Y H:i:s', time()).' GMT');
+	
+		switch ($this->image_type)
+		{
+			case 1 		:	imagegif($resource);
+				break;
+			case 2		:	imagejpeg($resource, '', $this->quality);
+				break;
+			case 3		:	imagepng($resource);
+				break;
+			default		:	echo 'Unable to display the image';
+				break;		
+		}			
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Re-proportion Image Width/Height
+	 *
+	 * When creating thumbs, the desired width/height
+	 * can end up warping the image due to an incorrect
+	 * ratio between the full-sized image and the thumb.
+	 *
+	 * This function lets us re-proportion the width/height
+	 * if users choose to maintain the aspect ratio when resizing.
+	 *
+	 * @access	public
+	 * @return	void
+	 */			
+	function image_reproportion()
+	{
+		if ( ! is_numeric($this->width) OR ! is_numeric($this->height) OR $this->width == 0 OR $this->height == 0)
+			return;
+		
+		if ( ! is_numeric($this->orig_width) OR ! is_numeric($this->orig_height) OR $this->orig_width == 0 OR $this->orig_height == 0)
+			return;
+		
+		$new_width	= ceil($this->orig_width*$this->height/$this->orig_height);		
+		$new_height	= ceil($this->width*$this->orig_height/$this->orig_width);
+		
+		$ratio = (($this->orig_height/$this->orig_width) - ($this->height/$this->width));
+	
+		if ($this->master_dim != 'width' AND $this->master_dim != 'height')
+		{
+			$this->master_dim = ($ratio < 0) ? 'width' : 'height';
+		}
+		
+		if (($this->width != $new_width) AND ($this->height != $new_height))
+		{
+			if ($this->master_dim == 'height')
+			{
+				$this->width = $new_width;
+			}
+			else
+			{
+				$this->height = $new_height;
+			}
+		}
+	}	
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get image properties
+	 *
+	 * A helper function that gets info about the file
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	mixed
+	 */			
+	function get_image_properties($path = '', $return = FALSE)
+	{
+		// For now we require GD but we should
+		// find a way to determine this using IM or NetPBM
+		
+		if ($path == '')
+			$path = $this->full_src_path;
+				
+		if ( ! file_exists($path))
+		{
+			$this->set_error('imglib_invalid_path');		
+			return FALSE;				
+		}
+		
+		$vals = @getimagesize($path);
+		
+		$types = array(1 => 'gif', 2 => 'jpeg', 3 => 'png');
+		
+		$mime = (isset($types[$vals['2']])) ? 'image/'.$types[$vals['2']] : 'image/jpg';
+				
+		if ($return == TRUE)
+		{
+			$v['width']			= $vals['0'];
+			$v['height']		= $vals['1'];
+			$v['image_type']	= $vals['2'];
+			$v['size_str']		= $vals['3'];
+			$v['mime_type']		= $mime;
+			
+			return $v;
+		}
+		
+		$this->orig_width	= $vals['0'];
+		$this->orig_height	= $vals['1'];
+		$this->image_type	= $vals['2'];
+		$this->size_str		= $vals['3'];
+		$this->mime_type	= $mime;
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Size calculator
+	 *
+	 * This function takes a known width x height and
+	 * recalculates it to a new size.  Only one
+	 * new variable needs to be known
+	 *
+	 *	$props = array(
+	 *					'width' 		=> $width,
+	 *					'height' 		=> $height,
+	 *					'new_width'		=> 40,
+	 *					'new_height'	=> ''
+	 *				  );
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	array
+	 */			
+	function size_calculator($vals)
+	{
+		if ( ! is_array($vals))
+			return;
+			
+		$allowed = array('new_width', 'new_height', 'width', 'height');
+	
+		foreach ($allowed as $item)
+		{
+			if ( ! isset($vals[$item]) OR $vals[$item] == '')
+				$vals[$item] = 0;
+		}
+		
+		if ($vals['width'] == 0 OR $vals['height'] == 0)
+		{
+			return $vals;
+		}
+			
+		if ($vals['new_width'] == 0)
+		{
+			$vals['new_width'] = ceil($vals['width']*$vals['new_height']/$vals['height']);
+		}
+		elseif ($vals['new_height'] == 0)
+		{
+			$vals['new_height'] = ceil($vals['new_width']*$vals['height']/$vals['width']);
+		}
+	
+		return $vals;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Explode source_image
+	 *
+	 * This is a helper function that extracts the extension
+	 * from the source_image.  This function lets us deal with
+	 * source_images with multiple periods, like:  my.cool.jpg
+	 * It returns an associative array with two elements:
+	 * $array['ext']  = '.jpg';
+	 * $array['name'] = 'my.cool';
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	array
+	 */	
+	function explode_name($source_image)
+	{
+		$x = explode('.', $source_image);
+		$ret['ext'] = '.'.end($x);
+		
+		$name = '';
+		
+		$ct = count($x)-1;
+		
+		for ($i = 0; $i < $ct; $i++)
+		{
+			$name .= $x[$i];
+			
+			if ($i < ($ct - 1))
+			{
+				$name .= '.';
+			}
+		}
+		
+		$ret['name'] = $name;
+		
+		return $ret;
+	}	
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Is GD Installed?
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function gd_loaded()
+	{
+		if ( ! extension_loaded('gd'))
+		{
+			if ( ! dl('gd.so'))
+			{
+				return FALSE;
+			}
+		}
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get GD version
+	 *
+	 * @access	public
+	 * @return	mixed
+	 */	
+	function gd_version()
+	{
+		if (function_exists('gd_info'))
+		{
+			$gd_version = @gd_info();
+			$gd_version = preg_replace("/\D/", "", $gd_version['GD Version']);
+			
+			return $gd_version;
+		}
+		
+		return FALSE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set error message
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_error($msg)
+	{
+		$CI =& get_instance();
+		$CI->lang->load('imglib');
+		
+		if (is_array($msg))
+		{
+			foreach ($msg as $val)
+			{
+				
+				$msg = ($CI->lang->line($val) == FALSE) ? $val : $CI->lang->line($val);
+				$this->error_msg[] = $msg;
+				log_message('error', $msg);
+			}		
+		}
+		else
+		{
+			$msg = ($CI->lang->line($msg) == FALSE) ? $msg : $CI->lang->line($msg);
+			$this->error_msg[] = $msg;
+			log_message('error', $msg);
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Show error messages
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function display_errors($open = '<p>', $close = '</p>')
+	{	
+		$str = '';
+		foreach ($this->error_msg as $val)
+		{
+			$str .= $open.$val.$close;
+		}
+	
+		return $str;
+	}
+
+}
+// END Image_lib Class
+
+/* End of file Image_lib.php */
+/* Location: ./system/libraries/Image_lib.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Input.php
===================================================================
--- trunk/pintassilgo/system/libraries/Input.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Input.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,1059 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Input Class
+ *
+ * Pre-processes global input data for security
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Input
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/input.html
+ */
+class CI_Input {
+	var $use_xss_clean		= FALSE;
+	var $xss_hash			= '';
+	var $ip_address			= FALSE;
+	var $user_agent			= FALSE;
+	var $allow_get_array	= FALSE;
+	
+	/* never allowed, string replacement */
+	var $never_allowed_str = array(
+									'document.cookie'	=> '[removed]',
+									'document.write'	=> '[removed]',
+									'.parentNode'		=> '[removed]',
+									'.innerHTML'		=> '[removed]',
+									'window.location'	=> '[removed]',
+									'-moz-binding'		=> '[removed]',
+									'<!--'				=> '&lt;!--',
+									'-->'				=> '--&gt;',
+									'<![CDATA['			=> '&lt;![CDATA['
+									);
+	/* never allowed, regex replacement */
+	var $never_allowed_regex = array(
+										"javascript\s*:"	=> '[removed]',
+										"expression\s*\("	=> '[removed]', // CSS and IE
+										"Redirect\s+302"	=> '[removed]'
+									);
+				
+	/**
+	 * Constructor
+	 *
+	 * Sets whether to globally enable the XSS processing
+	 * and whether to allow the $_GET array
+	 *
+	 * @access	public
+	 */
+	function CI_Input()
+	{
+		log_message('debug', "Input Class Initialized");
+
+		$CFG =& load_class('Config');
+		$this->use_xss_clean	= ($CFG->item('global_xss_filtering') === TRUE) ? TRUE : FALSE;
+		$this->allow_get_array	= ($CFG->item('enable_query_strings') === TRUE) ? TRUE : FALSE;
+		$this->_sanitize_globals();
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Sanitize Globals
+	 *
+	 * This function does the following:
+	 *
+	 * Unsets $_GET data (if query strings are not enabled)
+	 *
+	 * Unsets all globals if register_globals is enabled
+	 *
+	 * Standardizes newline characters to \n
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _sanitize_globals()
+	{
+		// Would kind of be "wrong" to unset any of these GLOBALS
+		$protected = array('_SERVER', '_GET', '_POST', '_FILES', '_REQUEST', '_SESSION', '_ENV', 'GLOBALS', 'HTTP_RAW_POST_DATA',
+							'system_folder', 'application_folder', 'BM', 'EXT', 'CFG', 'URI', 'RTR', 'OUT', 'IN');
+
+		// Unset globals for security. 
+		// This is effectively the same as register_globals = off
+		foreach (array($_GET, $_POST, $_COOKIE, $_SERVER, $_FILES, $_ENV, (isset($_SESSION) && is_array($_SESSION)) ? $_SESSION : array()) as $global)
+		{
+			if ( ! is_array($global))
+			{
+				if ( ! in_array($global, $protected))
+				{
+					unset($GLOBALS[$global]);
+				}
+			}
+			else
+			{
+				foreach ($global as $key => $val)
+				{
+					if ( ! in_array($key, $protected))
+					{
+						unset($GLOBALS[$key]);
+					}
+			
+					if (is_array($val))
+					{
+						foreach($val as $k => $v)
+						{
+							if ( ! in_array($k, $protected))
+							{
+								unset($GLOBALS[$k]);
+							}
+						}
+					}
+				}
+			}
+		}
+
+		// Is $_GET data allowed? If not we'll set the $_GET to an empty array
+		if ($this->allow_get_array == FALSE)
+		{
+			$_GET = array();
+		}
+		else
+		{
+			$_GET = $this->_clean_input_data($_GET);
+		}
+
+		// Clean $_POST Data
+		$_POST = $this->_clean_input_data($_POST);
+		
+		// Clean $_COOKIE Data
+		// Also get rid of specially treated cookies that might be set by a server
+		// or silly application, that are of no use to a CI application anyway
+		// but that when present will trip our 'Disallowed Key Characters' alarm
+		// http://www.ietf.org/rfc/rfc2109.txt
+		// note that the key names below are single quoted strings, and are not PHP variables
+		unset($_COOKIE['$Version']);
+		unset($_COOKIE['$Path']);
+		unset($_COOKIE['$Domain']);
+		$_COOKIE = $this->_clean_input_data($_COOKIE);
+
+		log_message('debug', "Global POST and COOKIE data sanitized");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Clean Input Data
+	 *
+	 * This is a helper function. It escapes data and
+	 * standardizes newline characters to \n
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _clean_input_data($str)
+	{
+		if (is_array($str))
+		{
+			$new_array = array();
+			foreach ($str as $key => $val)
+			{
+				$new_array[$this->_clean_input_keys($key)] = $this->_clean_input_data($val);
+			}
+			return $new_array;
+		}
+
+		// We strip slashes if magic quotes is on to keep things consistent
+		if (get_magic_quotes_gpc())
+		{
+			$str = stripslashes($str);
+		}
+
+		// Should we filter the input data?
+		if ($this->use_xss_clean === TRUE)
+		{
+			$str = $this->xss_clean($str);
+		}
+
+		// Standardize newlines
+		if (strpos($str, "\r") !== FALSE)
+		{
+			$str = str_replace(array("\r\n", "\r"), "\n", $str);
+		}
+		
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Clean Keys
+	 *
+	 * This is a helper function. To prevent malicious users
+	 * from trying to exploit keys we make sure that keys are
+	 * only named with alpha-numeric text and a few other items.
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _clean_input_keys($str)
+	{
+		 if ( ! preg_match("/^[a-z0-9:_\/-]+$/i", $str))
+		 {
+			exit('Disallowed Key Characters.');
+		 }
+
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch from array
+	 *
+	 * This is a helper function to retrieve values from global arrays
+	 *
+	 * @access	private
+	 * @param	array
+	 * @param	string
+	 * @param	bool
+	 * @return	string
+	 */
+	function _fetch_from_array(&$array, $index = '', $xss_clean = FALSE)
+	{
+		if ( ! isset($array[$index]))
+		{
+			return FALSE;
+		}
+
+		if ($xss_clean === TRUE)
+		{
+			return $this->xss_clean($array[$index]);
+		}
+
+		return $array[$index];
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch an item from the GET array
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	bool
+	 * @return	string
+	 */
+	function get($index = '', $xss_clean = FALSE)
+	{
+		return $this->_fetch_from_array($_GET, $index, $xss_clean);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch an item from the POST array
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	bool
+	 * @return	string
+	 */
+	function post($index = '', $xss_clean = FALSE)
+	{
+		return $this->_fetch_from_array($_POST, $index, $xss_clean);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch an item from either the GET array or the POST
+	 *
+	 * @access	public
+	 * @param	string	The index key
+	 * @param	bool	XSS cleaning
+	 * @return	string
+	 */
+	function get_post($index = '', $xss_clean = FALSE)
+	{		
+		if ( ! isset($_POST[$index]) )
+		{
+			return $this->get($index, $xss_clean);
+		}
+		else
+		{
+			return $this->post($index, $xss_clean);
+		}		
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch an item from the COOKIE array
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	bool
+	 * @return	string
+	 */
+	function cookie($index = '', $xss_clean = FALSE)
+	{
+		return $this->_fetch_from_array($_COOKIE, $index, $xss_clean);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch an item from the SERVER array
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	bool
+	 * @return	string
+	 */
+	function server($index = '', $xss_clean = FALSE)
+	{
+		return $this->_fetch_from_array($_SERVER, $index, $xss_clean);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Fetch the IP Address
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function ip_address()
+	{
+		if ($this->ip_address !== FALSE)
+		{
+			return $this->ip_address;
+		}
+
+		if ($this->server('REMOTE_ADDR') AND $this->server('HTTP_CLIENT_IP'))
+		{
+			 $this->ip_address = $_SERVER['HTTP_CLIENT_IP'];
+		}
+		elseif ($this->server('REMOTE_ADDR'))
+		{
+			 $this->ip_address = $_SERVER['REMOTE_ADDR'];
+		}
+		elseif ($this->server('HTTP_CLIENT_IP'))
+		{
+			 $this->ip_address = $_SERVER['HTTP_CLIENT_IP'];
+		}
+		elseif ($this->server('HTTP_X_FORWARDED_FOR'))
+		{
+			 $this->ip_address = $_SERVER['HTTP_X_FORWARDED_FOR'];
+		}
+
+		if ($this->ip_address === FALSE)
+		{
+			$this->ip_address = '0.0.0.0';
+			return $this->ip_address;
+		}
+
+		if (strstr($this->ip_address, ','))
+		{
+			$x = explode(',', $this->ip_address);
+			$this->ip_address = end($x);
+		}
+
+		if ( ! $this->valid_ip($this->ip_address))
+		{
+			$this->ip_address = '0.0.0.0';
+		}
+		
+		return $this->ip_address;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Validate IP Address
+	 *
+	 * Updated version suggested by Geert De Deckere
+	 * 
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function valid_ip($ip)
+	{
+		$ip_segments = explode('.', $ip);
+
+		// Always 4 segments needed
+		if (count($ip_segments) != 4)
+		{
+			return FALSE;
+		}
+		// IP can not start with 0
+		if ($ip_segments[0][0] == '0')
+		{
+			return FALSE;
+		}
+		// Check each segment
+		foreach ($ip_segments as $segment)
+		{
+			// IP segments must be digits and can not be 
+			// longer than 3 digits or greater then 255
+			if ($segment == '' OR preg_match("/[^0-9]/", $segment) OR $segment > 255 OR strlen($segment) > 3)
+			{
+				return FALSE;
+			}
+		}
+
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * User Agent
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function user_agent()
+	{
+		if ($this->user_agent !== FALSE)
+		{
+			return $this->user_agent;
+		}
+
+		$this->user_agent = ( ! isset($_SERVER['HTTP_USER_AGENT'])) ? FALSE : $_SERVER['HTTP_USER_AGENT'];
+
+		return $this->user_agent;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Filename Security
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function filename_security($str)
+	{
+		$bad = array(
+						"../",
+						"./",
+						"<!--",
+						"-->",
+						"<",
+						">",
+						"'",
+						'"',
+						'&',
+						'$',
+						'#',
+						'{',
+						'}',
+						'[',
+						']',
+						'=',
+						';',
+						'?',
+						"%20",
+						"%22",
+						"%3c",		// <
+						"%253c", 	// <
+						"%3e", 		// >
+						"%0e", 		// >
+						"%28", 		// (  
+						"%29", 		// ) 
+						"%2528", 	// (
+						"%26", 		// &
+						"%24", 		// $
+						"%3f", 		// ?
+						"%3b", 		// ;
+						"%3d"		// =
+					);
+
+		return stripslashes(str_replace($bad, '', $str));
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * XSS Clean
+	 *
+	 * Sanitizes data so that Cross Site Scripting Hacks can be
+	 * prevented.  This function does a fair amount of work but
+	 * it is extremely thorough, designed to prevent even the
+	 * most obscure XSS attempts.  Nothing is ever 100% foolproof,
+	 * of course, but I haven't been able to get anything passed
+	 * the filter.
+	 *
+	 * Note: This function should only be used to deal with data
+	 * upon submission.  It's not something that should
+	 * be used for general runtime processing.
+	 *
+	 * This function was based in part on some code and ideas I
+	 * got from Bitflux: http://blog.bitflux.ch/wiki/XSS_Prevention
+	 *
+	 * To help develop this script I used this great list of
+	 * vulnerabilities along with a few other hacks I've
+	 * harvested from examining vulnerabilities in other programs:
+	 * http://ha.ckers.org/xss.html
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function xss_clean($str, $is_image = FALSE)
+	{
+		/*
+		 * Is the string an array?
+		 *
+		 */
+		if (is_array($str))
+		{
+			while (list($key) = each($str))
+			{
+				$str[$key] = $this->xss_clean($str[$key]);
+			}
+	
+			return $str;
+		}
+
+		/*
+		 * Remove Invisible Characters
+		 */
+		$str = $this->_remove_invisible_characters($str);
+
+		/*
+		 * Protect GET variables in URLs
+		 */
+		 
+		 // 901119URL5918AMP18930PROTECT8198
+		 
+		$str = preg_replace('|\&([a-z\_0-9]+)\=([a-z\_0-9]+)|i', $this->xss_hash()."\\1=\\2", $str);
+
+		/*
+		 * Validate standard character entities
+		 *
+		 * Add a semicolon if missing.  We do this to enable
+		 * the conversion of entities to ASCII later.
+		 *
+		 */
+		$str = preg_replace('#(&\#?[0-9a-z]{2,})[\x00-\x20]*;?#i', "\\1;", $str);
+
+		/*
+		 * Validate UTF16 two byte encoding (x00) 
+		 *
+		 * Just as above, adds a semicolon if missing.
+		 *
+		 */
+		$str = preg_replace('#(&\#x?)([0-9A-F]+);?#i',"\\1\\2;",$str);
+
+		/*
+		 * Un-Protect GET variables in URLs
+		 */
+		$str = str_replace($this->xss_hash(), '&', $str);
+
+		/*
+		 * URL Decode
+		 *
+		 * Just in case stuff like this is submitted:
+		 *
+		 * <a href="http://%77%77%77%2E%67%6F%6F%67%6C%65%2E%63%6F%6D">Google</a>
+		 *
+		 * Note: Use rawurldecode() so it does not remove plus signs
+		 *
+		 */
+		$str = rawurldecode($str);
+	
+		/*
+		 * Convert character entities to ASCII 
+		 *
+		 * This permits our tests below to work reliably.
+		 * We only convert entities that are within tags since
+		 * these are the ones that will pose security problems.
+		 *
+		 */
+
+		$str = preg_replace_callback("/[a-z]+=([\'\"]).*?\\1/si", array($this, '_convert_attribute'), $str);
+	 
+		$str = preg_replace_callback("/<\w+.*?(?=>|<|$)/si", array($this, '_html_entity_decode_callback'), $str);
+
+		/*
+		 * Remove Invisible Characters Again!
+		 */
+		$str = $this->_remove_invisible_characters($str);
+		
+		/*
+		 * Convert all tabs to spaces
+		 *
+		 * This prevents strings like this: ja	vascript
+		 * NOTE: we deal with spaces between characters later.
+		 * NOTE: preg_replace was found to be amazingly slow here on large blocks of data,
+		 * so we use str_replace.
+		 *
+		 */
+		
+ 		if (strpos($str, "\t") !== FALSE)
+		{
+			$str = str_replace("\t", ' ', $str);
+		}
+		
+		/*
+		 * Capture converted string for later comparison
+		 */
+		$converted_string = $str;
+		
+		/*
+		 * Not Allowed Under Any Conditions
+		 */
+		
+		foreach ($this->never_allowed_str as $key => $val)
+		{
+			$str = str_replace($key, $val, $str);   
+		}
+	
+		foreach ($this->never_allowed_regex as $key => $val)
+		{
+			$str = preg_replace("#".$key."#i", $val, $str);   
+		}
+
+		/*
+		 * Makes PHP tags safe
+		 *
+		 *  Note: XML tags are inadvertently replaced too:
+		 *
+		 *	<?xml
+		 *
+		 * But it doesn't seem to pose a problem.
+		 *
+		 */
+		if ($is_image === TRUE)
+		{
+			// Images have a tendency to have the PHP short opening and closing tags every so often
+			// so we skip those and only do the long opening tags.
+			$str = str_replace(array('<?php', '<?PHP'),  array('&lt;?php', '&lt;?PHP'), $str);
+		}
+		else
+		{
+			$str = str_replace(array('<?php', '<?PHP', '<?', '?'.'>'),  array('&lt;?php', '&lt;?PHP', '&lt;?', '?&gt;'), $str);
+		}
+		
+		/*
+		 * Compact any exploded words
+		 *
+		 * This corrects words like:  j a v a s c r i p t
+		 * These words are compacted back to their correct state.
+		 *
+		 */
+		$words = array('javascript', 'expression', 'vbscript', 'script', 'applet', 'alert', 'document', 'write', 'cookie', 'window');
+		foreach ($words as $word)
+		{
+			$temp = '';
+			
+			for ($i = 0, $wordlen = strlen($word); $i < $wordlen; $i++)
+			{
+				$temp .= substr($word, $i, 1)."\s*";
+			}
+
+			// We only want to do this when it is followed by a non-word character
+			// That way valid stuff like "dealer to" does not become "dealerto"
+			$str = preg_replace_callback('#('.substr($temp, 0, -3).')(\W)#is', array($this, '_compact_exploded_words'), $str);
+		}
+		
+		/*
+		 * Remove disallowed Javascript in links or img tags
+		 * We used to do some version comparisons and use of stripos for PHP5, but it is dog slow compared
+		 * to these simplified non-capturing preg_match(), especially if the pattern exists in the string
+		 */
+		do
+		{
+			$original = $str;
+	
+			if (preg_match("/<a/i", $str))
+			{
+				$str = preg_replace_callback("#<a\s+([^>]*?)(>|$)#si", array($this, '_js_link_removal'), $str);
+			}
+	
+			if (preg_match("/<img/i", $str))
+			{
+				$str = preg_replace_callback("#<img\s+([^>]*?)(\s?/?>|$)#si", array($this, '_js_img_removal'), $str);
+			}
+	
+			if (preg_match("/script/i", $str) OR preg_match("/xss/i", $str))
+			{
+				$str = preg_replace("#<(/*)(script|xss)(.*?)\>#si", '[removed]', $str);
+			}
+		}
+		while($original != $str);
+
+		unset($original);
+
+		/*
+		 * Remove JavaScript Event Handlers
+		 *
+		 * Note: This code is a little blunt.  It removes
+		 * the event handler and anything up to the closing >,
+		 * but it's unlikely to be a problem.
+		 *
+		 */
+		$event_handlers = array('[^a-z_\-]on\w*','xmlns');
+
+		if ($is_image === TRUE)
+		{
+			/*
+			 * Adobe Photoshop puts XML metadata into JFIF images, including namespacing, 
+			 * so we have to allow this for images. -Paul
+			 */
+			unset($event_handlers[array_search('xmlns', $event_handlers)]);
+		}
+
+		$str = preg_replace("#<([^><]+?)(".implode('|', $event_handlers).")(\s*=\s*[^><]*)([><]*)#i", "<\\1\\4", $str);
+
+		/*
+		 * Sanitize naughty HTML elements
+		 *
+		 * If a tag containing any of the words in the list
+		 * below is found, the tag gets converted to entities.
+		 *
+		 * So this: <blink>
+		 * Becomes: &lt;blink&gt;
+		 *
+		 */
+		$naughty = 'alert|applet|audio|basefont|base|behavior|bgsound|blink|body|embed|expression|form|frameset|frame|head|html|ilayer|iframe|input|isindex|layer|link|meta|object|plaintext|style|script|textarea|title|video|xml|xss';
+		$str = preg_replace_callback('#<(/*\s*)('.$naughty.')([^><]*)([><]*)#is', array($this, '_sanitize_naughty_html'), $str);
+
+		/*
+		 * Sanitize naughty scripting elements
+		 *
+		 * Similar to above, only instead of looking for
+		 * tags it looks for PHP and JavaScript commands
+		 * that are disallowed.  Rather than removing the
+		 * code, it simply converts the parenthesis to entities
+		 * rendering the code un-executable.
+		 *
+		 * For example:	eval('some code')
+		 * Becomes:		eval&#40;'some code'&#41;
+		 *
+		 */
+		$str = preg_replace('#(alert|cmd|passthru|eval|exec|expression|system|fopen|fsockopen|file|file_get_contents|readfile|unlink)(\s*)\((.*?)\)#si', "\\1\\2&#40;\\3&#41;", $str);
+					
+		/*
+		 * Final clean up
+		 *
+		 * This adds a bit of extra precaution in case
+		 * something got through the above filters
+		 *
+		 */
+		foreach ($this->never_allowed_str as $key => $val)
+		{
+			$str = str_replace($key, $val, $str);   
+		}
+	
+		foreach ($this->never_allowed_regex as $key => $val)
+		{
+			$str = preg_replace("#".$key."#i", $val, $str);
+		}
+
+		/*
+		 *  Images are Handled in a Special Way
+		 *  - Essentially, we want to know that after all of the character conversion is done whether
+		 *  any unwanted, likely XSS, code was found.  If not, we return TRUE, as the image is clean.
+		 *  However, if the string post-conversion does not matched the string post-removal of XSS,
+		 *  then it fails, as there was unwanted XSS code found and removed/changed during processing.
+		 */
+
+		if ($is_image === TRUE)
+		{
+			if ($str == $converted_string)
+			{
+				return TRUE;
+			}
+			else
+			{
+				return FALSE;
+			}
+		}
+		
+		log_message('debug', "XSS Filtering completed");
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Random Hash for protecting URLs
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function xss_hash()
+	{
+		if ($this->xss_hash == '')
+		{
+			if (phpversion() >= 4.2)
+				mt_srand();
+			else
+				mt_srand(hexdec(substr(md5(microtime()), -8)) & 0x7fffffff);
+
+			$this->xss_hash = md5(time() + mt_rand(0, 1999999999));
+		}
+
+		return $this->xss_hash;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Remove Invisible Characters
+	 *
+	 * This prevents sandwiching null characters
+	 * between ascii characters, like Java\0script.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function _remove_invisible_characters($str)
+	{
+		static $non_displayables;
+		
+		if ( ! isset($non_displayables))
+		{
+			// every control character except newline (dec 10), carriage return (dec 13), and horizontal tab (dec 09),
+			$non_displayables = array(
+										'/%0[0-8bcef]/',			// url encoded 00-08, 11, 12, 14, 15
+										'/%1[0-9a-f]/',				// url encoded 16-31
+										'/[\x00-\x08]/',			// 00-08
+										'/\x0b/', '/\x0c/',			// 11, 12
+										'/[\x0e-\x1f]/'				// 14-31
+									);
+		}
+
+		do
+		{
+			$cleaned = $str;
+			$str = preg_replace($non_displayables, '', $str);
+		}
+		while ($cleaned != $str);
+
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Compact Exploded Words
+	 *
+	 * Callback function for xss_clean() to remove whitespace from
+	 * things like j a v a s c r i p t
+	 *
+	 * @access	public
+	 * @param	type
+	 * @return	type
+	 */
+	function _compact_exploded_words($matches)
+	{
+		return preg_replace('/\s+/s', '', $matches[1]).$matches[2];
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Sanitize Naughty HTML
+	 *
+	 * Callback function for xss_clean() to remove naughty HTML elements
+	 *
+	 * @access	private
+	 * @param	array
+	 * @return	string
+	 */
+	function _sanitize_naughty_html($matches)
+	{
+		// encode opening brace
+		$str = '&lt;'.$matches[1].$matches[2].$matches[3];
+		
+		// encode captured opening or closing brace to prevent recursive vectors
+		$str .= str_replace(array('>', '<'), array('&gt;', '&lt;'), $matches[4]);
+		
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * JS Link Removal
+	 *
+	 * Callback function for xss_clean() to sanitize links
+	 * This limits the PCRE backtracks, making it more performance friendly
+	 * and prevents PREG_BACKTRACK_LIMIT_ERROR from being triggered in
+	 * PHP 5.2+ on link-heavy strings
+	 *
+	 * @access	private
+	 * @param	array
+	 * @return	string
+	 */
+	function _js_link_removal($match)
+	{
+		$attributes = $this->_filter_attributes(str_replace(array('<', '>'), '', $match[1]));
+		return str_replace($match[1], preg_replace("#href=.*?(alert\(|alert&\#40;|javascript\:|charset\=|window\.|document\.|\.cookie|<script|<xss|base64\s*,)#si", "", $attributes), $match[0]);
+	}
+
+	/**
+	 * JS Image Removal
+	 *
+	 * Callback function for xss_clean() to sanitize image tags
+	 * This limits the PCRE backtracks, making it more performance friendly
+	 * and prevents PREG_BACKTRACK_LIMIT_ERROR from being triggered in
+	 * PHP 5.2+ on image tag heavy strings
+	 *
+	 * @access	private
+	 * @param	array
+	 * @return	string
+	 */
+	function _js_img_removal($match)
+	{
+		$attributes = $this->_filter_attributes(str_replace(array('<', '>'), '', $match[1]));
+		return str_replace($match[1], preg_replace("#src=.*?(alert\(|alert&\#40;|javascript\:|charset\=|window\.|document\.|\.cookie|<script|<xss|base64\s*,)#si", "", $attributes), $match[0]);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Attribute Conversion
+	 *
+	 * Used as a callback for XSS Clean
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	string
+	 */
+	function _convert_attribute($match)
+	{
+		return str_replace(array('>', '<'), array('&gt;', '&lt;'), $match[0]);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * HTML Entity Decode Callback
+	 *
+	 * Used as a callback for XSS Clean
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	string
+	 */
+	function _html_entity_decode_callback($match)
+	{
+		$CFG =& load_class('Config');
+		$charset = $CFG->item('charset');
+
+		return $this->_html_entity_decode($match[0], strtoupper($charset));
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * HTML Entities Decode
+	 *
+	 * This function is a replacement for html_entity_decode()
+	 *
+	 * In some versions of PHP the native function does not work
+	 * when UTF-8 is the specified character set, so this gives us
+	 * a work-around.  More info here:
+	 * http://bugs.php.net/bug.php?id=25670
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	/* -------------------------------------------------
+	/*  Replacement for html_entity_decode()
+	/* -------------------------------------------------*/
+
+	/*
+	NOTE: html_entity_decode() has a bug in some PHP versions when UTF-8 is the
+	character set, and the PHP developers said they were not back porting the
+	fix to versions other than PHP 5.x.
+	*/
+	function _html_entity_decode($str, $charset='UTF-8')
+	{
+		if (stristr($str, '&') === FALSE) return $str;
+
+		// The reason we are not using html_entity_decode() by itself is because
+		// while it is not technically correct to leave out the semicolon
+		// at the end of an entity most browsers will still interpret the entity
+		// correctly.  html_entity_decode() does not convert entities without
+		// semicolons, so we are left with our own little solution here. Bummer.
+
+		if (function_exists('html_entity_decode') && (strtolower($charset) != 'utf-8' OR version_compare(phpversion(), '5.0.0', '>=')))
+		{
+			$str = html_entity_decode($str, ENT_COMPAT, $charset);
+			$str = preg_replace('~&#x(0*[0-9a-f]{2,5})~ei', 'chr(hexdec("\\1"))', $str);
+			return preg_replace('~&#([0-9]{2,4})~e', 'chr(\\1)', $str);
+		}
+
+		// Numeric Entities
+		$str = preg_replace('~&#x(0*[0-9a-f]{2,5});{0,1}~ei', 'chr(hexdec("\\1"))', $str);
+		$str = preg_replace('~&#([0-9]{2,4});{0,1}~e', 'chr(\\1)', $str);
+
+		// Literal Entities - Slightly slow so we do another check
+		if (stristr($str, '&') === FALSE)
+		{
+			$str = strtr($str, array_flip(get_html_translation_table(HTML_ENTITIES)));
+		}
+
+		return $str;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Filter Attributes
+	 *
+	 * Filters tag attributes for consistency and safety
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function _filter_attributes($str)
+	{
+		$out = '';
+
+		if (preg_match_all('#\s*[a-z\-]+\s*=\s*(\042|\047)([^\\1]*?)\\1#is', $str, $matches))
+		{
+			foreach ($matches[0] as $match)
+			{
+				$out .= "{$match}";
+			}			
+		}
+
+		return $out;
+	}
+
+	// --------------------------------------------------------------------
+
+}
+// END Input class
+
+/* End of file Input.php */
+/* Location: ./system/libraries/Input.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Language.php
===================================================================
--- trunk/pintassilgo/system/libraries/Language.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Language.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,124 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Language Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Language
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/language.html
+ */
+class CI_Language {
+
+	var $language	= array();
+	var $is_loaded	= array();
+
+	/**
+	 * Constructor
+	 *
+	 * @access	public
+	 */	
+	function CI_Language()
+	{
+		log_message('debug', "Language Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Load a language file
+	 *
+	 * @access	public
+	 * @param	mixed	the name of the language file to be loaded. Can be an array
+	 * @param	string	the language (english, etc.)
+	 * @return	void
+	 */
+	function load($langfile = '', $idiom = '', $return = FALSE)
+	{	
+		$langfile = str_replace(EXT, '', str_replace('_lang.', '', $langfile)).'_lang'.EXT;
+		
+		if (in_array($langfile, $this->is_loaded, TRUE))
+		{
+			return;
+		}
+		
+		if ($idiom == '')
+		{
+			$CI =& get_instance();
+			$deft_lang = $CI->config->item('language');
+			$idiom = ($deft_lang == '') ? 'english' : $deft_lang;
+		}
+	
+		// Determine where the language file is and load it
+		if (file_exists(APPPATH.'language/'.$idiom.'/'.$langfile))
+		{
+			include(APPPATH.'language/'.$idiom.'/'.$langfile);
+		}
+		else
+		{		
+			if (file_exists(BASEPATH.'language/'.$idiom.'/'.$langfile))
+			{
+				include(BASEPATH.'language/'.$idiom.'/'.$langfile);
+			}
+			else
+			{
+				show_error('Unable to load the requested language file: language/'.$langfile);
+			}
+		}
+
+		
+		if ( ! isset($lang))
+		{
+			log_message('error', 'Language file contains no data: language/'.$idiom.'/'.$langfile);
+			return;
+		}
+		
+		if ($return == TRUE)
+		{
+			return $lang;
+		}
+		
+		$this->is_loaded[] = $langfile;
+		$this->language = array_merge($this->language, $lang);
+		unset($lang);
+		
+		log_message('debug', 'Language file loaded: language/'.$idiom.'/'.$langfile);
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch a single line of text from the language array
+	 *
+	 * @access	public
+	 * @param	string	$line 	the language line
+	 * @return	string
+	 */
+	function line($line = '')
+	{
+		$line = ($line == '' OR ! isset($this->language[$line])) ? FALSE : $this->language[$line];
+		return $line;
+	}
+
+}
+// END Language Class
+
+/* End of file Language.php */
+/* Location: ./system/libraries/Language.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Loader.php
===================================================================
--- trunk/pintassilgo/system/libraries/Loader.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Loader.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,1088 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Loader Class
+ *
+ * Loads views and files
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @category	Loader
+ * @link		http://codeigniter.com/user_guide/libraries/loader.html
+ */
+class CI_Loader {
+
+	// All these are set automatically. Don't mess with them.
+	var $_ci_ob_level;
+	var $_ci_view_path		= '';
+	var $_ci_is_php5		= FALSE;
+	var $_ci_is_instance 	= FALSE; // Whether we should use $this or $CI =& get_instance()
+	var $_ci_cached_vars	= array();
+	var $_ci_classes		= array();
+	var $_ci_loaded_files	= array();
+	var $_ci_models			= array();
+	var $_ci_helpers		= array();
+	var $_ci_plugins		= array();
+	var $_ci_varmap			= array('unit_test' => 'unit', 'user_agent' => 'agent');
+	
+
+	/**
+	 * Constructor
+	 *
+	 * Sets the path to the view files and gets the initial output buffering level
+	 *
+	 * @access	public
+	 */
+	function CI_Loader()
+	{	
+		$this->_ci_is_php5 = (floor(phpversion()) >= 5) ? TRUE : FALSE;
+		$this->_ci_view_path = APPPATH.'views/';
+		$this->_ci_ob_level  = ob_get_level();
+				
+		log_message('debug', "Loader Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Class Loader
+	 *
+	 * This function lets users load and instantiate classes.
+	 * It is designed to be called from a user's app controllers.
+	 *
+	 * @access	public
+	 * @param	string	the name of the class
+	 * @param	mixed	the optional parameters
+	 * @param	string	an optional object name
+	 * @return	void
+	 */	
+	function library($library = '', $params = NULL, $object_name = NULL)
+	{
+		if ($library == '')
+		{
+			return FALSE;
+		}
+
+		if ( ! is_null($params) AND ! is_array($params))
+		{
+			$params = NULL;
+		}
+
+		if (is_array($library))
+		{
+			foreach ($library as $class)
+			{
+				$this->_ci_load_class($class, $params, $object_name);
+			}
+		}
+		else
+		{
+			$this->_ci_load_class($library, $params, $object_name);
+		}
+		
+		$this->_ci_assign_to_models();
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Model Loader
+	 *
+	 * This function lets users load and instantiate models.
+	 *
+	 * @access	public
+	 * @param	string	the name of the class
+	 * @param	string	name for the model
+	 * @param	bool	database connection
+	 * @return	void
+	 */	
+	function model($model, $name = '', $db_conn = FALSE)
+	{		
+		if (is_array($model))
+		{
+			foreach($model as $babe)
+			{
+				$this->model($babe);	
+			}
+			return;
+		}
+
+		if ($model == '')
+		{
+			return;
+		}
+	
+		// Is the model in a sub-folder? If so, parse out the filename and path.
+		if (strpos($model, '/') === FALSE)
+		{
+			$path = '';
+		}
+		else
+		{
+			$x = explode('/', $model);
+			$model = end($x);			
+			unset($x[count($x)-1]);
+			$path = implode('/', $x).'/';
+		}
+	
+		if ($name == '')
+		{
+			$name = $model;
+		}
+		
+		if (in_array($name, $this->_ci_models, TRUE))
+		{
+			return;
+		}
+		
+		$CI =& get_instance();
+		if (isset($CI->$name))
+		{
+			show_error('The model name you are loading is the name of a resource that is already being used: '.$name);
+		}
+	
+		$model = strtolower($model);
+		
+		if ( ! file_exists(APPPATH.'models/'.$path.$model.EXT))
+		{
+			show_error('Unable to locate the model you have specified: '.$model);
+		}
+				
+		if ($db_conn !== FALSE AND ! class_exists('CI_DB'))
+		{
+			if ($db_conn === TRUE)
+				$db_conn = '';
+		
+			$CI->load->database($db_conn, FALSE, TRUE);
+		}
+	
+		if ( ! class_exists('Model'))
+		{
+			load_class('Model', FALSE);
+		}
+
+		require_once(APPPATH.'models/'.$path.$model.EXT);
+
+		$model = ucfirst($model);
+				
+		$CI->$name = new $model();
+		$CI->$name->_assign_libraries();
+		
+		$this->_ci_models[] = $name;	
+	}
+		
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Database Loader
+	 *
+	 * @access	public
+	 * @param	string	the DB credentials
+	 * @param	bool	whether to return the DB object
+	 * @param	bool	whether to enable active record (this allows us to override the config setting)
+	 * @return	object
+	 */	
+	function database($params = '', $return = FALSE, $active_record = FALSE)
+	{
+		// Grab the super object
+		$CI =& get_instance();
+		
+		// Do we even need to load the database class?
+		if (class_exists('CI_DB') AND $return == FALSE AND $active_record == FALSE AND isset($CI->db) AND is_object($CI->db))
+		{
+			return FALSE;
+		}	
+	
+		require_once(BASEPATH.'database/DB'.EXT);
+
+		if ($return === TRUE)
+		{
+			return DB($params, $active_record);
+		}
+		
+		// Initialize the db variable.  Needed to prevent   
+		// reference errors with some configurations
+		$CI->db = '';
+		
+		// Load the DB class
+		$CI->db =& DB($params, $active_record);	
+		
+		// Assign the DB object to any existing models
+		$this->_ci_assign_to_models();
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Load the Utilities Class
+	 *
+	 * @access	public
+	 * @return	string		
+	 */		
+	function dbutil()
+	{
+		if ( ! class_exists('CI_DB'))
+		{
+			$this->database();
+		}
+		
+		$CI =& get_instance();
+
+		// for backwards compatibility, load dbforge so we can extend dbutils off it
+		// this use is deprecated and strongly discouraged
+		$CI->load->dbforge();
+	
+		require_once(BASEPATH.'database/DB_utility'.EXT);
+		require_once(BASEPATH.'database/drivers/'.$CI->db->dbdriver.'/'.$CI->db->dbdriver.'_utility'.EXT);
+		$class = 'CI_DB_'.$CI->db->dbdriver.'_utility';
+
+		$CI->dbutil =& new $class();
+
+		$CI->load->_ci_assign_to_models();
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Load the Database Forge Class
+	 *
+	 * @access	public
+	 * @return	string		
+	 */		
+	function dbforge()
+	{
+		if ( ! class_exists('CI_DB'))
+		{
+			$this->database();
+		}
+		
+		$CI =& get_instance();
+	
+		require_once(BASEPATH.'database/DB_forge'.EXT);
+		require_once(BASEPATH.'database/drivers/'.$CI->db->dbdriver.'/'.$CI->db->dbdriver.'_forge'.EXT);
+		$class = 'CI_DB_'.$CI->db->dbdriver.'_forge';
+
+		$CI->dbforge = new $class();
+		
+		$CI->load->_ci_assign_to_models();
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Load View
+	 *
+	 * This function is used to load a "view" file.  It has three parameters:
+	 *
+	 * 1. The name of the "view" file to be included.
+	 * 2. An associative array of data to be extracted for use in the view.
+	 * 3. TRUE/FALSE - whether to return the data or load it.  In
+	 * some cases it's advantageous to be able to return data so that
+	 * a developer can process it in some way.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	array
+	 * @param	bool
+	 * @return	void
+	 */
+	function view($view, $vars = array(), $return = FALSE)
+	{
+		return $this->_ci_load(array('_ci_view' => $view, '_ci_vars' => $this->_ci_object_to_array($vars), '_ci_return' => $return));
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Load File
+	 *
+	 * This is a generic file loader
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	bool
+	 * @return	string
+	 */
+	function file($path, $return = FALSE)
+	{
+		return $this->_ci_load(array('_ci_path' => $path, '_ci_return' => $return));
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Variables
+	 *
+	 * Once variables are set they become available within
+	 * the controller class and its "view" files.
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	void
+	 */
+	function vars($vars = array(), $val = '')
+	{
+		if ($val != '' AND is_string($vars))
+		{
+			$vars = array($vars => $val);
+		}
+	
+		$vars = $this->_ci_object_to_array($vars);
+	
+		if (is_array($vars) AND count($vars) > 0)
+		{
+			foreach ($vars as $key => $val)
+			{
+				$this->_ci_cached_vars[$key] = $val;
+			}
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Load Helper
+	 *
+	 * This function loads the specified helper file.
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @return	void
+	 */
+	function helper($helpers = array())
+	{
+		if ( ! is_array($helpers))
+		{
+			$helpers = array($helpers);
+		}
+	
+		foreach ($helpers as $helper)
+		{		
+			$helper = strtolower(str_replace(EXT, '', str_replace('_helper', '', $helper)).'_helper');
+
+			if (isset($this->_ci_helpers[$helper]))
+			{
+				continue;
+			}
+			
+			$ext_helper = APPPATH.'helpers/'.config_item('subclass_prefix').$helper.EXT;
+
+			// Is this a helper extension request?			
+			if (file_exists($ext_helper))
+			{
+				$base_helper = BASEPATH.'helpers/'.$helper.EXT;
+				
+				if ( ! file_exists($base_helper))
+				{
+					show_error('Unable to load the requested file: helpers/'.$helper.EXT);
+				}
+				
+				include_once($ext_helper);
+				include_once($base_helper);
+			}
+			elseif (file_exists(APPPATH.'helpers/'.$helper.EXT))
+			{ 
+				include_once(APPPATH.'helpers/'.$helper.EXT);
+			}
+			else
+			{		
+				if (file_exists(BASEPATH.'helpers/'.$helper.EXT))
+				{
+					include_once(BASEPATH.'helpers/'.$helper.EXT);
+				}
+				else
+				{
+					show_error('Unable to load the requested file: helpers/'.$helper.EXT);
+				}
+			}
+
+			$this->_ci_helpers[$helper] = TRUE;
+			log_message('debug', 'Helper loaded: '.$helper);	
+		}		
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Load Helpers
+	 *
+	 * This is simply an alias to the above function in case the
+	 * user has written the plural form of this function.
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	void
+	 */
+	function helpers($helpers = array())
+	{
+		$this->helper($helpers);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Load Plugin
+	 *
+	 * This function loads the specified plugin.
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	void
+	 */
+	function plugin($plugins = array())
+	{
+		if ( ! is_array($plugins))
+		{
+			$plugins = array($plugins);
+		}
+	
+		foreach ($plugins as $plugin)
+		{	
+			$plugin = strtolower(str_replace(EXT, '', str_replace('_pi', '', $plugin)).'_pi');		
+
+			if (isset($this->_ci_plugins[$plugin]))
+			{
+				continue;
+			}
+
+			if (file_exists(APPPATH.'plugins/'.$plugin.EXT))
+			{
+				include_once(APPPATH.'plugins/'.$plugin.EXT);	
+			}
+			else
+			{
+				if (file_exists(BASEPATH.'plugins/'.$plugin.EXT))
+				{
+					include_once(BASEPATH.'plugins/'.$plugin.EXT);	
+				}
+				else
+				{
+					show_error('Unable to load the requested file: plugins/'.$plugin.EXT);
+				}
+			}
+			
+			$this->_ci_plugins[$plugin] = TRUE;
+			log_message('debug', 'Plugin loaded: '.$plugin);
+		}		
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Load Plugins
+	 *
+	 * This is simply an alias to the above function in case the
+	 * user has written the plural form of this function.
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	void
+	 */
+	function plugins($plugins = array())
+	{
+		$this->plugin($plugins);
+	}
+		
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Loads a language file
+	 *
+	 * @access	public
+	 * @param	array
+	 * @param	string
+	 * @return	void
+	 */
+	function language($file = array(), $lang = '')
+	{
+		$CI =& get_instance();
+
+		if ( ! is_array($file))
+		{
+			$file = array($file);
+		}
+
+		foreach ($file as $langfile)
+		{	
+			$CI->lang->load($langfile, $lang);
+		}
+	}
+
+	/**
+	 * Loads language files for scaffolding
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	arra
+	 */
+	function scaffold_language($file = '', $lang = '', $return = FALSE)
+	{
+		$CI =& get_instance();
+		return $CI->lang->load($file, $lang, $return);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Loads a config file
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */
+	function config($file = '', $use_sections = FALSE, $fail_gracefully = FALSE)
+	{			
+		$CI =& get_instance();
+		$CI->config->load($file, $use_sections, $fail_gracefully);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Scaffolding Loader
+	 *
+	 * This initializing function works a bit different than the
+	 * others. It doesn't load the class.  Instead, it simply
+	 * sets a flag indicating that scaffolding is allowed to be
+	 * used.  The actual scaffolding function below is
+	 * called by the front controller based on whether the
+	 * second segment of the URL matches the "secret" scaffolding
+	 * word stored in the application/config/routes.php
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function scaffolding($table = '')
+	{		
+		if ($table === FALSE)
+		{
+			show_error('You must include the name of the table you would like to access when you initialize scaffolding');
+		}
+		
+		$CI =& get_instance();
+		$CI->_ci_scaffolding = TRUE;
+		$CI->_ci_scaff_table = $table;
+	}
+
+	// --------------------------------------------------------------------
+		
+	/**
+	 * Loader
+	 *
+	 * This function is used to load views and files.
+	 * Variables are prefixed with _ci_ to avoid symbol collision with
+	 * variables made available to view files
+	 *
+	 * @access	private
+	 * @param	array
+	 * @return	void
+	 */
+	function _ci_load($_ci_data)
+	{
+		// Set the default data variables
+		foreach (array('_ci_view', '_ci_vars', '_ci_path', '_ci_return') as $_ci_val)
+		{
+			$$_ci_val = ( ! isset($_ci_data[$_ci_val])) ? FALSE : $_ci_data[$_ci_val];
+		}
+
+		// Set the path to the requested file
+		if ($_ci_path == '')
+		{
+			$_ci_ext = pathinfo($_ci_view, PATHINFO_EXTENSION);
+			$_ci_file = ($_ci_ext == '') ? $_ci_view.EXT : $_ci_view;
+			$_ci_path = $this->_ci_view_path.$_ci_file;
+		}
+		else
+		{
+			$_ci_x = explode('/', $_ci_path);
+			$_ci_file = end($_ci_x);
+		}
+		
+		if ( ! file_exists($_ci_path))
+		{
+			show_error('Unable to load the requested file: '.$_ci_file);
+		}
+	
+		// This allows anything loaded using $this->load (views, files, etc.)
+		// to become accessible from within the Controller and Model functions.
+		// Only needed when running PHP 5
+		
+		if ($this->_ci_is_instance())
+		{
+			$_ci_CI =& get_instance();
+			foreach (get_object_vars($_ci_CI) as $_ci_key => $_ci_var)
+			{
+				if ( ! isset($this->$_ci_key))
+				{
+					$this->$_ci_key =& $_ci_CI->$_ci_key;
+				}
+			}
+		}
+
+		/*
+		 * Extract and cache variables
+		 *
+		 * You can either set variables using the dedicated $this->load_vars()
+		 * function or via the second parameter of this function. We'll merge
+		 * the two types and cache them so that views that are embedded within
+		 * other views can have access to these variables.
+		 */	
+		if (is_array($_ci_vars))
+		{
+			$this->_ci_cached_vars = array_merge($this->_ci_cached_vars, $_ci_vars);
+		}
+		extract($this->_ci_cached_vars);
+				
+		/*
+		 * Buffer the output
+		 *
+		 * We buffer the output for two reasons:
+		 * 1. Speed. You get a significant speed boost.
+		 * 2. So that the final rendered template can be
+		 * post-processed by the output class.  Why do we
+		 * need post processing?  For one thing, in order to
+		 * show the elapsed page load time.  Unless we
+		 * can intercept the content right before it's sent to
+		 * the browser and then stop the timer it won't be accurate.
+		 */
+		ob_start();
+				
+		// If the PHP installation does not support short tags we'll
+		// do a little string replacement, changing the short tags
+		// to standard PHP echo statements.
+		
+		if ((bool) @ini_get('short_open_tag') === FALSE AND config_item('rewrite_short_tags') == TRUE)
+		{
+			echo eval('?>'.preg_replace("/;*\s*\?>/", "; ?>", str_replace('<?=', '<?php echo ', file_get_contents($_ci_path))));
+		}
+		else
+		{
+			include($_ci_path); // include() vs include_once() allows for multiple views with the same name
+		}
+		
+		log_message('debug', 'File loaded: '.$_ci_path);
+		
+		// Return the file data if requested
+		if ($_ci_return === TRUE)
+		{		
+			$buffer = ob_get_contents();
+			@ob_end_clean();
+			return $buffer;
+		}
+
+		/*
+		 * Flush the buffer... or buff the flusher?
+		 *
+		 * In order to permit views to be nested within
+		 * other views, we need to flush the content back out whenever
+		 * we are beyond the first level of output buffering so that
+		 * it can be seen and included properly by the first included
+		 * template and any subsequent ones. Oy!
+		 *
+		 */	
+		if (ob_get_level() > $this->_ci_ob_level + 1)
+		{
+			ob_end_flush();
+		}
+		else
+		{
+			// PHP 4 requires that we use a global
+			global $OUT;
+			$OUT->append_output(ob_get_contents());
+			@ob_end_clean();
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Load class
+	 *
+	 * This function loads the requested class.
+	 *
+	 * @access	private
+	 * @param 	string	the item that is being loaded
+	 * @param	mixed	any additional parameters
+	 * @param	string	an optional object name
+	 * @return 	void
+	 */
+	function _ci_load_class($class, $params = NULL, $object_name = NULL)
+	{	
+		// Get the class name, and while we're at it trim any slashes.  
+		// The directory path can be included as part of the class name, 
+		// but we don't want a leading slash
+		$class = str_replace(EXT, '', trim($class, '/'));
+	
+		// Was the path included with the class name?
+		// We look for a slash to determine this
+		$subdir = '';
+		if (strpos($class, '/') !== FALSE)
+		{
+			// explode the path so we can separate the filename from the path
+			$x = explode('/', $class);	
+			
+			// Reset the $class variable now that we know the actual filename
+			$class = end($x);
+			
+			// Kill the filename from the array
+			unset($x[count($x)-1]);
+			
+			// Glue the path back together, sans filename
+			$subdir = implode($x, '/').'/';
+		}
+
+		// We'll test for both lowercase and capitalized versions of the file name
+		foreach (array(ucfirst($class), strtolower($class)) as $class)
+		{
+			$subclass = APPPATH.'libraries/'.$subdir.config_item('subclass_prefix').$class.EXT;
+
+			// Is this a class extension request?			
+			if (file_exists($subclass))
+			{
+				$baseclass = BASEPATH.'libraries/'.ucfirst($class).EXT;
+				
+				if ( ! file_exists($baseclass))
+				{
+					log_message('error', "Unable to load the requested class: ".$class);
+					show_error("Unable to load the requested class: ".$class);
+				}
+
+				// Safety:  Was the class already loaded by a previous call?
+				if (in_array($subclass, $this->_ci_loaded_files))
+				{
+					// Before we deem this to be a duplicate request, let's see
+					// if a custom object name is being supplied.  If so, we'll
+					// return a new instance of the object
+					if ( ! is_null($object_name))
+					{
+						$CI =& get_instance();
+						if ( ! isset($CI->$object_name))
+						{
+							return $this->_ci_init_class($class, config_item('subclass_prefix'), $params, $object_name);			
+						}
+					}
+					
+					$is_duplicate = TRUE;
+					log_message('debug', $class." class already loaded. Second attempt ignored.");
+					return;
+				}
+	
+				include_once($baseclass);				
+				include_once($subclass);
+				$this->_ci_loaded_files[] = $subclass;
+	
+				return $this->_ci_init_class($class, config_item('subclass_prefix'), $params, $object_name);			
+			}
+		
+			// Lets search for the requested library file and load it.
+			$is_duplicate = FALSE;		
+			for ($i = 1; $i < 3; $i++)
+			{
+				$path = ($i % 2) ? APPPATH : BASEPATH;	
+				$filepath = $path.'libraries/'.$subdir.$class.EXT;
+				
+				// Does the file exist?  No?  Bummer...
+				if ( ! file_exists($filepath))
+				{
+					continue;
+				}
+				
+				// Safety:  Was the class already loaded by a previous call?
+				if (in_array($filepath, $this->_ci_loaded_files))
+				{
+					// Before we deem this to be a duplicate request, let's see
+					// if a custom object name is being supplied.  If so, we'll
+					// return a new instance of the object
+					if ( ! is_null($object_name))
+					{
+						$CI =& get_instance();
+						if ( ! isset($CI->$object_name))
+						{
+							return $this->_ci_init_class($class, '', $params, $object_name);
+						}
+					}
+				
+					$is_duplicate = TRUE;
+					log_message('debug', $class." class already loaded. Second attempt ignored.");
+					return;
+				}
+				
+				include_once($filepath);
+				$this->_ci_loaded_files[] = $filepath;
+				return $this->_ci_init_class($class, '', $params, $object_name);
+			}
+		} // END FOREACH
+
+		// One last attempt.  Maybe the library is in a subdirectory, but it wasn't specified?
+		if ($subdir == '')
+		{
+			$path = strtolower($class).'/'.$class;
+			return $this->_ci_load_class($path, $params);
+		}
+		
+		// If we got this far we were unable to find the requested class.
+		// We do not issue errors if the load call failed due to a duplicate request
+		if ($is_duplicate == FALSE)
+		{
+			log_message('error', "Unable to load the requested class: ".$class);
+			show_error("Unable to load the requested class: ".$class);
+		}
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Instantiates a class
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @param	string	an optional object name
+	 * @return	null
+	 */
+	function _ci_init_class($class, $prefix = '', $config = FALSE, $object_name = NULL)
+	{	
+		// Is there an associated config file for this class?
+		if ($config === NULL)
+		{
+			// We test for both uppercase and lowercase, for servers that
+			// are case-sensitive with regard to file names
+			if (file_exists(APPPATH.'config/'.strtolower($class).EXT))
+			{
+				include_once(APPPATH.'config/'.strtolower($class).EXT);
+			}			
+			else
+			{
+				if (file_exists(APPPATH.'config/'.ucfirst(strtolower($class)).EXT))
+				{
+					include_once(APPPATH.'config/'.ucfirst(strtolower($class)).EXT);
+				}			
+			}
+		}
+		
+		if ($prefix == '')
+		{			
+			if (class_exists('CI_'.$class)) 
+			{
+				$name = 'CI_'.$class;
+			}
+			elseif (class_exists(config_item('subclass_prefix').$class)) 
+			{
+				$name = config_item('subclass_prefix').$class;
+			}
+			else
+			{
+				$name = $class;
+			}
+		}
+		else
+		{
+			$name = $prefix.$class;
+		}
+		
+		// Is the class name valid?
+		if ( ! class_exists($name))
+		{
+			log_message('error', "Non-existent class: ".$name);
+			show_error("Non-existent class: ".$class);
+		}
+		
+		// Set the variable name we will assign the class to
+		// Was a custom class name supplied?  If so we'll use it
+		$class = strtolower($class);
+		
+		if (is_null($object_name))
+		{
+			$classvar = ( ! isset($this->_ci_varmap[$class])) ? $class : $this->_ci_varmap[$class];
+		}
+		else
+		{
+			$classvar = $object_name;
+		}
+
+		// Save the class name and object name		
+		$this->_ci_classes[$class] = $classvar;
+
+		// Instantiate the class		
+		$CI =& get_instance();
+		if ($config !== NULL)
+		{
+			$CI->$classvar = new $name($config);
+		}
+		else
+		{		
+			$CI->$classvar = new $name;
+		}	
+	} 	
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Autoloader
+	 *
+	 * The config/autoload.php file contains an array that permits sub-systems,
+	 * libraries, plugins, and helpers to be loaded automatically.
+	 *
+	 * @access	private
+	 * @param	array
+	 * @return	void
+	 */
+	function _ci_autoloader()
+	{	
+		include_once(APPPATH.'config/autoload'.EXT);
+		
+		if ( ! isset($autoload))
+		{
+			return FALSE;
+		}
+		
+		// Load any custom config file
+		if (count($autoload['config']) > 0)
+		{			
+			$CI =& get_instance();
+			foreach ($autoload['config'] as $key => $val)
+			{
+				$CI->config->load($val);
+			}
+		}		
+
+		// Autoload plugins, helpers and languages
+		foreach (array('helper', 'plugin', 'language') as $type)
+		{			
+			if (isset($autoload[$type]) AND count($autoload[$type]) > 0)
+			{
+				$this->$type($autoload[$type]);
+			}		
+		}
+
+		// A little tweak to remain backward compatible
+		// The $autoload['core'] item was deprecated
+		if ( ! isset($autoload['libraries']))
+		{
+			$autoload['libraries'] = $autoload['core'];
+		}
+		
+		// Load libraries
+		if (isset($autoload['libraries']) AND count($autoload['libraries']) > 0)
+		{
+			// Load the database driver.
+			if (in_array('database', $autoload['libraries']))
+			{
+				$this->database();
+				$autoload['libraries'] = array_diff($autoload['libraries'], array('database'));
+			}
+
+			// Load scaffolding
+			if (in_array('scaffolding', $autoload['libraries']))
+			{
+				$this->scaffolding();
+				$autoload['libraries'] = array_diff($autoload['libraries'], array('scaffolding'));
+			}
+		
+			// Load all other libraries
+			foreach ($autoload['libraries'] as $item)
+			{
+				$this->library($item);
+			}
+		}		
+
+		// Autoload models
+		if (isset($autoload['model']))
+		{
+			$this->model($autoload['model']);
+		}
+
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Assign to Models
+	 *
+	 * Makes sure that anything loaded by the loader class (libraries, plugins, etc.)
+	 * will be available to models, if any exist.
+	 *
+	 * @access	private
+	 * @param	object
+	 * @return	array
+	 */
+	function _ci_assign_to_models()
+	{
+		if (count($this->_ci_models) == 0)
+		{
+			return;
+		}
+	
+		if ($this->_ci_is_instance())
+		{
+			$CI =& get_instance();
+			foreach ($this->_ci_models as $model)
+			{			
+				$CI->$model->_assign_libraries();
+			}
+		}
+		else
+		{		
+			foreach ($this->_ci_models as $model)
+			{			
+				$this->$model->_assign_libraries();
+			}
+		}
+	}  	
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Object to Array
+	 *
+	 * Takes an object as input and converts the class variables to array key/vals
+	 *
+	 * @access	private
+	 * @param	object
+	 * @return	array
+	 */
+	function _ci_object_to_array($object)
+	{
+		return (is_object($object)) ? get_object_vars($object) : $object;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Determines whether we should use the CI instance or $this
+	 *
+	 * @access	private
+	 * @return	bool
+	 */
+	function _ci_is_instance()
+	{
+		if ($this->_ci_is_php5 == TRUE)
+		{
+			return TRUE;
+		}
+	
+		global $CI;
+		return (is_object($CI)) ? TRUE : FALSE;
+	}
+
+}
+
+/* End of file Loader.php */
+/* Location: ./system/libraries/Loader.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Log.php
===================================================================
--- trunk/pintassilgo/system/libraries/Log.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Log.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,117 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Logging Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Logging
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/general/errors.html
+ */
+class CI_Log {
+
+	var $log_path;
+	var $_threshold	= 1;
+	var $_date_fmt	= 'Y-m-d H:i:s';
+	var $_enabled	= TRUE;
+	var $_levels	= array('ERROR' => '1', 'DEBUG' => '2',  'INFO' => '3', 'ALL' => '4');
+
+	/**
+	 * Constructor
+	 *
+	 * @access	public
+	 */
+	function CI_Log()
+	{
+		$config =& get_config();
+		
+		$this->log_path = ($config['log_path'] != '') ? $config['log_path'] : BASEPATH.'logs/';
+		
+		if ( ! is_dir($this->log_path) OR ! is_really_writable($this->log_path))
+		{
+			$this->_enabled = FALSE;
+		}
+		
+		if (is_numeric($config['log_threshold']))
+		{
+			$this->_threshold = $config['log_threshold'];
+		}
+			
+		if ($config['log_date_format'] != '')
+		{
+			$this->_date_fmt = $config['log_date_format'];
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Write Log File
+	 *
+	 * Generally this function will be called using the global log_message() function
+	 *
+	 * @access	public
+	 * @param	string	the error level
+	 * @param	string	the error message
+	 * @param	bool	whether the error is a native PHP error
+	 * @return	bool
+	 */		
+	function write_log($level = 'error', $msg, $php_error = FALSE)
+	{		
+		if ($this->_enabled === FALSE)
+		{
+			return FALSE;
+		}
+	
+		$level = strtoupper($level);
+		
+		if ( ! isset($this->_levels[$level]) OR ($this->_levels[$level] > $this->_threshold))
+		{
+			return FALSE;
+		}
+	
+		$filepath = $this->log_path.'log-'.date('Y-m-d').EXT;
+		$message  = '';
+		
+		if ( ! file_exists($filepath))
+		{
+			$message .= "<"."?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed'); ?".">\n\n";
+		}
+			
+		if ( ! $fp = @fopen($filepath, FOPEN_WRITE_CREATE))
+		{
+			return FALSE;
+		}
+
+		$message .= $level.' '.(($level == 'INFO') ? ' -' : '-').' '.date($this->_date_fmt). ' --> '.$msg."\n";
+		
+		flock($fp, LOCK_EX);	
+		fwrite($fp, $message);
+		flock($fp, LOCK_UN);
+		fclose($fp);
+	
+		@chmod($filepath, FILE_WRITE_MODE); 		
+		return TRUE;
+	}
+
+}
+// END Log Class
+
+/* End of file Log.php */
+/* Location: ./system/libraries/Log.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Model.php
===================================================================
--- trunk/pintassilgo/system/libraries/Model.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Model.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,83 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Model Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/config.html
+ */
+class Model {
+
+	var $_parent_name = '';
+
+	/**
+	 * Constructor
+	 *
+	 * @access public
+	 */
+	function Model()
+	{
+		// If the magic __get() or __set() methods are used in a Model references can't be used.
+		$this->_assign_libraries( (method_exists($this, '__get') OR method_exists($this, '__set')) ? FALSE : TRUE );
+		
+		// We don't want to assign the model object to itself when using the
+		// assign_libraries function below so we'll grab the name of the model parent
+		$this->_parent_name = ucfirst(get_class($this));
+		
+		log_message('debug', "Model Class Initialized");
+	}
+
+	/**
+	 * Assign Libraries
+	 *
+	 * Creates local references to all currently instantiated objects
+	 * so that any syntax that can be legally used in a controller
+	 * can be used within models.  
+	 *
+	 * @access private
+	 */	
+	function _assign_libraries($use_reference = TRUE)
+	{
+		$CI =& get_instance();				
+		foreach (array_keys(get_object_vars($CI)) as $key)
+		{
+			if ( ! isset($this->$key) AND $key != $this->_parent_name)
+			{			
+				// In some cases using references can cause
+				// problems so we'll conditionally use them
+				if ($use_reference == TRUE)
+				{
+					$this->$key = NULL; // Needed to prevent reference errors with some configurations
+					$this->$key =& $CI->$key;
+				}
+				else
+				{
+					$this->$key = $CI->$key;
+				}
+			}
+		}		
+	}
+
+}
+// END Model Class
+
+/* End of file Model.php */
+/* Location: ./system/libraries/Model.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Output.php
===================================================================
--- trunk/pintassilgo/system/libraries/Output.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Output.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,478 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Output Class
+ *
+ * Responsible for sending final output to browser
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Output
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/output.html
+ */
+class CI_Output {
+
+	var $final_output;
+	var $cache_expiration	= 0;
+	var $headers 			= array();
+	var $enable_profiler 	= FALSE;
+
+
+	function CI_Output()
+	{
+		log_message('debug', "Output Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get Output
+	 *
+	 * Returns the current output string
+	 *
+	 * @access	public
+	 * @return	string
+	 */	
+	function get_output()
+	{
+		return $this->final_output;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Output
+	 *
+	 * Sets the output string
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_output($output)
+	{
+		$this->final_output = $output;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Append Output
+	 *
+	 * Appends data onto the output string
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function append_output($output)
+	{
+		if ($this->final_output == '')
+		{
+			$this->final_output = $output;
+		}
+		else
+		{
+			$this->final_output .= $output;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set Header
+	 *
+	 * Lets you set a server header which will be outputted with the final display.
+	 *
+	 * Note:  If a file is cached, headers will not be sent.  We need to figure out
+	 * how to permit header data to be saved with the cache data...
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_header($header, $replace = TRUE)
+	{
+		$this->headers[] = array($header, $replace);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set HTTP Status Header
+	 *
+	 * @access	public
+	 * @param	int 	the status code
+	 * @param	string	
+	 * @return	void
+	 */	
+	function set_status_header($code = '200', $text = '')
+	{
+		$stati = array(
+							'200'	=> 'OK',
+							'201'	=> 'Created',
+							'202'	=> 'Accepted',
+							'203'	=> 'Non-Authoritative Information',
+							'204'	=> 'No Content',
+							'205'	=> 'Reset Content',
+							'206'	=> 'Partial Content',
+							
+							'300'	=> 'Multiple Choices',
+							'301'	=> 'Moved Permanently',
+							'302'	=> 'Found',
+							'304'	=> 'Not Modified',
+							'305'	=> 'Use Proxy',
+							'307'	=> 'Temporary Redirect',
+							
+							'400'	=> 'Bad Request',
+							'401'	=> 'Unauthorized',
+							'403'	=> 'Forbidden',
+							'404'	=> 'Not Found',
+							'405'	=> 'Method Not Allowed',
+							'406'	=> 'Not Acceptable',
+							'407'	=> 'Proxy Authentication Required',
+							'408'	=> 'Request Timeout',
+							'409'	=> 'Conflict',
+							'410'	=> 'Gone',
+							'411'	=> 'Length Required',
+							'412'	=> 'Precondition Failed',
+							'413'	=> 'Request Entity Too Large',
+							'414'	=> 'Request-URI Too Long',
+							'415'	=> 'Unsupported Media Type',
+							'416'	=> 'Requested Range Not Satisfiable',
+							'417'	=> 'Expectation Failed',
+		
+							'500'	=> 'Internal Server Error',
+							'501'	=> 'Not Implemented',
+							'502'	=> 'Bad Gateway',
+							'503'	=> 'Service Unavailable',
+							'504'	=> 'Gateway Timeout',
+							'505'	=> 'HTTP Version Not Supported'
+						);
+
+		if ($code == '' OR ! is_numeric($code))
+		{
+			show_error('Status codes must be numeric');
+		}
+
+		if (isset($stati[$code]) AND $text == '')
+		{				
+			$text = $stati[$code];
+		}
+		
+		if ($text == '')
+		{
+			show_error('No status text available.  Please check your status code number or supply your own message text.');
+		}
+		
+		$server_protocol = (isset($_SERVER['SERVER_PROTOCOL'])) ? $_SERVER['SERVER_PROTOCOL'] : FALSE;
+	
+		if (substr(php_sapi_name(), 0, 3) == 'cgi')
+		{
+			header("Status: {$code} {$text}", TRUE);
+		}
+		elseif ($server_protocol == 'HTTP/1.1' OR $server_protocol == 'HTTP/1.0')
+		{
+			header($server_protocol." {$code} {$text}", TRUE, $code);
+		}
+		else
+		{
+			header("HTTP/1.1 {$code} {$text}", TRUE, $code);
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Enable/disable Profiler
+	 *
+	 * @access	public
+	 * @param	bool
+	 * @return	void
+	 */	
+	function enable_profiler($val = TRUE)
+	{
+		$this->enable_profiler = (is_bool($val)) ? $val : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Cache
+	 *
+	 * @access	public
+	 * @param	integer
+	 * @return	void
+	 */	
+	function cache($time)
+	{
+		$this->cache_expiration = ( ! is_numeric($time)) ? 0 : $time;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Display Output
+	 *
+	 * All "view" data is automatically put into this variable by the controller class:
+	 *
+	 * $this->final_output
+	 *
+	 * This function sends the finalized output data to the browser along
+	 * with any server headers and profile data.  It also stops the
+	 * benchmark timer so the page rendering speed and memory usage can be shown.
+	 *
+	 * @access	public
+	 * @return	mixed
+	 */		
+	function _display($output = '')
+	{	
+		// Note:  We use globals because we can't use $CI =& get_instance()
+		// since this function is sometimes called by the caching mechanism,
+		// which happens before the CI super object is available.
+		global $BM, $CFG;
+		
+		// --------------------------------------------------------------------
+		
+		// Set the output data
+		if ($output == '')
+		{
+			$output =& $this->final_output;
+		}
+		
+		// --------------------------------------------------------------------
+		
+		// Do we need to write a cache file?
+		if ($this->cache_expiration > 0)
+		{
+			$this->_write_cache($output);
+		}
+		
+		// --------------------------------------------------------------------
+
+		// Parse out the elapsed time and memory usage,
+		// then swap the pseudo-variables with the data
+
+		$elapsed = $BM->elapsed_time('total_execution_time_start', 'total_execution_time_end');		
+		$output = str_replace('{elapsed_time}', $elapsed, $output);
+		
+		$memory	 = ( ! function_exists('memory_get_usage')) ? '0' : round(memory_get_usage()/1024/1024, 2).'MB';
+		$output = str_replace('{memory_usage}', $memory, $output);		
+
+		// --------------------------------------------------------------------
+		
+		// Is compression requested?
+		if ($CFG->item('compress_output') === TRUE)
+		{
+			if (extension_loaded('zlib'))
+			{
+				if (isset($_SERVER['HTTP_ACCEPT_ENCODING']) AND strpos($_SERVER['HTTP_ACCEPT_ENCODING'], 'gzip') !== FALSE)
+				{
+					ob_start('ob_gzhandler');
+				}
+			}
+		}
+
+		// --------------------------------------------------------------------
+		
+		// Are there any server headers to send?
+		if (count($this->headers) > 0)
+		{
+			foreach ($this->headers as $header)
+			{
+				@header($header[0], $header[1]);
+			}
+		}		
+
+		// --------------------------------------------------------------------
+		
+		// Does the get_instance() function exist?
+		// If not we know we are dealing with a cache file so we'll
+		// simply echo out the data and exit.
+		if ( ! function_exists('get_instance'))
+		{
+			echo $output;
+			log_message('debug', "Final output sent to browser");
+			log_message('debug', "Total execution time: ".$elapsed);
+			return TRUE;
+		}
+	
+		// --------------------------------------------------------------------
+
+		// Grab the super object.  We'll need it in a moment...
+		$CI =& get_instance();
+		
+		// Do we need to generate profile data?
+		// If so, load the Profile class and run it.
+		if ($this->enable_profiler == TRUE)
+		{
+			$CI->load->library('profiler');				
+										
+			// If the output data contains closing </body> and </html> tags
+			// we will remove them and add them back after we insert the profile data
+			if (preg_match("|</body>.*?</html>|is", $output))
+			{
+				$output  = preg_replace("|</body>.*?</html>|is", '', $output);
+				$output .= $CI->profiler->run();
+				$output .= '</body></html>';
+			}
+			else
+			{
+				$output .= $CI->profiler->run();
+			}
+		}
+		
+		// --------------------------------------------------------------------
+
+		// Does the controller contain a function named _output()?
+		// If so send the output there.  Otherwise, echo it.
+		if (method_exists($CI, '_output'))
+		{
+			$CI->_output($output);
+		}
+		else
+		{
+			echo $output;  // Send it to the browser!
+		}
+		
+		log_message('debug', "Final output sent to browser");
+		log_message('debug', "Total execution time: ".$elapsed);		
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Write a Cache File
+	 *
+	 * @access	public
+	 * @return	void
+	 */	
+	function _write_cache($output)
+	{
+		$CI =& get_instance();	
+		$path = $CI->config->item('cache_path');
+	
+		$cache_path = ($path == '') ? BASEPATH.'cache/' : $path;
+		
+		if ( ! is_dir($cache_path) OR ! is_really_writable($cache_path))
+		{
+			return;
+		}
+		
+		$uri =	$CI->config->item('base_url').
+				$CI->config->item('index_page').
+				$CI->uri->uri_string();
+		
+		$cache_path .= md5($uri);
+
+		if ( ! $fp = @fopen($cache_path, FOPEN_WRITE_CREATE_DESTRUCTIVE))
+		{
+			log_message('error', "Unable to write cache file: ".$cache_path);
+			return;
+		}
+		
+		$expire = time() + ($this->cache_expiration * 60);
+		
+		if (flock($fp, LOCK_EX))
+		{
+			fwrite($fp, $expire.'TS--->'.$output);
+			flock($fp, LOCK_UN);
+		}
+		else
+		{
+			log_message('error', "Unable to secure a file lock for file at: ".$cache_path);
+			return;
+		}
+		fclose($fp);
+		@chmod($cache_path, DIR_WRITE_MODE);
+
+		log_message('debug', "Cache file written: ".$cache_path);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Update/serve a cached file
+	 *
+	 * @access	public
+	 * @return	void
+	 */	
+	function _display_cache(&$CFG, &$URI)
+	{
+		$cache_path = ($CFG->item('cache_path') == '') ? BASEPATH.'cache/' : $CFG->item('cache_path');
+			
+		if ( ! is_dir($cache_path) OR ! is_really_writable($cache_path))
+		{
+			return FALSE;
+		}
+		
+		// Build the file path.  The file name is an MD5 hash of the full URI
+		$uri =	$CFG->item('base_url').
+				$CFG->item('index_page').
+				$URI->uri_string;
+				
+		$filepath = $cache_path.md5($uri);
+		
+		if ( ! @file_exists($filepath))
+		{
+			return FALSE;
+		}
+	
+		if ( ! $fp = @fopen($filepath, FOPEN_READ))
+		{
+			return FALSE;
+		}
+			
+		flock($fp, LOCK_SH);
+		
+		$cache = '';
+		if (filesize($filepath) > 0)
+		{
+			$cache = fread($fp, filesize($filepath));
+		}
+	
+		flock($fp, LOCK_UN);
+		fclose($fp);
+					
+		// Strip out the embedded timestamp		
+		if ( ! preg_match("/(\d+TS--->)/", $cache, $match))
+		{
+			return FALSE;
+		}
+		
+		// Has the file expired? If so we'll delete it.
+		if (time() >= trim(str_replace('TS--->', '', $match['1'])))
+		{ 		
+			@unlink($filepath);
+			log_message('debug', "Cache file has expired. File deleted");
+			return FALSE;
+		}
+
+		// Display the cache
+		$this->_display(str_replace($match['0'], '', $cache));
+		log_message('debug', "Cache file is current. Sending it to browser.");		
+		return TRUE;
+	}
+
+
+}
+// END Output Class
+
+/* End of file Output.php */
+/* Location: ./system/libraries/Output.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Pagination.php
===================================================================
--- trunk/pintassilgo/system/libraries/Pagination.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Pagination.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,244 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Pagination Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Pagination
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/pagination.html
+ */
+class CI_Pagination {
+
+	var $base_url			= ''; // The page we are linking to
+	var $total_rows  		= ''; // Total number of items (database results)
+	var $per_page	 		= 10; // Max number of items you want shown per page
+	var $num_links			=  2; // Number of "digit" links to show before/after the currently viewed page
+	var $cur_page	 		=  0; // The current page being viewed
+	var $first_link   		= '&lsaquo; First';
+	var $next_link			= '&gt;';
+	var $prev_link			= '&lt;';
+	var $last_link			= 'Last &rsaquo;';
+	var $uri_segment		= 3;
+	var $full_tag_open		= '';
+	var $full_tag_close		= '';
+	var $first_tag_open		= '';
+	var $first_tag_close	= '&nbsp;';
+	var $last_tag_open		= '&nbsp;';
+	var $last_tag_close		= '';
+	var $cur_tag_open		= '&nbsp;<b>';
+	var $cur_tag_close		= '</b>';
+	var $next_tag_open		= '&nbsp;';
+	var $next_tag_close		= '&nbsp;';
+	var $prev_tag_open		= '&nbsp;';
+	var $prev_tag_close		= '';
+	var $num_tag_open		= '&nbsp;';
+	var $num_tag_close		= '';
+	var $page_query_string	= FALSE;
+	var $query_string_segment = 'per_page';
+
+	/**
+	 * Constructor
+	 *
+	 * @access	public
+	 * @param	array	initialization parameters
+	 */
+	function CI_Pagination($params = array())
+	{
+		if (count($params) > 0)
+		{
+			$this->initialize($params);		
+		}
+		
+		log_message('debug', "Pagination Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Initialize Preferences
+	 *
+	 * @access	public
+	 * @param	array	initialization parameters
+	 * @return	void
+	 */
+	function initialize($params = array())
+	{
+		if (count($params) > 0)
+		{
+			foreach ($params as $key => $val)
+			{
+				if (isset($this->$key))
+				{
+					$this->$key = $val;
+				}
+			}
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Generate the pagination links
+	 *
+	 * @access	public
+	 * @return	string
+	 */	
+	function create_links()
+	{
+		// If our item count or per-page total is zero there is no need to continue.
+		if ($this->total_rows == 0 OR $this->per_page == 0)
+		{
+		   return '';
+		}
+
+		// Calculate the total number of pages
+		$num_pages = ceil($this->total_rows / $this->per_page);
+
+		// Is there only one page? Hm... nothing more to do here then.
+		if ($num_pages == 1)
+		{
+			return '';
+		}
+
+		// Determine the current page number.		
+		$CI =& get_instance();
+		
+		if ($CI->config->item('enable_query_strings') === TRUE OR $this->page_query_string === TRUE)
+		{
+			if ($CI->input->get($this->query_string_segment) != 0)
+			{
+				$this->cur_page = $CI->input->get($this->query_string_segment);
+				
+				// Prep the current page - no funny business!
+				$this->cur_page = (int) $this->cur_page;
+			}
+		}
+		else
+		{
+			if ($CI->uri->segment($this->uri_segment) != 0)
+			{
+				$this->cur_page = $CI->uri->segment($this->uri_segment);
+				
+				// Prep the current page - no funny business!
+				$this->cur_page = (int) $this->cur_page;
+			}
+		}
+
+		$this->num_links = (int)$this->num_links;
+		
+		if ($this->num_links < 1)
+		{
+			show_error('Your number of links must be a positive number.');
+		}
+				
+		if ( ! is_numeric($this->cur_page))
+		{
+			$this->cur_page = 0;
+		}
+		
+		// Is the page number beyond the result range?
+		// If so we show the last page
+		if ($this->cur_page > $this->total_rows)
+		{
+			$this->cur_page = ($num_pages - 1) * $this->per_page;
+		}
+		
+		$uri_page_number = $this->cur_page;
+		$this->cur_page = floor(($this->cur_page/$this->per_page) + 1);
+
+		// Calculate the start and end numbers. These determine
+		// which number to start and end the digit links with
+		$start = (($this->cur_page - $this->num_links) > 0) ? $this->cur_page - ($this->num_links - 1) : 1;
+		$end   = (($this->cur_page + $this->num_links) < $num_pages) ? $this->cur_page + $this->num_links : $num_pages;
+
+		// Is pagination being used over GET or POST?  If get, add a per_page query
+		// string. If post, add a trailing slash to the base URL if needed
+		if ($CI->config->item('enable_query_strings') === TRUE OR $this->page_query_string === TRUE)
+		{
+			$this->base_url = rtrim($this->base_url).'&amp;'.$this->query_string_segment.'=';
+		}
+		else
+		{
+			$this->base_url = rtrim($this->base_url, '/') .'/';
+		}
+
+  		// And here we go...
+		$output = '';
+
+		// Render the "First" link
+		if  ($this->cur_page > ($this->num_links + 1))
+		{
+			$output .= $this->first_tag_open.'<a href="'.$this->base_url.'">'.$this->first_link.'</a>'.$this->first_tag_close;
+		}
+
+		// Render the "previous" link
+		if  ($this->cur_page != 1)
+		{
+			$i = $uri_page_number - $this->per_page;
+			if ($i == 0) $i = '';
+			$output .= $this->prev_tag_open.'<a href="'.$this->base_url.$i.'">'.$this->prev_link.'</a>'.$this->prev_tag_close;
+		}
+
+		// Write the digit links
+		for ($loop = $start -1; $loop <= $end; $loop++)
+		{
+			$i = ($loop * $this->per_page) - $this->per_page;
+					
+			if ($i >= 0)
+			{
+				if ($this->cur_page == $loop)
+				{
+					$output .= $this->cur_tag_open.$loop.$this->cur_tag_close; // Current page
+				}
+				else
+				{
+					$n = ($i == 0) ? '' : $i;
+					$output .= $this->num_tag_open.'<a href="'.$this->base_url.$n.'">'.$loop.'</a>'.$this->num_tag_close;
+				}
+			}
+		}
+
+		// Render the "next" link
+		if ($this->cur_page < $num_pages)
+		{
+			$output .= $this->next_tag_open.'<a href="'.$this->base_url.($this->cur_page * $this->per_page).'">'.$this->next_link.'</a>'.$this->next_tag_close;
+		}
+
+		// Render the "Last" link
+		if (($this->cur_page + $this->num_links) < $num_pages)
+		{
+			$i = (($num_pages * $this->per_page) - $this->per_page);
+			$output .= $this->last_tag_open.'<a href="'.$this->base_url.$i.'">'.$this->last_link.'</a>'.$this->last_tag_close;
+		}
+
+		// Kill double slashes.  Note: Sometimes we can end up with a double slash
+		// in the penultimate link so we'll kill all double slashes.
+		$output = preg_replace("#([^:])//+#", "\\1/", $output);
+
+		// Add the wrapper HTML if exists
+		$output = $this->full_tag_open.$output.$this->full_tag_close;
+		
+		return $output;		
+	}
+}
+// END Pagination Class
+
+/* End of file Pagination.php */
+/* Location: ./system/libraries/Pagination.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Parser.php
===================================================================
--- trunk/pintassilgo/system/libraries/Parser.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Parser.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,173 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Parser Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Parser
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/parser.html
+ */
+class CI_Parser {
+
+	var $l_delim = '{';
+	var $r_delim = '}';
+	var $object;
+		
+	/**
+	 *  Parse a template
+	 *
+	 * Parses pseudo-variables contained in the specified template,
+	 * replacing them with the data in the second param
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	array
+	 * @param	bool
+	 * @return	string
+	 */
+	function parse($template, $data, $return = FALSE)
+	{
+		$CI =& get_instance();
+		$template = $CI->load->view($template, $data, TRUE);
+		
+		if ($template == '')
+		{
+			return FALSE;
+		}
+		
+		foreach ($data as $key => $val)
+		{
+			if (is_array($val))
+			{
+				$template = $this->_parse_pair($key, $val, $template);		
+			}
+			else
+			{
+				$template = $this->_parse_single($key, (string)$val, $template);
+			}
+		}
+		
+		if ($return == FALSE)
+		{
+			$CI->output->append_output($template);
+		}
+		
+		return $template;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 *  Set the left/right variable delimiters
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	void
+	 */
+	function set_delimiters($l = '{', $r = '}')
+	{
+		$this->l_delim = $l;
+		$this->r_delim = $r;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 *  Parse a single key/value
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function _parse_single($key, $val, $string)
+	{
+		return str_replace($this->l_delim.$key.$this->r_delim, $val, $string);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 *  Parse a tag pair
+	 *
+	 * Parses tag pairs:  {some_tag} string... {/some_tag}
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	array
+	 * @param	string
+	 * @return	string
+	 */
+	function _parse_pair($variable, $data, $string)
+	{	
+		if (FALSE === ($match = $this->_match_pair($string, $variable)))
+		{
+			return $string;
+		}
+
+		$str = '';
+		foreach ($data as $row)
+		{
+			$temp = $match['1'];
+			foreach ($row as $key => $val)
+			{
+				if ( ! is_array($val))
+				{
+					$temp = $this->_parse_single($key, $val, $temp);
+				}
+				else
+				{
+					$temp = $this->_parse_pair($key, $val, $temp);
+				}
+			}
+			
+			$str .= $temp;
+		}
+		
+		return str_replace($match['0'], $str, $string);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 *  Matches a variable pair
+	 *
+	 * @access	private
+	 * @param	string
+	 * @param	string
+	 * @return	mixed
+	 */
+	function _match_pair($string, $variable)
+	{
+		if ( ! preg_match("|".$this->l_delim . $variable . $this->r_delim."(.+?)".$this->l_delim . '/' . $variable . $this->r_delim."|s", $string, $match))
+		{
+			return FALSE;
+		}
+		
+		return $match;
+	}
+
+}
+// END Parser Class
+
+/* End of file Parser.php */
+/* Location: ./system/libraries/Parser.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Profiler.php
===================================================================
--- trunk/pintassilgo/system/libraries/Profiler.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Profiler.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,392 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * CodeIgniter Profiler Class
+ *
+ * This class enables you to display benchmark, query, and other data
+ * in order to help with debugging and optimization.
+ *
+ * Note: At some point it would be good to move all the HTML in this class
+ * into a set of template files in order to allow customization.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/general/profiling.html
+ */
+class CI_Profiler {
+
+	var $CI;
+ 	
+ 	function CI_Profiler()
+ 	{
+ 		$this->CI =& get_instance();
+ 		$this->CI->load->language('profiler');
+ 	}
+ 	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Auto Profiler
+	 *
+	 * This function cycles through the entire array of mark points and
+	 * matches any two points that are named identically (ending in "_start"
+	 * and "_end" respectively).  It then compiles the execution times for
+	 * all points and returns it as an array
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+ 	function _compile_benchmarks()
+ 	{
+  		$profile = array();
+ 		foreach ($this->CI->benchmark->marker as $key => $val)
+ 		{
+ 			// We match the "end" marker so that the list ends
+ 			// up in the order that it was defined
+ 			if (preg_match("/(.+?)_end/i", $key, $match))
+ 			{ 			
+ 				if (isset($this->CI->benchmark->marker[$match[1].'_end']) AND isset($this->CI->benchmark->marker[$match[1].'_start']))
+ 				{
+ 					$profile[$match[1]] = $this->CI->benchmark->elapsed_time($match[1].'_start', $key);
+ 				}
+ 			}
+ 		}
+
+		// Build a table containing the profile data.
+		// Note: At some point we should turn this into a template that can
+		// be modified.  We also might want to make this data available to be logged
+	
+		$output  = "\n\n";
+		$output .= '<fieldset style="border:1px solid #990000;padding:6px 10px 10px 10px;margin:0 0 20px 0;background-color:#eee">';
+		$output .= "\n";
+		$output .= '<legend style="color:#990000;">&nbsp;&nbsp;'.$this->CI->lang->line('profiler_benchmarks').'&nbsp;&nbsp;</legend>';
+		$output .= "\n";			
+		$output .= "\n\n<table cellpadding='4' cellspacing='1' border='0' width='100%'>\n";
+		
+		foreach ($profile as $key => $val)
+		{
+			$key = ucwords(str_replace(array('_', '-'), ' ', $key));
+			$output .= "<tr><td width='50%' style='color:#000;font-weight:bold;background-color:#ddd;'>".$key."&nbsp;&nbsp;</td><td width='50%' style='color:#990000;font-weight:normal;background-color:#ddd;'>".$val."</td></tr>\n";
+		}
+		
+		$output .= "</table>\n";
+		$output .= "</fieldset>";
+ 		
+ 		return $output;
+ 	}
+ 	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Compile Queries
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _compile_queries()
+	{
+		$dbs = array();
+		
+		// Let's determine which databases are currently connected to
+		foreach (get_object_vars($this->CI) as $CI_object)
+		{
+			if ( is_subclass_of(get_class($CI_object), 'CI_DB') )
+			{
+				$dbs[] = $CI_object;
+			}
+		}
+					
+		if (count($dbs) == 0)
+		{
+			$output  = "\n\n";
+			$output .= '<fieldset style="border:1px solid #0000FF;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee">';
+			$output .= "\n";
+			$output .= '<legend style="color:#0000FF;">&nbsp;&nbsp;'.$this->CI->lang->line('profiler_queries').'&nbsp;&nbsp;</legend>';
+			$output .= "\n";		
+			$output .= "\n\n<table cellpadding='4' cellspacing='1' border='0' width='100%'>\n";
+			$output .="<tr><td width='100%' style='color:#0000FF;font-weight:normal;background-color:#eee;'>".$this->CI->lang->line('profiler_no_db')."</td></tr>\n";
+			$output .= "</table>\n";
+			$output .= "</fieldset>";
+			
+			return $output;
+		}
+		
+		// Load the text helper so we can highlight the SQL
+		$this->CI->load->helper('text');
+
+		// Key words we want bolded
+		$highlight = array('SELECT', 'DISTINCT', 'FROM', 'WHERE', 'AND', 'LEFT&nbsp;JOIN', 'ORDER&nbsp;BY', 'GROUP&nbsp;BY', 'LIMIT', 'INSERT', 'INTO', 'VALUES', 'UPDATE', 'OR', 'HAVING', 'OFFSET', 'NOT&nbsp;IN', 'IN', 'LIKE', 'NOT&nbsp;LIKE', 'COUNT', 'MAX', 'MIN', 'ON', 'AS', 'AVG', 'SUM', '(', ')');
+
+		$output  = "\n\n";
+			
+		foreach ($dbs as $db)
+		{
+			$output .= '<fieldset style="border:1px solid #0000FF;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee">';
+			$output .= "\n";
+			$output .= '<legend style="color:#0000FF;">&nbsp;&nbsp;'.$this->CI->lang->line('profiler_database').':&nbsp; '.$db->database.'&nbsp;&nbsp;&nbsp;'.$this->CI->lang->line('profiler_queries').': '.count($this->CI->db->queries).'&nbsp;&nbsp;&nbsp;</legend>';
+			$output .= "\n";		
+			$output .= "\n\n<table cellpadding='4' cellspacing='1' border='0' width='100%'>\n";
+		
+			if (count($db->queries) == 0)
+			{
+				$output .= "<tr><td width='100%' style='color:#0000FF;font-weight:normal;background-color:#eee;'>".$this->CI->lang->line('profiler_no_queries')."</td></tr>\n";
+			}
+			else
+			{				
+				foreach ($db->queries as $key => $val)
+				{					
+					$time = number_format($db->query_times[$key], 4);
+
+					$val = highlight_code($val, ENT_QUOTES);
+	
+					foreach ($highlight as $bold)
+					{
+						$val = str_replace($bold, '<strong>'.$bold.'</strong>', $val);	
+					}
+					
+					$output .= "<tr><td width='1%' valign='top' style='color:#990000;font-weight:normal;background-color:#ddd;'>".$time."&nbsp;&nbsp;</td><td style='color:#000;font-weight:normal;background-color:#ddd;'>".$val."</td></tr>\n";
+				}
+			}
+			
+			$output .= "</table>\n";
+			$output .= "</fieldset>";
+			
+		}
+		
+		return $output;
+	}
+
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Compile $_GET Data
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _compile_get()
+	{	
+		$output  = "\n\n";
+		$output .= '<fieldset style="border:1px solid #cd6e00;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee">';
+		$output .= "\n";
+		$output .= '<legend style="color:#cd6e00;">&nbsp;&nbsp;'.$this->CI->lang->line('profiler_get_data').'&nbsp;&nbsp;</legend>';
+		$output .= "\n";
+				
+		if (count($_GET) == 0)
+		{
+			$output .= "<div style='color:#cd6e00;font-weight:normal;padding:4px 0 4px 0'>".$this->CI->lang->line('profiler_no_get')."</div>";
+		}
+		else
+		{
+			$output .= "\n\n<table cellpadding='4' cellspacing='1' border='0' width='100%'>\n";
+		
+			foreach ($_GET as $key => $val)
+			{
+				if ( ! is_numeric($key))
+				{
+					$key = "'".$key."'";
+				}
+			
+				$output .= "<tr><td width='50%' style='color:#000;background-color:#ddd;'>&#36;_GET[".$key."]&nbsp;&nbsp; </td><td width='50%' style='color:#cd6e00;font-weight:normal;background-color:#ddd;'>";
+				if (is_array($val))
+				{
+					$output .= "<pre>" . htmlspecialchars(stripslashes(print_r($val, true))) . "</pre>";
+				}
+				else
+				{
+					$output .= htmlspecialchars(stripslashes($val));
+				}
+				$output .= "</td></tr>\n";
+			}
+			
+			$output .= "</table>\n";
+		}
+		$output .= "</fieldset>";
+
+		return $output;	
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Compile $_POST Data
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _compile_post()
+	{	
+		$output  = "\n\n";
+		$output .= '<fieldset style="border:1px solid #009900;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee">';
+		$output .= "\n";
+		$output .= '<legend style="color:#009900;">&nbsp;&nbsp;'.$this->CI->lang->line('profiler_post_data').'&nbsp;&nbsp;</legend>';
+		$output .= "\n";
+				
+		if (count($_POST) == 0)
+		{
+			$output .= "<div style='color:#009900;font-weight:normal;padding:4px 0 4px 0'>".$this->CI->lang->line('profiler_no_post')."</div>";
+		}
+		else
+		{
+			$output .= "\n\n<table cellpadding='4' cellspacing='1' border='0' width='100%'>\n";
+		
+			foreach ($_POST as $key => $val)
+			{
+				if ( ! is_numeric($key))
+				{
+					$key = "'".$key."'";
+				}
+			
+				$output .= "<tr><td width='50%' style='color:#000;background-color:#ddd;'>&#36;_POST[".$key."]&nbsp;&nbsp; </td><td width='50%' style='color:#009900;font-weight:normal;background-color:#ddd;'>";
+				if (is_array($val))
+				{
+					$output .= "<pre>" . htmlspecialchars(stripslashes(print_r($val, true))) . "</pre>";
+				}
+				else
+				{
+					$output .= htmlspecialchars(stripslashes($val));
+				}
+				$output .= "</td></tr>\n";
+			}
+			
+			$output .= "</table>\n";
+		}
+		$output .= "</fieldset>";
+
+		return $output;	
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Show query string
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _compile_uri_string()
+	{	
+		$output  = "\n\n";
+		$output .= '<fieldset style="border:1px solid #000;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee">';
+		$output .= "\n";
+		$output .= '<legend style="color:#000;">&nbsp;&nbsp;'.$this->CI->lang->line('profiler_uri_string').'&nbsp;&nbsp;</legend>';
+		$output .= "\n";
+		
+		if ($this->CI->uri->uri_string == '')
+		{
+			$output .= "<div style='color:#000;font-weight:normal;padding:4px 0 4px 0'>".$this->CI->lang->line('profiler_no_uri')."</div>";
+		}
+		else
+		{
+			$output .= "<div style='color:#000;font-weight:normal;padding:4px 0 4px 0'>".$this->CI->uri->uri_string."</div>";				
+		}
+		
+		$output .= "</fieldset>";
+
+		return $output;	
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Show the controller and function that were called
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _compile_controller_info()
+	{	
+		$output  = "\n\n";
+		$output .= '<fieldset style="border:1px solid #995300;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee">';
+		$output .= "\n";
+		$output .= '<legend style="color:#995300;">&nbsp;&nbsp;'.$this->CI->lang->line('profiler_controller_info').'&nbsp;&nbsp;</legend>';
+		$output .= "\n";
+		
+		$output .= "<div style='color:#995300;font-weight:normal;padding:4px 0 4px 0'>".$this->CI->router->fetch_class()."/".$this->CI->router->fetch_method()."</div>";				
+
+		
+		$output .= "</fieldset>";
+
+		return $output;	
+	}
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Compile memory usage
+	 *
+	 * Display total used memory
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function _compile_memory_usage()
+	{
+		$output  = "\n\n";
+		$output .= '<fieldset style="border:1px solid #5a0099;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee">';
+		$output .= "\n";
+		$output .= '<legend style="color:#5a0099;">&nbsp;&nbsp;'.$this->CI->lang->line('profiler_memory_usage').'&nbsp;&nbsp;</legend>';
+		$output .= "\n";
+		
+		if (function_exists('memory_get_usage') && ($usage = memory_get_usage()) != '')
+		{
+			$output .= "<div style='color:#5a0099;font-weight:normal;padding:4px 0 4px 0'>".number_format($usage).' bytes</div>';
+		}
+		else
+		{
+			$output .= "<div style='color:#5a0099;font-weight:normal;padding:4px 0 4px 0'>".$this->CI->lang->line('profiler_no_memory_usage')."</div>";				
+		}
+		
+		$output .= "</fieldset>";
+
+		return $output;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Run the Profiler
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function run()
+	{
+		$output = "<div id='codeigniter_profiler' style='clear:both;background-color:#fff;padding:10px;'>";
+
+		$output .= $this->_compile_uri_string();
+		$output .= $this->_compile_controller_info();
+		$output .= $this->_compile_memory_usage();
+		$output .= $this->_compile_benchmarks();
+		$output .= $this->_compile_get();
+		$output .= $this->_compile_post();
+		$output .= $this->_compile_queries();
+
+		$output .= '</div>';
+
+		return $output;
+	}
+
+}
+
+// END CI_Profiler class
+
+/* End of file Profiler.php */
+/* Location: ./system/libraries/Profiler.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Router.php
===================================================================
--- trunk/pintassilgo/system/libraries/Router.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Router.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,385 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Router Class
+ *
+ * Parses URIs and determines routing
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @author		ExpressionEngine Dev Team
+ * @category	Libraries
+ * @link		http://codeigniter.com/user_guide/general/routing.html
+ */
+class CI_Router {
+
+	var $config;	
+	var $routes 		= array();
+	var $error_routes	= array();
+	var $class			= '';
+	var $method			= 'index';
+	var $directory		= '';
+	var $uri_protocol 	= 'auto';
+	var $default_controller;
+	var $scaffolding_request = FALSE; // Must be set to FALSE
+	
+	/**
+	 * Constructor
+	 *
+	 * Runs the route mapping function.
+	 */
+	function CI_Router()
+	{
+		$this->config =& load_class('Config');
+		$this->uri =& load_class('URI');
+		$this->_set_routing();
+		log_message('debug', "Router Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the route mapping
+	 *
+	 * This function determines what should be served based on the URI request,
+	 * as well as any "routes" that have been set in the routing config file.
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _set_routing()
+	{
+		// Are query strings enabled in the config file?
+		// If so, we're done since segment based URIs are not used with query strings.
+		if ($this->config->item('enable_query_strings') === TRUE AND isset($_GET[$this->config->item('controller_trigger')]))
+		{
+			$this->set_class(trim($this->uri->_filter_uri($_GET[$this->config->item('controller_trigger')])));
+
+			if (isset($_GET[$this->config->item('function_trigger')]))
+			{
+				$this->set_method(trim($this->uri->_filter_uri($_GET[$this->config->item('function_trigger')])));
+			}
+			
+			return;
+		}
+		
+		// Load the routes.php file.
+		@include(APPPATH.'config/routes'.EXT);
+		$this->routes = ( ! isset($route) OR ! is_array($route)) ? array() : $route;
+		unset($route);
+
+		// Set the default controller so we can display it in the event
+		// the URI doesn't correlated to a valid controller.
+		$this->default_controller = ( ! isset($this->routes['default_controller']) OR $this->routes['default_controller'] == '') ? FALSE : strtolower($this->routes['default_controller']);	
+		
+		// Fetch the complete URI string
+		$this->uri->_fetch_uri_string();
+	
+		// Is there a URI string? If not, the default controller specified in the "routes" file will be shown.
+		if ($this->uri->uri_string == '')
+		{
+			if ($this->default_controller === FALSE)
+			{
+				show_error("Unable to determine what should be displayed. A default route has not been specified in the routing file.");
+			}
+
+			// Turn the default route into an array.  We explode it in the event that
+			// the controller is located in a subfolder
+			$segments = $this->_validate_request(explode('/', $this->default_controller));
+
+			// Set the class and method
+			$this->set_class($segments[0]);
+			$this->set_method('index');
+			
+			// Assign the segments to the URI class
+			$this->uri->rsegments = $segments;
+			
+			// re-index the routed segments array so it starts with 1 rather than 0
+			$this->uri->_reindex_segments();
+			
+			log_message('debug', "No URI present. Default controller set.");
+			return;
+		}
+		unset($this->routes['default_controller']);
+		
+		// Do we need to remove the URL suffix?
+		$this->uri->_remove_url_suffix();
+		
+		// Compile the segments into an array
+		$this->uri->_explode_segments();
+		
+		// Parse any custom routing that may exist
+		$this->_parse_routes();		
+		
+		// Re-index the segment array so that it starts with 1 rather than 0
+		$this->uri->_reindex_segments();
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the Route
+	 *
+	 * This function takes an array of URI segments as
+	 * input, and sets the current class/method
+	 *
+	 * @access	private
+	 * @param	array
+	 * @param	bool
+	 * @return	void
+	 */
+	function _set_request($segments = array())
+	{	
+		$segments = $this->_validate_request($segments);
+		
+		if (count($segments) == 0)
+		{
+			return;
+		}
+						
+		$this->set_class($segments[0]);
+		
+		if (isset($segments[1]))
+		{
+			// A scaffolding request. No funny business with the URL
+			if ($this->routes['scaffolding_trigger'] == $segments[1] AND $segments[1] != '_ci_scaffolding')
+			{
+				$this->scaffolding_request = TRUE;
+				unset($this->routes['scaffolding_trigger']);
+			}
+			else
+			{
+				// A standard method request
+				$this->set_method($segments[1]);
+			}
+		}
+		else
+		{
+			// This lets the "routed" segment array identify that the default
+			// index method is being used.
+			$segments[1] = 'index';
+		}
+		
+		// Update our "routed" segment array to contain the segments.
+		// Note: If there is no custom routing, this array will be
+		// identical to $this->uri->segments
+		$this->uri->rsegments = $segments;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Validates the supplied segments.  Attempts to determine the path to
+	 * the controller.
+	 *
+	 * @access	private
+	 * @param	array
+	 * @return	array
+	 */	
+	function _validate_request($segments)
+	{
+		// Does the requested controller exist in the root folder?
+		if (file_exists(APPPATH.'controllers/'.$segments[0].EXT))
+		{
+			return $segments;
+		}
+
+		// Is the controller in a sub-folder?
+		if (is_dir(APPPATH.'controllers/'.$segments[0]))
+		{		
+			// Set the directory and remove it from the segment array
+			$this->set_directory($segments[0]);
+			$segments = array_slice($segments, 1);
+			
+			if (count($segments) > 0)
+			{
+				// Does the requested controller exist in the sub-folder?
+				if ( ! file_exists(APPPATH.'controllers/'.$this->fetch_directory().$segments[0].EXT))
+				{
+					show_404($this->fetch_directory().$segments[0]);
+				}
+			}
+			else
+			{
+				$this->set_class($this->default_controller);
+				$this->set_method('index');
+			
+				// Does the default controller exist in the sub-folder?
+				if ( ! file_exists(APPPATH.'controllers/'.$this->fetch_directory().$this->default_controller.EXT))
+				{
+					$this->directory = '';
+					return array();
+				}
+			
+			}
+
+			return $segments;
+		}
+
+		// Can't find the requested controller...
+		show_404($segments[0]);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 *  Parse Routes
+	 *
+	 * This function matches any routes that may exist in
+	 * the config/routes.php file against the URI to
+	 * determine if the class/method need to be remapped.
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _parse_routes()
+	{
+		// Do we even have any custom routing to deal with?
+		// There is a default scaffolding trigger, so we'll look just for 1
+		if (count($this->routes) == 1)
+		{
+			$this->_set_request($this->uri->segments);
+			return;
+		}
+
+		// Turn the segment array into a URI string
+		$uri = implode('/', $this->uri->segments);
+
+		// Is there a literal match?  If so we're done
+		if (isset($this->routes[$uri]))
+		{
+			$this->_set_request(explode('/', $this->routes[$uri]));		
+			return;
+		}
+				
+		// Loop through the route array looking for wild-cards
+		foreach ($this->routes as $key => $val)
+		{						
+			// Convert wild-cards to RegEx
+			$key = str_replace(':any', '.+', str_replace(':num', '[0-9]+', $key));
+			
+			// Does the RegEx match?
+			if (preg_match('#^'.$key.'$#', $uri))
+			{			
+				// Do we have a back-reference?
+				if (strpos($val, '$') !== FALSE AND strpos($key, '(') !== FALSE)
+				{
+					$val = preg_replace('#^'.$key.'$#', $val, $uri);
+				}
+			
+				$this->_set_request(explode('/', $val));		
+				return;
+			}
+		}
+
+		// If we got this far it means we didn't encounter a
+		// matching route so we'll set the site default route
+		$this->_set_request($this->uri->segments);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the class name
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_class($class)
+	{
+		$this->class = $class;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch the current class
+	 *
+	 * @access	public
+	 * @return	string
+	 */	
+	function fetch_class()
+	{
+		return $this->class;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 *  Set the method name
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_method($method)
+	{
+		$this->method = $method;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 *  Fetch the current method
+	 *
+	 * @access	public
+	 * @return	string
+	 */	
+	function fetch_method()
+	{
+		if ($this->method == $this->fetch_class())
+		{
+			return 'index';
+		}
+
+		return $this->method;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 *  Set the directory name
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_directory($dir)
+	{
+		$this->directory = $dir.'/';
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 *  Fetch the sub-directory (if any) that contains the requested controller class
+	 *
+	 * @access	public
+	 * @return	string
+	 */	
+	function fetch_directory()
+	{
+		return $this->directory;
+	}
+
+}
+// END Router Class
+
+/* End of file Router.php */
+/* Location: ./system/libraries/Router.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Session.php
===================================================================
--- trunk/pintassilgo/system/libraries/Session.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Session.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,758 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Session Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Sessions
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/sessions.html
+ */
+class CI_Session {
+
+	var $sess_encrypt_cookie		= FALSE;
+	var $sess_use_database			= FALSE;
+	var $sess_table_name			= '';
+	var $sess_expiration			= 7200;
+	var $sess_match_ip				= FALSE;
+	var $sess_match_useragent		= TRUE;
+	var $sess_cookie_name			= 'ci_session';
+	var $cookie_prefix				= '';
+	var $cookie_path				= '';
+	var $cookie_domain				= '';
+	var $sess_time_to_update		= 300;
+	var $encryption_key				= '';
+	var $flashdata_key 				= 'flash';
+	var $time_reference				= 'time';
+	var $gc_probability				= 5;
+	var $userdata					= array();
+	var $CI;
+	var $now;
+
+	/**
+	 * Session Constructor
+	 *
+	 * The constructor runs the session routines automatically
+	 * whenever the class is instantiated.
+	 */		
+	function CI_Session($params = array())
+	{
+		log_message('debug', "Session Class Initialized");
+
+		// Set the super object to a local variable for use throughout the class
+		$this->CI =& get_instance();
+		
+		// Set all the session preferences, which can either be set 
+		// manually via the $params array above or via the config file
+		foreach (array('sess_encrypt_cookie', 'sess_use_database', 'sess_table_name', 'sess_expiration', 'sess_match_ip', 'sess_match_useragent', 'sess_cookie_name', 'cookie_path', 'cookie_domain', 'sess_time_to_update', 'time_reference', 'cookie_prefix', 'encryption_key') as $key)
+		{
+			$this->$key = (isset($params[$key])) ? $params[$key] : $this->CI->config->item($key);
+		}		
+	
+		// Load the string helper so we can use the strip_slashes() function
+		$this->CI->load->helper('string');
+
+		// Do we need encryption? If so, load the encryption class
+		if ($this->sess_encrypt_cookie == TRUE)
+		{
+			$this->CI->load->library('encrypt');
+		}
+
+		// Are we using a database?  If so, load it
+		if ($this->sess_use_database === TRUE AND $this->sess_table_name != '')
+		{
+			$this->CI->load->database();
+		}
+
+		// Set the "now" time.  Can either be GMT or server time, based on the
+		// config prefs.  We use this to set the "last activity" time
+		$this->now = $this->_get_time();
+
+		// Set the session length. If the session expiration is
+		// set to zero we'll set the expiration two years from now.
+		if ($this->sess_expiration == 0)
+		{
+			$this->sess_expiration = (60*60*24*365*2);
+		}
+		 				
+		// Set the cookie name
+		$this->sess_cookie_name = $this->cookie_prefix.$this->sess_cookie_name;
+	
+		// Run the Session routine. If a session doesn't exist we'll 
+		// create a new one.  If it does, we'll update it.
+		if ( ! $this->sess_read())
+		{
+			$this->sess_create();
+		}
+		else
+		{	
+			$this->sess_update();
+		}
+		
+		// Delete 'old' flashdata (from last request)
+	   	$this->_flashdata_sweep();
+		
+		// Mark all new flashdata as old (data will be deleted before next request)
+	   	$this->_flashdata_mark();
+
+		// Delete expired sessions if necessary
+		$this->_sess_gc();
+
+		log_message('debug', "Session routines successfully run");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch the current session data if it exists
+	 *
+	 * @access	public
+	 * @return	void
+	 */
+	function sess_read()
+	{	
+		// Fetch the cookie
+		$session = $this->CI->input->cookie($this->sess_cookie_name);
+		
+		// No cookie?  Goodbye cruel world!...
+		if ($session === FALSE)
+		{
+			log_message('debug', 'A session cookie was not found.');
+			return FALSE;
+		}
+		
+		// Decrypt the cookie data
+		if ($this->sess_encrypt_cookie == TRUE)
+		{
+			$session = $this->CI->encrypt->decode($session);
+		}
+		else
+		{	
+			// encryption was not used, so we need to check the md5 hash
+			$hash	 = substr($session, strlen($session)-32); // get last 32 chars
+			$session = substr($session, 0, strlen($session)-32);
+
+			// Does the md5 hash match?  This is to prevent manipulation of session data in userspace
+			if ($hash !==  md5($session.$this->encryption_key))
+			{
+				log_message('error', 'The session cookie data did not match what was expected. This could be a possible hacking attempt.');
+				$this->sess_destroy();
+				return FALSE;
+			}
+		}
+		
+		// Unserialize the session array
+		$session = $this->_unserialize($session);
+		
+		// Is the session data we unserialized an array with the correct format?
+		if ( ! is_array($session) OR ! isset($session['session_id']) OR ! isset($session['ip_address']) OR ! isset($session['user_agent']) OR ! isset($session['last_activity']))
+		{
+			$this->sess_destroy();
+			return FALSE;
+		}
+		
+		// Is the session current?
+		if (($session['last_activity'] + $this->sess_expiration) < $this->now)
+		{
+			$this->sess_destroy();
+			return FALSE;
+		}
+
+		// Does the IP Match?
+		if ($this->sess_match_ip == TRUE AND $session['ip_address'] != $this->CI->input->ip_address())
+		{
+			$this->sess_destroy();
+			return FALSE;
+		}
+		
+		// Does the User Agent Match?
+		if ($this->sess_match_useragent == TRUE AND trim($session['user_agent']) != trim(substr($this->CI->input->user_agent(), 0, 50)))
+		{
+			$this->sess_destroy();
+			return FALSE;
+		}
+		
+		// Is there a corresponding session in the DB?
+		if ($this->sess_use_database === TRUE)
+		{
+			$this->CI->db->where('session_id', $session['session_id']);
+					
+			if ($this->sess_match_ip == TRUE)
+			{
+				$this->CI->db->where('ip_address', $session['ip_address']);
+			}
+
+			if ($this->sess_match_useragent == TRUE)
+			{
+				$this->CI->db->where('user_agent', $session['user_agent']);
+			}
+			
+			$query = $this->CI->db->get($this->sess_table_name);
+
+			// No result?  Kill it!
+			if ($query->num_rows() == 0)
+			{
+				$this->sess_destroy();
+				return FALSE;
+			}
+
+			// Is there custom data?  If so, add it to the main session array
+			$row = $query->row();
+			if (isset($row->user_data) AND $row->user_data != '')
+			{
+				$custom_data = $this->_unserialize($row->user_data);
+
+				if (is_array($custom_data))
+				{
+					foreach ($custom_data as $key => $val)
+					{
+						$session[$key] = $val;
+					}
+				}
+			}				
+		}
+	
+		// Session is valid!
+		$this->userdata = $session;
+		unset($session);
+		
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Write the session data
+	 *
+	 * @access	public
+	 * @return	void
+	 */
+	function sess_write()
+	{
+		// Are we saving custom data to the DB?  If not, all we do is update the cookie
+		if ($this->sess_use_database === FALSE)
+		{
+			$this->_set_cookie();
+			return;
+		}
+
+		// set the custom userdata, the session data we will set in a second
+		$custom_userdata = $this->userdata;
+		$cookie_userdata = array();
+		
+		// Before continuing, we need to determine if there is any custom data to deal with.
+		// Let's determine this by removing the default indexes to see if there's anything left in the array
+		// and set the session data while we're at it
+		foreach (array('session_id','ip_address','user_agent','last_activity') as $val)
+		{
+			unset($custom_userdata[$val]);
+			$cookie_userdata[$val] = $this->userdata[$val];
+		}
+		
+		// Did we find any custom data?  If not, we turn the empty array into a string
+		// since there's no reason to serialize and store an empty array in the DB
+		if (count($custom_userdata) === 0)
+		{
+			$custom_userdata = '';
+		}
+		else
+		{	
+			// Serialize the custom data array so we can store it
+			$custom_userdata = $this->_serialize($custom_userdata);
+		}
+		
+		// Run the update query
+		$this->CI->db->where('session_id', $this->userdata['session_id']);
+		$this->CI->db->update($this->sess_table_name, array('last_activity' => $this->userdata['last_activity'], 'user_data' => $custom_userdata));
+
+		// Write the cookie.  Notice that we manually pass the cookie data array to the
+		// _set_cookie() function. Normally that function will store $this->userdata, but 
+		// in this case that array contains custom data, which we do not want in the cookie.
+		$this->_set_cookie($cookie_userdata);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Create a new session
+	 *
+	 * @access	public
+	 * @return	void
+	 */
+	function sess_create()
+	{	
+		$sessid = '';
+		while (strlen($sessid) < 32)
+		{
+			$sessid .= mt_rand(0, mt_getrandmax());
+		}
+		
+		// To make the session ID even more secure we'll combine it with the user's IP
+		$sessid .= $this->CI->input->ip_address();
+	
+		$this->userdata = array(
+							'session_id' 	=> md5(uniqid($sessid, TRUE)),
+							'ip_address' 	=> $this->CI->input->ip_address(),
+							'user_agent' 	=> substr($this->CI->input->user_agent(), 0, 50),
+							'last_activity'	=> $this->now
+							);
+		
+		
+		// Save the data to the DB if needed
+		if ($this->sess_use_database === TRUE)
+		{
+			$this->CI->db->query($this->CI->db->insert_string($this->sess_table_name, $this->userdata));
+		}
+			
+		// Write the cookie
+		$this->_set_cookie();
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Update an existing session
+	 *
+	 * @access	public
+	 * @return	void
+	 */
+	function sess_update()
+	{
+		// We only update the session every five minutes by default
+		if (($this->userdata['last_activity'] + $this->sess_time_to_update) >= $this->now)
+		{
+			return;
+		}
+	
+		// Save the old session id so we know which record to 
+		// update in the database if we need it
+		$old_sessid = $this->userdata['session_id'];
+		$new_sessid = '';
+		while (strlen($new_sessid) < 32)
+		{
+			$new_sessid .= mt_rand(0, mt_getrandmax());
+		}
+		
+		// To make the session ID even more secure we'll combine it with the user's IP
+		$new_sessid .= $this->CI->input->ip_address();
+		
+		// Turn it into a hash
+		$new_sessid = md5(uniqid($new_sessid, TRUE));
+		
+		// Update the session data in the session data array
+		$this->userdata['session_id'] = $new_sessid;
+		$this->userdata['last_activity'] = $this->now;
+		
+		// _set_cookie() will handle this for us if we aren't using database sessions
+		// by pushing all userdata to the cookie.
+		$cookie_data = NULL;
+		
+		// Update the session ID and last_activity field in the DB if needed
+		if ($this->sess_use_database === TRUE)
+		{
+			// set cookie explicitly to only have our session data
+			$cookie_data = array();
+			foreach (array('session_id','ip_address','user_agent','last_activity') as $val)
+			{
+				$cookie_data[$val] = $this->userdata[$val];
+			}
+			
+			$this->CI->db->query($this->CI->db->update_string($this->sess_table_name, array('last_activity' => $this->now, 'session_id' => $new_sessid), array('session_id' => $old_sessid)));
+		}
+		
+		// Write the cookie
+		$this->_set_cookie($cookie_data);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Destroy the current session
+	 *
+	 * @access	public
+	 * @return	void
+	 */
+	function sess_destroy()
+	{	
+		// Kill the session DB row
+		if ($this->sess_use_database === TRUE AND isset($this->userdata['session_id']))
+		{
+			$this->CI->db->where('session_id', $this->userdata['session_id']);
+			$this->CI->db->delete($this->sess_table_name);
+		}
+	
+		// Kill the cookie
+		setcookie(
+					$this->sess_cookie_name,
+					addslashes(serialize(array())),
+					($this->now - 31500000),
+					$this->cookie_path,
+					$this->cookie_domain,
+					0
+				);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch a specific item from the session array
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */		
+	function userdata($item)
+	{
+		return ( ! isset($this->userdata[$item])) ? FALSE : $this->userdata[$item];
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch all session data
+	 *
+	 * @access	public
+	 * @return	mixed
+	 */	
+	function all_userdata()
+	{
+		return ( ! isset($this->userdata)) ? FALSE : $this->userdata;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Add or change data in the "userdata" array
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	string
+	 * @return	void
+	 */		
+	function set_userdata($newdata = array(), $newval = '')
+	{
+		if (is_string($newdata))
+		{
+			$newdata = array($newdata => $newval);
+		}
+	
+		if (count($newdata) > 0)
+		{
+			foreach ($newdata as $key => $val)
+			{
+				$this->userdata[$key] = $val;
+			}
+		}
+
+		$this->sess_write();
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Delete a session variable from the "userdata" array
+	 *
+	 * @access	array
+	 * @return	void
+	 */		
+	function unset_userdata($newdata = array())
+	{
+		if (is_string($newdata))
+		{
+			$newdata = array($newdata => '');
+		}
+	
+		if (count($newdata) > 0)
+		{
+			foreach ($newdata as $key => $val)
+			{
+				unset($this->userdata[$key]);
+			}
+		}
+	
+		$this->sess_write();
+	}
+	
+	// ------------------------------------------------------------------------
+
+	/**
+	 * Add or change flashdata, only available
+	 * until the next request
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	string
+	 * @return	void
+	 */
+	function set_flashdata($newdata = array(), $newval = '')
+	{
+		if (is_string($newdata))
+		{
+			$newdata = array($newdata => $newval);
+		}
+		
+		if (count($newdata) > 0)
+		{
+			foreach ($newdata as $key => $val)
+			{
+				$flashdata_key = $this->flashdata_key.':new:'.$key;
+				$this->set_userdata($flashdata_key, $val);
+			}
+		}
+	} 
+	
+	// ------------------------------------------------------------------------
+
+	/**
+	 * Keeps existing flashdata available to next request.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */
+	function keep_flashdata($key)
+	{
+		// 'old' flashdata gets removed.  Here we mark all 
+		// flashdata as 'new' to preserve it from _flashdata_sweep()
+		// Note the function will return FALSE if the $key 
+		// provided cannot be found
+		$old_flashdata_key = $this->flashdata_key.':old:'.$key;
+		$value = $this->userdata($old_flashdata_key);
+
+		$new_flashdata_key = $this->flashdata_key.':new:'.$key;
+		$this->set_userdata($new_flashdata_key, $value);
+	}
+	
+	// ------------------------------------------------------------------------
+
+	/**
+	 * Fetch a specific flashdata item from the session array
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function flashdata($key)
+	{
+		$flashdata_key = $this->flashdata_key.':old:'.$key;
+		return $this->userdata($flashdata_key);
+	}
+
+	// ------------------------------------------------------------------------
+
+	/**
+	 * Identifies flashdata as 'old' for removal
+	 * when _flashdata_sweep() runs.
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _flashdata_mark()
+	{
+		$userdata = $this->all_userdata();
+		foreach ($userdata as $name => $value)
+		{
+			$parts = explode(':new:', $name);
+			if (is_array($parts) && count($parts) === 2)
+			{
+				$new_name = $this->flashdata_key.':old:'.$parts[1];
+				$this->set_userdata($new_name, $value);
+				$this->unset_userdata($name);
+			}
+		}
+	}
+
+	// ------------------------------------------------------------------------
+
+	/**
+	 * Removes all flashdata marked as 'old'
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+
+	function _flashdata_sweep()
+	{
+		$userdata = $this->all_userdata();
+		foreach ($userdata as $key => $value)
+		{
+			if (strpos($key, ':old:'))
+			{
+				$this->unset_userdata($key);
+			}
+		}
+
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get the "now" time
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _get_time()
+	{
+		if (strtolower($this->time_reference) == 'gmt')
+		{
+			$now = time();
+			$time = mktime(gmdate("H", $now), gmdate("i", $now), gmdate("s", $now), gmdate("m", $now), gmdate("d", $now), gmdate("Y", $now));
+		}
+		else
+		{
+			$time = time();
+		}
+	
+		return $time;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Write the session cookie
+	 *
+	 * @access	public
+	 * @return	void
+	 */
+	function _set_cookie($cookie_data = NULL)
+	{
+		if (is_null($cookie_data))
+		{
+			$cookie_data = $this->userdata;
+		}
+	
+		// Serialize the userdata for the cookie
+		$cookie_data = $this->_serialize($cookie_data);
+		
+		if ($this->sess_encrypt_cookie == TRUE)
+		{
+			$cookie_data = $this->CI->encrypt->encode($cookie_data);
+		}
+		else
+		{
+			// if encryption is not used, we provide an md5 hash to prevent userside tampering
+			$cookie_data = $cookie_data.md5($cookie_data.$this->encryption_key);
+		}
+		
+		// Set the cookie
+		setcookie(
+					$this->sess_cookie_name,
+					$cookie_data,
+					$this->sess_expiration + time(),
+					$this->cookie_path,
+					$this->cookie_domain,
+					0
+				);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Serialize an array
+	 *
+	 * This function first converts any slashes found in the array to a temporary
+	 * marker, so when it gets unserialized the slashes will be preserved
+	 *
+	 * @access	private
+	 * @param	array
+	 * @return	string
+	 */	
+	function _serialize($data)
+	{
+		if (is_array($data))
+		{
+			foreach ($data as $key => $val)
+			{
+				$data[$key] = str_replace('\\', '{{slash}}', $val);
+			}
+		}
+		else
+		{
+			$data = str_replace('\\', '{{slash}}', $data);
+		}
+		
+		return serialize($data);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Unserialize
+	 *
+	 * This function unserializes a data string, then converts any
+	 * temporary slash markers back to actual slashes
+	 *
+	 * @access	private
+	 * @param	array
+	 * @return	string
+	 */		
+	function _unserialize($data)
+	{
+		$data = @unserialize(strip_slashes($data));
+		
+		if (is_array($data))
+		{
+			foreach ($data as $key => $val)
+			{
+				$data[$key] = str_replace('{{slash}}', '\\', $val);
+			}
+			
+			return $data;
+		}
+		
+		return str_replace('{{slash}}', '\\', $data);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Garbage collection
+	 *
+	 * This deletes expired session rows from database
+	 * if the probability percentage is met
+	 *
+	 * @access	public
+	 * @return	void
+	 */
+	function _sess_gc()
+	{
+		if ($this->sess_use_database != TRUE)
+		{
+			return;
+		}
+		
+		srand(time());
+		if ((rand() % 100) < $this->gc_probability)
+		{
+			$expire = $this->now - $this->sess_expiration;
+			
+			$this->CI->db->where("last_activity < {$expire}");
+			$this->CI->db->delete($this->sess_table_name);
+
+			log_message('debug', 'Session garbage collection performed.');
+		}
+	}
+
+	
+}
+// END Session Class
+
+/* End of file Session.php */
+/* Location: ./system/libraries/Session.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Sha1.php
===================================================================
--- trunk/pintassilgo/system/libraries/Sha1.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Sha1.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,251 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * SHA1 Encoding Class
+ *
+ * Purpose: Provides 160 bit hashing using The Secure Hash Algorithm
+ * developed at the National Institute of Standards and Technology. The 40
+ * character SHA1 message hash is computationally infeasible to crack.
+ *
+ * This class is a fallback for servers that are not running PHP greater than
+ * 4.3, or do not have the MHASH library.
+ *
+ * This class is based on two scripts:
+ *
+ * Marcus Campbell's PHP implementation (GNU license)
+ * http://www.tecknik.net/sha-1/
+ *
+ * ...which is based on Paul Johnston's JavaScript version
+ * (BSD license). http://pajhome.org.uk/
+ *
+ * I encapsulated the functions and wrote one additional method to fix
+ * a hex conversion bug. - Rick Ellis
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Encryption
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/general/encryption.html
+ */
+class CI_SHA {
+
+	function CI_SHA()
+	{
+		log_message('debug', "SHA1 Class Initialized");
+	}
+
+	/**
+	 * Generate the Hash
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function generate($str)
+	{
+		$n = ((strlen($str) + 8) >> 6) + 1;
+
+		for ($i = 0; $i < $n * 16; $i++)
+		{
+			$x[$i] = 0;
+		}
+
+		for ($i = 0; $i < strlen($str); $i++)
+		{
+			$x[$i >> 2] |= ord(substr($str, $i, 1)) << (24 - ($i % 4) * 8);
+		}
+
+		$x[$i >> 2] |= 0x80 << (24 - ($i % 4) * 8);
+
+		$x[$n * 16 - 1] = strlen($str) * 8;
+
+		$a =  1732584193;
+		$b = -271733879;
+		$c = -1732584194;
+		$d =  271733878;
+		$e = -1009589776;
+
+		for ($i = 0; $i < sizeof($x); $i += 16)
+		{
+			$olda = $a;
+			$oldb = $b;
+			$oldc = $c;
+			$oldd = $d;
+			$olde = $e;
+
+			for($j = 0; $j < 80; $j++)
+			{
+				if ($j < 16)
+				{
+					$w[$j] = $x[$i + $j];
+				}
+				else
+				{
+					$w[$j] = $this->_rol($w[$j - 3] ^ $w[$j - 8] ^ $w[$j - 14] ^ $w[$j - 16], 1);
+				}
+
+				$t = $this->_safe_add($this->_safe_add($this->_rol($a, 5), $this->_ft($j, $b, $c, $d)), $this->_safe_add($this->_safe_add($e, $w[$j]), $this->_kt($j)));
+
+				$e = $d;
+				$d = $c;
+				$c = $this->_rol($b, 30);
+				$b = $a;
+				$a = $t;
+			}
+
+			$a = $this->_safe_add($a, $olda);
+			$b = $this->_safe_add($b, $oldb);
+			$c = $this->_safe_add($c, $oldc);
+			$d = $this->_safe_add($d, $oldd);
+			$e = $this->_safe_add($e, $olde);
+		}
+
+		return $this->_hex($a).$this->_hex($b).$this->_hex($c).$this->_hex($d).$this->_hex($e);
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Convert a decimal to hex
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */	
+	function _hex($str)
+	{
+		$str = dechex($str);
+
+		if (strlen($str) == 7)
+		{
+			$str = '0'.$str;
+		}
+
+		return $str;
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 *  Return result based on iteration
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _ft($t, $b, $c, $d)
+	{
+		if ($t < 20)
+			return ($b & $c) | ((~$b) & $d);
+		if ($t < 40)
+			return $b ^ $c ^ $d;
+		if ($t < 60)
+			return ($b & $c) | ($b & $d) | ($c & $d);
+
+		return $b ^ $c ^ $d;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Determine the additive constant
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _kt($t)
+	{
+		if ($t < 20)
+		{
+			return 1518500249;
+		}
+		else if ($t < 40)
+		{
+			return 1859775393;
+		}
+		else if ($t < 60)
+		{
+			return -1894007588;
+		}
+		else
+		{
+			return -899497514;
+		}
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Add integers, wrapping at 2^32
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _safe_add($x, $y)
+	{
+		$lsw = ($x & 0xFFFF) + ($y & 0xFFFF);
+		$msw = ($x >> 16) + ($y >> 16) + ($lsw >> 16);
+
+		return ($msw << 16) | ($lsw & 0xFFFF);
+	}
+  	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Bitwise rotate a 32-bit number
+	 *
+	 * @access	private
+	 * @return	integer
+	 */	
+	function _rol($num, $cnt)
+	{
+		return ($num << $cnt) | $this->_zero_fill($num, 32 - $cnt);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Pad string with zero
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _zero_fill($a, $b)
+	{
+		$bin = decbin($a);
+
+		if (strlen($bin) < $b)
+		{
+			$bin = 0;
+		}
+		else
+		{
+			$bin = substr($bin, 0, strlen($bin) - $b);
+		}
+
+		for ($i=0; $i < $b; $i++)
+		{
+			$bin = "0".$bin;
+		}
+
+		return bindec($bin);
+	}
+}
+// END CI_SHA
+
+/* End of file Sha1.php */
+/* Location: ./system/libraries/Sha1.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Table.php
===================================================================
--- trunk/pintassilgo/system/libraries/Table.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Table.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,440 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.3.1
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * HTML Table Generating Class
+ *
+ * Lets you create tables manually or from database result objects, or arrays.
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	HTML Tables
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/uri.html
+ */
+class CI_Table {
+
+	var $rows				= array();
+	var $heading			= array();
+	var $auto_heading		= TRUE;	
+	var $caption			= NULL;	
+	var $template 			= NULL;
+	var $newline			= "\n";
+	var $empty_cells		= "";
+	
+	
+	function CI_Table()
+	{
+		log_message('debug', "Table Class Initialized");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set the template
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	void
+	 */
+	function set_template($template)
+	{
+		if ( ! is_array($template))
+		{
+			return FALSE;
+		}
+	
+		$this->template = $template;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set the table heading
+	 *
+	 * Can be passed as an array or discreet params
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @return	void
+	 */
+	function set_heading()
+	{
+		$args = func_get_args();
+		$this->heading = (is_array($args[0])) ? $args[0] : $args;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set columns.  Takes a one-dimensional array as input and creates
+	 * a multi-dimensional array with a depth equal to the number of
+	 * columns.  This allows a single array with many elements to  be
+	 * displayed in a table that has a fixed column count.
+	 *
+	 * @access	public
+	 * @param	array
+	 * @param	int
+	 * @return	void
+	 */
+	function make_columns($array = array(), $col_limit = 0)
+	{
+		if ( ! is_array($array) OR count($array) == 0)
+		{
+			return FALSE;
+		}
+		
+		// Turn off the auto-heading feature since it's doubtful we 
+		// will want headings from a one-dimensional array
+		$this->auto_heading = FALSE;
+		
+		if ($col_limit == 0)
+		{
+			return $array;
+		}
+	
+		$new = array();
+		while(count($array) > 0)
+		{	
+			$temp = array_splice($array, 0, $col_limit);
+			
+			if (count($temp) < $col_limit)
+			{
+				for ($i = count($temp); $i < $col_limit; $i++)
+				{
+					$temp[] = '&nbsp;';
+				}
+			}
+			
+			$new[] = $temp;
+		}
+		
+		return $new;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set "empty" cells
+	 *
+	 * Can be passed as an array or discreet params
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @return	void
+	 */
+	function set_empty($value)
+	{
+		$this->empty_cells = $value;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Add a table row
+	 *
+	 * Can be passed as an array or discreet params
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @return	void
+	 */
+	function add_row()
+	{
+		$args = func_get_args();
+		$this->rows[] = (is_array($args[0])) ? $args[0] : $args;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Add a table caption
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */
+	function set_caption($caption)
+	{
+		$this->caption = $caption;
+	}	
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Generate the table
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @return	string
+	 */
+	function generate($table_data = NULL)
+	{
+		// The table data can optionally be passed to this function
+		// either as a database result object or an array
+		if ( ! is_null($table_data))
+		{
+			if (is_object($table_data))
+			{
+				$this->_set_from_object($table_data);
+			}
+			elseif (is_array($table_data))
+			{
+				$set_heading = (count($this->heading) == 0 AND $this->auto_heading == FALSE) ? FALSE : TRUE;
+				$this->_set_from_array($table_data, $set_heading);
+			}
+		}
+	
+		// Is there anything to display?  No?  Smite them!
+		if (count($this->heading) == 0 AND count($this->rows) == 0)
+		{
+			return 'Undefined table data';
+		}
+	
+		// Compile and validate the template date
+		$this->_compile_template();
+	
+	
+		// Build the table!
+		
+		$out = $this->template['table_open'];
+		$out .= $this->newline;		
+
+		// Add any caption here
+		if ($this->caption)
+		{
+			$out .= $this->newline;
+			$out .= '<caption>' . $this->caption . '</caption>';
+			$out .= $this->newline;
+		}
+
+		// Is there a table heading to display?
+		if (count($this->heading) > 0)
+		{
+			$out .= $this->template['heading_row_start'];
+			$out .= $this->newline;		
+
+			foreach($this->heading as $heading)
+			{
+				$out .= $this->template['heading_cell_start'];
+				$out .= $heading;
+				$out .= $this->template['heading_cell_end'];
+			}
+
+			$out .= $this->template['heading_row_end'];
+			$out .= $this->newline;				
+		}
+
+		// Build the table rows
+		if (count($this->rows) > 0)
+		{
+			$i = 1;
+			foreach($this->rows as $row)
+			{
+				if ( ! is_array($row))
+				{
+					break;
+				}
+			
+				// We use modulus to alternate the row colors
+				$name = (fmod($i++, 2)) ? '' : 'alt_';
+			
+				$out .= $this->template['row_'.$name.'start'];
+				$out .= $this->newline;		
+	
+				foreach($row as $cell)
+				{
+					$out .= $this->template['cell_'.$name.'start'];
+					
+					if ($cell === "")
+					{
+						$out .= $this->empty_cells;
+					}
+					else
+					{
+						$out .= $cell;
+					}
+					
+					$out .= $this->template['cell_'.$name.'end'];
+				}
+	
+				$out .= $this->template['row_'.$name.'end'];
+				$out .= $this->newline;	
+			}
+		}
+
+		$out .= $this->template['table_close'];
+	
+		return $out;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Clears the table arrays.  Useful if multiple tables are being generated
+	 *
+	 * @access	public
+	 * @return	void
+	 */
+	function clear()
+	{
+		$this->rows				= array();
+		$this->heading			= array();
+		$this->auto_heading		= TRUE;	
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set table data from a database result object
+	 *
+	 * @access	public
+	 * @param	object
+	 * @return	void
+	 */
+	function _set_from_object($query)
+	{
+		if ( ! is_object($query))
+		{
+			return FALSE;
+		}
+		
+		// First generate the headings from the table column names
+		if (count($this->heading) == 0)
+		{
+			if ( ! method_exists($query, 'list_fields'))
+			{
+				return FALSE;
+			}
+			
+			$this->heading = $query->list_fields();
+		}
+				
+		// Next blast through the result array and build out the rows
+		
+		if ($query->num_rows() > 0)
+		{
+			foreach ($query->result_array() as $row)
+			{
+				$this->rows[] = $row;
+			}
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Set table data from an array
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	void
+	 */
+	function _set_from_array($data, $set_heading = TRUE)
+	{
+		if ( ! is_array($data) OR count($data) == 0)
+		{
+			return FALSE;
+		}
+		
+		$i = 0;
+		foreach ($data as $row)
+		{
+			if ( ! is_array($row))
+			{
+				$this->rows[] = $data;
+				break;
+			}
+						
+			// If a heading hasn't already been set we'll use the first row of the array as the heading
+			if ($i == 0 AND count($data) > 1 AND count($this->heading) == 0 AND $set_heading == TRUE)
+			{
+				$this->heading = $row;
+			}
+			else
+			{
+				$this->rows[] = $row;
+			}
+			
+			$i++;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Compile Template
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+ 	function _compile_template()
+ 	{ 	
+ 		if ($this->template == NULL)
+ 		{
+ 			$this->template = $this->_default_template();
+ 			return;
+ 		}
+		
+		$this->temp = $this->_default_template();
+		foreach (array('table_open','heading_row_start', 'heading_row_end', 'heading_cell_start', 'heading_cell_end', 'row_start', 'row_end', 'cell_start', 'cell_end', 'row_alt_start', 'row_alt_end', 'cell_alt_start', 'cell_alt_end', 'table_close') as $val)
+		{
+			if ( ! isset($this->template[$val]))
+			{
+				$this->template[$val] = $this->temp[$val];
+			}
+		} 	
+ 	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Default Template
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+	function _default_template()
+	{
+		return  array (
+						'table_open' 			=> '<table border="0" cellpadding="4" cellspacing="0">',
+
+						'heading_row_start' 	=> '<tr>',
+						'heading_row_end' 		=> '</tr>',
+						'heading_cell_start'	=> '<th>',
+						'heading_cell_end'		=> '</th>',
+
+						'row_start' 			=> '<tr>',
+						'row_end' 				=> '</tr>',
+						'cell_start'			=> '<td>',
+						'cell_end'				=> '</td>',
+
+						'row_alt_start' 		=> '<tr>',
+						'row_alt_end' 			=> '</tr>',
+						'cell_alt_start'		=> '<td>',
+						'cell_alt_end'			=> '</td>',
+
+						'table_close' 			=> '</table>'
+					);	
+	}
+	
+
+}
+
+
+/* End of file Table.php */
+/* Location: ./system/libraries/Table.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Trackback.php
===================================================================
--- trunk/pintassilgo/system/libraries/Trackback.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Trackback.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,550 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Trackback Class
+ *
+ * Trackback Sending/Receiving Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Trackbacks
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/trackback.html
+ */
+class CI_Trackback {
+		
+	var $time_format	= 'local';
+	var $charset		= 'UTF-8';
+	var $data			= array('url' => '', 'title' => '', 'excerpt' => '', 'blog_name' => '', 'charset' => '');
+	var $convert_ascii	= TRUE;
+	var $response		= '';
+	var $error_msg		= array();
+
+	/**
+	 * Constructor
+	 *
+	 * @access	public
+	 */
+	function CI_Trackback()
+	{
+		log_message('debug', "Trackback Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Send Trackback
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	bool
+	 */	
+	function send($tb_data)
+	{		
+		if ( ! is_array($tb_data))
+		{
+			$this->set_error('The send() method must be passed an array');
+			return FALSE;
+		}
+		
+		// Pre-process the Trackback Data
+		foreach (array('url', 'title', 'excerpt', 'blog_name', 'ping_url') as $item)
+		{
+			if ( ! isset($tb_data[$item]))
+			{
+				$this->set_error('Required item missing: '.$item);
+				return FALSE;
+			}
+			
+			switch ($item)
+			{
+				case 'ping_url'	: $$item = $this->extract_urls($tb_data[$item]);
+					break;
+				case 'excerpt'	: $$item = $this->limit_characters($this->convert_xml(strip_tags(stripslashes($tb_data[$item]))));
+					break;
+				case 'url'	 	: $$item = str_replace('&#45;', '-', $this->convert_xml(strip_tags(stripslashes($tb_data[$item]))));
+					break;
+				default			: $$item = $this->convert_xml(strip_tags(stripslashes($tb_data[$item])));
+					break;
+			}
+
+			// Convert High ASCII Characters
+			if ($this->convert_ascii == TRUE)
+			{
+				if ($item == 'excerpt')
+				{
+					$$item = $this->convert_ascii($$item);
+				}
+				elseif ($item == 'title')
+				{
+					$$item = $this->convert_ascii($$item);
+				}
+				elseif($item == 'blog_name')
+				{
+					$$item = $this->convert_ascii($$item);
+				}
+			}
+		}
+
+		// Build the Trackback data string
+		$charset = ( ! isset($tb_data['charset'])) ? $this->charset : $tb_data['charset'];
+		
+		$data = "url=".rawurlencode($url)."&title=".rawurlencode($title)."&blog_name=".rawurlencode($blog_name)."&excerpt=".rawurlencode($excerpt)."&charset=".rawurlencode($charset);
+				
+		// Send Trackback(s)
+		$return = TRUE;
+		if (count($ping_url) > 0)
+		{
+			foreach ($ping_url as $url)
+			{
+				if ($this->process($url, $data) == FALSE)
+				{
+					$return = FALSE;
+				}
+			}	
+		}
+
+		return $return;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Receive Trackback  Data
+	 *
+	 * This function simply validates the incoming TB data.
+	 * It returns false on failure and true on success.
+	 * If the data is valid it is set to the $this->data array
+	 * so that it can be inserted into a database.
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function receive()
+	{  					
+		foreach (array('url', 'title', 'blog_name', 'excerpt') as $val)
+		{
+			if ( ! isset($_POST[$val]) OR $_POST[$val] == '')
+			{
+				$this->set_error('The following required POST variable is missing: '.$val);
+				return FALSE;
+			}
+			
+			$this->data['charset'] = ( ! isset($_POST['charset'])) ? 'auto' : strtoupper(trim($_POST['charset']));
+	
+			if ($val != 'url' && function_exists('mb_convert_encoding'))
+			{
+				$_POST[$val] = mb_convert_encoding($_POST[$val], $this->charset, $this->data['charset']);
+			}
+			
+			$_POST[$val] = ($val != 'url') ? $this->convert_xml(strip_tags($_POST[$val])) : strip_tags($_POST[$val]);
+			
+			if ($val == 'excerpt')
+			{
+				$_POST['excerpt'] = $this->limit_characters($_POST['excerpt']);
+			}
+			
+			$this->data[$val] = $_POST[$val];
+		}
+
+		return TRUE;
+	}	
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Send Trackback Error Message
+	 *
+	 * Allows custom errors to be set.  By default it
+	 * sends the "incomplete information" error, as that's
+	 * the most common one.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function send_error($message = 'Incomplete Information')
+	{
+		echo "<?xml version=\"1.0\" encoding=\"utf-8\"?".">\n<response>\n<error>1</error>\n<message>".$message."</message>\n</response>";
+		exit;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Send Trackback Success Message
+	 *
+	 * This should be called when a trackback has been
+	 * successfully received and inserted.
+	 *
+	 * @access	public
+	 * @return	void
+	 */		
+	function send_success()
+	{
+		echo "<?xml version=\"1.0\" encoding=\"utf-8\"?".">\n<response>\n<error>0</error>\n</response>";
+		exit;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch a particular item
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function data($item)
+	{
+		return ( ! isset($this->data[$item])) ? '' : $this->data[$item];
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Process Trackback
+	 *
+	 * Opens a socket connection and passes the data to
+	 * the server.  Returns true on success, false on failure
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	bool
+	 */	
+	function process($url, $data)
+	{
+		$target = parse_url($url);
+	
+		// Open the socket
+		if ( ! $fp = @fsockopen($target['host'], 80))
+		{
+			$this->set_error('Invalid Connection: '.$url);
+			return FALSE;
+		}
+
+		// Build the path
+		$ppath = ( ! isset($target['path'])) ? $url : $target['path'];
+		
+		$path = (isset($target['query']) && $target['query'] != "") ? $ppath.'?'.$target['query'] : $ppath;
+
+		// Add the Trackback ID to the data string
+		if ($id = $this->get_id($url))
+		{
+			$data = "tb_id=".$id."&".$data;
+		}
+
+		// Transfer the data
+		fputs ($fp, "POST " . $path . " HTTP/1.0\r\n" );
+		fputs ($fp, "Host: " . $target['host'] . "\r\n" );
+		fputs ($fp, "Content-type: application/x-www-form-urlencoded\r\n" );
+		fputs ($fp, "Content-length: " . strlen($data) . "\r\n" );
+		fputs ($fp, "Connection: close\r\n\r\n" );
+		fputs ($fp, $data);
+
+		// Was it successful?
+		$this->response = "";
+		
+		while( ! feof($fp))
+		{
+			$this->response .= fgets($fp, 128);
+		}
+		@fclose($fp);
+		
+		if ( ! eregi("<error>0</error>", $this->response))
+		{
+			$message = 'An unknown error was encountered';
+			
+			if (preg_match("/<message>(.*?)<\/message>/is", $this->response, $match))
+			{
+				$message = trim($match['1']);
+			}
+			
+			$this->set_error($message);
+			return FALSE;
+		}
+
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Extract Trackback URLs
+	 *
+	 * This function lets multiple trackbacks be sent.
+	 * It takes a string of URLs (separated by comma or
+	 * space) and puts each URL into an array
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function extract_urls($urls)
+	{		
+		// Remove the pesky white space and replace with a comma.
+		$urls = preg_replace("/\s*(\S+)\s*/", "\\1,", $urls);
+		
+		// If they use commas get rid of the doubles.
+		$urls = str_replace(",,", ",", $urls);
+		
+		// Remove any comma that might be at the end
+		if (substr($urls, -1) == ",")
+		{
+			$urls = substr($urls, 0, -1);
+		}
+				
+		// Break into an array via commas
+		$urls = preg_split('/[,]/', $urls);
+		
+		// Removes duplicates
+		$urls = array_unique($urls);
+		
+		array_walk($urls, array($this, 'validate_url'));
+		
+		return $urls;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Validate URL
+	 *
+	 * Simply adds "http://" if missing
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function validate_url($url)
+	{
+		$url = trim($url);
+
+		if (substr($url, 0, 4) != "http")
+		{
+			$url = "http://".$url;
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Find the Trackback URL's ID
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function get_id($url)
+	{	
+		$tb_id = "";
+		
+		if (strstr($url, '?'))
+		{
+			$tb_array = explode('/', $url);
+			$tb_end   = $tb_array[count($tb_array)-1];
+			
+			if ( ! is_numeric($tb_end))
+			{
+				$tb_end  = $tb_array[count($tb_array)-2];
+			}
+			
+			$tb_array = explode('=', $tb_end);
+			$tb_id	= $tb_array[count($tb_array)-1];
+		}
+		else
+		{
+			if (ereg("/$", $url))
+			{
+				$url = substr($url, 0, -1);
+			}
+				
+			$tb_array = explode('/', $url);
+			$tb_id	= $tb_array[count($tb_array)-1];
+			
+			if ( ! is_numeric($tb_id))
+			{
+				$tb_id  = $tb_array[count($tb_array)-2];
+			}
+		}	
+				
+		if ( ! preg_match ("/^([0-9]+)$/", $tb_id))
+		{
+			return false;
+		}
+		else
+		{
+			return $tb_id;
+		}		
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Convert Reserved XML characters to Entities
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function convert_xml($str)
+	{
+		$temp = '__TEMP_AMPERSANDS__';
+		
+		$str = preg_replace("/&#(\d+);/", "$temp\\1;", $str);
+		$str = preg_replace("/&(\w+);/",  "$temp\\1;", $str);
+		
+		$str = str_replace(array("&","<",">","\"", "'", "-"),
+						   array("&amp;", "&lt;", "&gt;", "&quot;", "&#39;", "&#45;"),
+						   $str);
+			
+		$str = preg_replace("/$temp(\d+);/","&#\\1;",$str);
+		$str = preg_replace("/$temp(\w+);/","&\\1;", $str);
+			
+		return $str;
+	}	
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Character limiter
+	 *
+	 * Limits the string based on the character count. Will preserve complete words.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	integer
+	 * @param	string
+	 * @return	string
+	 */
+	function limit_characters($str, $n = 500, $end_char = '&#8230;')
+	{
+		if (strlen($str) < $n)
+		{
+			return $str;
+		}
+
+		$str = preg_replace("/\s+/", ' ', str_replace(array("\r\n", "\r", "\n"), ' ', $str));
+	
+		if (strlen($str) <= $n)
+		{
+			return $str;
+		}
+										
+		$out = "";
+		foreach (explode(' ', trim($str)) as $val)
+		{
+			$out .= $val.' ';			
+			if (strlen($out) >= $n)
+			{
+				return trim($out).$end_char;
+			}		
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * High ASCII to Entities
+	 *
+	 * Converts Hight ascii text and MS Word special chars
+	 * to character entities
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function convert_ascii($str)
+	{
+	   $count	= 1;
+	   $out	= '';
+	   $temp	= array();
+		
+	   for ($i = 0, $s = strlen($str); $i < $s; $i++)
+	   {
+		   $ordinal = ord($str[$i]);
+		
+		   if ($ordinal < 128)
+		   {
+			   $out .= $str[$i];			
+		   }
+		   else
+		   {
+			   if (count($temp) == 0)
+			   {
+				   $count = ($ordinal < 224) ? 2 : 3;
+			   }
+			
+			   $temp[] = $ordinal;
+			
+			   if (count($temp) == $count)
+			   {
+				   $number = ($count == 3) ? (($temp['0'] % 16) * 4096) + (($temp['1'] % 64) * 64) + ($temp['2'] % 64) : (($temp['0'] % 32) * 64) + ($temp['1'] % 64);
+	
+				   $out .= '&#'.$number.';';
+				   $count = 1;
+				   $temp = array();
+			   }
+		   }
+	   }
+	
+	   return $out;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set error message
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_error($msg)
+	{
+		log_message('error', $msg);
+		$this->error_msg[] = $msg;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Show error messages
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */	
+	function display_errors($open = '<p>', $close = '</p>')
+	{	
+		$str = '';
+		foreach ($this->error_msg as $val)
+		{
+			$str .= $open.$val.$close;
+		}
+	
+		return $str;
+	}
+
+}
+// END Trackback Class
+
+/* End of file Trackback.php */
+/* Location: ./system/libraries/Trackback.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Typography.php
===================================================================
--- trunk/pintassilgo/system/libraries/Typography.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Typography.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,342 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Typography Class
+ *
+ *
+ * @access		private
+ * @category	Helpers
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/helpers/
+ */
+class CI_Typography {
+
+	// Block level elements that should not be wrapped inside <p> tags
+	var $block_elements = 'address|blockquote|div|dl|fieldset|form|h\d|hr|noscript|object|ol|p|pre|script|table|ul';
+	
+	// Elements that should not have <p> and <br /> tags within them.
+	var $skip_elements	= 'p|pre|ol|ul|dl|object|table';
+	
+	// Tags we want the parser to completely ignore when splitting the string.
+	var $inline_elements = 'a|abbr|acronym|b|bdo|br|button|cite|code|del|dfn|em|i|img|ins|input|label|map|kbd|samp|select|span|strong|sub|sup|textarea|var';
+
+	// whether or not to protect quotes within { curly braces }
+	var $protect_braced_quotes = FALSE;
+	
+	/**
+	 * Nothing to do here...
+	 *
+	 */
+	function CI_Typography()
+	{
+	}
+
+	/**
+	 * Auto Typography
+	 *
+	 * This function converts text, making it typographically correct:
+	 * 	- Converts double spaces into paragraphs.
+	 * 	- Converts single line breaks into <br /> tags
+	 * 	- Converts single and double quotes into correctly facing curly quote entities.
+	 * 	- Converts three dots into ellipsis.
+	 * 	- Converts double dashes into em-dashes.
+	 *  - Converts two spaces into entities
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	bool	whether to strip javascript event handlers for security
+	 * @param	bool	whether to reduce more then two consecutive newlines to two
+	 * @return	string
+	 */
+	function auto_typography($str, $strip_js_event_handlers = TRUE, $reduce_linebreaks = FALSE)
+	{
+		if ($str == '')
+		{
+			return '';
+		}
+
+		// Standardize Newlines to make matching easier
+		if (strpos($str, "\r") !== FALSE)
+		{
+			$str = str_replace(array("\r\n", "\r"), "\n", $str);			
+		}
+			
+		// Reduce line breaks.  If there are more than two consecutive linebreaks
+		// we'll compress them down to a maximum of two since there's no benefit to more.
+		if ($reduce_linebreaks === TRUE)
+		{
+			$str = preg_replace("/\n\n+/", "\n\n", $str);
+		}
+		
+		 // Do we allow JavaScript event handlers? If not, we strip them from within all tags
+		if ($strip_js_event_handlers === TRUE)
+		{
+			$str = preg_replace("#<([^><]+?)([^a-z_\-]on\w*|xmlns)(\s*=\s*[^><]*)([><]*)#i", "<\\1\\4", $str);
+		}       
+
+		// Convert quotes within tags to temporary markers. We don't want quotes converted 
+		// within tags so we'll temporarily convert them to {@DQ} and {@SQ}
+		if (preg_match_all("#\<.+?>#si", $str, $matches))
+		{
+			for ($i = 0; $i < count($matches['0']); $i++)
+			{
+				$str = str_replace($matches['0'][$i],
+									str_replace(array("'",'"'), array('{@SQ}', '{@DQ}'), $matches['0'][$i]),
+									$str);
+			}
+		}
+
+		if ($this->protect_braced_quotes === TRUE)
+		{
+			if (preg_match_all("#\{.+?}#si", $str, $matches))
+			{
+				for ($i = 0; $i < count($matches['0']); $i++)
+				{
+					$str = str_replace($matches['0'][$i],
+										str_replace(array("'",'"'), array('{@SQ}', '{@DQ}'), $matches['0'][$i]),
+										$str);
+				}
+			}			
+		}
+			
+		// Convert "ignore" tags to temporary marker.  The parser splits out the string at every tag 
+		// it encounters.  Certain inline tags, like image tags, links, span tags, etc. will be 
+		// adversely affected if they are split out so we'll convert the opening bracket < temporarily to: {@TAG}
+		$str = preg_replace("#<(/*)(".$this->inline_elements.")([ >])#i", "{@TAG}\\1\\2\\3", $str);
+
+		// Split the string at every tag.  This expression creates an array with this prototype:
+		// 
+		// 	[array]
+		// 	{
+		// 		[0] = <opening tag>
+		// 		[1] = Content...
+		// 		[2] = <closing tag>
+		// 		Etc...
+		// 	}	
+		$chunks = preg_split('/(<(?:[^<>]+(?:"[^"]*"|\'[^\']*\')?)+>)/', $str, -1, PREG_SPLIT_DELIM_CAPTURE|PREG_SPLIT_NO_EMPTY);
+		
+		// Build our finalized string.  We cycle through the array, skipping tags, and processing the contained text	
+		$str = '';
+		$process = TRUE;
+		$paragraph = FALSE;
+		foreach ($chunks as $chunk)
+		{
+			// Are we dealing with a tag? If so, we'll skip the processing for this cycle.
+			// Well also set the "process" flag which allows us to skip <pre> tags and a few other things.
+			if (preg_match("#<(/*)(".$this->block_elements.").*?\>#", $chunk, $match))
+			{
+				if (preg_match("#".$this->skip_elements."#", $match[2]))
+				{
+					$process =  ($match[1] == '/') ? TRUE : FALSE;
+				}
+				
+				$str .= $chunk;
+				continue;
+			}
+
+			if ($process == FALSE)
+			{
+				$str .= $chunk;
+				continue;
+			}
+			
+			//  Convert Newlines into <p> and <br /> tags
+			$str .= $this->_format_newlines($chunk);
+		}
+
+		// is the whole of the content inside a block level element?
+		if ( ! preg_match("/^<(?:".$this->block_elements.")/i", $str, $match))
+		{
+			$str = "<p>{$str}</p>";
+		}
+
+		// Convert quotes, elipsis, and em-dashes
+		$str = $this->format_characters($str);
+	
+		// Final clean up
+		$table = array(
+		
+						// If the user submitted their own paragraph tags within the text
+						// we will retain them instead of using our tags.
+						'/(<p.*?>)<p>/'		=> '$1', // <?php BBEdit syntax coloring bug fix
+						
+						// Reduce multiple instances of opening/closing paragraph tags to a single one
+						'#(</p>)+#'			=> '</p>',
+						'/(<p><p>)+/'		=> '<p>',
+						
+						// Clean up stray paragraph tags that appear before block level elements
+						'#<p></p><('.$this->block_elements.')#'	=> '<$1',
+			
+						// Replace the temporary markers we added earlier
+						'/\{@TAG\}/'		=> '<',
+						'/\{@DQ\}/'			=> '"',
+						'/\{@SQ\}/'			=> "'"
+
+						);
+	
+		// Do we need to reduce empty lines?
+		if ($reduce_linebreaks === TRUE)
+		{
+			$table['#<p>\n*</p>#'] = '';
+		}
+		else
+		{
+			// If we have empty paragraph tags we add a non-breaking space
+			// otherwise most browsers won't treat them as true paragraphs
+			$table['#<p></p>#'] = '<p>&nbsp;</p>';
+		}
+	
+		return preg_replace(array_keys($table), $table, $str);
+
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Format Characters
+	 *
+	 * This function mainly converts double and single quotes
+	 * to curly entities, but it also converts em-dashes,
+	 * double spaces, and ampersands
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function format_characters($str)
+	{
+		static $table;
+		
+		if ( ! isset($table))
+		{
+	        $table = array(					
+							// nested smart quotes, opening and closing
+							// note that rules for grammar (English) allow only for two levels deep
+							// and that single quotes are _supposed_ to always be on the outside
+							// but we'll accommodate both
+							'/(^|\W|\s)\'"/'				=> '$1&#8216;&#8220;',
+							'/\'"(\s|\W|$)/'				=> '&#8217;&#8221;$1',
+							'/(^|\W|\s)"\'/'				=> '$1&#8220;&#8216;',
+							'/"\'(\s|\W|$)/'				=> '&#8221;&#8217;$1',
+
+							// single quote smart quotes
+							'/\'(\s|\W|$)/'					=> '&#8217;$1',
+							'/(^|\W|\s)\'/'					=> '$1&#8216;',
+
+							// double quote smart quotes
+							'/"(\s|\W|$)/'					=> '&#8221;$1',
+							'/(^|\W|\s)"/'					=> '$1&#8220;',
+
+							// apostrophes
+							"/(\w)'(\w)/"       	    	=> '$1&#8217;$2',
+
+							// Em dash and ellipses dots
+							'/\s?\-\-\s?/'					=> '&#8212;',
+							'/(\w)\.{3}/'					=> '$1&#8230;',
+
+							// double space after sentences
+							'/(\W)  /'						=> '$1&nbsp; ',
+
+							// ampersands, if not a character entity
+							'/&(?!#?[a-zA-Z0-9]{2,};)/'		=> '&amp;'
+	        			);			
+		}	
+
+		return preg_replace(array_keys($table), $table, $str);
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Format Newlines
+	 *
+	 * Converts newline characters into either <p> tags or <br />
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function _format_newlines($str)
+	{
+		if ($str == '')
+		{
+			return $str;
+		}
+
+		if (strpos($str, "\n") === FALSE)
+		{
+			return $str;
+		}
+		
+		// Convert two consecutive newlines to paragraphs
+		$str = str_replace("\n\n", "</p>\n\n<p>", $str);
+		
+		// Convert single spaces to <br /> tags
+		$str = preg_replace("/([^\n])(\n)([^\n])/", "\\1<br />\\2\\3", $str);
+		
+		// Wrap the whole enchilada in enclosing paragraphs
+		if ($str != "\n")
+		{
+			$str =  '<p>'.$str.'</p>';
+		}
+
+		// Remove empty paragraphs if they are on the first line, as this
+		// is a potential unintended consequence of the previous code
+		$str = preg_replace("/<p><\/p>(.*)/", "\\1", $str, 1);
+		
+		return $str;
+	}
+	
+	// ------------------------------------------------------------------------
+	
+	/**
+	 * Convert newlines to HTML line breaks except within PRE tags
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */		
+	function nl2br_except_pre($str)
+	{
+		$ex = explode("pre>",$str);
+		$ct = count($ex);
+	
+		$newstr = "";
+		for ($i = 0; $i < $ct; $i++)
+		{
+			if (($i % 2) == 0)
+			{
+				$newstr .= nl2br($ex[$i]);
+			}
+			else
+			{
+				$newstr .= $ex[$i];
+			}
+		
+			if ($ct - 1 != $i)
+				$newstr .= "pre>";
+		}
+	
+		return $newstr;
+	}
+	
+}
+// END Typography Class
+
+/* End of file Typography.php */
+/* Location: ./system/libraries/Typography.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/URI.php
===================================================================
--- trunk/pintassilgo/system/libraries/URI.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/URI.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,584 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * URI Class
+ *
+ * Parses URIs and determines routing
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	URI
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/uri.html
+ */
+class CI_URI {
+
+	var	$keyval	= array();
+	var $uri_string;
+	var $segments		= array();
+	var $rsegments		= array();
+
+	/**
+	 * Constructor
+	 *
+	 * Simply globalizes the $RTR object.  The front
+	 * loads the Router class early on so it's not available
+	 * normally as other classes are.
+	 *
+	 * @access	public
+	 */		
+	function CI_URI()
+	{
+		$this->config =& load_class('Config');
+		log_message('debug', "URI Class Initialized");
+	}
+	
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get the URI String
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _fetch_uri_string()
+	{
+		if (strtoupper($this->config->item('uri_protocol')) == 'AUTO')
+		{
+			// If the URL has a question mark then it's simplest to just
+			// build the URI string from the zero index of the $_GET array.
+			// This avoids having to deal with $_SERVER variables, which
+			// can be unreliable in some environments
+			if (is_array($_GET) && count($_GET) == 1 && trim(key($_GET), '/') != '')
+			{
+				$this->uri_string = key($_GET);
+				return;
+			}
+		
+			// Is there a PATH_INFO variable?
+			// Note: some servers seem to have trouble with getenv() so we'll test it two ways		
+			$path = (isset($_SERVER['PATH_INFO'])) ? $_SERVER['PATH_INFO'] : @getenv('PATH_INFO');			
+			if (trim($path, '/') != '' && $path != "/".SELF)
+			{
+				$this->uri_string = $path;
+				return;
+			}
+					
+			// No PATH_INFO?... What about QUERY_STRING?
+			$path =  (isset($_SERVER['QUERY_STRING'])) ? $_SERVER['QUERY_STRING'] : @getenv('QUERY_STRING');	
+			if (trim($path, '/') != '')
+			{
+				$this->uri_string = $path;
+				return;
+			}
+			
+			// No QUERY_STRING?... Maybe the ORIG_PATH_INFO variable exists?
+			$path = (isset($_SERVER['ORIG_PATH_INFO'])) ? $_SERVER['ORIG_PATH_INFO'] : @getenv('ORIG_PATH_INFO');	
+			if (trim($path, '/') != '' && $path != "/".SELF)
+			{
+				// remove path and script information so we have good URI data
+				$this->uri_string = str_replace($_SERVER['SCRIPT_NAME'], '', $path);
+				return;
+			}
+
+			// We've exhausted all our options...
+			$this->uri_string = '';
+		}
+		else
+		{
+			$uri = strtoupper($this->config->item('uri_protocol'));
+			
+			if ($uri == 'REQUEST_URI')
+			{
+				$this->uri_string = $this->_parse_request_uri();
+				return;
+			}
+			
+			$this->uri_string = (isset($_SERVER[$uri])) ? $_SERVER[$uri] : @getenv($uri);
+		}
+		
+		// If the URI contains only a slash we'll kill it
+		if ($this->uri_string == '/')
+		{
+			$this->uri_string = '';
+		}		
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Parse the REQUEST_URI
+	 *
+	 * Due to the way REQUEST_URI works it usually contains path info
+	 * that makes it unusable as URI data.  We'll trim off the unnecessary
+	 * data, hopefully arriving at a valid URI that we can use.
+	 *
+	 * @access	private
+	 * @return	string
+	 */	
+	function _parse_request_uri()
+	{
+		if ( ! isset($_SERVER['REQUEST_URI']) OR $_SERVER['REQUEST_URI'] == '')
+		{
+			return '';
+		}
+		
+		$request_uri = preg_replace("|/(.*)|", "\\1", str_replace("\\", "/", $_SERVER['REQUEST_URI']));
+
+		if ($request_uri == '' OR $request_uri == SELF)
+		{
+			return '';
+		}
+		
+		$fc_path = FCPATH;		
+		if (strpos($request_uri, '?') !== FALSE)
+		{
+			$fc_path .= '?';
+		}
+		
+		$parsed_uri = explode("/", $request_uri);
+				
+		$i = 0;
+		foreach(explode("/", $fc_path) as $segment)
+		{
+			if (isset($parsed_uri[$i]) && $segment == $parsed_uri[$i])
+			{
+				$i++;
+			}
+		}
+		
+		$parsed_uri = implode("/", array_slice($parsed_uri, $i));
+		
+		if ($parsed_uri != '')
+		{
+			$parsed_uri = '/'.$parsed_uri;
+		}
+
+		return $parsed_uri;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Filter segments for malicious characters
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */	
+	function _filter_uri($str)
+	{
+		if ($str != '' && $this->config->item('permitted_uri_chars') != '' && $this->config->item('enable_query_strings') == FALSE)
+		{
+			if ( ! preg_match("|^[".preg_quote($this->config->item('permitted_uri_chars'))."]+$|i", $str))
+			{
+				exit('The URI you submitted has disallowed characters.');
+			}
+		}	
+		
+		// Convert programatic characters to entities
+		$bad	= array('$', 		'(', 		')',	 	'%28', 		'%29');
+		$good	= array('&#36;',	'&#40;',	'&#41;',	'&#40;',	'&#41;');
+		
+		return str_replace($bad, $good, $str);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Remove the suffix from the URL if needed
+	 *
+	 * @access	private
+	 * @return	void
+	 */	
+	function _remove_url_suffix()
+	{
+		if  ($this->config->item('url_suffix') != "")
+		{
+			$this->uri_string = preg_replace("|".preg_quote($this->config->item('url_suffix'))."$|", "", $this->uri_string);
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Explode the URI Segments. The individual segments will
+	 * be stored in the $this->segments array.	
+	 *
+	 * @access	private
+	 * @return	void
+	 */		
+	function _explode_segments()
+	{
+		foreach(explode("/", preg_replace("|/*(.+?)/*$|", "\\1", $this->uri_string)) as $val)
+		{
+			// Filter segments for security
+			$val = trim($this->_filter_uri($val));
+			
+			if ($val != '')
+			{
+				$this->segments[] = $val;
+			}
+		}
+	}
+	
+	// --------------------------------------------------------------------	
+	/**
+	 * Re-index Segments
+	 *
+	 * This function re-indexes the $this->segment array so that it
+	 * starts at 1 rather than 0.  Doing so makes it simpler to
+	 * use functions like $this->uri->segment(n) since there is
+	 * a 1:1 relationship between the segment array and the actual segments.
+	 *
+	 * @access	private
+	 * @return	void
+	 */	
+	function _reindex_segments()
+	{
+		array_unshift($this->segments, NULL);
+		array_unshift($this->rsegments, NULL);
+		unset($this->segments[0]);
+		unset($this->rsegments[0]);
+	}	
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch a URI Segment
+	 *
+	 * This function returns the URI segment based on the number provided.
+	 *
+	 * @access	public
+	 * @param	integer
+	 * @param	bool
+	 * @return	string
+	 */
+	function segment($n, $no_result = FALSE)
+	{
+		return ( ! isset($this->segments[$n])) ? $no_result : $this->segments[$n];
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch a URI "routed" Segment
+	 *
+	 * This function returns the re-routed URI segment (assuming routing rules are used)
+	 * based on the number provided.  If there is no routing this function returns the
+	 * same result as $this->segment()
+	 *
+	 * @access	public
+	 * @param	integer
+	 * @param	bool
+	 * @return	string
+	 */
+	function rsegment($n, $no_result = FALSE)
+	{
+		return ( ! isset($this->rsegments[$n])) ? $no_result : $this->rsegments[$n];
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Generate a key value pair from the URI string
+	 *
+	 * This function generates and associative array of URI data starting
+	 * at the supplied segment. For example, if this is your URI:
+	 *
+	 *	example.com/user/search/name/joe/location/UK/gender/male
+	 *
+	 * You can use this function to generate an array with this prototype:
+	 *
+	 * array (
+	 *			name => joe
+	 *			location => UK
+	 *			gender => male
+	 *		 )
+	 *
+	 * @access	public
+	 * @param	integer	the starting segment number
+	 * @param	array	an array of default values
+	 * @return	array
+	 */
+	function uri_to_assoc($n = 3, $default = array())
+	{
+	 	return $this->_uri_to_assoc($n, $default, 'segment');
+	}
+	/**
+	 * Identical to above only it uses the re-routed segment array
+	 *
+	 */
+	function ruri_to_assoc($n = 3, $default = array())
+	{
+	 	return $this->_uri_to_assoc($n, $default, 'rsegment');
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Generate a key value pair from the URI string or Re-routed URI string
+	 *
+	 * @access	private
+	 * @param	integer	the starting segment number
+	 * @param	array	an array of default values
+	 * @param	string	which array we should use
+	 * @return	array
+	 */
+	function _uri_to_assoc($n = 3, $default = array(), $which = 'segment')
+	{
+		if ($which == 'segment')
+		{
+			$total_segments = 'total_segments';
+			$segment_array = 'segment_array';
+		}
+		else
+		{
+			$total_segments = 'total_rsegments';
+			$segment_array = 'rsegment_array';
+		}
+		
+		if ( ! is_numeric($n))
+		{
+			return $default;
+		}
+	
+		if (isset($this->keyval[$n]))
+		{
+			return $this->keyval[$n];
+		}
+	
+		if ($this->$total_segments() < $n)
+		{
+			if (count($default) == 0)
+			{
+				return array();
+			}
+			
+			$retval = array();
+			foreach ($default as $val)
+			{
+				$retval[$val] = FALSE;
+			}		
+			return $retval;
+		}
+
+		$segments = array_slice($this->$segment_array(), ($n - 1));
+
+		$i = 0;
+		$lastval = '';
+		$retval  = array();
+		foreach ($segments as $seg)
+		{
+			if ($i % 2)
+			{
+				$retval[$lastval] = $seg;
+			}
+			else
+			{
+				$retval[$seg] = FALSE;
+				$lastval = $seg;
+			}
+		
+			$i++;
+		}
+
+		if (count($default) > 0)
+		{
+			foreach ($default as $val)
+			{
+				if ( ! array_key_exists($val, $retval))
+				{
+					$retval[$val] = FALSE;
+				}
+			}
+		}
+
+		// Cache the array for reuse
+		$this->keyval[$n] = $retval;
+		return $retval;
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Generate a URI string from an associative array
+	 *
+	 *
+	 * @access	public
+	 * @param	array	an associative array of key/values
+	 * @return	array
+	 */	
+	function assoc_to_uri($array)
+	{	
+		$temp = array();
+		foreach ((array)$array as $key => $val)
+		{
+			$temp[] = $key;
+			$temp[] = $val;
+		}
+		
+		return implode('/', $temp);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch a URI Segment and add a trailing slash
+	 *
+	 * @access	public
+	 * @param	integer
+	 * @param	string
+	 * @return	string
+	 */
+	function slash_segment($n, $where = 'trailing')
+	{
+		return $this->_slash_segment($n, $where, 'segment');
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch a URI Segment and add a trailing slash
+	 *
+	 * @access	public
+	 * @param	integer
+	 * @param	string
+	 * @return	string
+	 */
+	function slash_rsegment($n, $where = 'trailing')
+	{
+		return $this->_slash_segment($n, $where, 'rsegment');
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch a URI Segment and add a trailing slash - helper function
+	 *
+	 * @access	private
+	 * @param	integer
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function _slash_segment($n, $where = 'trailing', $which = 'segment')
+	{	
+		if ($where == 'trailing')
+		{
+			$trailing	= '/';
+			$leading	= '';
+		}
+		elseif ($where == 'leading')
+		{
+			$leading	= '/';
+			$trailing	= '';
+		}
+		else
+		{
+			$leading	= '/';
+			$trailing	= '/';
+		}
+		return $leading.$this->$which($n).$trailing;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Segment Array
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function segment_array()
+	{
+		return $this->segments;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Routed Segment Array
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function rsegment_array()
+	{
+		return $this->rsegments;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Total number of segments
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function total_segments()
+	{
+		return count($this->segments);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Total number of routed segments
+	 *
+	 * @access	public
+	 * @return	integer
+	 */
+	function total_rsegments()
+	{
+		return count($this->rsegments);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch the entire URI string
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function uri_string()
+	{
+		return $this->uri_string;
+	}
+
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Fetch the entire Re-routed URI string
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function ruri_string()
+	{
+		return '/'.implode('/', $this->rsegment_array()).'/';
+	}
+
+}
+// END URI Class
+
+/* End of file URI.php */
+/* Location: ./system/libraries/URI.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Unit_test.php
===================================================================
--- trunk/pintassilgo/system/libraries/Unit_test.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Unit_test.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,347 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.3.1
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Unit Testing Class
+ *
+ * Simple testing class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	UnitTesting
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/uri.html
+ */
+class CI_Unit_test {
+
+	var $active			= TRUE;
+	var $results 		= array();
+	var $strict			= FALSE;
+	var $_template 		= NULL;
+	var $_template_rows	= NULL;
+
+	function CI_Unit_test()
+	{
+		log_message('debug', "Unit Testing Class Initialized");
+	}	
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Run the tests
+	 *
+	 * Runs the supplied tests
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	mixed
+	 * @param	string
+	 * @return	string
+	 */	
+	function run($test, $expected = TRUE, $test_name = 'undefined')
+	{
+		if ($this->active == FALSE)
+		{
+			return FALSE;
+		}
+	
+		if (in_array($expected, array('is_string', 'is_bool', 'is_true', 'is_false', 'is_int', 'is_numeric', 'is_float', 'is_double', 'is_array', 'is_null'), TRUE))
+		{
+			$expected = str_replace('is_float', 'is_double', $expected);
+			$result = ($expected($test)) ? TRUE : FALSE;	
+			$extype = str_replace(array('true', 'false'), 'bool', str_replace('is_', '', $expected));
+		}
+		else
+		{
+			if ($this->strict == TRUE)
+				$result = ($test === $expected) ? TRUE : FALSE;	
+			else
+				$result = ($test == $expected) ? TRUE : FALSE;	
+			
+			$extype = gettype($expected);
+		}
+				
+		$back = $this->_backtrace();
+	
+		$report[] = array (
+							'test_name'			=> $test_name,
+							'test_datatype'		=> gettype($test),
+							'res_datatype'		=> $extype,
+							'result'			=> ($result === TRUE) ? 'passed' : 'failed',
+							'file'				=> $back['file'],
+							'line'				=> $back['line']
+						);
+
+		$this->results[] = $report;		
+				
+		return($this->report($this->result($report)));
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Generate a report
+	 *
+	 * Displays a table with the test data
+	 *
+	 * @access	public
+	 * @return	string
+	 */
+	function report($result = array())
+	{
+		if (count($result) == 0)
+		{
+			$result = $this->result();
+		}
+
+		$CI =& get_instance();
+		$CI->load->language('unit_test');
+
+		$this->_parse_template();
+
+		$r = '';
+		foreach ($result as $res)
+		{
+			$table = '';
+
+			foreach ($res as $key => $val)
+			{
+
+				if ($key == $CI->lang->line('ut_result'))
+				{
+					if ($val == $CI->lang->line('ut_passed'))
+					{
+						$val = '<span style="color: #0C0;">'.$val.'</span>';
+					}
+					elseif ($val == $CI->lang->line('ut_failed'))
+					{
+						$val = '<span style="color: #C00;">'.$val.'</span>';
+					}
+				}
+
+				$temp = $this->_template_rows;
+				$temp = str_replace('{item}', $key, $temp);
+				$temp = str_replace('{result}', $val, $temp);
+				$table .= $temp;
+			}
+
+			$r .= str_replace('{rows}', $table, $this->_template);
+		}
+
+		return $r;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Use strict comparison
+	 *
+	 * Causes the evaluation to use === rather than ==
+	 *
+	 * @access	public
+	 * @param	bool
+	 * @return	null
+	 */
+	function use_strict($state = TRUE)
+	{
+		$this->strict = ($state == FALSE) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Make Unit testing active
+	 *
+	 * Enables/disables unit testing
+	 *
+	 * @access	public
+	 * @param	bool
+	 * @return	null
+	 */
+	function active($state = TRUE)
+	{
+		$this->active = ($state == FALSE) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Result Array
+	 *
+	 * Returns the raw result data
+	 *
+	 * @access	public
+	 * @return	array
+	 */
+	function result($results = array())
+	{	
+		$CI =& get_instance();
+		$CI->load->language('unit_test');
+		
+		if (count($results) == 0)
+		{
+			$results = $this->results;
+		}
+		
+		$retval = array();
+		foreach ($results as $result)
+		{
+			$temp = array();
+			foreach ($result as $key => $val)
+			{
+				if (is_array($val))
+				{
+					foreach ($val as $k => $v)
+					{
+						if (FALSE !== ($line = $CI->lang->line(strtolower('ut_'.$v))))
+						{
+							$v = $line;
+						}				
+						$temp[$CI->lang->line('ut_'.$k)] = $v;					
+					}
+				}
+				else
+				{
+					if (FALSE !== ($line = $CI->lang->line(strtolower('ut_'.$val))))
+					{
+						$val = $line;
+					}				
+					$temp[$CI->lang->line('ut_'.$key)] = $val;
+				}
+			}
+			
+			$retval[] = $temp;
+		}
+	
+		return $retval;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the template
+	 *
+	 * This lets us set the template to be used to display results
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_template($template)
+	{
+		$this->_template = $template;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Generate a backtrace
+	 *
+	 * This lets us show file names and line numbers
+	 *
+	 * @access	private
+	 * @return	array
+	 */
+	function _backtrace()
+	{
+		if (function_exists('debug_backtrace'))
+		{
+			$back = debug_backtrace();
+			
+			$file = ( ! isset($back['1']['file'])) ? '' : $back['1']['file'];
+			$line = ( ! isset($back['1']['line'])) ? '' : $back['1']['line'];
+						
+			return array('file' => $file, 'line' => $line);
+		}
+		return array('file' => 'Unknown', 'line' => 'Unknown');
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get Default Template
+	 *
+	 * @access	private
+	 * @return	string
+	 */
+	function _default_template()
+	{	
+		$this->_template = "\n".'<table style="width:100%; font-size:small; margin:10px 0; border-collapse:collapse; border:1px solid #CCC;">';
+		$this->_template .= '{rows}';
+		$this->_template .= "\n".'</table>';
+		
+		$this->_template_rows = "\n\t".'<tr>';
+		$this->_template_rows .= "\n\t\t".'<th style="text-align: left; border-bottom:1px solid #CCC;">{item}</th>';
+		$this->_template_rows .= "\n\t\t".'<td style="border-bottom:1px solid #CCC;">{result}</td>';
+		$this->_template_rows .= "\n\t".'</tr>';	
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Parse Template
+	 *
+	 * Harvests the data within the template {pseudo-variables}
+	 *
+	 * @access	private
+	 * @return	void
+	 */
+ 	function _parse_template()
+ 	{
+ 		if ( ! is_null($this->_template_rows))
+ 		{
+ 			return;
+ 		}
+ 		
+ 		if (is_null($this->_template))
+ 		{
+ 			$this->_default_template();
+ 			return;
+ 		}
+ 		
+		if ( ! preg_match("/\{rows\}(.*?)\{\/rows\}/si", $this->_template, $match))
+		{
+ 			$this->_default_template();
+ 			return;
+		}
+
+		$this->_template_rows = $match['1'];
+		$this->_template = str_replace($match['0'], '{rows}', $this->_template); 	
+ 	}
+ 	
+}
+// END Unit_test Class
+
+/**
+ * Helper functions to test boolean true/false
+ *
+ *
+ * @access	private
+ * @return	bool
+ */
+function is_true($test)
+{
+	return (is_bool($test) AND $test === TRUE) ? TRUE : FALSE;
+}
+function is_false($test)
+{
+	return (is_bool($test) AND $test === FALSE) ? TRUE : FALSE;
+}
+
+
+/* End of file Unit_test.php */
+/* Location: ./system/libraries/Unit_test.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Upload.php
===================================================================
--- trunk/pintassilgo/system/libraries/Upload.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Upload.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,931 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * File Uploading Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Uploads
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/file_uploading.html
+ */
+class CI_Upload {
+	
+	var $max_size		= 0;
+	var $max_width		= 0;
+	var $max_height		= 0;
+	var $max_filename	= 0;
+	var $allowed_types	= "";
+	var $file_temp		= "";
+	var $file_name		= "";
+	var $orig_name		= "";
+	var $file_type		= "";
+	var $file_size		= "";
+	var $file_ext		= "";
+	var $upload_path	= "";
+	var $overwrite		= FALSE;
+	var $encrypt_name	= FALSE;
+	var $is_image		= FALSE;
+	var $image_width	= '';
+	var $image_height	= '';
+	var $image_type		= '';
+	var $image_size_str	= '';
+	var $error_msg		= array();
+	var $mimes			= array();
+	var $remove_spaces	= TRUE;
+	var $xss_clean		= FALSE;
+	var $temp_prefix	= "temp_file_";
+		
+	/**
+	 * Constructor
+	 *
+	 * @access	public
+	 */
+	function CI_Upload($props = array())
+	{
+		if (count($props) > 0)
+		{
+			$this->initialize($props);
+		}
+		
+		log_message('debug', "Upload Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Initialize preferences
+	 *
+	 * @access	public
+	 * @param	array
+	 * @return	void
+	 */	
+	function initialize($config = array())
+	{
+		$defaults = array(
+							'max_size'			=> 0,
+							'max_width'			=> 0,
+							'max_height'		=> 0,
+							'max_filename'		=> 0,
+							'allowed_types'		=> "",
+							'file_temp'			=> "",
+							'file_name'			=> "",
+							'orig_name'			=> "",
+							'file_type'			=> "",
+							'file_size'			=> "",
+							'file_ext'			=> "",
+							'upload_path'		=> "",
+							'overwrite'			=> FALSE,
+							'encrypt_name'		=> FALSE,
+							'is_image'			=> FALSE,
+							'image_width'		=> '',
+							'image_height'		=> '',
+							'image_type'		=> '',
+							'image_size_str'	=> '',
+							'error_msg'			=> array(),
+							'mimes'				=> array(),
+							'remove_spaces'		=> TRUE,
+							'xss_clean'			=> FALSE,
+							'temp_prefix'		=> "temp_file_"
+						);	
+	
+	
+		foreach ($defaults as $key => $val)
+		{
+			if (isset($config[$key]))
+			{
+				$method = 'set_'.$key;
+				if (method_exists($this, $method))
+				{
+					$this->$method($config[$key]);
+				}
+				else
+				{
+					$this->$key = $config[$key];
+				}			
+			}
+			else
+			{
+				$this->$key = $val;
+			}
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Perform the file upload
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function do_upload($field = 'userfile')
+	{
+		// Is $_FILES[$field] set? If not, no reason to continue.
+		if ( ! isset($_FILES[$field]))
+		{
+			$this->set_error('upload_no_file_selected');
+			return FALSE;
+		}
+		
+		// Is the upload path valid?
+		if ( ! $this->validate_upload_path())
+		{
+			// errors will already be set by validate_upload_path() so just return FALSE
+			return FALSE;
+		}
+
+		// Was the file able to be uploaded? If not, determine the reason why.
+		if ( ! is_uploaded_file($_FILES[$field]['tmp_name']))
+		{
+			$error = ( ! isset($_FILES[$field]['error'])) ? 4 : $_FILES[$field]['error'];
+
+			switch($error)
+			{
+				case 1:	// UPLOAD_ERR_INI_SIZE
+					$this->set_error('upload_file_exceeds_limit');
+					break;
+				case 2: // UPLOAD_ERR_FORM_SIZE
+					$this->set_error('upload_file_exceeds_form_limit');
+					break;
+				case 3: // UPLOAD_ERR_PARTIAL
+				   $this->set_error('upload_file_partial');
+					break;
+				case 4: // UPLOAD_ERR_NO_FILE
+				   $this->set_error('upload_no_file_selected');
+					break;
+				case 6: // UPLOAD_ERR_NO_TMP_DIR
+					$this->set_error('upload_no_temp_directory');
+					break;
+				case 7: // UPLOAD_ERR_CANT_WRITE
+					$this->set_error('upload_unable_to_write_file');
+					break;
+				case 8: // UPLOAD_ERR_EXTENSION
+					$this->set_error('upload_stopped_by_extension');
+					break;
+				default :   $this->set_error('upload_no_file_selected');
+					break;
+			}
+
+			return FALSE;
+		}
+
+		// Set the uploaded data as class variables
+		$this->file_temp = $_FILES[$field]['tmp_name'];		
+		$this->file_name = $this->_prep_filename($_FILES[$field]['name']);
+		$this->file_size = $_FILES[$field]['size'];		
+		$this->file_type = preg_replace("/^(.+?);.*$/", "\\1", $_FILES[$field]['type']);
+		$this->file_type = strtolower($this->file_type);
+		$this->file_ext	 = $this->get_extension($_FILES[$field]['name']);
+		
+		// Convert the file size to kilobytes
+		if ($this->file_size > 0)
+		{
+			$this->file_size = round($this->file_size/1024, 2);
+		}
+
+		// Is the file type allowed to be uploaded?
+		if ( ! $this->is_allowed_filetype())
+		{
+			$this->set_error('upload_invalid_filetype');
+			return FALSE;
+		}
+
+		// Is the file size within the allowed maximum?
+		if ( ! $this->is_allowed_filesize())
+		{
+			$this->set_error('upload_invalid_filesize');
+			return FALSE;
+		}
+
+		// Are the image dimensions within the allowed size?
+		// Note: This can fail if the server has an open_basdir restriction.
+		if ( ! $this->is_allowed_dimensions())
+		{
+			$this->set_error('upload_invalid_dimensions');
+			return FALSE;
+		}
+
+		// Sanitize the file name for security
+		$this->file_name = $this->clean_file_name($this->file_name);
+		
+		// Truncate the file name if it's too long
+		if ($this->max_filename > 0)
+		{
+			$this->file_name = $this->limit_filename_length($this->file_name, $this->max_filename);
+		}
+
+		// Remove white spaces in the name
+		if ($this->remove_spaces == TRUE)
+		{
+			$this->file_name = preg_replace("/\s+/", "_", $this->file_name);
+		}
+
+		/*
+		 * Validate the file name
+		 * This function appends an number onto the end of
+		 * the file if one with the same name already exists.
+		 * If it returns false there was a problem.
+		 */
+		$this->orig_name = $this->file_name;
+
+		if ($this->overwrite == FALSE)
+		{
+			$this->file_name = $this->set_filename($this->upload_path, $this->file_name);
+			
+			if ($this->file_name === FALSE)
+			{
+				return FALSE;
+			}
+		}
+
+		/*
+		 * Move the file to the final destination
+		 * To deal with different server configurations
+		 * we'll attempt to use copy() first.  If that fails
+		 * we'll use move_uploaded_file().  One of the two should
+		 * reliably work in most environments
+		 */
+		if ( ! @copy($this->file_temp, $this->upload_path.$this->file_name))
+		{
+			if ( ! @move_uploaded_file($this->file_temp, $this->upload_path.$this->file_name))
+			{
+				 $this->set_error('upload_destination_error');
+				 return FALSE;
+			}
+		}
+		
+		/*
+		 * Run the file through the XSS hacking filter
+		 * This helps prevent malicious code from being
+		 * embedded within a file.  Scripts can easily
+		 * be disguised as images or other file types.
+		 */
+		if ($this->xss_clean == TRUE)
+		{
+			$this->do_xss_clean();
+		}
+
+		/*
+		 * Set the finalized image dimensions
+		 * This sets the image width/height (assuming the
+		 * file was an image).  We use this information
+		 * in the "data" function.
+		 */
+		$this->set_image_properties($this->upload_path.$this->file_name);
+
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Finalized Data Array
+	 *	
+	 * Returns an associative array containing all of the information
+	 * related to the upload, allowing the developer easy access in one array.
+	 *
+	 * @access	public
+	 * @return	array
+	 */	
+	function data()
+	{
+		return array (
+						'file_name'			=> $this->file_name,
+						'file_type'			=> $this->file_type,
+						'file_path'			=> $this->upload_path,
+						'full_path'			=> $this->upload_path.$this->file_name,
+						'raw_name'			=> str_replace($this->file_ext, '', $this->file_name),
+						'orig_name'			=> $this->orig_name,
+						'file_ext'			=> $this->file_ext,
+						'file_size'			=> $this->file_size,
+						'is_image'			=> $this->is_image(),
+						'image_width'		=> $this->image_width,
+						'image_height'		=> $this->image_height,
+						'image_type'		=> $this->image_type,
+						'image_size_str'	=> $this->image_size_str,
+					);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Upload Path
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_upload_path($path)
+	{
+		// Make sure it has a trailing slash
+		$this->upload_path = rtrim($path, '/').'/';
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the file name
+	 *
+	 * This function takes a filename/path as input and looks for the
+	 * existence of a file with the same name. If found, it will append a
+	 * number to the end of the filename to avoid overwriting a pre-existing file.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */	
+	function set_filename($path, $filename)
+	{
+		if ($this->encrypt_name == TRUE)
+		{		
+			mt_srand();
+			$filename = md5(uniqid(mt_rand())).$this->file_ext;	
+		}
+	
+		if ( ! file_exists($path.$filename))
+		{
+			return $filename;
+		}
+	
+		$filename = str_replace($this->file_ext, '', $filename);
+		
+		$new_filename = '';
+		for ($i = 1; $i < 100; $i++)
+		{			
+			if ( ! file_exists($path.$filename.$i.$this->file_ext))
+			{
+				$new_filename = $filename.$i.$this->file_ext;
+				break;
+			}
+		}
+
+		if ($new_filename == '')
+		{
+			$this->set_error('upload_bad_filename');
+			return FALSE;
+		}
+		else
+		{
+			return $new_filename;
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Maximum File Size
+	 *
+	 * @access	public
+	 * @param	integer
+	 * @return	void
+	 */	
+	function set_max_filesize($n)
+	{
+		$this->max_size = ((int) $n < 0) ? 0: (int) $n;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Maximum File Name Length
+	 *
+	 * @access	public
+	 * @param	integer
+	 * @return	void
+	 */	
+	function set_max_filename($n)
+	{
+		$this->max_filename = ((int) $n < 0) ? 0: (int) $n;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Maximum Image Width
+	 *
+	 * @access	public
+	 * @param	integer
+	 * @return	void
+	 */	
+	function set_max_width($n)
+	{
+		$this->max_width = ((int) $n < 0) ? 0: (int) $n;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Maximum Image Height
+	 *
+	 * @access	public
+	 * @param	integer
+	 * @return	void
+	 */	
+	function set_max_height($n)
+	{
+		$this->max_height = ((int) $n < 0) ? 0: (int) $n;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Allowed File Types
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_allowed_types($types)
+	{
+		$this->allowed_types = explode('|', $types);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Image Properties
+	 *
+	 * Uses GD to determine the width/height/type of image
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_image_properties($path = '')
+	{
+		if ( ! $this->is_image())
+		{
+			return;
+		}
+
+		if (function_exists('getimagesize'))
+		{
+			if (FALSE !== ($D = @getimagesize($path)))
+			{	
+				$types = array(1 => 'gif', 2 => 'jpeg', 3 => 'png');
+
+				$this->image_width		= $D['0'];
+				$this->image_height		= $D['1'];
+				$this->image_type		= ( ! isset($types[$D['2']])) ? 'unknown' : $types[$D['2']];
+				$this->image_size_str	= $D['3'];  // string containing height and width
+			}
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set XSS Clean
+	 *
+	 * Enables the XSS flag so that the file that was uploaded
+	 * will be run through the XSS filter.
+	 *
+	 * @access	public
+	 * @param	bool
+	 * @return	void
+	 */
+	function set_xss_clean($flag = FALSE)
+	{
+		$this->xss_clean = ($flag == TRUE) ? TRUE : FALSE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Validate the image
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function is_image()
+	{
+		// IE will sometimes return odd mime-types during upload, so here we just standardize all
+		// jpegs or pngs to the same file type.
+
+		$png_mimes  = array('image/x-png');
+		$jpeg_mimes = array('image/jpg', 'image/jpe', 'image/jpeg', 'image/pjpeg');
+		
+		if (in_array($this->file_type, $png_mimes))
+		{
+			$this->file_type = 'image/png';
+		}
+		
+		if (in_array($this->file_type, $jpeg_mimes))
+		{
+			$this->file_type = 'image/jpeg';
+		}
+
+		$img_mimes = array(
+							'image/gif',
+							'image/jpeg',
+							'image/png',
+						   );
+
+		return (in_array($this->file_type, $img_mimes, TRUE)) ? TRUE : FALSE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Verify that the filetype is allowed
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function is_allowed_filetype()
+	{
+		if (count($this->allowed_types) == 0 OR ! is_array($this->allowed_types))
+		{
+			$this->set_error('upload_no_file_types');
+			return FALSE;
+		}
+			 	
+		foreach ($this->allowed_types as $val)
+		{
+			$mime = $this->mimes_types(strtolower($val));
+		
+			if (is_array($mime))
+			{
+				if (in_array($this->file_type, $mime, TRUE))
+				{
+					return TRUE;
+				}
+			}
+			else
+			{
+				if ($mime == $this->file_type)
+				{
+					return TRUE;
+				}	
+			}		
+		}
+		
+		return FALSE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Verify that the file is within the allowed size
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function is_allowed_filesize()
+	{
+		if ($this->max_size != 0  AND  $this->file_size > $this->max_size)
+		{
+			return FALSE;
+		}
+		else
+		{
+			return TRUE;
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Verify that the image is within the allowed width/height
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function is_allowed_dimensions()
+	{
+		if ( ! $this->is_image())
+		{
+			return TRUE;
+		}
+
+		if (function_exists('getimagesize'))
+		{
+			$D = @getimagesize($this->file_temp);
+
+			if ($this->max_width > 0 AND $D['0'] > $this->max_width)
+			{
+				return FALSE;
+			}
+
+			if ($this->max_height > 0 AND $D['1'] > $this->max_height)
+			{
+				return FALSE;
+			}
+
+			return TRUE;
+		}
+
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Validate Upload Path
+	 *
+	 * Verifies that it is a valid upload path with proper permissions.
+	 *
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function validate_upload_path()
+	{
+		if ($this->upload_path == '')
+		{
+			$this->set_error('upload_no_filepath');
+			return FALSE;
+		}
+		
+		if (function_exists('realpath') AND @realpath($this->upload_path) !== FALSE)
+		{
+			$this->upload_path = str_replace("\\", "/", realpath($this->upload_path));
+		}
+
+		if ( ! @is_dir($this->upload_path))
+		{
+			$this->set_error('upload_no_filepath');
+			return FALSE;
+		}
+
+		if ( ! is_really_writable($this->upload_path))
+		{
+			$this->set_error('upload_not_writable');
+			return FALSE;
+		}
+
+		$this->upload_path = preg_replace("/(.+?)\/*$/", "\\1/",  $this->upload_path);
+		return TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Extract the file extension
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function get_extension($filename)
+	{
+		$x = explode('.', $filename);
+		return '.'.end($x);
+	}	
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Clean the file name for security
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */		
+	function clean_file_name($filename)
+	{
+		$bad = array(
+						"<!--",
+						"-->",
+						"'",
+						"<",
+						">",
+						'"',
+						'&',
+						'$',
+						'=',
+						';',
+						'?',
+						'/',
+						"%20",
+						"%22",
+						"%3c",		// <
+						"%253c", 	// <
+						"%3e", 		// >
+						"%0e", 		// >
+						"%28", 		// (
+						"%29", 		// )
+						"%2528", 	// (
+						"%26", 		// &
+						"%24", 		// $
+						"%3f", 		// ?
+						"%3b", 		// ;
+						"%3d"		// =
+					);
+					
+		$filename = str_replace($bad, '', $filename);
+
+		return stripslashes($filename);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Limit the File Name Length
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */		
+	function limit_filename_length($filename, $length)
+	{
+		if (strlen($filename) < $length)
+		{
+			return $filename;
+		}
+	
+		$ext = '';
+		if (strpos($filename, '.') !== FALSE)
+		{
+			$parts		= explode('.', $filename);
+			$ext		= '.'.array_pop($parts);
+			$filename	= implode('.', $parts);
+		}
+	
+		return substr($filename, 0, ($length - strlen($ext))).$ext;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Runs the file through the XSS clean function
+	 *
+	 * This prevents people from embedding malicious code in their files.
+	 * I'm not sure that it won't negatively affect certain files in unexpected ways,
+	 * but so far I haven't found that it causes trouble.
+	 *
+	 * @access	public
+	 * @return	void
+	 */	
+	function do_xss_clean()
+	{		
+		$file = $this->upload_path.$this->file_name;
+		
+		if (filesize($file) == 0)
+		{
+			return FALSE;
+		}
+
+		if (($data = @file_get_contents($file)) === FALSE)
+		{
+			return FALSE;
+		}
+		
+		if ( ! $fp = @fopen($file, FOPEN_READ_WRITE))
+		{
+			return FALSE;
+		}
+
+		$CI =& get_instance();	
+		$data = $CI->input->xss_clean($data);
+		
+		flock($fp, LOCK_EX);
+		fwrite($fp, $data);
+		flock($fp, LOCK_UN);
+		fclose($fp);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set an error message
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_error($msg)
+	{
+		$CI =& get_instance();	
+		$CI->lang->load('upload');
+		
+		if (is_array($msg))
+		{
+			foreach ($msg as $val)
+			{
+				$msg = ($CI->lang->line($val) == FALSE) ? $val : $CI->lang->line($val);				
+				$this->error_msg[] = $msg;
+				log_message('error', $msg);
+			}		
+		}
+		else
+		{
+			$msg = ($CI->lang->line($msg) == FALSE) ? $msg : $CI->lang->line($msg);
+			$this->error_msg[] = $msg;
+			log_message('error', $msg);
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Display the error message
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */	
+	function display_errors($open = '<p>', $close = '</p>')
+	{
+		$str = '';
+		foreach ($this->error_msg as $val)
+		{
+			$str .= $open.$val.$close;
+		}
+	
+		return $str;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * List of Mime Types
+	 *
+	 * This is a list of mime types.  We use it to validate
+	 * the "allowed types" set by the developer
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function mimes_types($mime)
+	{
+		global $mimes;
+	
+		if (count($this->mimes) == 0)
+		{
+			if (@require_once(APPPATH.'config/mimes'.EXT))
+			{
+				$this->mimes = $mimes;
+				unset($mimes);
+			}
+		}
+	
+		return ( ! isset($this->mimes[$mime])) ? FALSE : $this->mimes[$mime];
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Prep Filename
+	 *
+	 * Prevents possible script execution from Apache's handling of files multiple extensions
+	 * http://httpd.apache.org/docs/1.3/mod/mod_mime.html#multipleext
+	 *
+	 * @access	private
+	 * @param	string
+	 * @return	string
+	 */
+	function _prep_filename($filename)
+	{
+		if (strpos($filename, '.') === FALSE)
+		{
+			return $filename;
+		}
+		
+		$parts		= explode('.', $filename);
+		$ext		= array_pop($parts);
+		$filename	= array_shift($parts);
+				
+		foreach ($parts as $part)
+		{
+			if ($this->mimes_types(strtolower($part)) === FALSE)
+			{
+				$filename .= '.'.$part.'_';
+			}
+			else
+			{
+				$filename .= '.'.$part;
+			}
+		}
+		
+		$filename .= '.'.$ext;
+		
+		return $filename;
+	}
+
+	// --------------------------------------------------------------------
+
+}
+// END Upload Class
+
+/* End of file Upload.php */
+/* Location: ./system/libraries/Upload.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/User_agent.php
===================================================================
--- trunk/pintassilgo/system/libraries/User_agent.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/User_agent.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,502 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * User Agent Class
+ *
+ * Identifies the platform, browser, robot, or mobile devise of the browsing agent
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	User Agent
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/user_agent.html
+ */
+class CI_User_agent {
+
+	var $agent		= NULL;
+	
+	var $is_browser	= FALSE;
+	var $is_robot	= FALSE;
+	var $is_mobile	= FALSE;
+
+	var $languages	= array();
+	var $charsets	= array();
+	
+	var $platforms	= array();
+	var $browsers	= array();
+	var $mobiles	= array();
+	var $robots		= array();
+	
+	var $platform	= '';
+	var $browser	= '';
+	var $version	= '';
+	var $mobile		= '';
+	var $robot		= '';
+	
+	/**
+	 * Constructor
+	 *
+	 * Sets the User Agent and runs the compilation routine
+	 *
+	 * @access	public
+	 * @return	void
+	 */		
+	function CI_User_agent()
+	{
+		if (isset($_SERVER['HTTP_USER_AGENT']))
+		{
+			$this->agent = trim($_SERVER['HTTP_USER_AGENT']);
+		}
+		
+		if ( ! is_null($this->agent))
+		{
+			if ($this->_load_agent_file())
+			{
+				$this->_compile_data();
+			}
+		}
+		
+		log_message('debug', "User Agent Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Compile the User Agent Data
+	 *
+	 * @access	private
+	 * @return	bool
+	 */		
+	function _load_agent_file()
+	{
+		if ( ! @include(APPPATH.'config/user_agents'.EXT))
+		{
+			return FALSE;
+		}
+		
+		$return = FALSE;
+		
+		if (isset($platforms))
+		{
+			$this->platforms = $platforms;
+			unset($platforms);
+			$return = TRUE;
+		}
+
+		if (isset($browsers))
+		{
+			$this->browsers = $browsers;
+			unset($browsers);
+			$return = TRUE;
+		}
+
+		if (isset($mobiles))
+		{
+			$this->mobiles = $mobiles;
+			unset($mobiles);
+			$return = TRUE;
+		}
+		
+		if (isset($robots))
+		{
+			$this->robots = $robots;
+			unset($robots);
+			$return = TRUE;
+		}
+
+		return $return;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Compile the User Agent Data
+	 *
+	 * @access	private
+	 * @return	bool
+	 */		
+	function _compile_data()
+	{
+		$this->_set_platform();
+	
+		foreach (array('_set_browser', '_set_robot', '_set_mobile') as $function)
+		{
+			if ($this->$function() === TRUE)
+			{
+				break;
+			}
+		}	
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the Platform
+	 *
+	 * @access	private
+	 * @return	mixed
+	 */		
+	function _set_platform()
+	{
+		if (is_array($this->platforms) AND count($this->platforms) > 0)
+		{
+			foreach ($this->platforms as $key => $val)
+			{
+				if (preg_match("|".preg_quote($key)."|i", $this->agent))
+				{
+					$this->platform = $val;
+					return TRUE;
+				}
+			}
+		}
+		$this->platform = 'Unknown Platform';
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the Browser
+	 *
+	 * @access	private
+	 * @return	bool
+	 */		
+	function _set_browser()
+	{
+		if (is_array($this->browsers) AND count($this->browsers) > 0)
+		{
+			foreach ($this->browsers as $key => $val)
+			{		
+				if (preg_match("|".preg_quote($key).".*?([0-9\.]+)|i", $this->agent, $match))
+				{
+					$this->is_browser = TRUE;
+					$this->version = $match[1];
+					$this->browser = $val;
+					$this->_set_mobile();
+					return TRUE;
+				}
+			}
+		}
+		return FALSE;
+	}
+			
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the Robot
+	 *
+	 * @access	private
+	 * @return	bool
+	 */		
+	function _set_robot()
+	{
+		if (is_array($this->robots) AND count($this->robots) > 0)
+		{		
+			foreach ($this->robots as $key => $val)
+			{
+				if (preg_match("|".preg_quote($key)."|i", $this->agent))
+				{
+					$this->is_robot = TRUE;
+					$this->robot = $val;
+					return TRUE;
+				}
+			}
+		}
+		return FALSE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the Mobile Device
+	 *
+	 * @access	private
+	 * @return	bool
+	 */		
+	function _set_mobile()
+	{
+		if (is_array($this->mobiles) AND count($this->mobiles) > 0)
+		{		
+			foreach ($this->mobiles as $key => $val)
+			{
+				if (FALSE !== (strpos(strtolower($this->agent), $key)))
+				{
+					$this->is_mobile = TRUE;
+					$this->mobile = $val;
+					return TRUE;
+				}
+			}
+		}	
+		return FALSE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the accepted languages
+	 *
+	 * @access	private
+	 * @return	void
+	 */			
+	function _set_languages()
+	{
+		if ((count($this->languages) == 0) AND isset($_SERVER['HTTP_ACCEPT_LANGUAGE']) AND $_SERVER['HTTP_ACCEPT_LANGUAGE'] != '')
+		{
+			$languages = preg_replace('/(;q=[0-9\.]+)/i', '', strtolower(trim($_SERVER['HTTP_ACCEPT_LANGUAGE'])));
+			
+			$this->languages = explode(',', $languages);
+		}
+		
+		if (count($this->languages) == 0)
+		{
+			$this->languages = array('Undefined');
+		}	
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set the accepted character sets
+	 *
+	 * @access	private
+	 * @return	void
+	 */			
+	function _set_charsets()
+	{	
+		if ((count($this->charsets) == 0) AND isset($_SERVER['HTTP_ACCEPT_CHARSET']) AND $_SERVER['HTTP_ACCEPT_CHARSET'] != '')
+		{
+			$charsets = preg_replace('/(;q=.+)/i', '', strtolower(trim($_SERVER['HTTP_ACCEPT_CHARSET'])));
+			
+			$this->charsets = explode(',', $charsets);
+		}
+		
+		if (count($this->charsets) == 0)
+		{
+			$this->charsets = array('Undefined');
+		}	
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Is Browser
+	 *
+	 * @access	public
+	 * @return	bool
+	 */		
+	function is_browser()
+	{
+		return $this->is_browser;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Is Robot
+	 *
+	 * @access	public
+	 * @return	bool
+	 */		
+	function is_robot()
+	{
+		return $this->is_robot;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Is Mobile
+	 *
+	 * @access	public
+	 * @return	bool
+	 */		
+	function is_mobile()
+	{
+		return $this->is_mobile;
+	}	
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Is this a referral from another site?
+	 *
+	 * @access	public
+	 * @return	bool
+	 */			
+	function is_referral()
+	{
+		return ( ! isset($_SERVER['HTTP_REFERER']) OR $_SERVER['HTTP_REFERER'] == '') ? FALSE : TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Agent String
+	 *
+	 * @access	public
+	 * @return	string
+	 */			
+	function agent_string()
+	{
+		return $this->agent;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get Platform
+	 *
+	 * @access	public
+	 * @return	string
+	 */			
+	function platform()
+	{
+		return $this->platform;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get Browser Name
+	 *
+	 * @access	public
+	 * @return	string
+	 */			
+	function browser()
+	{
+		return $this->browser;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get the Browser Version
+	 *
+	 * @access	public
+	 * @return	string
+	 */			
+	function version()
+	{
+		return $this->version;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get The Robot Name
+	 *
+	 * @access	public
+	 * @return	string
+	 */				
+	function robot()
+	{
+		return $this->robot;
+	}
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get the Mobile Device
+	 *
+	 * @access	public
+	 * @return	string
+	 */			
+	function mobile()
+	{
+		return $this->mobile;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get the referrer
+	 *
+	 * @access	public
+	 * @return	bool
+	 */			
+	function referrer()
+	{
+		return ( ! isset($_SERVER['HTTP_REFERER']) OR $_SERVER['HTTP_REFERER'] == '') ? '' : trim($_SERVER['HTTP_REFERER']);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get the accepted languages
+	 *
+	 * @access	public
+	 * @return	array
+	 */			
+	function languages()
+	{
+		if (count($this->languages) == 0)
+		{
+			$this->_set_languages();
+		}
+	
+		return $this->languages;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Get the accepted Character Sets
+	 *
+	 * @access	public
+	 * @return	array
+	 */			
+	function charsets()
+	{
+		if (count($this->charsets) == 0)
+		{
+			$this->_set_charsets();
+		}
+	
+		return $this->charsets;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Test for a particular language
+	 *
+	 * @access	public
+	 * @return	bool
+	 */			
+	function accept_lang($lang = 'en')
+	{
+		return (in_array(strtolower($lang), $this->languages(), TRUE)) ? TRUE : FALSE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Test for a particular character set
+	 *
+	 * @access	public
+	 * @return	bool
+	 */			
+	function accept_charset($charset = 'utf-8')
+	{
+		return (in_array(strtolower($charset), $this->charsets(), TRUE)) ? TRUE : FALSE;
+	}
+	
+	
+}
+
+
+/* End of file User_agent.php */
+/* Location: ./system/libraries/User_agent.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Validation.php
===================================================================
--- trunk/pintassilgo/system/libraries/Validation.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Validation.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,875 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Validation Class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Validation
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/validation.html
+ */
+class CI_Validation {
+	
+	var $CI;
+	var $error_string		= '';
+	var $_error_array		= array();
+	var $_rules				= array();
+	var $_fields			= array();
+	var $_error_messages	= array();
+	var $_current_field  	= '';
+	var $_safe_form_data 	= FALSE;
+	var $_error_prefix		= '<p>';
+	var $_error_suffix		= '</p>';
+
+	
+
+	/**
+	 * Constructor
+	 *
+	 */	
+	function CI_Validation()
+	{	
+		$this->CI =& get_instance();
+		
+		if (function_exists('mb_internal_encoding'))
+		{
+			mb_internal_encoding($this->CI->config->item('charset'));
+		}
+		
+		log_message('debug', "Validation Class Initialized");
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Fields
+	 *
+	 * This function takes an array of field names as input
+	 * and generates class variables with the same name, which will
+	 * either be blank or contain the $_POST value corresponding to it
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	void
+	 */
+	function set_fields($data = '', $field = '')
+	{	
+		if ($data == '')
+		{
+			if (count($this->_fields) == 0)
+			{
+				return FALSE;
+			}
+		}
+		else
+		{
+			if ( ! is_array($data))
+			{
+				$data = array($data => $field);
+			}
+			
+			if (count($data) > 0)
+			{
+				$this->_fields = $data;
+			}
+		}		
+			
+		foreach($this->_fields as $key => $val)
+		{
+			$this->$key = ( ! isset($_POST[$key])) ? '' : $this->prep_for_form($_POST[$key]);
+			
+			$error = $key.'_error';
+			if ( ! isset($this->$error))
+			{
+				$this->$error = '';
+			}
+		}		
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Rules
+	 *
+	 * This function takes an array of field names and validation
+	 * rules as input ad simply stores is for use later.
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	string
+	 * @return	void
+	 */
+	function set_rules($data, $rules = '')
+	{
+		if ( ! is_array($data))
+		{
+			if ($rules == '')
+				return;
+				
+			$data = array($data => $rules);
+		}
+	
+		foreach ($data as $key => $val)
+		{
+			$this->_rules[$key] = $val;
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Error Message
+	 *
+	 * Lets users set their own error messages on the fly.  Note:  The key
+	 * name has to match the  function name that it corresponds to.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */
+	function set_message($lang, $val = '')
+	{
+		if ( ! is_array($lang))
+		{
+			$lang = array($lang => $val);
+		}
+	
+		$this->_error_messages = array_merge($this->_error_messages, $lang);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set The Error Delimiter
+	 *
+	 * Permits a prefix/suffix to be added to each error message
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	void
+	 */	
+	function set_error_delimiters($prefix = '<p>', $suffix = '</p>')
+	{
+		$this->_error_prefix = $prefix;
+		$this->_error_suffix = $suffix;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Run the Validator
+	 *
+	 * This function does all the work.
+	 *
+	 * @access	public
+	 * @return	bool
+	 */		
+	function run()
+	{
+		// Do we even have any data to process?  Mm?
+		if (count($_POST) == 0 OR count($this->_rules) == 0)
+		{
+			return FALSE;
+		}
+	
+		// Load the language file containing error messages
+		$this->CI->lang->load('validation');
+							
+		// Cycle through the rules and test for errors
+		foreach ($this->_rules as $field => $rules)
+		{
+			//Explode out the rules!
+			$ex = explode('|', $rules);
+
+			// Is the field required?  If not, if the field is blank  we'll move on to the next test
+			if ( ! in_array('required', $ex, TRUE))
+			{
+				if ( ! isset($_POST[$field]) OR $_POST[$field] == '')
+				{
+					continue;
+				}
+			}
+			
+			/*
+			 * Are we dealing with an "isset" rule?
+			 *
+			 * Before going further, we'll see if one of the rules
+			 * is to check whether the item is set (typically this
+			 * applies only to checkboxes).  If so, we'll
+			 * test for it here since there's not reason to go
+			 * further
+			 */
+			if ( ! isset($_POST[$field]))
+			{			
+				if (in_array('isset', $ex, TRUE) OR in_array('required', $ex))
+				{
+					if ( ! isset($this->_error_messages['isset']))
+					{
+						if (FALSE === ($line = $this->CI->lang->line('isset')))
+						{
+							$line = 'The field was not set';
+						}							
+					}
+					else
+					{
+						$line = $this->_error_messages['isset'];
+					}
+					
+					// Build the error message
+					$mfield = ( ! isset($this->_fields[$field])) ? $field : $this->_fields[$field];
+					$message = sprintf($line, $mfield);
+
+					// Set the error variable.  Example: $this->username_error
+					$error = $field.'_error';
+					$this->$error = $this->_error_prefix.$message.$this->_error_suffix;
+					$this->_error_array[] = $message;
+				}
+						
+				continue;
+			}
+	
+			/*
+			 * Set the current field
+			 *
+			 * The various prepping functions need to know the
+			 * current field name so they can do this:
+			 *
+			 * $_POST[$this->_current_field] == 'bla bla';
+			 */
+			$this->_current_field = $field;
+
+			// Cycle through the rules!
+			foreach ($ex As $rule)
+			{
+				// Is the rule a callback?			
+				$callback = FALSE;
+				if (substr($rule, 0, 9) == 'callback_')
+				{
+					$rule = substr($rule, 9);
+					$callback = TRUE;
+				}
+				
+				// Strip the parameter (if exists) from the rule
+				// Rules can contain a parameter: max_length[5]
+				$param = FALSE;
+				if (preg_match("/(.*?)\[(.*?)\]/", $rule, $match))
+				{
+					$rule	= $match[1];
+					$param	= $match[2];
+				}
+				
+				// Call the function that corresponds to the rule
+				if ($callback === TRUE)
+				{
+					if ( ! method_exists($this->CI, $rule))
+					{ 		
+						continue;
+					}
+					
+					$result = $this->CI->$rule($_POST[$field], $param);	
+					
+					// If the field isn't required and we just processed a callback we'll move on...
+					if ( ! in_array('required', $ex, TRUE) AND $result !== FALSE)
+					{
+						continue 2;
+					}
+					
+				}
+				else
+				{				
+					if ( ! method_exists($this, $rule))
+					{
+						/*
+						 * Run the native PHP function if called for
+						 *
+						 * If our own wrapper function doesn't exist we see
+						 * if a native PHP function does. Users can use
+						 * any native PHP function call that has one param.
+						 */
+						if (function_exists($rule))
+						{
+							$_POST[$field] = $rule($_POST[$field]);
+							$this->$field = $_POST[$field];
+						}
+											
+						continue;
+					}
+					
+					$result = $this->$rule($_POST[$field], $param);
+				}
+								
+				// Did the rule test negatively?  If so, grab the error.
+				if ($result === FALSE)
+				{
+					if ( ! isset($this->_error_messages[$rule]))
+					{
+						if (FALSE === ($line = $this->CI->lang->line($rule)))
+						{
+							$line = 'Unable to access an error message corresponding to your field name.';
+						}						
+					}
+					else
+					{
+						$line = $this->_error_messages[$rule];
+					}				
+
+					// Build the error message
+					$mfield = ( ! isset($this->_fields[$field])) ? $field : $this->_fields[$field];
+					$mparam = ( ! isset($this->_fields[$param])) ? $param : $this->_fields[$param];
+					$message = sprintf($line, $mfield, $mparam);
+					
+					// Set the error variable.  Example: $this->username_error
+					$error = $field.'_error';
+					$this->$error = $this->_error_prefix.$message.$this->_error_suffix;
+
+					// Add the error to the error array
+					$this->_error_array[] = $message;				
+					continue 2;
+				}				
+			}
+			
+		}
+		
+		$total_errors = count($this->_error_array);
+
+		/*
+		 * Recompile the class variables
+		 *
+		 * If any prepping functions were called the $_POST data
+		 * might now be different then the corresponding class
+		 * variables so we'll set them anew.
+		 */	
+		if ($total_errors > 0)
+		{
+			$this->_safe_form_data = TRUE;
+		}
+		
+		$this->set_fields();
+
+		// Did we end up with any errors?
+		if ($total_errors == 0)
+		{
+			return TRUE;
+		}
+		
+		// Generate the error string
+		foreach ($this->_error_array as $val)
+		{
+			$this->error_string .= $this->_error_prefix.$val.$this->_error_suffix."\n";
+		}
+
+		return FALSE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Required
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */
+	function required($str)
+	{
+		if ( ! is_array($str))
+		{
+			return (trim($str) == '') ? FALSE : TRUE;
+		}
+		else
+		{
+			return ( ! empty($str));
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Match one field to another
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	field
+	 * @return	bool
+	 */
+	function matches($str, $field)
+	{
+		if ( ! isset($_POST[$field]))
+		{
+			return FALSE;
+		}
+		
+		return ($str !== $_POST[$field]) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Minimum Length
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	value
+	 * @return	bool
+	 */	
+	function min_length($str, $val)
+	{
+		if (preg_match("/[^0-9]/", $val))
+		{
+			return FALSE;
+		}
+
+		if (function_exists('mb_strlen'))
+		{
+			return (mb_strlen($str) < $val) ? FALSE : TRUE;		
+		}
+
+		return (strlen($str) < $val) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Max Length
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	value
+	 * @return	bool
+	 */	
+	function max_length($str, $val)
+	{
+		if (preg_match("/[^0-9]/", $val))
+		{
+			return FALSE;
+		}
+		
+		if (function_exists('mb_strlen'))
+		{
+			return (mb_strlen($str) > $val) ? FALSE : TRUE;		
+		}
+
+		return (strlen($str) > $val) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Exact Length
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	value
+	 * @return	bool
+	 */	
+	function exact_length($str, $val)
+	{
+		if (preg_match("/[^0-9]/", $val))
+		{
+			return FALSE;
+		}
+	
+		if (function_exists('mb_strlen'))
+		{
+			return (mb_strlen($str) != $val) ? FALSE : TRUE;		
+		}
+
+		return (strlen($str) != $val) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Valid Email
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function valid_email($str)
+	{
+		return ( ! preg_match("/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/ix", $str)) ? FALSE : TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Valid Emails
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function valid_emails($str)
+	{
+		if (strpos($str, ',') === FALSE)
+		{
+			return $this->valid_email(trim($str));
+		}
+		
+		foreach(explode(',', $str) as $email)
+		{
+			if (trim($email) != '' && $this->valid_email(trim($email)) === FALSE)
+			{
+				return FALSE;
+			}
+		}
+		
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Validate IP Address
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function valid_ip($ip)
+	{
+		return $this->CI->input->valid_ip($ip);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Alpha
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */		
+	function alpha($str)
+	{
+		return ( ! preg_match("/^([a-z])+$/i", $str)) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Alpha-numeric
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function alpha_numeric($str)
+	{
+		return ( ! preg_match("/^([a-z0-9])+$/i", $str)) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Alpha-numeric with underscores and dashes
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function alpha_dash($str)
+	{
+		return ( ! preg_match("/^([-a-z0-9_-])+$/i", $str)) ? FALSE : TRUE;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Numeric
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function numeric($str)
+	{
+		return (bool)preg_match( '/^[\-+]?[0-9]*\.?[0-9]+$/', $str);
+
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Is Numeric
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */
+  	function is_numeric($str)
+	{
+		return ( ! is_numeric($str)) ? FALSE : TRUE;
+	} 
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Integer
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */	
+	function integer($str)
+	{
+		return (bool)preg_match( '/^[\-+]?[0-9]+$/', $str);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Is a Natural number  (0,1,2,3, etc.)
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */
+	function is_natural($str)
+	{   
+   		return (bool)preg_match( '/^[0-9]+$/', $str);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Is a Natural number, but not a zero  (1,2,3, etc.)
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */
+	function is_natural_no_zero($str)
+	{   
+		if ( ! preg_match( '/^[0-9]+$/', $str))
+		{
+			return FALSE;
+		}
+	
+		if ($str == 0)
+		{
+			return FALSE;
+		}
+
+		return TRUE;
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Valid Base64
+	 *
+	 * Tests a string for characters outside of the Base64 alphabet
+	 * as defined by RFC 2045 http://www.faqs.org/rfcs/rfc2045
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	bool
+	 */
+	function valid_base64($str)
+	{
+		return (bool) ! preg_match('/[^a-zA-Z0-9\/\+=]/', $str);
+	}
+
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Select
+	 *
+	 * Enables pull-down lists to be set to the value the user
+	 * selected in the event of an error
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */	
+	function set_select($field = '', $value = '')
+	{
+		if ($field == '' OR $value == '' OR  ! isset($_POST[$field]))
+		{
+			return '';
+		}
+			
+		if ($_POST[$field] == $value)
+		{
+			return ' selected="selected"';
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Radio
+	 *
+	 * Enables radio buttons to be set to the value the user
+	 * selected in the event of an error
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */	
+	function set_radio($field = '', $value = '')
+	{
+		if ($field == '' OR $value == '' OR  ! isset($_POST[$field]))
+		{
+			return '';
+		}
+			
+		if ($_POST[$field] == $value)
+		{
+			return ' checked="checked"';
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Set Checkbox
+	 *
+	 * Enables checkboxes to be set to the value the user
+	 * selected in the event of an error
+	 *
+	 * @access	public
+	 * @param	string
+	 * @param	string
+	 * @return	string
+	 */	
+	function set_checkbox($field = '', $value = '')
+	{
+		if ($field == '' OR $value == '' OR  ! isset($_POST[$field]))
+		{
+			return '';
+		}
+			
+		if ($_POST[$field] == $value)
+		{
+			return ' checked="checked"';
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Prep data for form
+	 *
+	 * This function allows HTML to be safely shown in a form.
+	 * Special characters are converted.
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */
+	function prep_for_form($data = '')
+	{
+		if (is_array($data))
+		{
+			foreach ($data as $key => $val)
+			{
+				$data[$key] = $this->prep_for_form($val);
+			}
+			
+			return $data;
+		}
+		
+		if ($this->_safe_form_data == FALSE OR $data == '')
+		{
+			return $data;
+		}
+
+		return str_replace(array("'", '"', '<', '>'), array("&#39;", "&quot;", '&lt;', '&gt;'), stripslashes($data));
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Prep URL
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function prep_url($str = '')
+	{
+		if ($str == 'http://' OR $str == '')
+		{
+			$_POST[$this->_current_field] = '';
+			return;
+		}
+		
+		if (substr($str, 0, 7) != 'http://' && substr($str, 0, 8) != 'https://')
+		{
+			$str = 'http://'.$str;
+		}
+		
+		$_POST[$this->_current_field] = $str;
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Strip Image Tags
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function strip_image_tags($str)
+	{
+		$_POST[$this->_current_field] = $this->CI->input->strip_image_tags($str);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * XSS Clean
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function xss_clean($str)
+	{
+		$_POST[$this->_current_field] = $this->CI->input->xss_clean($str);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Convert PHP tags to entities
+	 *
+	 * @access	public
+	 * @param	string
+	 * @return	string
+	 */	
+	function encode_php_tags($str)
+	{
+		$_POST[$this->_current_field] = str_replace(array('<?php', '<?PHP', '<?', '?>'),  array('&lt;?php', '&lt;?PHP', '&lt;?', '?&gt;'), $str);
+	}
+
+}
+// END Validation Class
+
+/* End of file Validation.php */
+/* Location: ./system/libraries/Validation.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Xmlrpc.php
===================================================================
--- trunk/pintassilgo/system/libraries/Xmlrpc.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Xmlrpc.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,1421 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+if ( ! function_exists('xml_parser_create'))
+{	
+	show_error('Your PHP installation does not support XML');
+}
+
+
+// ------------------------------------------------------------------------
+
+/**
+ * XML-RPC request handler class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	XML-RPC
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/xmlrpc.html
+ */
+class CI_Xmlrpc {
+
+	var $debug			= FALSE; 	// Debugging on or off	
+	var $xmlrpcI4		= 'i4';
+	var $xmlrpcInt		= 'int';
+	var $xmlrpcBoolean	= 'boolean';
+	var $xmlrpcDouble	= 'double';	
+	var $xmlrpcString	= 'string';
+	var $xmlrpcDateTime	= 'datetime.iso8601';
+	var $xmlrpcBase64	= 'base64';
+	var $xmlrpcArray	= 'array';
+	var $xmlrpcStruct	= 'struct';
+	
+	var $xmlrpcTypes	= array();
+	var $valid_parents	= array();
+	var $xmlrpcerr		= array();	// Response numbers
+	var $xmlrpcstr		= array();  // Response strings
+	
+	var $xmlrpc_defencoding = 'UTF-8';
+	var $xmlrpcName			= 'XML-RPC for CodeIgniter';
+	var $xmlrpcVersion		= '1.1';
+	var $xmlrpcerruser		= 800; // Start of user errors
+	var $xmlrpcerrxml		= 100; // Start of XML Parse errors
+	var $xmlrpc_backslash	= ''; // formulate backslashes for escaping regexp
+	
+	var $client;
+	var $method;
+	var $data;
+	var $message			= '';
+	var $error				= '';  		// Error string for request
+	var $result;
+	var $response			= array();  // Response from remote server
+
+
+	//-------------------------------------
+	//  VALUES THAT MULTIPLE CLASSES NEED
+	//-------------------------------------
+
+	function CI_Xmlrpc ($config = array())
+	{
+		$this->xmlrpcName 		= $this->xmlrpcName;
+		$this->xmlrpc_backslash = chr(92).chr(92);
+		
+		// Types for info sent back and forth
+		$this->xmlrpcTypes = array(
+			$this->xmlrpcI4	   => '1',
+			$this->xmlrpcInt	  => '1',
+			$this->xmlrpcBoolean  => '1',
+			$this->xmlrpcString   => '1',
+			$this->xmlrpcDouble   => '1',
+			$this->xmlrpcDateTime => '1',
+			$this->xmlrpcBase64   => '1',
+			$this->xmlrpcArray	=> '2',
+			$this->xmlrpcStruct   => '3'
+			);
+			
+		// Array of Valid Parents for Various XML-RPC elements
+		$this->valid_parents = array('BOOLEAN'			=> array('VALUE'),
+									 'I4'				=> array('VALUE'),
+									 'INT'				=> array('VALUE'),
+									 'STRING'			=> array('VALUE'),
+									 'DOUBLE'			=> array('VALUE'),
+									 'DATETIME.ISO8601'	=> array('VALUE'),
+									 'BASE64'			=> array('VALUE'),
+									 'ARRAY'			=> array('VALUE'),
+									 'STRUCT'			=> array('VALUE'),
+									 'PARAM'			=> array('PARAMS'),
+									 'METHODNAME'		=> array('METHODCALL'),
+									 'PARAMS'			=> array('METHODCALL', 'METHODRESPONSE'),
+									 'MEMBER'			=> array('STRUCT'),
+									 'NAME'				=> array('MEMBER'),
+									 'DATA'				=> array('ARRAY'),
+									 'FAULT'			=> array('METHODRESPONSE'),
+									 'VALUE'			=> array('MEMBER', 'DATA', 'PARAM', 'FAULT')
+									 );
+			
+			
+		// XML-RPC Responses
+		$this->xmlrpcerr['unknown_method'] = '1';
+		$this->xmlrpcstr['unknown_method'] = 'This is not a known method for this XML-RPC Server';
+		$this->xmlrpcerr['invalid_return'] = '2';
+		$this->xmlrpcstr['invalid_return'] = 'The XML data receieved was either invalid or not in the correct form for XML-RPC.  Turn on debugging to examine the XML data further.';
+		$this->xmlrpcerr['incorrect_params'] = '3';
+		$this->xmlrpcstr['incorrect_params'] = 'Incorrect parameters were passed to method';
+		$this->xmlrpcerr['introspect_unknown'] = '4';
+		$this->xmlrpcstr['introspect_unknown'] = "Cannot inspect signature for request: method unknown";
+		$this->xmlrpcerr['http_error'] = '5';
+		$this->xmlrpcstr['http_error'] = "Did not receive a '200 OK' response from remote server.";
+		$this->xmlrpcerr['no_data'] = '6';
+		$this->xmlrpcstr['no_data'] ='No data received from server.';
+		
+		$this->initialize($config);
+		
+		log_message('debug', "XML-RPC Class Initialized");
+	}
+	
+	
+	//-------------------------------------
+	//  Initialize Prefs
+	//-------------------------------------
+
+	function initialize($config = array())
+	{
+		if (sizeof($config) > 0)
+		{
+			foreach ($config as $key => $val)
+			{
+				if (isset($this->$key))
+				{
+					$this->$key = $val;			
+				}
+			}
+		}
+	}
+	// END
+	
+	//-------------------------------------
+	//  Take URL and parse it
+	//-------------------------------------
+
+	function server($url, $port=80)
+	{
+		if (substr($url, 0, 4) != "http")
+		{
+			$url = "http://".$url;
+		}
+		
+		$parts = parse_url($url);
+		
+		$path = ( ! isset($parts['path'])) ? '/' : $parts['path'];
+		
+		if (isset($parts['query']) && $parts['query'] != '')
+		{
+			$path .= '?'.$parts['query'];
+		}	
+		
+		$this->client = new XML_RPC_Client($path, $parts['host'], $port);
+	}
+	// END
+	
+	//-------------------------------------
+	//  Set Timeout
+	//-------------------------------------
+
+	function timeout($seconds=5)
+	{
+		if ( ! is_null($this->client) && is_int($seconds))
+		{
+			$this->client->timeout = $seconds;
+		}
+	}
+	// END
+	
+	//-------------------------------------
+	//  Set Methods
+	//-------------------------------------
+
+	function method($function)
+	{
+		$this->method = $function;
+	}
+	// END
+	
+	//-------------------------------------
+	//  Take Array of Data and Create Objects
+	//-------------------------------------
+
+	function request($incoming)
+	{
+		if ( ! is_array($incoming))
+		{
+			// Send Error
+		}
+		
+		$this->data = array();
+		
+		foreach($incoming as $key => $value)
+		{
+			$this->data[$key] = $this->values_parsing($value);
+		}
+	}
+	// END
+	
+	
+	//-------------------------------------
+	//  Set Debug
+	//-------------------------------------
+
+	function set_debug($flag = TRUE)
+	{
+		$this->debug = ($flag == TRUE) ? TRUE : FALSE;
+	}
+	
+	//-------------------------------------
+	//  Values Parsing
+	//-------------------------------------
+
+	function values_parsing($value, $return = FALSE)
+	{
+		if (is_array($value) && isset($value['0']))
+		{
+			if ( ! isset($value['1']) OR ! isset($this->xmlrpcTypes[strtolower($value['1'])]))
+			{
+				if (is_array($value[0]))
+				{
+					$temp = new XML_RPC_Values($value['0'], 'array');
+				}
+				else
+				{
+					$temp = new XML_RPC_Values($value['0'], 'string');
+				}
+			}
+			elseif(is_array($value['0']) && ($value['1'] == 'struct' OR $value['1'] == 'array'))
+			{
+				while (list($k) = each($value['0']))
+				{
+					$value['0'][$k] = $this->values_parsing($value['0'][$k], TRUE);
+				}
+				
+				$temp = new XML_RPC_Values($value['0'], $value['1']);
+			}
+			else
+			{
+				$temp = new XML_RPC_Values($value['0'], $value['1']);
+			}
+		}
+		else
+		{
+			$temp = new XML_RPC_Values($value, 'string');
+		}
+
+		return $temp;
+	}
+	// END
+
+
+	//-------------------------------------
+	//  Sends XML-RPC Request
+	//-------------------------------------
+
+	function send_request()
+	{
+		$this->message = new XML_RPC_Message($this->method,$this->data);
+		$this->message->debug = $this->debug;
+	
+		if ( ! $this->result = $this->client->send($this->message))
+		{
+			$this->error = $this->result->errstr;
+			return FALSE;
+		}
+		elseif( ! is_object($this->result->val))
+		{
+			$this->error = $this->result->errstr;
+			return FALSE;
+		}
+		
+		$this->response = $this->result->decode();
+		
+		return TRUE;
+	}
+	// END
+	
+	//-------------------------------------
+	//  Returns Error
+	//-------------------------------------
+
+	function display_error()
+	{
+		return $this->error;
+	}
+	// END
+	
+	//-------------------------------------
+	//  Returns Remote Server Response
+	//-------------------------------------
+
+	function display_response()
+	{
+		return $this->response;
+	}
+	// END
+	
+	//-------------------------------------
+	//  Sends an Error Message for Server Request
+	//-------------------------------------
+	
+	function send_error_message($number, $message)
+	{
+		return new XML_RPC_Response('0',$number, $message);
+	}
+	// END
+	
+	
+	//-------------------------------------
+	//  Send Response for Server Request
+	//-------------------------------------
+	
+	function send_response($response)
+	{
+		// $response should be array of values, which will be parsed
+		// based on their data and type into a valid group of XML-RPC values
+		
+		$response = $this->values_parsing($response);
+	
+		return new XML_RPC_Response($response);
+	}
+	// END
+	
+} // END XML_RPC Class
+
+	
+	
+/**
+ * XML-RPC Client class
+ *
+ * @category	XML-RPC
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/xmlrpc.html
+ */
+class XML_RPC_Client extends CI_Xmlrpc
+{
+	var $path			= '';
+	var $server			= '';
+	var $port			= 80;
+	var $errno			= '';
+	var $errstring		= '';
+	var $timeout		= 5;
+	var $no_multicall	= false;
+
+	function XML_RPC_Client($path, $server, $port=80)
+	{
+		parent::CI_Xmlrpc();
+		
+		$this->port = $port;
+		$this->server = $server;
+		$this->path = $path;
+	}
+	
+	function send($msg)
+	{
+		if (is_array($msg))
+		{
+			// Multi-call disabled
+			$r = new XML_RPC_Response(0, $this->xmlrpcerr['multicall_recursion'],$this->xmlrpcstr['multicall_recursion']);
+			return $r;
+		}
+
+		return $this->sendPayload($msg);
+	}
+
+	function sendPayload($msg)
+	{	
+		$fp = @fsockopen($this->server, $this->port,$this->errno, $this->errstr, $this->timeout);
+		
+		if ( ! is_resource($fp))
+		{
+			error_log($this->xmlrpcstr['http_error']);
+			$r = new XML_RPC_Response(0, $this->xmlrpcerr['http_error'],$this->xmlrpcstr['http_error']);
+			return $r;
+		}
+		
+		if(empty($msg->payload))
+		{
+			// $msg = XML_RPC_Messages
+			$msg->createPayload();
+		}
+		
+		$r = "\r\n";
+		$op  = "POST {$this->path} HTTP/1.0$r";
+		$op .= "Host: {$this->server}$r";
+		$op .= "Content-Type: text/xml$r";
+		$op .= "User-Agent: {$this->xmlrpcName}$r";
+		$op .= "Content-Length: ".strlen($msg->payload). "$r$r";
+		$op .= $msg->payload;
+		
+
+		if ( ! fputs($fp, $op, strlen($op)))
+		{
+			error_log($this->xmlrpcstr['http_error']);
+			$r = new XML_RPC_Response(0, $this->xmlrpcerr['http_error'], $this->xmlrpcstr['http_error']);
+			return $r;
+		}
+		$resp = $msg->parseResponse($fp);
+		fclose($fp);
+		return $resp;
+	}
+
+} // end class XML_RPC_Client
+
+
+/**
+ * XML-RPC Response class
+ *
+ * @category	XML-RPC
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/xmlrpc.html
+ */
+class XML_RPC_Response
+{
+	var $val = 0;
+	var $errno = 0;
+	var $errstr = '';
+	var $headers = array();
+
+	function XML_RPC_Response($val, $code = 0, $fstr = '')
+	{	
+		if ($code != 0)
+		{
+			// error
+			$this->errno = $code;
+			$this->errstr = htmlentities($fstr);
+		}
+		else if ( ! is_object($val))
+		{
+			// programmer error, not an object
+			error_log("Invalid type '" . gettype($val) . "' (value: $val) passed to XML_RPC_Response.  Defaulting to empty value.");
+			$this->val = new XML_RPC_Values();
+		}
+		else
+		{
+			$this->val = $val;
+		}
+	}
+
+	function faultCode()
+	{
+		return $this->errno;
+	}
+
+	function faultString()
+	{
+		return $this->errstr;
+	}
+
+	function value()
+	{
+		return $this->val;
+	}
+	
+	function prepare_response()
+	{
+		$result = "<methodResponse>\n";
+		if ($this->errno)
+		{
+			$result .= '<fault>
+	<value>
+		<struct>
+			<member>
+				<name>faultCode</name>
+				<value><int>' . $this->errno . '</int></value>
+			</member>
+			<member>
+				<name>faultString</name>
+				<value><string>' . $this->errstr . '</string></value>
+			</member>
+		</struct>
+	</value>
+</fault>';
+		}
+		else
+		{
+			$result .= "<params>\n<param>\n" .
+					$this->val->serialize_class() .
+					"</param>\n</params>";
+		}
+		$result .= "\n</methodResponse>";
+		return $result;
+	}
+	
+	function decode($array=FALSE)
+	{
+		$CI =& get_instance();
+
+		if ($array !== FALSE && is_array($array))
+		{
+			while (list($key) = each($array))
+			{
+				if (is_array($array[$key]))
+				{
+					$array[$key] = $this->decode($array[$key]);
+				}
+				else
+				{
+					$array[$key] = $CI->input->xss_clean($array[$key]);
+				}
+			}
+			
+			$result = $array;
+		}
+		else
+		{
+			$result = $this->xmlrpc_decoder($this->val);
+			
+			if (is_array($result))
+			{
+				$result = $this->decode($result);
+			}
+			else
+			{
+				$result = $CI->input->xss_clean($result);
+			}
+		}
+		
+		return $result;
+	}
+
+	
+	
+	//-------------------------------------
+	//  XML-RPC Object to PHP Types
+	//-------------------------------------
+
+	function xmlrpc_decoder($xmlrpc_val)
+	{
+		$kind = $xmlrpc_val->kindOf();
+
+		if($kind == 'scalar')
+		{
+			return $xmlrpc_val->scalarval();
+		}
+		elseif($kind == 'array')
+		{
+			reset($xmlrpc_val->me);
+			list($a,$b) = each($xmlrpc_val->me);
+			$size = sizeof($b);
+			
+			$arr = array();
+
+			for($i = 0; $i < $size; $i++)
+			{
+				$arr[] = $this->xmlrpc_decoder($xmlrpc_val->me['array'][$i]);
+			}
+			return $arr;
+		}
+		elseif($kind == 'struct')
+		{
+			reset($xmlrpc_val->me['struct']);
+			$arr = array();
+
+			while(list($key,$value) = each($xmlrpc_val->me['struct']))
+			{
+				$arr[$key] = $this->xmlrpc_decoder($value);
+			}
+			return $arr;
+		}
+	}
+	
+	
+	//-------------------------------------
+	//  ISO-8601 time to server or UTC time
+	//-------------------------------------
+
+	function iso8601_decode($time, $utc=0)
+	{
+		// return a timet in the localtime, or UTC
+		$t = 0;
+		if (preg_match('/([0-9]{4})([0-9]{2})([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})/', $time, $regs))
+		{
+			if ($utc == 1)
+				$t = gmmktime($regs[4], $regs[5], $regs[6], $regs[2], $regs[3], $regs[1]);
+			else
+				$t = mktime($regs[4], $regs[5], $regs[6], $regs[2], $regs[3], $regs[1]);
+		}
+		return $t;
+	}
+	
+} // End Response Class
+
+
+
+/**
+ * XML-RPC Message class
+ *
+ * @category	XML-RPC
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/xmlrpc.html
+ */
+class XML_RPC_Message extends CI_Xmlrpc
+{
+	var $payload;
+	var $method_name;
+	var $params			= array();
+	var $xh 			= array();
+
+	function XML_RPC_Message($method, $pars=0)
+	{
+		parent::CI_Xmlrpc();
+		
+		$this->method_name = $method;
+		if (is_array($pars) && sizeof($pars) > 0)
+		{
+			for($i=0; $i<sizeof($pars); $i++)
+			{
+				// $pars[$i] = XML_RPC_Values
+				$this->params[] = $pars[$i];
+			}
+		}
+	}
+	
+	//-------------------------------------
+	//  Create Payload to Send
+	//-------------------------------------
+	
+	function createPayload()
+	{
+		$this->payload = "<?xml version=\"1.0\"?".">\r\n<methodCall>\r\n";
+		$this->payload .= '<methodName>' . $this->method_name . "</methodName>\r\n";
+		$this->payload .= "<params>\r\n";
+		
+		for($i=0; $i<sizeof($this->params); $i++)
+		{
+			// $p = XML_RPC_Values
+			$p = $this->params[$i];
+			$this->payload .= "<param>\r\n".$p->serialize_class()."</param>\r\n";
+		}
+		
+		$this->payload .= "</params>\r\n</methodCall>\r\n";
+	}
+	
+	//-------------------------------------
+	//  Parse External XML-RPC Server's Response
+	//-------------------------------------
+	
+	function parseResponse($fp)
+	{
+		$data = '';
+		
+		while($datum = fread($fp, 4096))
+		{
+			$data .= $datum;
+		}
+		
+		//-------------------------------------
+		//  DISPLAY HTTP CONTENT for DEBUGGING
+		//-------------------------------------
+		
+		if ($this->debug === TRUE)
+		{
+			echo "<pre>";
+			echo "---DATA---\n" . htmlspecialchars($data) . "\n---END DATA---\n\n";
+			echo "</pre>";
+		}
+		
+		//-------------------------------------
+		//  Check for data
+		//-------------------------------------
+
+		if($data == "")
+		{
+			error_log($this->xmlrpcstr['no_data']);
+			$r = new XML_RPC_Response(0, $this->xmlrpcerr['no_data'], $this->xmlrpcstr['no_data']);
+			return $r;
+		}
+		
+		
+		//-------------------------------------
+		//  Check for HTTP 200 Response
+		//-------------------------------------
+		
+		if (strncmp($data, 'HTTP', 4) == 0 && ! preg_match('/^HTTP\/[0-9\.]+ 200 /', $data))
+		{
+			$errstr= substr($data, 0, strpos($data, "\n")-1);
+			$r = new XML_RPC_Response(0, $this->xmlrpcerr['http_error'], $this->xmlrpcstr['http_error']. ' (' . $errstr . ')');
+			return $r;
+		}
+		
+		//-------------------------------------
+		//  Create and Set Up XML Parser
+		//-------------------------------------
+	
+		$parser = xml_parser_create($this->xmlrpc_defencoding);
+
+		$this->xh[$parser]				 = array();
+		$this->xh[$parser]['isf']		 = 0;
+		$this->xh[$parser]['ac']		 = '';
+		$this->xh[$parser]['headers'] 	 = array();
+		$this->xh[$parser]['stack']		 = array();
+		$this->xh[$parser]['valuestack'] = array();
+		$this->xh[$parser]['isf_reason'] = 0;
+
+		xml_set_object($parser, $this);
+		xml_parser_set_option($parser, XML_OPTION_CASE_FOLDING, true);
+		xml_set_element_handler($parser, 'open_tag', 'closing_tag');
+		xml_set_character_data_handler($parser, 'character_data');
+		//xml_set_default_handler($parser, 'default_handler');
+
+
+		//-------------------------------------
+		//  GET HEADERS
+		//-------------------------------------
+		
+		$lines = explode("\r\n", $data);
+		while (($line = array_shift($lines)))
+		{
+			if (strlen($line) < 1)
+			{
+				break;
+			}
+			$this->xh[$parser]['headers'][] = $line;
+		}
+		$data = implode("\r\n", $lines);
+		
+		
+		//-------------------------------------
+		//  PARSE XML DATA
+		//-------------------------------------  	
+
+		if ( ! xml_parse($parser, $data, sizeof($data)))
+		{
+			$errstr = sprintf('XML error: %s at line %d',
+					xml_error_string(xml_get_error_code($parser)),
+					xml_get_current_line_number($parser));
+			//error_log($errstr);
+			$r = new XML_RPC_Response(0, $this->xmlrpcerr['invalid_return'], $this->xmlrpcstr['invalid_return']);
+			xml_parser_free($parser);
+			return $r;
+		}
+		xml_parser_free($parser);
+		
+		// ---------------------------------------
+		//  Got Ourselves Some Badness, It Seems
+		// ---------------------------------------
+		
+		if ($this->xh[$parser]['isf'] > 1)
+		{
+			if ($this->debug === TRUE)
+			{
+				echo "---Invalid Return---\n";
+				echo $this->xh[$parser]['isf_reason'];
+				echo "---Invalid Return---\n\n";
+			}
+				
+			$r = new XML_RPC_Response(0, $this->xmlrpcerr['invalid_return'],$this->xmlrpcstr['invalid_return'].' '.$this->xh[$parser]['isf_reason']);
+			return $r;
+		}
+		elseif ( ! is_object($this->xh[$parser]['value']))
+		{
+			$r = new XML_RPC_Response(0, $this->xmlrpcerr['invalid_return'],$this->xmlrpcstr['invalid_return'].' '.$this->xh[$parser]['isf_reason']);
+			return $r;
+		}
+		
+		//-------------------------------------
+		//  DISPLAY XML CONTENT for DEBUGGING
+		//-------------------------------------  	
+		
+		if ($this->debug === TRUE)
+		{
+			echo "<pre>";
+			
+			if (count($this->xh[$parser]['headers'] > 0))
+			{
+				echo "---HEADERS---\n";
+				foreach ($this->xh[$parser]['headers'] as $header)
+				{
+					echo "$header\n";
+				}
+				echo "---END HEADERS---\n\n";
+			}
+			
+			echo "---DATA---\n" . htmlspecialchars($data) . "\n---END DATA---\n\n";
+			
+			echo "---PARSED---\n" ;
+			var_dump($this->xh[$parser]['value']);
+			echo "\n---END PARSED---</pre>";
+		}
+		
+		//-------------------------------------
+		//  SEND RESPONSE
+		//-------------------------------------
+		
+		$v = $this->xh[$parser]['value'];
+			
+		if ($this->xh[$parser]['isf'])
+		{
+			$errno_v = $v->me['struct']['faultCode'];
+			$errstr_v = $v->me['struct']['faultString'];
+			$errno = $errno_v->scalarval();
+
+			if ($errno == 0)
+			{
+				// FAULT returned, errno needs to reflect that
+				$errno = -1;
+			}
+
+			$r = new XML_RPC_Response($v, $errno, $errstr_v->scalarval());
+		}
+		else
+		{
+			$r = new XML_RPC_Response($v);
+		}
+
+		$r->headers = $this->xh[$parser]['headers'];
+		return $r;
+	}
+	
+	// ------------------------------------
+	//  Begin Return Message Parsing section
+	// ------------------------------------
+	
+	// quick explanation of components:
+	//   ac - used to accumulate values
+	//   isf - used to indicate a fault
+	//   lv - used to indicate "looking for a value": implements
+	//		the logic to allow values with no types to be strings
+	//   params - used to store parameters in method calls
+	//   method - used to store method name
+	//	 stack - array with parent tree of the xml element,
+	//			 used to validate the nesting of elements
+
+	//-------------------------------------
+	//  Start Element Handler
+	//-------------------------------------
+
+	function open_tag($the_parser, $name, $attrs)
+	{
+		// If invalid nesting, then return
+		if ($this->xh[$the_parser]['isf'] > 1) return;
+		
+		// Evaluate and check for correct nesting of XML elements
+		
+		if (count($this->xh[$the_parser]['stack']) == 0)
+		{
+			if ($name != 'METHODRESPONSE' && $name != 'METHODCALL')
+			{
+				$this->xh[$the_parser]['isf'] = 2;
+				$this->xh[$the_parser]['isf_reason'] = 'Top level XML-RPC element is missing';
+				return;
+			}
+		}
+		else
+		{
+			// not top level element: see if parent is OK
+			if ( ! in_array($this->xh[$the_parser]['stack'][0], $this->valid_parents[$name], TRUE))
+			{
+				$this->xh[$the_parser]['isf'] = 2;
+				$this->xh[$the_parser]['isf_reason'] = "XML-RPC element $name cannot be child of ".$this->xh[$the_parser]['stack'][0];
+				return;
+			}
+		}
+		
+		switch($name)
+		{
+			case 'STRUCT':
+			case 'ARRAY':
+				// Creates array for child elements
+				
+				$cur_val = array('value' => array(),
+								 'type'	 => $name);
+								
+				array_unshift($this->xh[$the_parser]['valuestack'], $cur_val);
+			break;
+			case 'METHODNAME':
+			case 'NAME':
+				$this->xh[$the_parser]['ac'] = '';
+			break;
+			case 'FAULT':
+				$this->xh[$the_parser]['isf'] = 1;
+			break;
+			case 'PARAM':
+				$this->xh[$the_parser]['value'] = null;
+			break;
+			case 'VALUE':
+				$this->xh[$the_parser]['vt'] = 'value';
+				$this->xh[$the_parser]['ac'] = '';
+				$this->xh[$the_parser]['lv'] = 1;
+			break;
+			case 'I4':
+			case 'INT':
+			case 'STRING':
+			case 'BOOLEAN':
+			case 'DOUBLE':
+			case 'DATETIME.ISO8601':
+			case 'BASE64':
+				if ($this->xh[$the_parser]['vt'] != 'value')
+				{
+					//two data elements inside a value: an error occurred!
+					$this->xh[$the_parser]['isf'] = 2;
+					$this->xh[$the_parser]['isf_reason'] = "'Twas a $name element following a ".$this->xh[$the_parser]['vt']." element inside a single value";
+					return;
+				}
+				
+				$this->xh[$the_parser]['ac'] = '';
+			break;
+			case 'MEMBER':
+				// Set name of <member> to nothing to prevent errors later if no <name> is found
+				$this->xh[$the_parser]['valuestack'][0]['name'] = '';
+				
+				// Set NULL value to check to see if value passed for this param/member
+				$this->xh[$the_parser]['value'] = null;
+			break;
+			case 'DATA':
+			case 'METHODCALL':
+			case 'METHODRESPONSE':
+			case 'PARAMS':
+				// valid elements that add little to processing
+			break;
+			default:
+				/// An Invalid Element is Found, so we have trouble
+				$this->xh[$the_parser]['isf'] = 2;
+				$this->xh[$the_parser]['isf_reason'] = "Invalid XML-RPC element found: $name";
+			break;
+		}
+		
+		// Add current element name to stack, to allow validation of nesting
+		array_unshift($this->xh[$the_parser]['stack'], $name);
+
+		if ($name != 'VALUE') $this->xh[$the_parser]['lv'] = 0;
+	}
+	// END
+
+
+	//-------------------------------------
+	//  End Element Handler
+	//-------------------------------------
+
+	function closing_tag($the_parser, $name)
+	{
+		if ($this->xh[$the_parser]['isf'] > 1) return;
+		
+		// Remove current element from stack and set variable
+		// NOTE: If the XML validates, then we do not have to worry about
+		// the opening and closing of elements.  Nesting is checked on the opening
+		// tag so we be safe there as well.
+		
+		$curr_elem = array_shift($this->xh[$the_parser]['stack']);
+	
+		switch($name)
+		{
+			case 'STRUCT':
+			case 'ARRAY':
+				$cur_val = array_shift($this->xh[$the_parser]['valuestack']);
+				$this->xh[$the_parser]['value'] = ( ! isset($cur_val['values'])) ? array() : $cur_val['values'];
+				$this->xh[$the_parser]['vt']	= strtolower($name);
+			break;
+			case 'NAME':
+				$this->xh[$the_parser]['valuestack'][0]['name'] = $this->xh[$the_parser]['ac'];
+			break;
+			case 'BOOLEAN':
+			case 'I4':
+			case 'INT':
+			case 'STRING':
+			case 'DOUBLE':
+			case 'DATETIME.ISO8601':
+			case 'BASE64':
+				$this->xh[$the_parser]['vt'] = strtolower($name);
+				
+				if ($name == 'STRING')
+				{
+					$this->xh[$the_parser]['value'] = $this->xh[$the_parser]['ac'];
+				}
+				elseif ($name=='DATETIME.ISO8601')
+				{
+					$this->xh[$the_parser]['vt']	= $this->xmlrpcDateTime;
+					$this->xh[$the_parser]['value'] = $this->xh[$the_parser]['ac'];
+				}
+				elseif ($name=='BASE64')
+				{
+					$this->xh[$the_parser]['value'] = base64_decode($this->xh[$the_parser]['ac']);
+				}
+				elseif ($name=='BOOLEAN')
+				{
+					// Translated BOOLEAN values to TRUE AND FALSE
+					if ($this->xh[$the_parser]['ac'] == '1')
+					{
+						$this->xh[$the_parser]['value'] = TRUE;
+					}
+					else
+					{
+						$this->xh[$the_parser]['value'] = FALSE;
+					}
+				}
+				elseif ($name=='DOUBLE')
+				{
+					// we have a DOUBLE
+					// we must check that only 0123456789-.<space> are characters here
+					if ( ! preg_match('/^[+-]?[eE0-9\t \.]+$/', $this->xh[$the_parser]['ac']))
+					{
+						$this->xh[$the_parser]['value'] = 'ERROR_NON_NUMERIC_FOUND';
+					}
+					else
+					{
+						$this->xh[$the_parser]['value'] = (double)$this->xh[$the_parser]['ac'];
+					}
+				}
+				else
+				{
+					// we have an I4/INT
+					// we must check that only 0123456789-<space> are characters here
+					if ( ! preg_match('/^[+-]?[0-9\t ]+$/', $this->xh[$the_parser]['ac']))
+					{
+						$this->xh[$the_parser]['value'] = 'ERROR_NON_NUMERIC_FOUND';
+					}
+					else
+					{
+						$this->xh[$the_parser]['value'] = (int)$this->xh[$the_parser]['ac'];
+					}
+				}
+				$this->xh[$the_parser]['ac'] = '';
+				$this->xh[$the_parser]['lv'] = 3; // indicate we've found a value
+			break;
+			case 'VALUE':
+				// This if() detects if no scalar was inside <VALUE></VALUE>
+				if ($this->xh[$the_parser]['vt']=='value')
+				{
+					$this->xh[$the_parser]['value']	= $this->xh[$the_parser]['ac'];
+					$this->xh[$the_parser]['vt']	= $this->xmlrpcString;
+				}
+				
+				// build the XML-RPC value out of the data received, and substitute it
+				$temp = new XML_RPC_Values($this->xh[$the_parser]['value'], $this->xh[$the_parser]['vt']);
+				
+				if (count($this->xh[$the_parser]['valuestack']) && $this->xh[$the_parser]['valuestack'][0]['type'] == 'ARRAY')
+				{
+					// Array
+					$this->xh[$the_parser]['valuestack'][0]['values'][] = $temp;
+				}
+				else
+				{
+					// Struct
+					$this->xh[$the_parser]['value'] = $temp;
+				}
+			break;
+			case 'MEMBER':
+				$this->xh[$the_parser]['ac']='';
+				
+				// If value add to array in the stack for the last element built
+				if ($this->xh[$the_parser]['value'])
+				{
+					$this->xh[$the_parser]['valuestack'][0]['values'][$this->xh[$the_parser]['valuestack'][0]['name']] = $this->xh[$the_parser]['value'];
+				}
+			break;
+			case 'DATA':
+				$this->xh[$the_parser]['ac']='';
+			break;
+			case 'PARAM':
+				if ($this->xh[$the_parser]['value'])
+				{
+					$this->xh[$the_parser]['params'][] = $this->xh[$the_parser]['value'];
+				}
+			break;
+			case 'METHODNAME':
+				$this->xh[$the_parser]['method'] = ltrim($this->xh[$the_parser]['ac']);
+			break;
+			case 'PARAMS':
+			case 'FAULT':
+			case 'METHODCALL':
+			case 'METHORESPONSE':
+				// We're all good kids with nuthin' to do
+			break;
+			default:
+				// End of an Invalid Element.  Taken care of during the opening tag though
+			break;
+		}
+	}
+
+	//-------------------------------------
+	//  Parses Character Data
+	//-------------------------------------
+
+	function character_data($the_parser, $data)
+	{
+		if ($this->xh[$the_parser]['isf'] > 1) return; // XML Fault found already
+		
+		// If a value has not been found
+		if ($this->xh[$the_parser]['lv'] != 3)
+		{
+			if ($this->xh[$the_parser]['lv'] == 1)
+			{
+				$this->xh[$the_parser]['lv'] = 2; // Found a value
+			}
+				
+			if( ! @isset($this->xh[$the_parser]['ac']))
+			{
+				$this->xh[$the_parser]['ac'] = '';
+			}
+				
+			$this->xh[$the_parser]['ac'] .= $data;
+		}
+	}
+	
+	
+	function addParam($par) { $this->params[]=$par; }
+	
+	function output_parameters($array=FALSE)
+	{
+		$CI =& get_instance();	
+
+		if ($array !== FALSE && is_array($array))
+		{
+			while (list($key) = each($array))
+			{
+				if (is_array($array[$key]))
+				{
+					$array[$key] = $this->output_parameters($array[$key]);
+				}
+				else
+				{
+					$array[$key] = $CI->input->xss_clean($array[$key]);
+				}
+			}
+			
+			$parameters = $array;
+		}
+		else
+		{
+			$parameters = array();
+		
+			for ($i = 0; $i < sizeof($this->params); $i++)
+			{
+				$a_param = $this->decode_message($this->params[$i]);
+				
+				if (is_array($a_param))
+				{
+					$parameters[] = $this->output_parameters($a_param);
+				}
+				else
+				{
+					$parameters[] = $CI->input->xss_clean($a_param);
+				}
+			}	
+		}
+		
+		return $parameters;
+	}
+	
+	
+	function decode_message($param)
+	{
+		$kind = $param->kindOf();
+
+		if($kind == 'scalar')
+		{
+			return $param->scalarval();
+		}
+		elseif($kind == 'array')
+		{
+			reset($param->me);
+			list($a,$b) = each($param->me);
+			
+			$arr = array();
+
+			for($i = 0; $i < sizeof($b); $i++)
+			{
+				$arr[] = $this->decode_message($param->me['array'][$i]);
+			}
+			
+			return $arr;
+		}
+		elseif($kind == 'struct')
+		{
+			reset($param->me['struct']);
+			
+			$arr = array();
+
+			while(list($key,$value) = each($param->me['struct']))
+			{
+				$arr[$key] = $this->decode_message($value);
+			}
+			
+			return $arr;
+		}
+	}
+	
+} // End XML_RPC_Messages class
+
+
+
+/**
+ * XML-RPC Values class
+ *
+ * @category	XML-RPC
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/xmlrpc.html
+ */
+class XML_RPC_Values extends CI_Xmlrpc
+{
+	var $me 	= array();
+	var $mytype	= 0;
+
+	function XML_RPC_Values($val=-1, $type='')
+	{	
+		parent::CI_Xmlrpc();
+		
+		if ($val != -1 OR $type != '')
+		{
+			$type = $type == '' ? 'string' : $type;
+			
+			if ($this->xmlrpcTypes[$type] == 1)
+			{
+				$this->addScalar($val,$type);
+			}
+			elseif ($this->xmlrpcTypes[$type] == 2)
+			{
+				$this->addArray($val);
+			}
+			elseif ($this->xmlrpcTypes[$type] == 3)
+			{
+				$this->addStruct($val);
+			}
+		}
+	}
+
+	function addScalar($val, $type='string')
+	{
+		$typeof = $this->xmlrpcTypes[$type];
+		
+		if ($this->mytype==1)
+		{
+			echo '<strong>XML_RPC_Values</strong>: scalar can have only one value<br />';
+			return 0;
+		}
+		
+		if ($typeof != 1)
+		{
+			echo '<strong>XML_RPC_Values</strong>: not a scalar type (${typeof})<br />';
+			return 0;
+		}
+
+		if ($type == $this->xmlrpcBoolean)
+		{
+			if (strcasecmp($val,'true')==0 OR $val==1 OR ($val==true && strcasecmp($val,'false')))
+			{
+				$val = 1;
+			}
+			else
+			{
+				$val=0;
+			}
+		}
+
+		if ($this->mytype == 2)
+		{
+			// adding to an array here
+			$ar = $this->me['array'];
+			$ar[] = new XML_RPC_Values($val, $type);
+			$this->me['array'] = $ar;
+		}
+		else
+		{
+			// a scalar, so set the value and remember we're scalar
+			$this->me[$type] = $val;
+			$this->mytype = $typeof;
+		}
+		return 1;
+	}
+
+	function addArray($vals)
+	{
+		if ($this->mytype != 0)
+		{
+			echo '<strong>XML_RPC_Values</strong>: already initialized as a [' . $this->kindOf() . ']<br />';
+			return 0;
+		}
+
+		$this->mytype = $this->xmlrpcTypes['array'];
+		$this->me['array'] = $vals;
+		return 1;
+	}
+
+	function addStruct($vals)
+	{
+		if ($this->mytype != 0)
+		{
+			echo '<strong>XML_RPC_Values</strong>: already initialized as a [' . $this->kindOf() . ']<br />';
+			return 0;
+		}
+		$this->mytype = $this->xmlrpcTypes['struct'];
+		$this->me['struct'] = $vals;
+		return 1;
+	}
+
+	function kindOf()
+	{
+		switch($this->mytype)
+		{
+			case 3:
+				return 'struct';
+				break;
+			case 2:
+				return 'array';
+				break;
+			case 1:
+				return 'scalar';
+				break;
+			default:
+				return 'undef';
+		}
+	}
+
+	function serializedata($typ, $val)
+	{
+		$rs = '';
+		
+		switch($this->xmlrpcTypes[$typ])
+		{
+			case 3:
+				// struct
+				$rs .= "<struct>\n";
+				reset($val);
+				while(list($key2, $val2) = each($val))
+				{
+					$rs .= "<member>\n<name>{$key2}</name>\n";
+					$rs .= $this->serializeval($val2);
+					$rs .= "</member>\n";
+				}
+				$rs .= '</struct>';
+			break;
+			case 2:
+				// array
+				$rs .= "<array>\n<data>\n";
+				for($i=0; $i < sizeof($val); $i++)
+				{
+					$rs .= $this->serializeval($val[$i]);
+				}
+				$rs.="</data>\n</array>\n";
+				break;
+			case 1:
+				// others
+				switch ($typ)
+				{
+					case $this->xmlrpcBase64:
+						$rs .= "<{$typ}>" . base64_encode($val) . "</{$typ}>\n";
+					break;
+					case $this->xmlrpcBoolean:
+						$rs .= "<{$typ}>" . ($val ? '1' : '0') . "</{$typ}>\n";
+					break;
+					case $this->xmlrpcString:
+						$rs .= "<{$typ}>" . htmlspecialchars($val). "</{$typ}>\n";
+					break;
+					default:
+						$rs .= "<{$typ}>{$val}</{$typ}>\n";
+					break;
+				}
+			default:
+			break;
+		}
+		return $rs;
+	}
+
+	function serialize_class()
+	{
+		return $this->serializeval($this);
+	}
+
+	function serializeval($o)
+	{
+		$ar = $o->me;
+		reset($ar);
+		
+		list($typ, $val) = each($ar);
+		$rs = "<value>\n".$this->serializedata($typ, $val)."</value>\n";
+		return $rs;
+	}
+	
+	function scalarval()
+	{
+		reset($this->me);
+		list($a,$b) = each($this->me);
+		return $b;
+	}
+
+
+	//-------------------------------------
+	// Encode time in ISO-8601 form.
+	//-------------------------------------
+	
+	// Useful for sending time in XML-RPC
+
+	function iso8601_encode($time, $utc=0)
+	{	
+		if ($utc == 1)
+		{
+			$t = strftime("%Y%m%dT%H:%M:%S", $time);
+		}
+		else
+		{
+			if (function_exists('gmstrftime'))
+				$t = gmstrftime("%Y%m%dT%H:%M:%S", $time);
+			else
+				$t = strftime("%Y%m%dT%H:%M:%S", $time - date('Z'));
+		}
+		return $t;
+	}
+	
+}
+// END XML_RPC_Values Class
+
+/* End of file Xmlrpc.php */
+/* Location: ./system/libraries/Xmlrpc.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Xmlrpcs.php
===================================================================
--- trunk/pintassilgo/system/libraries/Xmlrpcs.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Xmlrpcs.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,536 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+if ( ! function_exists('xml_parser_create'))
+{	
+	show_error('Your PHP installation does not support XML');
+}
+
+if ( ! class_exists('CI_Xmlrpc'))
+{
+	show_error('You must load the Xmlrpc class before loading the Xmlrpcs class in order to create a server.');
+}
+
+// ------------------------------------------------------------------------
+
+/**
+ * XML-RPC server class
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	XML-RPC
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/xmlrpc.html
+ */
+class CI_Xmlrpcs extends CI_Xmlrpc
+{
+	var $methods		= array(); 	//array of methods mapped to function names and signatures
+	var $debug_msg		= '';		// Debug Message
+	var $system_methods = array(); // XML RPC Server methods
+	var $controller_obj;
+
+	var $object			= FALSE;
+	
+	
+	//-------------------------------------
+	//  Constructor, more or less
+	//-------------------------------------
+
+	function CI_Xmlrpcs($config=array())
+	{	
+		parent::CI_Xmlrpc();
+		$this->set_system_methods();
+	
+		if (isset($config['functions']) && is_array($config['functions']))
+		{
+			$this->methods = array_merge($this->methods, $config['functions']);
+		}
+		
+		log_message('debug', "XML-RPC Server Class Initialized");
+	}
+	
+	//-------------------------------------
+	//  Initialize Prefs and Serve
+	//-------------------------------------
+	
+	function initialize($config=array())
+	{	
+		if (isset($config['functions']) && is_array($config['functions']))
+		{
+			$this->methods = array_merge($this->methods, $config['functions']);
+		}
+		
+		if (isset($config['debug']))
+		{
+			$this->debug = $config['debug'];
+		}
+		
+		if (isset($config['object']) && is_object($config['object']))
+		{
+			$this->object = $config['object'];
+		}
+	}
+	
+	//-------------------------------------
+	//  Setting of System Methods
+	//-------------------------------------
+	
+	function set_system_methods ()
+	{
+		$this->methods = array(
+					'system.listMethods'	 => array(
+													'function' => 'this.listMethods',
+													'signature' => array(array($this->xmlrpcArray, $this->xmlrpcString), array($this->xmlrpcArray)),
+													'docstring' => 'Returns an array of available methods on this server'),
+					'system.methodHelp'		 => array(
+													'function' => 'this.methodHelp',
+													'signature' => array(array($this->xmlrpcString, $this->xmlrpcString)),
+													'docstring' => 'Returns a documentation string for the specified method'),
+					'system.methodSignature' => array(
+													'function' => 'this.methodSignature',
+													'signature' => array(array($this->xmlrpcArray, $this->xmlrpcString)),
+													'docstring' => 'Returns an array describing the return type and required parameters of a method'),
+					'system.multicall'		 => array(
+												'function' => 'this.multicall',
+												'signature' => array(array($this->xmlrpcArray, $this->xmlrpcArray)),
+												'docstring' => 'Combine multiple RPC calls in one request. See http://www.xmlrpc.com/discuss/msgReader$1208 for details')
+					);
+	}
+
+
+	//-------------------------------------
+	//  Main Server Function
+	//-------------------------------------
+	
+	function serve()
+	{
+		$r = $this->parseRequest();
+		$payload  = '<?xml version="1.0" encoding="'.$this->xmlrpc_defencoding.'"?'.'>'."\n";
+		$payload .= $this->debug_msg;
+		$payload .= $r->prepare_response();
+		
+		header("Content-Type: text/xml");
+		header("Content-Length: ".strlen($payload));
+		echo $payload;
+	}
+
+	//-------------------------------------
+	//  Add Method to Class
+	//-------------------------------------
+	
+	function add_to_map($methodname,$function,$sig,$doc)
+	{
+		$this->methods[$methodname] = array(
+			'function'  => $function,
+			'signature' => $sig,
+			'docstring' => $doc
+		);
+	}
+
+
+	//-------------------------------------
+	//  Parse Server Request
+	//-------------------------------------
+	
+	function parseRequest($data='')
+	{
+		global $HTTP_RAW_POST_DATA;
+		
+		//-------------------------------------
+		//  Get Data
+		//-------------------------------------
+
+		if ($data == '')
+		{
+			$data = $HTTP_RAW_POST_DATA;
+		}
+
+		//-------------------------------------
+		//  Set up XML Parser
+		//-------------------------------------
+		
+		$parser = xml_parser_create($this->xmlrpc_defencoding);
+		$parser_object = new XML_RPC_Message("filler");
+		
+		$parser_object->xh[$parser]					= array();
+		$parser_object->xh[$parser]['isf']			= 0;
+		$parser_object->xh[$parser]['isf_reason']	= '';
+		$parser_object->xh[$parser]['params']		= array();
+		$parser_object->xh[$parser]['stack']		= array();
+		$parser_object->xh[$parser]['valuestack']	= array();
+		$parser_object->xh[$parser]['method']		= '';
+
+		xml_set_object($parser, $parser_object);
+		xml_parser_set_option($parser, XML_OPTION_CASE_FOLDING, true);
+		xml_set_element_handler($parser, 'open_tag', 'closing_tag');
+		xml_set_character_data_handler($parser, 'character_data');
+		//xml_set_default_handler($parser, 'default_handler');
+		
+		
+		//-------------------------------------
+		//  PARSE + PROCESS XML DATA
+		//-------------------------------------  	
+		
+		if ( ! xml_parse($parser, $data, 1))
+		{
+			// return XML error as a faultCode
+			$r = new XML_RPC_Response(0,
+			$this->xmlrpcerrxml + xml_get_error_code($parser),
+			sprintf('XML error: %s at line %d',
+				xml_error_string(xml_get_error_code($parser)),
+				xml_get_current_line_number($parser)));
+			xml_parser_free($parser);
+		}
+		elseif($parser_object->xh[$parser]['isf'])
+		{
+			return new XML_RPC_Response(0, $this->xmlrpcerr['invalid_return'], $this->xmlrpcstr['invalid_return']);
+		}
+		else
+		{
+			xml_parser_free($parser);
+			
+			$m = new XML_RPC_Message($parser_object->xh[$parser]['method']);
+			$plist='';
+			
+			for($i=0; $i < sizeof($parser_object->xh[$parser]['params']); $i++)
+			{
+				if ($this->debug === TRUE)
+				{
+					$plist .= "$i - " .  print_r(get_object_vars($parser_object->xh[$parser]['params'][$i]), TRUE). ";\n";
+				}
+				
+				$m->addParam($parser_object->xh[$parser]['params'][$i]);
+			}
+			
+			if ($this->debug === TRUE)
+			{
+				echo "<pre>";
+				echo "---PLIST---\n" . $plist . "\n---PLIST END---\n\n";
+				echo "</pre>";
+			}
+			
+			$r = $this->_execute($m);
+		}
+		
+		//-------------------------------------
+		//  SET DEBUGGING MESSAGE
+		//-------------------------------------  	
+		
+		if ($this->debug === TRUE)
+		{
+			$this->debug_msg = "<!-- DEBUG INFO:\n\n".$plist."\n END DEBUG-->\n";
+		}
+		
+		return $r;
+	}
+
+	//-------------------------------------
+	//  Executes the Method
+	//-------------------------------------
+	
+	function _execute($m)
+	{
+		$methName = $m->method_name;
+		
+		// Check to see if it is a system call
+		$system_call = (strncmp($methName, 'system', 5) == 0) ? TRUE : FALSE;
+		
+		//-------------------------------------
+		//  Valid Method
+		//-------------------------------------
+		
+		if ( ! isset($this->methods[$methName]['function']))
+		{
+			return new XML_RPC_Response(0, $this->xmlrpcerr['unknown_method'], $this->xmlrpcstr['unknown_method']);
+		}
+		
+		//-------------------------------------
+		//  Check for Method (and Object)
+		//-------------------------------------
+			
+		$method_parts = explode(".", $this->methods[$methName]['function']);
+		$objectCall = (isset($method_parts['1']) && $method_parts['1'] != "") ? TRUE : FALSE;
+		
+		if ($system_call === TRUE)
+		{
+			if ( ! is_callable(array($this,$method_parts['1'])))
+			{
+				return new XML_RPC_Response(0, $this->xmlrpcerr['unknown_method'], $this->xmlrpcstr['unknown_method']);
+			}
+		}
+		else
+		{
+			if ($objectCall && ! is_callable(array($method_parts['0'],$method_parts['1'])))
+			{
+				return new XML_RPC_Response(0, $this->xmlrpcerr['unknown_method'], $this->xmlrpcstr['unknown_method']);
+			}
+			elseif ( ! $objectCall && ! is_callable($this->methods[$methName]['function']))
+			{
+				return new XML_RPC_Response(0, $this->xmlrpcerr['unknown_method'], $this->xmlrpcstr['unknown_method']);
+			}
+		}
+		
+		//-------------------------------------
+		//  Checking Methods Signature
+		//-------------------------------------
+		
+		if (isset($this->methods[$methName]['signature']))
+		{
+			$sig = $this->methods[$methName]['signature'];
+			for($i=0; $i<sizeof($sig); $i++)
+			{
+				$current_sig = $sig[$i];
+		
+				if (sizeof($current_sig) == sizeof($m->params)+1)
+				{
+					for($n=0; $n < sizeof($m->params); $n++)
+					{
+						$p = $m->params[$n];
+						$pt = ($p->kindOf() == 'scalar') ? $p->scalarval() : $p->kindOf();
+						
+						if ($pt != $current_sig[$n+1])
+						{
+							$pno = $n+1;
+							$wanted = $current_sig[$n+1];
+							
+							return new XML_RPC_Response(0,
+								$this->xmlrpcerr['incorrect_params'],
+								$this->xmlrpcstr['incorrect_params'] .
+								": Wanted {$wanted}, got {$pt} at param {$pno})");
+						}
+					}
+				}
+			}
+		}
+
+		//-------------------------------------
+		//  Calls the Function
+		//-------------------------------------
+
+		if ($objectCall === TRUE)
+		{
+			if ($method_parts[0] == "this" && $system_call == TRUE)
+			{
+				return call_user_func(array($this, $method_parts[1]), $m);
+			}
+			else
+			{
+				if ($this->object === FALSE)
+				{
+					$CI =& get_instance();
+					return $CI->$method_parts['1']($m);
+				}
+				else
+				{
+					return $this->object->$method_parts['1']($m);
+					//return call_user_func(array(&$method_parts['0'],$method_parts['1']), $m);
+				}
+			}
+		}
+		else
+		{
+			return call_user_func($this->methods[$methName]['function'], $m);
+		}
+	}
+	
+	
+	//-------------------------------------
+	//  Server Function:  List Methods
+	//-------------------------------------
+	
+	function listMethods($m)
+	{
+		$v = new XML_RPC_Values();
+		$output = array();
+		
+		foreach($this->methods as $key => $value)
+		{
+			$output[] = new XML_RPC_Values($key, 'string');
+		}
+		
+		foreach($this->system_methods as $key => $value)
+		{
+			$output[]= new XML_RPC_Values($key, 'string');
+		}
+
+		$v->addArray($output);
+		return new XML_RPC_Response($v);
+	}
+	
+	//-------------------------------------
+	//  Server Function:  Return Signature for Method
+	//-------------------------------------
+		
+	function methodSignature($m)
+	{
+		$parameters = $m->output_parameters();
+		$method_name = $parameters[0];
+		
+		if (isset($this->methods[$method_name]))
+		{
+			if ($this->methods[$method_name]['signature'])
+			{
+				$sigs = array();
+				$signature = $this->methods[$method_name]['signature'];
+				
+				for($i=0; $i < sizeof($signature); $i++)
+				{
+					$cursig = array();
+					$inSig = $signature[$i];
+					for($j=0; $j<sizeof($inSig); $j++)
+					{
+						$cursig[]= new XML_RPC_Values($inSig[$j], 'string');
+					}
+					$sigs[]= new XML_RPC_Values($cursig, 'array');
+				}
+				$r = new XML_RPC_Response(new XML_RPC_Values($sigs, 'array'));
+			}
+			else
+			{
+				$r = new XML_RPC_Response(new XML_RPC_Values('undef', 'string'));
+			}
+		}
+		else
+		{
+			$r = new XML_RPC_Response(0,$this->xmlrpcerr['introspect_unknown'], $this->xmlrpcstr['introspect_unknown']);
+		}
+		return $r;
+	}
+	
+	//-------------------------------------
+	//  Server Function:  Doc String for Method
+	//-------------------------------------
+	
+	function methodHelp($m)
+	{
+		$parameters = $m->output_parameters();
+		$method_name = $parameters[0];
+	
+		if (isset($this->methods[$method_name]))
+		{
+			$docstring = isset($this->methods[$method_name]['docstring']) ? $this->methods[$method_name]['docstring'] : '';
+			
+			return new XML_RPC_Response(new XML_RPC_Values($docstring, 'string'));
+		}
+		else
+		{
+			return new XML_RPC_Response(0, $this->xmlrpcerr['introspect_unknown'], $this->xmlrpcstr['introspect_unknown']);
+		}
+	}
+
+	//-------------------------------------
+	//  Server Function:  Multi-call
+	//-------------------------------------
+
+	function multicall($m)
+	{
+		// Disabled
+		return new XML_RPC_Response(0, $this->xmlrpcerr['unknown_method'], $this->xmlrpcstr['unknown_method']);
+		
+		$parameters = $m->output_parameters();
+		$calls = $parameters[0];
+
+		$result = array();
+
+		foreach ($calls as $value)
+		{
+			//$attempt = $this->_execute(new XML_RPC_Message($value[0], $value[1]));
+			
+			$m = new XML_RPC_Message($value[0]);
+			$plist='';
+			
+			for($i=0; $i < sizeof($value[1]); $i++)
+			{
+				$m->addParam(new XML_RPC_Values($value[1][$i], 'string'));
+			}
+			
+			$attempt = $this->_execute($m);
+
+			if ($attempt->faultCode() != 0)
+			{
+				return $attempt;
+			}
+
+			$result[] = new XML_RPC_Values(array($attempt->value()), 'array');
+		}
+
+		return new XML_RPC_Response(new XML_RPC_Values($result, 'array'));
+	}
+	
+	
+	//-------------------------------------
+	//  Multi-call Function:  Error Handling
+	//-------------------------------------
+
+	function multicall_error($err)
+	{
+		$str  = is_string($err) ? $this->xmlrpcstr["multicall_${err}"] : $err->faultString();
+		$code = is_string($err) ? $this->xmlrpcerr["multicall_${err}"] : $err->faultCode();
+		
+		$struct['faultCode'] = new XML_RPC_Values($code, 'int');
+		$struct['faultString'] = new XML_RPC_Values($str, 'string');
+	
+		return new XML_RPC_Values($struct, 'struct');
+	}
+	
+	
+	//-------------------------------------
+	//  Multi-call Function:  Processes method
+	//-------------------------------------
+	
+	function do_multicall($call)
+	{
+		if ($call->kindOf() != 'struct')
+			return $this->multicall_error('notstruct');
+		elseif ( ! $methName = $call->me['struct']['methodName'])
+			return $this->multicall_error('nomethod');
+		
+		list($scalar_type,$scalar_value)=each($methName->me);
+		$scalar_type = $scalar_type == $this->xmlrpcI4 ? $this->xmlrpcInt : $scalar_type;
+			
+		if ($methName->kindOf() != 'scalar' OR $scalar_type != 'string')
+			return $this->multicall_error('notstring');
+		elseif ($scalar_value == 'system.multicall')
+			return $this->multicall_error('recursion');
+		elseif ( ! $params = $call->me['struct']['params'])
+			return $this->multicall_error('noparams');
+		elseif ($params->kindOf() != 'array')
+			return $this->multicall_error('notarray');
+			
+		list($a,$b)=each($params->me);
+		$numParams = sizeof($b);
+
+		$msg = new XML_RPC_Message($scalar_value);
+		for ($i = 0; $i < $numParams; $i++)
+		{
+			$msg->params[] = $params->me['array'][$i];
+		}
+
+		$result = $this->_execute($msg);
+
+		if ($result->faultCode() != 0)
+		{
+			return $this->multicall_error($result);
+		}
+
+		return new XML_RPC_Values(array($result->value()), 'array');
+	}	
+	
+}
+// END XML_RPC_Server class
+
+
+/* End of file Xmlrpcs.php */
+/* Location: ./system/libraries/Xmlrpcs.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/Zip.php
===================================================================
--- trunk/pintassilgo/system/libraries/Zip.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/Zip.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,359 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Zip Compression Class
+ *
+ * This class is based on a library I found at Zend:
+ * http://www.zend.com/codex.php?id=696&single=1
+ *
+ * The original library is a little rough around the edges so I
+ * refactored it and added several additional methods -- Rick Ellis
+ *
+ * @package		CodeIgniter
+ * @subpackage	Libraries
+ * @category	Encryption
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/libraries/zip.html
+ */
+class CI_Zip  {
+
+	var $zipdata 	= '';
+	var $directory 	= '';
+	var $entries 	= 0;
+	var $file_num 	= 0;
+	var $offset		= 0;
+
+	function CI_Zip()
+	{
+		log_message('debug', "Zip Compression Class Initialized");
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Add Directory
+	 *
+	 * Lets you add a virtual directory into which you can place files.
+	 *
+	 * @access	public
+	 * @param	mixed	the directory name. Can be string or array
+	 * @return	void
+	 */
+	function add_dir($directory)
+	{
+		foreach ((array)$directory as $dir)
+		{
+			if ( ! preg_match("|.+/$|", $dir))
+			{
+				$dir .= '/';
+			}
+
+			$this->_add_dir($dir);
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Add Directory
+	 *
+	 * @access	private
+	 * @param	string	the directory name
+	 * @return	void
+	 */
+	function _add_dir($dir)
+	{
+		$dir = str_replace("\\", "/", $dir);
+
+		$this->zipdata .=
+			"\x50\x4b\x03\x04\x0a\x00\x00\x00\x00\x00\x00\x00\x00\x00"
+			.pack('V', 0) // crc32
+			.pack('V', 0) // compressed filesize
+			.pack('V', 0) // uncompressed filesize
+			.pack('v', strlen($dir)) // length of pathname
+			.pack('v', 0) // extra field length
+			.$dir
+			// below is "data descriptor" segment
+			.pack('V', 0) // crc32
+			.pack('V', 0) // compressed filesize
+			.pack('V', 0); // uncompressed filesize
+
+		$this->directory .=
+			"\x50\x4b\x01\x02\x00\x00\x0a\x00\x00\x00\x00\x00\x00\x00\x00\x00"
+			.pack('V',0) // crc32
+			.pack('V',0) // compressed filesize
+			.pack('V',0) // uncompressed filesize
+			.pack('v', strlen($dir)) // length of pathname
+			.pack('v', 0) // extra field length
+			.pack('v', 0) // file comment length
+			.pack('v', 0) // disk number start
+			.pack('v', 0) // internal file attributes
+			.pack('V', 16) // external file attributes - 'directory' bit set
+			.pack('V', $this->offset) // relative offset of local header
+			.$dir;
+
+		$this->offset = strlen($this->zipdata);
+		$this->entries++;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Add Data to Zip
+	 *
+	 * Lets you add files to the archive. If the path is included
+	 * in the filename it will be placed within a directory.  Make
+	 * sure you use add_dir() first to create the folder.
+	 *
+	 * @access	public
+	 * @param	mixed
+	 * @param	string
+	 * @return	void
+	 */	
+	function add_data($filepath, $data = NULL)
+	{
+		if (is_array($filepath))
+		{
+			foreach ($filepath as $path => $data)
+			{
+				$this->_add_data($path, $data);
+			}
+		}
+		else
+		{
+			$this->_add_data($filepath, $data);
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Add Data to Zip
+	 *
+	 * @access	private
+	 * @param	string	the file name/path
+	 * @param	string	the data to be encoded
+	 * @return	void
+	 */	
+	function _add_data($filepath, $data)
+	{
+		$filepath = str_replace("\\", "/", $filepath);
+
+		$uncompressed_size = strlen($data);
+		$crc32  = crc32($data);
+
+		$gzdata = gzcompress($data);
+		$gzdata = substr($gzdata, 2, -4);
+		$compressed_size = strlen($gzdata);
+
+		$this->zipdata .=
+			"\x50\x4b\x03\x04\x14\x00\x00\x00\x08\x00\x00\x00\x00\x00"
+			.pack('V', $crc32)
+			.pack('V', $compressed_size)
+			.pack('V', $uncompressed_size)
+			.pack('v', strlen($filepath)) // length of filename
+			.pack('v', 0) // extra field length
+			.$filepath
+			.$gzdata; // "file data" segment
+
+		$this->directory .=
+			"\x50\x4b\x01\x02\x00\x00\x14\x00\x00\x00\x08\x00\x00\x00\x00\x00"
+			.pack('V', $crc32)
+			.pack('V', $compressed_size)
+			.pack('V', $uncompressed_size)
+			.pack('v', strlen($filepath)) // length of filename
+			.pack('v', 0) // extra field length
+			.pack('v', 0) // file comment length
+			.pack('v', 0) // disk number start
+			.pack('v', 0) // internal file attributes
+			.pack('V', 32) // external file attributes - 'archive' bit set
+			.pack('V', $this->offset) // relative offset of local header
+			.$filepath;
+
+		$this->offset = strlen($this->zipdata);
+		$this->entries++;
+		$this->file_num++;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Read the contents of a file and add it to the zip
+	 *
+	 * @access	public
+	 * @return	bool
+	 */	
+	function read_file($path, $preserve_filepath = FALSE)
+	{
+		if ( ! file_exists($path))
+		{
+			return FALSE;
+		}
+
+		if (FALSE !== ($data = file_get_contents($path)))
+		{
+			$name = str_replace("\\", "/", $path);
+			
+			if ($preserve_filepath === FALSE)
+			{
+				$name = preg_replace("|.*/(.+)|", "\\1", $name);
+			}
+
+			$this->add_data($name, $data);
+			return TRUE;
+		}
+		return FALSE;
+	}
+
+	// ------------------------------------------------------------------------
+	
+	/**
+	 * Read a directory and add it to the zip.
+	 *
+	 * This function recursively reads a folder and everything it contains (including
+	 * sub-folders) and creates a zip based on it.  Whatever directory structure
+	 * is in the original file path will be recreated in the zip file.
+	 *
+	 * @access	public
+	 * @param	string	path to source
+	 * @return	bool
+	 */	
+	function read_dir($path)
+	{	
+		if ($fp = @opendir($path))
+		{
+			while (FALSE !== ($file = readdir($fp)))
+			{
+				if (@is_dir($path.$file) && substr($file, 0, 1) != '.')
+				{					
+					$this->read_dir($path.$file."/");
+				}
+				elseif (substr($file, 0, 1) != ".")
+				{
+					if (FALSE !== ($data = file_get_contents($path.$file)))
+					{						
+						$this->add_data(str_replace("\\", "/", $path).$file, $data);
+					}
+				}
+			}
+			return TRUE;
+		}
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Get the Zip file
+	 *
+	 * @access	public
+	 * @return	binary string
+	 */	
+	function get_zip()
+	{
+		// Is there any data to return?
+		if ($this->entries == 0)
+		{
+			return FALSE;
+		}
+
+		$zip_data = $this->zipdata;
+		$zip_data .= $this->directory."\x50\x4b\x05\x06\x00\x00\x00\x00";
+		$zip_data .= pack('v', $this->entries); // total # of entries "on this disk"
+		$zip_data .= pack('v', $this->entries); // total # of entries overall
+		$zip_data .= pack('V', strlen($this->directory)); // size of central dir
+		$zip_data .= pack('V', strlen($this->zipdata)); // offset to start of central dir
+		$zip_data .= "\x00\x00"; // .zip file comment length
+
+		return $zip_data;
+	}
+	
+	// --------------------------------------------------------------------
+
+	/**
+	 * Write File to the specified directory
+	 *
+	 * Lets you write a file
+	 *
+	 * @access	public
+	 * @param	string	the file name
+	 * @return	bool
+	 */	
+	function archive($filepath)
+	{
+		if ( ! ($fp = @fopen($filepath, FOPEN_WRITE_CREATE_DESTRUCTIVE)))
+		{
+			return FALSE;
+		}
+
+		flock($fp, LOCK_EX);	
+		fwrite($fp, $this->get_zip());
+		flock($fp, LOCK_UN);
+		fclose($fp);
+
+		return TRUE;	
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Download
+	 *
+	 * @access	public
+	 * @param	string	the file name
+	 * @param	string	the data to be encoded
+	 * @return	bool
+	 */
+	function download($filename = 'backup.zip')
+	{
+		if ( ! preg_match("|.+?\.zip$|", $filename))
+		{
+			$filename .= '.zip';
+		}
+
+		$zip_content =& $this->get_zip();
+
+		$CI =& get_instance();
+		$CI->load->helper('download');
+
+		force_download($filename, $zip_content);
+	}
+
+	// --------------------------------------------------------------------
+
+	/**
+	 * Initialize Data
+	 *
+	 * Lets you clear current zip data.  Useful if you need to create
+	 * multiple zips with different data.
+	 *
+	 * @access	public
+	 * @return	void
+	 */		
+	function clear_data()
+	{
+		$this->zipdata		= '';
+		$this->directory	= '';
+		$this->entries		= 0;
+		$this->file_num		= 0;
+		$this->offset		= 0;
+	}
+	
+}
+
+/* End of file Zip.php */
+/* Location: ./system/libraries/Zip.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/libraries/index.html
===================================================================
--- trunk/pintassilgo/system/libraries/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/libraries/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/logs/index.html
===================================================================
--- trunk/pintassilgo/system/logs/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/logs/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/plugins/captcha_pi.php
===================================================================
--- trunk/pintassilgo/system/plugins/captcha_pi.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/plugins/captcha_pi.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,356 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/*
+Instructions:
+
+Load the plugin using:
+
+ 	$this->load->plugin('captcha');
+
+Once loaded you can generate a captcha like this:
+	
+	$vals = array(
+					'word'		 => 'Random word',
+					'img_path'	 => './captcha/',
+					'img_url'	 => 'http://example.com/captcha/',
+					'font_path'	 => './system/fonts/texb.ttf',
+					'img_width'	 => '150',
+					'img_height' => 30,
+					'expiration' => 7200
+				);
+	
+	$cap = create_captcha($vals);
+	echo $cap['image'];
+	
+
+NOTES:
+	
+	The captcha function requires the GD image library.
+	
+	Only the img_path and img_url are required.
+	
+	If a "word" is not supplied, the function will generate a random
+	ASCII string.  You might put together your own word library that
+	you can draw randomly from.
+	
+	If you do not specify a path to a TRUE TYPE font, the native ugly GD
+	font will be used.
+	
+	The "captcha" folder must be writable (666, or 777)
+	
+	The "expiration" (in seconds) signifies how long an image will
+	remain in the captcha folder before it will be deleted.  The default
+	is two hours.
+
+RETURNED DATA
+
+The create_captcha() function returns an associative array with this data:
+
+  [array]
+  (
+	'image' => IMAGE TAG
+	'time'	=> TIMESTAMP (in microtime)
+	'word'	=> CAPTCHA WORD
+  )
+
+The "image" is the actual image tag:
+<img src="http://example.com/captcha/12345.jpg" width="140" height="50" />
+
+The "time" is the micro timestamp used as the image name without the file
+extension.  It will be a number like this:  1139612155.3422
+
+The "word" is the word that appears in the captcha image, which if not
+supplied to the function, will be a random string.
+
+
+ADDING A DATABASE
+
+In order for the captcha function to prevent someone from posting, you will need
+to add the information returned from create_captcha() function to your database.
+Then, when the data from the form is submitted by the user you will need to verify
+that the data exists in the database and has not expired.
+
+Here is a table prototype:
+
+	CREATE TABLE captcha (
+	 captcha_id bigint(13) unsigned NOT NULL auto_increment,
+	 captcha_time int(10) unsigned NOT NULL,
+	 ip_address varchar(16) default '0' NOT NULL,
+	 word varchar(20) NOT NULL,
+	 PRIMARY KEY `captcha_id` (`captcha_id`),
+	 KEY `word` (`word`)
+	)
+
+
+Here is an example of usage with a DB.
+
+On the page where the captcha will be shown you'll have something like this:
+
+	$this->load->plugin('captcha');
+	$vals = array(
+					'img_path'	 => './captcha/',
+					'img_url'	 => 'http://example.com/captcha/'
+				);
+	
+	$cap = create_captcha($vals);
+
+	$data = array(
+					'captcha_id'	=> '',
+					'captcha_time'	=> $cap['time'],
+					'ip_address'	=> $this->input->ip_address(),
+					'word'			=> $cap['word']
+				);
+
+	$query = $this->db->insert_string('captcha', $data);
+	$this->db->query($query);
+		
+	echo 'Submit the word you see below:';
+	echo $cap['image'];
+	echo '<input type="text" name="captcha" value="" />';
+
+
+Then, on the page that accepts the submission you'll have something like this:
+
+	// First, delete old captchas
+	$expiration = time()-7200; // Two hour limit
+	$DB->query("DELETE FROM captcha WHERE captcha_time < ".$expiration);		
+
+	// Then see if a captcha exists:
+	$sql = "SELECT COUNT(*) AS count FROM captcha WHERE word = ? AND ip_address = ? AND date > ?";
+	$binds = array($_POST['captcha'], $this->input->ip_address(), $expiration);
+	$query = $this->db->query($sql, $binds);
+	$row = $query->row();
+
+	if ($row->count == 0)
+	{
+		echo "You must submit the word that appears in the image";
+	}
+
+*/
+
+
+	
+/**
+|==========================================================
+| Create Captcha
+|==========================================================
+|
+*/
+function create_captcha($data = '', $img_path = '', $img_url = '', $font_path = '')
+{		
+	$defaults = array('word' => '', 'img_path' => '', 'img_url' => '', 'img_width' => '150', 'img_height' => '30', 'font_path' => '', 'expiration' => 7200);		
+	
+	foreach ($defaults as $key => $val)
+	{
+		if ( ! is_array($data))
+		{
+			if ( ! isset($$key) OR $$key == '')
+			{
+				$$key = $val;
+			}
+		}
+		else
+		{			
+			$$key = ( ! isset($data[$key])) ? $val : $data[$key];
+		}
+	}
+	
+	if ($img_path == '' OR $img_url == '')
+	{
+		return FALSE;
+	}
+
+	if ( ! @is_dir($img_path))
+	{
+		return FALSE;
+	}
+	
+	if ( ! is_really_writable($img_path))
+	{
+		return FALSE;
+	}
+			
+	if ( ! extension_loaded('gd'))
+	{
+		return FALSE;
+	}		
+	
+	// -----------------------------------
+	// Remove old images	
+	// -----------------------------------
+			
+	list($usec, $sec) = explode(" ", microtime());
+	$now = ((float)$usec + (float)$sec);
+			
+	$current_dir = @opendir($img_path);
+	
+	while($filename = @readdir($current_dir))
+	{
+		if ($filename != "." and $filename != ".." and $filename != "index.html")
+		{
+			$name = str_replace(".jpg", "", $filename);
+		
+			if (($name + $expiration) < $now)
+			{
+				@unlink($img_path.$filename);
+			}
+		}
+	}
+	
+	@closedir($current_dir);
+
+	// -----------------------------------
+	// Do we have a "word" yet?
+	// -----------------------------------
+	
+   if ($word == '')
+   {
+		$pool = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
+
+		$str = '';
+		for ($i = 0; $i < 8; $i++)
+		{
+			$str .= substr($pool, mt_rand(0, strlen($pool) -1), 1);
+		}
+		
+		$word = $str;
+   }
+	
+	// -----------------------------------
+	// Determine angle and position	
+	// -----------------------------------
+	
+	$length	= strlen($word);
+	$angle	= ($length >= 6) ? rand(-($length-6), ($length-6)) : 0;
+	$x_axis	= rand(6, (360/$length)-16);			
+	$y_axis = ($angle >= 0 ) ? rand($img_height, $img_width) : rand(6, $img_height);
+	
+	// -----------------------------------
+	// Create image
+	// -----------------------------------
+			
+	// PHP.net recommends imagecreatetruecolor(), but it isn't always available
+	if (function_exists('imagecreatetruecolor'))
+	{
+		$im = imagecreatetruecolor($img_width, $img_height);
+	}
+	else
+	{
+		$im = imagecreate($img_width, $img_height);
+	}
+			
+	// -----------------------------------
+	//  Assign colors
+	// -----------------------------------
+	
+	$bg_color		= imagecolorallocate ($im, 255, 255, 255);
+	$border_color	= imagecolorallocate ($im, 153, 102, 102);
+	$text_color		= imagecolorallocate ($im, 204, 153, 153);
+	$grid_color		= imagecolorallocate($im, 255, 182, 182);
+	$shadow_color	= imagecolorallocate($im, 255, 240, 240);
+
+	// -----------------------------------
+	//  Create the rectangle
+	// -----------------------------------
+	
+	ImageFilledRectangle($im, 0, 0, $img_width, $img_height, $bg_color);
+	
+	// -----------------------------------
+	//  Create the spiral pattern
+	// -----------------------------------
+	
+	$theta		= 1;
+	$thetac		= 7;
+	$radius		= 16;
+	$circles	= 20;
+	$points		= 32;
+
+	for ($i = 0; $i < ($circles * $points) - 1; $i++)
+	{
+		$theta = $theta + $thetac;
+		$rad = $radius * ($i / $points );
+		$x = ($rad * cos($theta)) + $x_axis;
+		$y = ($rad * sin($theta)) + $y_axis;
+		$theta = $theta + $thetac;
+		$rad1 = $radius * (($i + 1) / $points);
+		$x1 = ($rad1 * cos($theta)) + $x_axis;
+		$y1 = ($rad1 * sin($theta )) + $y_axis;
+		imageline($im, $x, $y, $x1, $y1, $grid_color);
+		$theta = $theta - $thetac;
+	}
+
+	// -----------------------------------
+	//  Write the text
+	// -----------------------------------
+	
+	$use_font = ($font_path != '' AND file_exists($font_path) AND function_exists('imagettftext')) ? TRUE : FALSE;
+		
+	if ($use_font == FALSE)
+	{
+		$font_size = 5;
+		$x = rand(0, $img_width/($length/3));
+		$y = 0;
+	}
+	else
+	{
+		$font_size	= 16;
+		$x = rand(0, $img_width/($length/1.5));
+		$y = $font_size+2;
+	}
+
+	for ($i = 0; $i < strlen($word); $i++)
+	{
+		if ($use_font == FALSE)
+		{
+			$y = rand(0 , $img_height/2);
+			imagestring($im, $font_size, $x, $y, substr($word, $i, 1), $text_color);
+			$x += ($font_size*2);
+		}
+		else
+		{		
+			$y = rand($img_height/2, $img_height-3);
+			imagettftext($im, $font_size, $angle, $x, $y, $text_color, $font_path, substr($word, $i, 1));
+			$x += $font_size;
+		}
+	}
+	
+
+	// -----------------------------------
+	//  Create the border
+	// -----------------------------------
+
+	imagerectangle($im, 0, 0, $img_width-1, $img_height-1, $border_color);		
+
+	// -----------------------------------
+	//  Generate the image
+	// -----------------------------------
+	
+	$img_name = $now.'.jpg';
+
+	ImageJPEG($im, $img_path.$img_name);
+	
+	$img = "<img src=\"$img_url$img_name\" width=\"$img_width\" height=\"$img_height\" style=\"border:0;\" alt=\" \" />";
+	
+	ImageDestroy($im);
+		
+	return array('word' => $word, 'time' => $now, 'image' => $img);
+}
+
+
+/* End of file captcha_pi.php */
+/* Location: ./system/plugins/captcha_pi.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/plugins/index.html
===================================================================
--- trunk/pintassilgo/system/plugins/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/plugins/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/plugins/js_calendar_pi.php
===================================================================
--- trunk/pintassilgo/system/plugins/js_calendar_pi.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/plugins/js_calendar_pi.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,629 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/*
+Instructions:
+
+Load the plugin using:
+
+ 	$this->load->plugin('js_calendar');
+
+Once loaded you'll add the calendar script to the <head> of your page like this:
+
+<?php echo js_calendar_script('my_form');  ?>
+
+The above function will be passed the name of your form.
+
+Then to show the actual calendar you'll do this:
+
+<?php echo js_calendar_write('entry_date', time(), true);?>
+<form name="my_form">
+<input type="text" name="entry_date" value="" onblur="update_calendar(this.name, this.value);" />
+<p><a href="javascript:void(0);" onClick="set_to_time('entry_date', '<?php echo time();?>')" >Today</a></p>
+</form>
+
+
+Note:  The first parameter is the name of the field containing your date, the second parameter contains the "now" time,
+and the third tells the calendar whether to highlight the current day or not.
+
+Lastly, you'll need some CSS for your calendar:
+
+.calendar {
+	border: 1px #6975A3 solid;
+	background-color: transparent;
+}
+.calheading {
+	background-color: #7C8BC0;
+	color: #fff;
+	font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+	font-size: 11px;
+	font-weight: bold;
+	text-align: center;
+}
+.calnavleft {
+	background-color: #7C8BC0;
+	font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+	font-size: 10px;
+	font-weight: bold;
+	color: #fff;
+	padding: 4px;
+	cursor: pointer;
+}
+.calnavright {
+	background-color: #7C8BC0;
+	font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+	font-size: 10px;
+	font-weight: bold;
+	color: #fff;
+	text-align:  right;
+	padding: 4px;
+	cursor: pointer;
+}
+.caldayheading {
+	background-color: #000;
+	color: #fff;
+	font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+	font-size: 10px;
+	text-align: center;
+	padding: 6px 2px 6px 2px;
+}
+.caldaycells{
+	color: #000;
+	background-color: #D1D7E6;
+	font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+	font-size: 11px;
+	text-align: center;
+	padding: 4px;
+	border: 1px #E0E5F1 solid;
+	cursor: pointer;
+}
+.caldaycellhover{
+	color: #fff;
+	background-color: #B3BCD4;
+	font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+	font-size: 11px;
+	text-align: center;
+	padding: 4px;
+	border: 1px #B3BCD4 solid;
+	cursor: pointer;
+}
+.caldayselected{
+	background-color: #737FAC;
+	color:	#fff;
+	font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+	font-size: 11px;
+	font-weight: bold;
+	text-align: center;
+	border: 1px #566188 solid;
+	padding: 3px;
+	cursor: pointer;
+}
+.calblanktop {
+	background-color: #fff;
+	padding: 4px;
+}
+.calblankbot {
+	background-color: #fff;
+	padding: 4px;
+}
+
+
+*/
+
+function js_calendar_script($form_name = 'entryform')
+{		
+$CI =& get_instance();
+$CI->load->language('calendar');
+ob_start();
+?>
+<script type="text/javascript">
+<!--
+var form_name	= "<?php echo $form_name; ?>";
+var format		= 'us'; // eu or us
+var days		= new Array(
+					'<?php echo $CI->lang->line('cal_su');?>', // Sunday, short name
+					'<?php echo $CI->lang->line('cal_mo');?>', // Monday, short name
+					'<?php echo $CI->lang->line('cal_tu');?>', // Tuesday, short name
+					'<?php echo $CI->lang->line('cal_wed');?>', // Wednesday, short name
+					'<?php echo $CI->lang->line('cal_thu');?>', // Thursday, short name
+					'<?php echo $CI->lang->line('cal_fri');?>', // Friday, short name
+					'<?php echo $CI->lang->line('cal_sat');?>' // Saturday, short name
+				);
+var months		= new Array(
+					'<?php echo $CI->lang->line('cal_january');?>',
+					'<?php echo $CI->lang->line('cal_february');?>',
+					'<?php echo $CI->lang->line('cal_march');?>',
+					'<?php echo $CI->lang->line('cal_april');?>',
+					'<?php echo $CI->lang->line('cal_mayl');?>',
+					'<?php echo $CI->lang->line('cal_june');?>',
+					'<?php echo $CI->lang->line('cal_july');?>',
+					'<?php echo $CI->lang->line('cal_august');?>',
+					'<?php echo $CI->lang->line('cal_september');?>',
+					'<?php echo $CI->lang->line('cal_october');?>',
+					'<?php echo $CI->lang->line('cal_november');?>',
+					'<?php echo $CI->lang->line('cal_december');?>'
+				);
+var last_click	= new Array();
+var current_month  = '';
+var current_year   = '';
+var last_date  = '';
+	
+function calendar(id, d, highlight, adjusted)
+{		
+	if (adjusted == undefined)
+	{	
+		var d = new Date(d * 1000);
+	}
+
+	this.id			= id;
+	this.highlight	= highlight;
+	this.date_obj	= d;
+	this.write		= build_calendar;
+	this.total_days	= total_days;
+	this.month		= d.getMonth();
+	this.date		= d.getDate();
+	this.day		= d.getDay();
+	this.year		= d.getFullYear();
+	this.hours		= d.getHours();
+	this.minutes	= d.getMinutes();
+	this.seconds	= d.getSeconds();
+	this.date_str	= date_str;
+				
+	if (highlight == false)
+	{
+		this.selected_date = '';
+	}
+	else
+	{
+		this.selected_date = this.year + '' + this.month + '' + this.date;
+	}
+			
+	//	Set the "selected date"
+	d.setDate(1);
+	this.firstDay = d.getDay();
+	
+	//then reset the date object to the correct date
+	d.setDate(this.date);
+}
+		
+//	Build the body of the calendar
+function build_calendar()
+{
+	var str = '';
+	
+	//	Calendar Heading
+	
+	str += '<div id="cal' + this.id + '">';
+	str += '<table class="calendar" cellspacing="0" cellpadding="0" border="0" >';
+	str += '<tr>';
+	str += '<td class="calnavleft" onClick="change_month(-1, \'' + this.id + '\')">&lt;&lt;<\/td>';
+	str += '<td colspan="5" class="calheading">' + months[this.month] + ' ' + this.year + '<\/td>';
+	str += '<td class="calnavright" onClick="change_month(1, \'' + this.id + '\')">&gt;&gt;<\/td>';
+	str += '<\/tr>';
+	
+	//	Day Names
+	
+	str += '<tr>';
+	
+	for (i = 0; i < 7; i++)
+	{
+		str += '<td class="caldayheading">' + days[i] + '<\/td>';
+	}
+	
+	str += '<\/tr>';
+	
+	//	Day Cells
+		
+	str += '<tr>';
+	
+	selDate = (last_date != '') ? last_date : this.date;
+	
+	for (j = 0; j < 42; j++)
+	{
+		var displayNum = (j - this.firstDay + 1);
+		
+		if (j < this.firstDay) // leading empty cells
+		{
+			str += '<td class="calblanktop">&nbsp;<\/td>';
+		}
+		else if (displayNum == selDate && this.highlight == true) // Selected date
+		{
+			str += '<td id="' + this.id +'selected" class="caldayselected" onClick="set_date(this,\'' + this.id + '\')">' + displayNum + '<\/td>';
+		}
+		else if (displayNum > this.total_days())
+		{
+			str += '<td class="calblankbot">&nbsp;<\/td>'; // trailing empty cells
+		}
+		else  // Unselected days
+		{
+			str += '<td id="" class="caldaycells" onClick="set_date(this,\'' + this.id + '\'); return false;"  onMouseOver="javascript:cell_highlight(this,\'' + displayNum + '\',\'' + this.id + '\');" onMouseOut="javascript:cell_reset(this,\'' + displayNum + '\',\'' + this.id + '\');" >' + displayNum + '<\/td>';
+		}
+		
+		if (j % 7 == 6)
+		{
+			str += '<\/tr><tr>';
+		}
+	}
+
+	str += '<\/tr>';	
+	str += '<\/table>';
+	str += '<\/div>';
+	
+	return str;
+}
+
+//	Total number of days in a month
+function total_days()
+{	
+	switch(this.month)
+	{
+		case 1: // Check for leap year
+			if ((  this.date_obj.getFullYear() % 4 == 0
+				&& this.date_obj.getFullYear() % 100 != 0)
+				|| this.date_obj.getFullYear() % 400 == 0)
+				return 29;
+			else
+				return 28;
+		case 3:
+			return 30;
+		case 5:
+			return 30;
+		case 8:
+			return 30;
+		case 10:
+			return 30
+		default:
+			return 31;
+	}
+}
+
+//	Highlight Cell on Mouseover
+function cell_highlight(td, num, cal)
+{
+	cal = eval(cal);
+
+	if (last_click[cal.id]  != num)
+	{
+		td.className = "caldaycellhover";
+	}
+}		
+
+//	Reset Cell on MouseOut
+function cell_reset(td, num, cal)
+{	
+	cal = eval(cal);
+
+	if (last_click[cal.id] == num)
+	{
+		td.className = "caldayselected";
+	}
+	else
+	{
+		td.className = "caldaycells";
+	}
+}		
+
+//	Clear Field
+function clear_field(id)
+{				
+	eval("document." + form_name + "." + id + ".value = ''");
+	
+	document.getElementById(id + "selected").className = "caldaycells";
+	document.getElementById(id + "selected").id = "";	
+	
+	cal = eval(id);
+	cal.selected_date = '';		
+}		
+
+
+//	Set date to specified time
+function set_to_time(id, raw)
+{			
+	if (document.getElementById(id + "selected"))
+	{			
+		document.getElementById(id + "selected").className = "caldaycells";
+		document.getElementById(id + "selected").id = "";	
+	}
+	
+	document.getElementById('cal' + id).innerHTML = '<div id="tempcal'+id+'">&nbsp;<'+'/div>';				
+		
+	var nowDate = new Date();
+	nowDate.setTime = raw * 1000;
+	
+	current_month	= nowDate.getMonth();
+	current_year	= nowDate.getFullYear();
+	current_date	= nowDate.getDate();
+	
+	oldcal = eval(id);
+	oldcal.selected_date = current_year + '' + current_month + '' + current_date;				
+
+	cal = new calendar(id, nowDate, true, true);		
+	cal.selected_date = current_year + '' + current_month + '' + current_date;	
+	
+	last_date = cal.date;
+	
+	document.getElementById('tempcal'+id).innerHTML = cal.write();	
+	
+	insert_date(cal);
+}
+
+//	Set date to what is in the field
+var lastDates = new Array();
+
+function update_calendar(id, dateValue)
+{
+	if (lastDates[id] == dateValue) return;
+	
+	lastDates[id] = dateValue;
+	
+	var fieldString = dateValue.replace(/\s+/g, ' ');
+	
+	while (fieldString.substring(0,1) == ' ')
+	{
+		fieldString = fieldString.substring(1, fieldString.length);
+	}
+	
+	var dateString = fieldString.split(' ');
+	var dateParts = dateString[0].split('-')
+
+	if (dateParts.length < 3) return;
+	var newYear  = dateParts[0];
+	var newMonth = dateParts[1];
+	var newDay   = dateParts[2];
+	
+	if (isNaN(newDay)  || newDay < 1 || (newDay.length != 1 && newDay.length != 2)) return;
+	if (isNaN(newYear) || newYear < 1 || newYear.length != 4) return;
+	if (isNaN(newMonth) || newMonth < 1 || (newMonth.length != 1 && newMonth.length != 2)) return;
+	
+	if (newMonth > 12) newMonth = 12;
+	
+	if (newDay > 28)
+	{
+		switch(newMonth - 1)
+		{
+			case 1: // Check for leap year
+				if ((newYear % 4 == 0 && newYear % 100 != 0) || newYear % 400 == 0)
+				{
+					if (newDay > 29) newDay = 29;
+				}
+				else
+				{
+					if (newDay > 28) newDay = 28;
+				}
+			case 3:
+				if (newDay > 30) newDay = 30;
+			case 5:
+				if (newDay > 30) newDay = 30;
+			case 8:
+				if (newDay > 30) newDay = 30;
+			case 10:
+				if (newDay > 30) newDay = 30;
+			default:
+				if (newDay > 31) newDay = 31;
+		}
+	}
+	
+	if (document.getElementById(id + "selected"))
+	{			
+		document.getElementById(id + "selected").className = "caldaycells";
+		document.getElementById(id + "selected").id = "";	
+	}
+	
+	document.getElementById('cal' + id).innerHTML = '<div id="tempcal'+id+'">&nbsp;<'+'/div>';				
+		
+	var nowDate = new Date();
+	nowDate.setDate(newDay);
+	nowDate.setMonth(newMonth - 1);
+	nowDate.setYear(newYear);
+	nowDate.setHours(12);
+	
+	current_month	= nowDate.getMonth();
+	current_year	= nowDate.getFullYear();
+
+	cal = new calendar(id, nowDate, true, true);						
+	document.getElementById('tempcal'+id).innerHTML = cal.write();	
+}
+
+//	Set the date
+function set_date(td, cal)
+{					
+
+	cal = eval(cal);
+	
+	// If the user is clicking a cell that is already
+	// selected we'll de-select it and clear the form field
+	
+	if (last_click[cal.id] == td.firstChild.nodeValue)
+	{
+		td.className = "caldaycells";
+		last_click[cal.id] = '';
+		remove_date(cal);
+		cal.selected_date =  '';
+		return;
+	}
+				
+	// Onward!
+	if (document.getElementById(cal.id + "selected"))
+	{
+		document.getElementById(cal.id + "selected").className = "caldaycells";
+		document.getElementById(cal.id + "selected").id = "";
+	}
+									
+	td.className = "caldayselected";
+	td.id = cal.id + "selected";
+
+	cal.selected_date = cal.date_obj.getFullYear() + '' + cal.date_obj.getMonth() + '' + cal.date;			
+	cal.date_obj.setDate(td.firstChild.nodeValue);
+	cal = new calendar(cal.id, cal.date_obj, true, true);
+	cal.selected_date = cal.date_obj.getFullYear() + '' + cal.date_obj.getMonth() + '' + cal.date;			
+	
+	last_date = cal.date;
+
+	//cal.date
+	last_click[cal.id] = cal.date;
+				
+	// Insert the date into the form
+	insert_date(cal);
+}
+/*
+//	Insert the date into the form field
+function insert_date(cal)
+{
+	cal = eval(cal);
+	fval = eval("document." + form_name + "." + cal.id);	
+	
+	if (fval.value == '')
+	{
+		fval.value = cal.date_str('y');
+	}
+	else
+	{
+		time = fval.value.substring(10);
+		new_date = cal.date_str('n') + time;
+		fval.value = new_date;
+	}	
+}
+*/		
+//	Remove the date from the form field
+function remove_date(cal)
+{
+	cal = eval(cal);
+	fval = eval("document." + form_name + "." + cal.id);	
+	fval.value = '';
+}
+
+//	Change to a new month
+function change_month(mo, cal)
+{		
+	cal = eval(cal);
+
+	if (current_month != '')
+	{
+		cal.date_obj.setMonth(current_month);
+		cal.date_obj.setYear(current_year);
+	
+		current_month	= '';
+		current_year	= '';
+	}
+				
+	var newMonth = cal.date_obj.getMonth() + mo;
+	var newDate  = cal.date_obj.getDate();
+	
+	if (newMonth == 12)
+	{
+		cal.date_obj.setYear(cal.date_obj.getFullYear() + 1)
+		newMonth = 0;
+	}
+	else if (newMonth == -1)
+	{
+		cal.date_obj.setYear(cal.date_obj.getFullYear() - 1)
+		newMonth = 11;
+	}
+	
+	if (newDate > 28)
+	{
+		var newYear = cal.date_obj.getFullYear();
+		
+		switch(newMonth)
+		{
+			case 1: // Check for leap year
+				if ((newYear % 4 == 0 && newYear % 100 != 0) || newYear % 400 == 0)
+				{
+					if (newDate > 29) newDate = 29;
+				}
+				else
+				{
+					if (newDate > 28) newDate = 28;
+				}
+			case 3:
+				if (newDate > 30) newDate = 30;
+			case 5:
+				if (newDate > 30) newDate = 30;
+			case 8:
+				if (newDate > 30) newDate = 30;
+			case 10:
+				if (newDate > 30) newDate = 30;
+			default:
+				if (newDate > 31) newDate = 31;
+		}
+	}
+	
+	cal.date_obj.setDate(newDate);
+	cal.date_obj.setMonth(newMonth);
+	new_mdy	= cal.date_obj.getFullYear() + '' + cal.date_obj.getMonth() + '' + cal.date;
+	
+	highlight = (cal.selected_date == new_mdy) ? true : false;			
+	cal = new calendar(cal.id, cal.date_obj, highlight, true); 			
+	document.getElementById('cal' + cal.id).innerHTML = cal.write();	
+}
+
+//	Finalize the date string
+function date_str(time)
+{
+	var month = this.month + 1;
+	if (month < 10)
+		month = '0' + month;
+		
+	var day		= (this.date  < 10) 	?  '0' + this.date		: this.date;
+	var minutes	= (this.minutes  < 10)	?  '0' + this.minutes	: this.minutes;
+		
+	if (format == 'us')
+	{
+		var hours	= (this.hours > 12) ? this.hours - 12 : this.hours;
+		var ampm	= (this.hours > 11) ? 'PM' : 'AM'
+	}
+	else
+	{
+		var hours	= this.hours;
+		var ampm	= '';
+	}
+	
+	if (time == 'y')
+	{
+		return this.year + '-' + month + '-' + day + '  ' + hours + ':' + minutes + ' ' + ampm;		
+	}
+	else
+	{
+		return this.year + '-' + month + '-' + day;
+	}
+}
+
+//-->
+</script>
+<?php
+
+$r = ob_get_contents();
+ob_end_clean();
+return $r;
+}
+
+
+function js_calendar_write($field_id, $time = '', $highlight = TRUE)
+{
+	if ($time == '')
+		$time = time();
+
+	return
+	'<script type="text/javascript">
+		var '.$field_id.' = new calendar("'.$field_id.'", '.$time.', '.(($highlight == TRUE) ? 'true' : 'false').');
+		document.write('.$field_id.'.write());
+	</script>';	
+}	
+
+
+/* End of file js_calendar_pi.php */
+/* Location: ./system/plugins/js_calendar_pi.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/scaffolding/Scaffolding.php
===================================================================
--- trunk/pintassilgo/system/scaffolding/Scaffolding.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/Scaffolding.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,291 @@
+<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
+/**
+ * CodeIgniter
+ *
+ * An open source application development framework for PHP 4.3.2 or newer
+ *
+ * @package		CodeIgniter
+ * @author		ExpressionEngine Dev Team
+ * @copyright	Copyright (c) 2008, EllisLab, Inc.
+ * @license		http://codeigniter.com/user_guide/license.html
+ * @link		http://codeigniter.com
+ * @since		Version 1.0
+ * @filesource
+ */
+
+// ------------------------------------------------------------------------
+
+/**
+ * Scaffolding Class
+ *
+ * Provides the Scaffolding framework
+ *
+ * @package		CodeIgniter
+ * @subpackage	Scaffolding
+ * @author		ExpressionEngine Dev Team
+ * @link		http://codeigniter.com/user_guide/general/scaffolding.html
+ */
+class Scaffolding {
+
+	var $CI;
+	var $current_table;
+	var $base_url = '';
+	var $lang = array();
+
+	function Scaffolding($db_table)
+	{
+		$this->CI =& get_instance();
+		
+		$this->CI->load->database("", FALSE, TRUE);			
+		$this->CI->load->library('pagination');
+		
+		// Turn off caching
+		$this->CI->db->cache_off();
+				
+		/**
+		 * Set the current table name
+		 * This is done when initializing scaffolding:
+		 * $this->load->scaffolding('table_name')
+		 *
+		 */
+		$this->current_table = $db_table;
+		
+		/**
+		 * Set the path to the "view" files
+		 * We'll manually override the "view" path so that
+		 * the load->view function knows where to look.
+		 */
+		
+		$this->CI->load->_ci_view_path = BASEPATH.'scaffolding/views/';
+
+		// Set the base URL
+		$this->base_url = $this->CI->config->site_url().'/'.$this->CI->uri->segment(1).$this->CI->uri->slash_segment(2, 'both');
+		$this->base_uri = $this->CI->uri->segment(1).$this->CI->uri->slash_segment(2, 'leading');
+
+		// Set a few globals
+		$data = array(
+						'image_url'	=> $this->CI->config->system_url().'scaffolding/images/',
+						'base_uri'  => $this->base_uri,
+						'base_url'	=> $this->base_url,
+						'title'		=> $this->current_table
+					);
+		
+		$this->CI->load->vars($data);
+		
+		// Load the language file and create variables
+		$this->lang = $this->CI->load->scaffold_language('scaffolding', '', TRUE);
+		$this->CI->load->vars($this->lang);
+				
+		//  Load the helper files we plan to use
+		$this->CI->load->helper(array('url', 'form'));
+		
+				
+		log_message('debug', 'Scaffolding Class Initialized');
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * "Add" Page
+	 *
+	 * Shows a form representing the currently selected DB
+	 * so that data can be inserted
+	 *
+	 * @access	public
+	 * @return	string	the HTML "add" page
+	 */
+	function add()
+	{	
+		$data = array(
+						'title'	=>  ( ! isset($this->lang['scaff_add'])) ? 'Add Data' : $this->lang['scaff_add'],
+						'fields' => $this->CI->db->field_data($this->current_table),
+						'action' => $this->base_uri.'/insert'
+					);
+	
+		$this->CI->load->view('add', $data);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Insert the data
+	 *
+	 * @access	public
+	 * @return	void	redirects to the view page
+	 */
+	function insert()
+	{		
+		if ($this->CI->db->insert($this->current_table, $_POST) === FALSE)
+		{
+			$this->add();
+		}
+		else
+		{
+			redirect($this->base_uri.'/view/');
+		}
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * "View" Page
+	 *
+	 * Shows a table containing the data in the currently
+	 * selected DB
+	 *
+	 * @access	public
+	 * @return	string	the HTML "view" page
+	 */
+	function view()
+	{
+		// Fetch the total number of DB rows
+		$total_rows = $this->CI->db->count_all($this->current_table);
+		
+		if ($total_rows < 1)
+		{
+			return $this->CI->load->view('no_data');
+		}
+		
+		// Set the query limit/offset
+		$per_page = 20;
+		$offset = $this->CI->uri->segment(4, 0);
+		
+		// Run the query
+		$query = $this->CI->db->get($this->current_table, $per_page, $offset);
+
+		// Now let's get the field names				
+		$fields = $this->CI->db->list_fields($this->current_table);
+		
+		// We assume that the column in the first position is the primary field.
+		$primary = current($fields);
+
+		// Pagination!
+		$this->CI->pagination->initialize(
+							array(
+									'base_url'		 => $this->base_url.'/view',
+									'total_rows'	 => $total_rows,
+									'per_page'		 => $per_page,
+									'uri_segment'	 => 4,
+									'full_tag_open'	 => '<p>',
+									'full_tag_close' => '</p>'
+									)
+								);	
+
+		$data = array(
+						'title'	=>  ( ! isset($this->lang['scaff_view'])) ? 'View Data' : $this->lang['scaff_view'],
+						'query'		=> $query,
+						'fields'	=> $fields,
+						'primary'	=> $primary,
+						'paginate'	=> $this->CI->pagination->create_links()
+					);
+						
+		$this->CI->load->view('view', $data);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * "Edit" Page
+	 *
+	 * Shows a form representing the currently selected DB
+	 * so that data can be edited
+	 *
+	 * @access	public
+	 * @return	string	the HTML "edit" page
+	 */
+	function edit()
+	{
+		if (FALSE === ($id = $this->CI->uri->segment(4)))
+		{
+			return $this->view();
+		}
+
+		// Fetch the primary field name
+		$primary = $this->CI->db->primary($this->current_table);				
+
+		// Run the query
+		$query = $this->CI->db->get_where($this->current_table, array($primary => $id));
+
+		$data = array(
+						'title'	=>  ( ! isset($this->lang['scaff_edit'])) ? 'Edit Data' : $this->lang['scaff_edit'],
+						'fields'	=> $query->field_data(),
+						'query'		=> $query->row(),
+						'action'	=> $this->base_uri.'/update/'.$this->CI->uri->segment(4)
+					);
+	
+		$this->CI->load->view('edit', $data);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Update
+	 *
+	 * @access	public
+	 * @return	void	redirects to the view page
+	 */
+	function update()
+	{	
+		// Fetch the primary key
+		$primary = $this->CI->db->primary($this->current_table);				
+
+		// Now do the query
+		$this->CI->db->update($this->current_table, $_POST, array($primary => $this->CI->uri->segment(4)));
+		
+		redirect($this->base_uri.'/view/');
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Delete Confirmation
+	 *
+	 * @access	public
+	 * @return	string	the HTML "delete confirm" page
+	 */
+	function delete()
+	{
+		if ( ! isset($this->lang['scaff_del_confirm']))
+		{
+			$message = 'Are you sure you want to delete the following row: '.$this->CI->uri->segment(4);
+		}
+		else
+		{
+			$message = $this->lang['scaff_del_confirm'].' '.$this->CI->uri->segment(4);
+		}
+		
+		$data = array(
+						'title'		=> ( ! isset($this->lang['scaff_delete'])) ? 'Delete Data' : $this->lang['scaff_delete'],
+						'message'	=> $message,
+						'no'		=> anchor(array($this->base_uri, 'view'), ( ! isset($this->lang['scaff_no'])) ? 'No' : $this->lang['scaff_no']),
+						'yes'		=> anchor(array($this->base_uri, 'do_delete', $this->CI->uri->segment(4)), ( ! isset($this->lang['scaff_yes'])) ? 'Yes' : $this->lang['scaff_yes'])
+					);
+	
+		$this->CI->load->view('delete', $data);
+	}
+	
+	// --------------------------------------------------------------------
+	
+	/**
+	 * Delete
+	 *
+	 * @access	public
+	 * @return	void	redirects to the view page
+	 */
+	function do_delete()
+	{		
+		// Fetch the primary key
+		$primary = $this->CI->db->primary($this->current_table);				
+
+		// Now do the query
+		$this->CI->db->where($primary, $this->CI->uri->segment(4));
+		$this->CI->db->delete($this->current_table);
+
+		header("Refresh:0;url=".site_url(array($this->base_uri, 'view')));
+		exit;
+	}
+
+}
+
+/* End of file Scaffolding.php */
+/* Location: ./system/scaffolding/Scaffolding.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/scaffolding/images/background.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/pintassilgo/system/scaffolding/images/background.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/pintassilgo/system/scaffolding/images/index.html
===================================================================
--- trunk/pintassilgo/system/scaffolding/images/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/images/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/scaffolding/images/logo.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/pintassilgo/system/scaffolding/images/logo.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/pintassilgo/system/scaffolding/index.html
===================================================================
--- trunk/pintassilgo/system/scaffolding/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/scaffolding/views/add.php
===================================================================
--- trunk/pintassilgo/system/scaffolding/views/add.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/views/add.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,32 @@
+<?php  $this->load->view('header');  ?>
+
+<p><?php echo anchor(array($base_uri, 'view'), '&lt; '.$scaff_view_all); ?></p>
+
+
+<?php echo form_open($action); ?>
+
+<table border="0" cellpadding="3" cellspacing="1">
+<?php foreach($fields as $field): ?>
+
+<?php if ($field->primary_key == 1) continue; ?>
+
+<tr>
+	<td><?php echo $field->name; echo ' '.$field->default; ?></td>
+	
+	<?php if ($field->type == 'blob'): ?>
+	<td><textarea class="textarea" name="<?php echo $field->name; ?>" cols="60" rows="10" ><?php echo form_prep($field->default); ?></textarea></td>
+	<?php else : ?>
+	<td><input class="input" name="<?php echo $field->name; ?>" value="<?php echo form_prep($field->default); ?>" size="60" /></td>
+	<?php endif; ?>
+	
+</tr>
+<?php endforeach; ?>
+</table>
+
+<input type="submit" class="submit" value="Insert" />
+
+</form>
+
+<?php $this->load->view('footer'); 
+/* End of file add.php */
+/* Location: ./system/scaffolding/views/add.php */

Added: trunk/pintassilgo/system/scaffolding/views/delete.php
===================================================================
--- trunk/pintassilgo/system/scaffolding/views/delete.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/views/delete.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,9 @@
+<?php  $this->load->view('header');  ?>
+
+<p><?php echo $message; ?></p>
+
+<p><?php echo $no; ?>&nbsp;&nbsp;|&nbsp;&nbsp;<?php echo $yes; ?>
+
+<?php $this->load->view('footer'); 
+/* End of file delete.php */
+/* Location: ./system/scaffolding/views/delete.php */

Added: trunk/pintassilgo/system/scaffolding/views/edit.php
===================================================================
--- trunk/pintassilgo/system/scaffolding/views/edit.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/views/edit.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,33 @@
+<?php $this->load->view('header');  ?>
+
+
+<p><?php echo anchor(array($base_uri, 'view'), '&lt; '.$scaff_view_all);?></p>
+
+
+<?php echo form_open($action); ?>
+
+<table border="0" cellpadding="3" cellspacing="1">
+<?php foreach($fields as $field): ?>
+
+<?php if ($field->primary_key == 1) continue; ?>
+
+<tr>
+	<td><?php echo  $field->name; ?></td>
+	
+	<?php if ($field->type == 'blob'): ?>
+	<td><textarea class="textarea" name="<?php echo $field->name;?>" cols="60" rows="10" ><?php $f = $field->name; echo form_prep($query->$f); ?></textarea></td>
+	<?php else : ?>
+	<td><input class="input" value="<?php $f = $field->name; echo form_prep($query->$f); ?>" name="<?php echo $field->name; ?>" size="60" /></td>
+	<?php endif; ?>
+	
+</tr>
+<?php endforeach; ?>
+</table>
+
+<input type="submit" class="submit" value="Update" />
+
+</form>
+
+<?php $this->load->view('footer'); 
+/* End of file edit.php */
+/* Location: ./system/scaffolding/views/edit.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/scaffolding/views/footer.php
===================================================================
--- trunk/pintassilgo/system/scaffolding/views/footer.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/views/footer.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+
+</div>
+
+<div id="footer">
+<p><a href="http://codeigniter.com/">CodeIgniter</a>, by <a href="http://www.EllisLab.com">EllisLab</a> -  Version <?php echo CI_VERSION ?></p>
+<p>Page rendered in {elapsed_time}</p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/scaffolding/views/header.php
===================================================================
--- trunk/pintassilgo/system/scaffolding/views/header.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/views/header.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,29 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+<html>
+<head>
+
+<title><?php echo $title; ?></title>
+
+<style type='text/css'>
+<?php $this->file(BASEPATH.'scaffolding/views/stylesheet.css'); ?>
+</style>
+
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
+<meta http-equiv='expires' content='-1' />
+<meta http-equiv= 'pragma' content='no-cache' />
+
+</head>
+<body>
+
+<div id="header">
+<div id="header_left">
+<h3>Scaffolding:&nbsp; <?php echo $title; ?></h3>
+</div>
+<div id="header_right">
+<?php echo anchor(array($base_uri, 'view'), $scaff_view_records); ?> &nbsp;&nbsp;|&nbsp;&nbsp;
+<?php echo anchor(array($base_uri, 'add'),  $scaff_create_record); ?>
+</div>
+</div>
+
+<br clear="all">
+<div id="outer">
\ No newline at end of file

Added: trunk/pintassilgo/system/scaffolding/views/index.html
===================================================================
--- trunk/pintassilgo/system/scaffolding/views/index.html	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/views/index.html	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,10 @@
+<html>
+<head>
+	<title>403 Forbidden</title>
+</head>
+<body>
+
+<p>Directory access is forbidden.</p>
+
+</body>
+</html>
\ No newline at end of file

Added: trunk/pintassilgo/system/scaffolding/views/no_data.php
===================================================================
--- trunk/pintassilgo/system/scaffolding/views/no_data.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/views/no_data.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,8 @@
+<?php  $this->load->view('header');  ?>
+
+<p><?php echo $scaff_no_data; ?></p>
+<p><?php echo anchor(array($base_uri, 'add'), $scaff_create_record); ?></p>
+
+<?php $this->load->view('footer'); 
+/* End of file no_data.php */
+/* Location: ./system/scaffolding/views/no_data.php */
\ No newline at end of file

Added: trunk/pintassilgo/system/scaffolding/views/stylesheet.css
===================================================================
--- trunk/pintassilgo/system/scaffolding/views/stylesheet.css	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/views/stylesheet.css	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,143 @@
+body {
+ margin: 0;
+ padding: 0;
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 11px;
+ color: #4F5155;
+ background: #fff url(<?php echo $image_url; ?>background.jpg) repeat-x left top;
+}
+
+a {
+ color: #8B0D00;
+ background-color: transparent;
+ text-decoration: none;
+ font-weight: bold;
+}
+
+a:visited {
+ color: #8B0D00;
+ background-color: transparent;
+ text-decoration: none;
+}
+
+a:hover {
+ color: #000;
+ text-decoration: none;
+ background-color: transparent;
+}
+
+
+#header {
+ margin: 0;
+ padding: 0;
+}
+
+#header_left {
+ background-color: transparent;
+ float: left;
+ padding: 21px 0 0 32px;
+ margin: 0
+}
+
+#header_right {
+ background-color: transparent;
+ float: right;
+ text-align: right;
+ padding: 35px 50px 20px 0;
+ margin: 0
+}
+
+#footer {
+ margin: 20px 0 15px 0;
+ padding: 0;
+}
+
+#footer p {
+ font-size: 10px;
+ color: #999;
+ text-align: center;
+}
+
+#outer {
+ margin: 30px 40px 0 40px;
+}
+
+img {
+ padding:0;
+ border: 0;
+ margin: 0;
+}
+
+.nopad {
+ padding:0;
+ border: 0;
+ margin: 0;
+}
+
+table {
+ background-color: #efefef;
+}
+
+th {
+ background-color: #eee;
+ font-weight: bold;
+ padding: 6px;
+ text-align: left;
+}
+
+td {
+ background-color: #fff;
+ padding: 6px;
+}
+
+
+form {
+ margin: 0;
+ padding: 0;
+}
+
+.input {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 11px;
+ width: 600px;
+ color: #333;
+ border: 1px solid #B3B4BD;
+ font-size: 11px;
+ height: 2em;
+ padding: 0;
+ margin: 0;
+}
+
+.textarea {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 12px;
+ width: 600px;
+ color: #333;
+ border: 1px solid #B3B4BD;
+ padding: 0;
+ margin: 0;
+}
+
+.select {
+ background-color: #fff;
+ font-size:  11px;
+ font-weight: normal;
+ color: #333;
+ padding: 0;
+ margin: 0 0 3px 0;
+}
+
+.checkbox {
+ background-color: transparent;
+ padding: 0;
+ border: 0;
+}
+
+.submit {
+ background-color: #8B0D00;
+ color: #FFF;
+ font-weight: normal;
+ border: 1px solid #000;
+ margin: 6px 0 0 0;
+ padding: 1px 5px 1px 5px;
+}

Added: trunk/pintassilgo/system/scaffolding/views/view.php
===================================================================
--- trunk/pintassilgo/system/scaffolding/views/view.php	2008-11-03 18:27:29 UTC (rev 1)
+++ trunk/pintassilgo/system/scaffolding/views/view.php	2008-11-03 18:34:52 UTC (rev 2)
@@ -0,0 +1,27 @@
+<?php  $this->load->view('header');  ?>
+
+<table border="0" cellpadding="0" cellspacing="1" style="width:100%">
+ <tr>
+	<th>Edit</th>
+	<th>Delete</th>
+	<?php foreach($fields as $field): ?>
+	<th><?php echo $field; ?></th>
+	<?php endforeach; ?>
+</tr>
+
+<?php foreach($query->result() as $row): ?>
+ <tr>
+	<td>&nbsp;<?php echo anchor(array($base_uri, 'edit', $row->$primary), $scaff_edit); ?>&nbsp;</td>
+ 	<td><?php echo anchor(array($base_uri, 'delete', $row->$primary), $scaff_delete); ?></td>
+ 	<?php foreach($fields as $field): ?>	
+	<td><?php echo form_prep($row->$field);?></td>
+	<?php endforeach; ?>
+ </tr>
+<?php endforeach; ?>
+</table>
+
+<?php echo $paginate; ?>
+
+<?php $this->load->view('footer'); 
+/* End of file view.php */
+/* Location: ./system/scaffolding/views/view.php */
\ No newline at end of file



From knitter at mail.berlios.de  Fri Nov 14 18:07:57 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Fri, 14 Nov 2008 18:07:57 +0100
Subject: [Pintassilgo-commits] r3 -
	trunk/pintassilgo/system/application/config
Message-ID: <200811141707.mAEH7vOQ009044@sheep.berlios.de>

Author: knitter
Date: 2008-11-14 18:07:56 +0100 (Fri, 14 Nov 2008)
New Revision: 3

Removed:
   trunk/pintassilgo/system/application/config/config.php
   trunk/pintassilgo/system/application/config/database.php
Log:
Removidos ficheiros config.php e databases.php para adicionar ?\195?\160 lista de ficheiros ignorados.

Deleted: trunk/pintassilgo/system/application/config/config.php
===================================================================
--- trunk/pintassilgo/system/application/config/config.php	2008-11-03 18:34:52 UTC (rev 2)
+++ trunk/pintassilgo/system/application/config/config.php	2008-11-14 17:07:56 UTC (rev 3)
@@ -1,316 +0,0 @@
-<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
-
-/*
-|--------------------------------------------------------------------------
-| Base Site URL
-|--------------------------------------------------------------------------
-|
-| URL to your CodeIgniter root. Typically this will be your base URL,
-| WITH a trailing slash:
-|
-|	http://example.com/
-|
-*/
-$config['base_url']	= "http://your-site.com/";
-
-/*
-|--------------------------------------------------------------------------
-| Index File
-|--------------------------------------------------------------------------
-|
-| Typically this will be your index.php file, unless you've renamed it to
-| something else. If you are using mod_rewrite to remove the page set this
-| variable so that it is blank.
-|
-*/
-$config['index_page'] = "index.php";
-
-/*
-|--------------------------------------------------------------------------
-| URI PROTOCOL
-|--------------------------------------------------------------------------
-|
-| This item determines which server global should be used to retrieve the
-| URI string.  The default setting of "AUTO" works for most servers.
-| If your links do not seem to work, try one of the other delicious flavors:
-|
-| 'AUTO'			Default - auto detects
-| 'PATH_INFO'		Uses the PATH_INFO
-| 'QUERY_STRING'	Uses the QUERY_STRING
-| 'REQUEST_URI'		Uses the REQUEST_URI
-| 'ORIG_PATH_INFO'	Uses the ORIG_PATH_INFO
-|
-*/
-$config['uri_protocol']	= "AUTO";
-
-/*
-|--------------------------------------------------------------------------
-| URL suffix
-|--------------------------------------------------------------------------
-|
-| This option allows you to add a suffix to all URLs generated by CodeIgniter.
-| For more information please see the user guide:
-|
-| http://codeigniter.com/user_guide/general/urls.html
-*/
-
-$config['url_suffix'] = "";
-
-/*
-|--------------------------------------------------------------------------
-| Default Language
-|--------------------------------------------------------------------------
-|
-| This determines which set of language files should be used. Make sure
-| there is an available translation if you intend to use something other
-| than english.
-|
-*/
-$config['language']	= "english";
-
-/*
-|--------------------------------------------------------------------------
-| Default Character Set
-|--------------------------------------------------------------------------
-|
-| This determines which character set is used by default in various methods
-| that require a character set to be provided.
-|
-*/
-$config['charset'] = "UTF-8";
-
-/*
-|--------------------------------------------------------------------------
-| Enable/Disable System Hooks
-|--------------------------------------------------------------------------
-|
-| If you would like to use the "hooks" feature you must enable it by
-| setting this variable to TRUE (boolean).  See the user guide for details.
-|
-*/
-$config['enable_hooks'] = FALSE;
-
-
-/*
-|--------------------------------------------------------------------------
-| Class Extension Prefix
-|--------------------------------------------------------------------------
-|
-| This item allows you to set the filename/classname prefix when extending
-| native libraries.  For more information please see the user guide:
-|
-| http://codeigniter.com/user_guide/general/core_classes.html
-| http://codeigniter.com/user_guide/general/creating_libraries.html
-|
-*/
-$config['subclass_prefix'] = 'MY_';
-
-
-/*
-|--------------------------------------------------------------------------
-| Allowed URL Characters
-|--------------------------------------------------------------------------
-|
-| This lets you specify with a regular expression which characters are permitted
-| within your URLs.  When someone tries to submit a URL with disallowed
-| characters they will get a warning message.
-|
-| As a security measure you are STRONGLY encouraged to restrict URLs to
-| as few characters as possible.  By default only these are allowed: a-z 0-9~%.:_-
-|
-| Leave blank to allow all characters -- but only if you are insane.
-|
-| DO NOT CHANGE THIS UNLESS YOU FULLY UNDERSTAND THE REPERCUSSIONS!!
-|
-*/
-$config['permitted_uri_chars'] = 'a-z 0-9~%.:_\-';
-
-
-/*
-|--------------------------------------------------------------------------
-| Enable Query Strings
-|--------------------------------------------------------------------------
-|
-| By default CodeIgniter uses search-engine friendly segment based URLs:
-| example.com/who/what/where/
-|
-| You can optionally enable standard query string based URLs:
-| example.com?who=me&what=something&where=here
-|
-| Options are: TRUE or FALSE (boolean)
-|
-| The other items let you set the query string "words" that will
-| invoke your controllers and its functions:
-| example.com/index.php?c=controller&m=function
-|
-| Please note that some of the helpers won't work as expected when
-| this feature is enabled, since CodeIgniter is designed primarily to
-| use segment based URLs.
-|
-*/
-$config['enable_query_strings'] = FALSE;
-$config['controller_trigger'] 	= 'c';
-$config['function_trigger'] 	= 'm';
-$config['directory_trigger'] 	= 'd'; // experimental not currently in use
-
-/*
-|--------------------------------------------------------------------------
-| Error Logging Threshold
-|--------------------------------------------------------------------------
-|
-| If you have enabled error logging, you can set an error threshold to 
-| determine what gets logged. Threshold options are:
-| You can enable error logging by setting a threshold over zero. The
-| threshold determines what gets logged. Threshold options are:
-|
-|	0 = Disables logging, Error logging TURNED OFF
-|	1 = Error Messages (including PHP errors)
-|	2 = Debug Messages
-|	3 = Informational Messages
-|	4 = All Messages
-|
-| For a live site you'll usually only enable Errors (1) to be logged otherwise
-| your log files will fill up very fast.
-|
-*/
-$config['log_threshold'] = 0;
-
-/*
-|--------------------------------------------------------------------------
-| Error Logging Directory Path
-|--------------------------------------------------------------------------
-|
-| Leave this BLANK unless you would like to set something other than the default
-| system/logs/ folder.  Use a full server path with trailing slash.
-|
-*/
-$config['log_path'] = '';
-
-/*
-|--------------------------------------------------------------------------
-| Date Format for Logs
-|--------------------------------------------------------------------------
-|
-| Each item that is logged has an associated date. You can use PHP date
-| codes to set your own date formatting
-|
-*/
-$config['log_date_format'] = 'Y-m-d H:i:s';
-
-/*
-|--------------------------------------------------------------------------
-| Cache Directory Path
-|--------------------------------------------------------------------------
-|
-| Leave this BLANK unless you would like to set something other than the default
-| system/cache/ folder.  Use a full server path with trailing slash.
-|
-*/
-$config['cache_path'] = '';
-
-/*
-|--------------------------------------------------------------------------
-| Encryption Key
-|--------------------------------------------------------------------------
-|
-| If you use the Encryption class or the Sessions class with encryption
-| enabled you MUST set an encryption key.  See the user guide for info.
-|
-*/
-$config['encryption_key'] = "";
-
-/*
-|--------------------------------------------------------------------------
-| Session Variables
-|--------------------------------------------------------------------------
-|
-| 'session_cookie_name' = the name you want for the cookie
-| 'encrypt_sess_cookie' = TRUE/FALSE (boolean).  Whether to encrypt the cookie
-| 'session_expiration'  = the number of SECONDS you want the session to last.
-|  by default sessions last 7200 seconds (two hours).  Set to zero for no expiration.
-| 'time_to_update'		= how many seconds between CI refreshing Session Information
-|
-*/
-$config['sess_cookie_name']		= 'ci_session';
-$config['sess_expiration']		= 7200;
-$config['sess_encrypt_cookie']	= FALSE;
-$config['sess_use_database']	= FALSE;
-$config['sess_table_name']		= 'ci_sessions';
-$config['sess_match_ip']		= FALSE;
-$config['sess_match_useragent']	= TRUE;
-$config['sess_time_to_update'] 	= 300;
-
-/*
-|--------------------------------------------------------------------------
-| Cookie Related Variables
-|--------------------------------------------------------------------------
-|
-| 'cookie_prefix' = Set a prefix if you need to avoid collisions
-| 'cookie_domain' = Set to .your-domain.com for site-wide cookies
-| 'cookie_path'   =  Typically will be a forward slash
-|
-*/
-$config['cookie_prefix']	= "";
-$config['cookie_domain']	= "";
-$config['cookie_path']		= "/";
-
-/*
-|--------------------------------------------------------------------------
-| Global XSS Filtering
-|--------------------------------------------------------------------------
-|
-| Determines whether the XSS filter is always active when GET, POST or
-| COOKIE data is encountered
-|
-*/
-$config['global_xss_filtering'] = FALSE;
-
-/*
-|--------------------------------------------------------------------------
-| Output Compression
-|--------------------------------------------------------------------------
-|
-| Enables Gzip output compression for faster page loads.  When enabled,
-| the output class will test whether your server supports Gzip.
-| Even if it does, however, not all browsers support compression
-| so enable only if you are reasonably sure your visitors can handle it.
-|
-| VERY IMPORTANT:  If you are getting a blank page when compression is enabled it
-| means you are prematurely outputting something to your browser. It could
-| even be a line of whitespace at the end of one of your scripts.  For
-| compression to work, nothing can be sent before the output buffer is called
-| by the output class.  Do not "echo" any values with compression enabled.
-|
-*/
-$config['compress_output'] = FALSE;
-
-/*
-|--------------------------------------------------------------------------
-| Master Time Reference
-|--------------------------------------------------------------------------
-|
-| Options are "local" or "gmt".  This pref tells the system whether to use
-| your server's local time as the master "now" reference, or convert it to
-| GMT.  See the "date helper" page of the user guide for information
-| regarding date handling.
-|
-*/
-$config['time_reference'] = 'local';
-
-
-/*
-|--------------------------------------------------------------------------
-| Rewrite PHP Short Tags
-|--------------------------------------------------------------------------
-|
-| If your PHP installation does not have short tag support enabled CI
-| can rewrite the tags on-the-fly, enabling you to utilize that syntax
-| in your view files.  Options are TRUE or FALSE (boolean)
-|
-*/
-$config['rewrite_short_tags'] = FALSE;
-
-
-
-/* End of file config.php */
-/* Location: ./system/application/config/config.php */
\ No newline at end of file

Deleted: trunk/pintassilgo/system/application/config/database.php
===================================================================
--- trunk/pintassilgo/system/application/config/database.php	2008-11-03 18:34:52 UTC (rev 2)
+++ trunk/pintassilgo/system/application/config/database.php	2008-11-14 17:07:56 UTC (rev 3)
@@ -1,55 +0,0 @@
-<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
-/*
-| -------------------------------------------------------------------
-| DATABASE CONNECTIVITY SETTINGS
-| -------------------------------------------------------------------
-| This file will contain the settings needed to access your database.
-|
-| For complete instructions please consult the "Database Connection"
-| page of the User Guide.
-|
-| -------------------------------------------------------------------
-| EXPLANATION OF VARIABLES
-| -------------------------------------------------------------------
-|
-|	['hostname'] The hostname of your database server.
-|	['username'] The username used to connect to the database
-|	['password'] The password used to connect to the database
-|	['database'] The name of the database you want to connect to
-|	['dbdriver'] The database type. ie: mysql.  Currently supported:
-				 mysql, mysqli, postgre, odbc, mssql, sqlite, oci8
-|	['dbprefix'] You can add an optional prefix, which will be added
-|				 to the table name when using the  Active Record class
-|	['pconnect'] TRUE/FALSE - Whether to use a persistent connection
-|	['db_debug'] TRUE/FALSE - Whether database errors should be displayed.
-|	['cache_on'] TRUE/FALSE - Enables/disables query caching
-|	['cachedir'] The path to the folder where cache files should be stored
-|	['char_set'] The character set used in communicating with the database
-|	['dbcollat'] The character collation used in communicating with the database
-|
-| The $active_group variable lets you choose which connection group to
-| make active.  By default there is only one group (the "default" group).
-|
-| The $active_record variables lets you determine whether or not to load
-| the active record class
-*/
-
-$active_group = "default";
-$active_record = TRUE;
-
-$db['default']['hostname'] = "localhost";
-$db['default']['username'] = "";
-$db['default']['password'] = "";
-$db['default']['database'] = "";
-$db['default']['dbdriver'] = "mysql";
-$db['default']['dbprefix'] = "";
-$db['default']['pconnect'] = TRUE;
-$db['default']['db_debug'] = TRUE;
-$db['default']['cache_on'] = FALSE;
-$db['default']['cachedir'] = "";
-$db['default']['char_set'] = "utf8";
-$db['default']['dbcollat'] = "utf8_general_ci";
-
-
-/* End of file database.php */
-/* Location: ./system/application/config/database.php */
\ No newline at end of file



From knitter at mail.berlios.de  Fri Nov 14 18:36:48 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Fri, 14 Nov 2008 18:36:48 +0100
Subject: [Pintassilgo-commits] r4 -
	trunk/pintassilgo/system/application/config
Message-ID: <200811141736.mAEHamXs018977@sheep.berlios.de>

Author: knitter
Date: 2008-11-14 18:36:43 +0100 (Fri, 14 Nov 2008)
New Revision: 4

Modified:
   trunk/pintassilgo/system/application/config/
Log:
Ignorados ficheiros de configura?\195?\167?\195?\181es.


Property changes on: trunk/pintassilgo/system/application/config
___________________________________________________________________
Name: svn:ignore
   + config.php
database.php




From knitter at mail.berlios.de  Fri Nov 14 20:19:13 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Fri, 14 Nov 2008 20:19:13 +0100
Subject: [Pintassilgo-commits] r5 -
	trunk/pintassilgo/system/application/config
Message-ID: <200811141919.mAEJJD7I013417@sheep.berlios.de>

Author: knitter
Date: 2008-11-14 20:19:12 +0100 (Fri, 14 Nov 2008)
New Revision: 5

Removed:
   trunk/pintassilgo/system/application/config/routes.php
Log:
Elimina?\195?\167?\195?\163o do ficheiro de routes para ignorar posteriormente

Deleted: trunk/pintassilgo/system/application/config/routes.php
===================================================================
--- trunk/pintassilgo/system/application/config/routes.php	2008-11-14 17:36:43 UTC (rev 4)
+++ trunk/pintassilgo/system/application/config/routes.php	2008-11-14 19:19:12 UTC (rev 5)
@@ -1,48 +0,0 @@
-<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');
-/*
-| -------------------------------------------------------------------------
-| URI ROUTING
-| -------------------------------------------------------------------------
-| This file lets you re-map URI requests to specific controller functions.
-|
-| Typically there is a one-to-one relationship between a URL string
-| and its corresponding controller class/method. The segments in a
-| URL normally follow this pattern:
-|
-| 	example.com/class/method/id/
-|
-| In some instances, however, you may want to remap this relationship
-| so that a different class/function is called than the one
-| corresponding to the URL.
-|
-| Please see the user guide for complete details:
-|
-|	http://codeigniter.com/user_guide/general/routing.html
-|
-| -------------------------------------------------------------------------
-| RESERVED ROUTES
-| -------------------------------------------------------------------------
-|
-| There are two reserved routes:
-|
-|	$route['default_controller'] = 'welcome';
-|
-| This route indicates which controller class should be loaded if the
-| URI contains no data. In the above example, the "welcome" class
-| would be loaded.
-|
-|	$route['scaffolding_trigger'] = 'scaffolding';
-|
-| This route lets you set a "secret" word that will trigger the
-| scaffolding feature for added security. Note: Scaffolding must be
-| enabled in the controller in which you intend to use it.   The reserved 
-| routes must come before any wildcard or regular expression routes.
-|
-*/
-
-$route['default_controller'] = "welcome";
-$route['scaffolding_trigger'] = "";
-
-
-/* End of file routes.php */
-/* Location: ./system/application/config/routes.php */
\ No newline at end of file



From knitter at mail.berlios.de  Fri Nov 14 20:20:40 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Fri, 14 Nov 2008 20:20:40 +0100
Subject: [Pintassilgo-commits] r6 -
	trunk/pintassilgo/system/application/config
Message-ID: <200811141920.mAEJKepc013478@sheep.berlios.de>

Author: knitter
Date: 2008-11-14 20:20:39 +0100 (Fri, 14 Nov 2008)
New Revision: 6

Modified:
   trunk/pintassilgo/system/application/config/
Log:
Adicionado ficheiro de routes ?\195?\160 lista de ignore


Property changes on: trunk/pintassilgo/system/application/config
___________________________________________________________________
Name: svn:ignore
   - config.php
database.php

   + config.php
database.php
routes.php




From knitter at mail.berlios.de  Sat Nov 15 01:32:35 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Sat, 15 Nov 2008 01:32:35 +0100
Subject: [Pintassilgo-commits] r10 - in
	trunk/pintassilgo/system/application: controllers views
Message-ID: <200811150032.mAF0WZRd029751@sheep.berlios.de>

Author: knitter
Date: 2008-11-15 01:32:31 +0100 (Sat, 15 Nov 2008)
New Revision: 10

Added:
   trunk/pintassilgo/system/application/controllers/feeds.php
   trunk/pintassilgo/system/application/views/feeds_view.php
Log:
Enviados ficheiros com listagem de feeds

Added: trunk/pintassilgo/system/application/controllers/feeds.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/feeds.php	2008-11-14 23:55:38 UTC (rev 9)
+++ trunk/pintassilgo/system/application/controllers/feeds.php	2008-11-15 00:32:31 UTC (rev 10)
@@ -0,0 +1,12 @@
+<?php
+class Feeds extends Controller {
+
+    function index() {
+        $this->load->database();
+        
+        $data = $this->db->get("content")->result();
+        $this->load->view("feeds_view.php", array('data' => $data));
+    }
+    
+}
+?>

Added: trunk/pintassilgo/system/application/views/feeds_view.php
===================================================================
--- trunk/pintassilgo/system/application/views/feeds_view.php	2008-11-14 23:55:38 UTC (rev 9)
+++ trunk/pintassilgo/system/application/views/feeds_view.php	2008-11-15 00:32:31 UTC (rev 10)
@@ -0,0 +1,20 @@
+<html>
+    <head></head>
+    <body>
+        <?php
+        //id
+        //feed_id
+        //guid
+        //title
+        //summary
+        //body
+        //content_date
+        //url
+
+        foreach($data as $row) {
+            echo '<h1>'. $row->title . '</h1>';
+            echo '<p>'. $row->summary . '</p>';
+            echo 'Escrito por <a href="#">autor</a> em <a href="' . $row->url . '">' . $row->content_date . '</a>';
+        }?>
+    </body>
+</html>



From knitter at mail.berlios.de  Sat Nov 15 02:02:44 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Sat, 15 Nov 2008 02:02:44 +0100
Subject: [Pintassilgo-commits] r11 - in
	trunk/pintassilgo/system/application: controllers views
Message-ID: <200811150102.mAF12ibs010033@sheep.berlios.de>

Author: knitter
Date: 2008-11-15 02:02:42 +0100 (Sat, 15 Nov 2008)
New Revision: 11

Added:
   trunk/pintassilgo/system/application/views/feed_body.php
Modified:
   trunk/pintassilgo/system/application/controllers/feeds.php
   trunk/pintassilgo/system/application/views/feeds_view.php
Log:
Actualizados m?\195?\169todos para mostrar feeds

Modified: trunk/pintassilgo/system/application/controllers/feeds.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/feeds.php	2008-11-15 00:32:31 UTC (rev 10)
+++ trunk/pintassilgo/system/application/controllers/feeds.php	2008-11-15 01:02:42 UTC (rev 11)
@@ -1,12 +1,20 @@
 <?php
 class Feeds extends Controller {
 
-    function index() {
+    public function __construct() {
+        parent::__construct();
         $this->load->database();
-        
-        $data = $this->db->get("content")->result();
-        $this->load->view("feeds_view.php", array('data' => $data));
     }
-    
+
+    function index() {
+        $data = $this->db->query('SELECT id, title, summary, content_date, url FROM content')->result();
+        $this->load->view("feeds_view", array('data' => $data));
+    }
+
+    function more($id) {
+        $data = $this->db->query('SELECT body FROM content WHERE id = ' . $id)->row();
+        $this->load->view("feed_body", array('data' => $data));
+    }
+
 }
 ?>

Added: trunk/pintassilgo/system/application/views/feed_body.php
===================================================================
--- trunk/pintassilgo/system/application/views/feed_body.php	2008-11-15 00:32:31 UTC (rev 10)
+++ trunk/pintassilgo/system/application/views/feed_body.php	2008-11-15 01:02:42 UTC (rev 11)
@@ -0,0 +1,9 @@
+<html>
+    <head></head>
+    <body>
+        <?php
+            echo $data->body;
+        ?>
+    </body>
+</html>
+

Modified: trunk/pintassilgo/system/application/views/feeds_view.php
===================================================================
--- trunk/pintassilgo/system/application/views/feeds_view.php	2008-11-15 00:32:31 UTC (rev 10)
+++ trunk/pintassilgo/system/application/views/feeds_view.php	2008-11-15 01:02:42 UTC (rev 11)
@@ -14,7 +14,8 @@
         foreach($data as $row) {
             echo '<h1>'. $row->title . '</h1>';
             echo '<p>'. $row->summary . '</p>';
-            echo 'Escrito por <a href="#">autor</a> em <a href="' . $row->url . '">' . $row->content_date . '</a>';
+            echo '<a href="feeds/more/'. $row->id .'">mais</a> ' .
+            'Escrito por <a href="#">autor</a> em <a href="' . $row->url . '">' . $row->content_date . '</a>';
         }?>
     </body>
 </html>



From knitter at mail.berlios.de  Sat Nov 15 04:39:26 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Sat, 15 Nov 2008 04:39:26 +0100
Subject: [Pintassilgo-commits] r16 - in trunk/pintassilgo: .
	system/application/controllers
Message-ID: <200811150339.mAF3dQZe010614@sheep.berlios.de>

Author: knitter
Date: 2008-11-15 04:39:22 +0100 (Sat, 15 Nov 2008)
New Revision: 16

Removed:
   trunk/pintassilgo/nbproject/
Modified:
   trunk/pintassilgo/system/application/controllers/feeds.php
Log:
Removida pasta do netbeans adicionada por engano

Modified: trunk/pintassilgo/system/application/controllers/feeds.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/feeds.php	2008-11-15 03:11:56 UTC (rev 15)
+++ trunk/pintassilgo/system/application/controllers/feeds.php	2008-11-15 03:39:22 UTC (rev 16)
@@ -16,5 +16,20 @@
         $this->load->view("feed_body", array('data' => $data));
     }
 
+    function submit() {
+        $this->load->helper('url');
+        $this->load->helper('form');
+
+        $this->load->library('form_validation');
+
+        $this->form_validation->set_rules('source_name', 'T?tulo', 'required');
+        $this->form_validation->set_rules('url', 'URL', 'required');
+
+        $success = FALSE;
+        if ($this->form_validation->run() != FALSE) {
+            $success = TRUE;
+        }
+        $this->load->view('submit_feed', array('success' => $success));
+    }
 }
 ?>



From knitter at mail.berlios.de  Sat Nov 15 04:56:14 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Sat, 15 Nov 2008 04:56:14 +0100
Subject: [Pintassilgo-commits] r17 - in
	trunk/pintassilgo/system/application: config controllers
	libraries views
Message-ID: <200811150356.mAF3uEvJ011249@sheep.berlios.de>

Author: knitter
Date: 2008-11-15 04:56:09 +0100 (Sat, 15 Nov 2008)
New Revision: 17

Added:
   trunk/pintassilgo/system/application/views/submit_feed.php
Modified:
   trunk/pintassilgo/system/application/config/autoload.php
   trunk/pintassilgo/system/application/controllers/feeds.php
   trunk/pintassilgo/system/application/controllers/friends.php
   trunk/pintassilgo/system/application/controllers/users.php
   trunk/pintassilgo/system/application/libraries/dbstatements.php
   trunk/pintassilgo/system/application/libraries/sessions.php
Log:
Adicionada biblioteca de base de dados ao ficheiro de autoload, removidas todas as chamadas a loads existentes no c?\195?\179digo.

Modified: trunk/pintassilgo/system/application/config/autoload.php
===================================================================
--- trunk/pintassilgo/system/application/config/autoload.php	2008-11-15 03:39:22 UTC (rev 16)
+++ trunk/pintassilgo/system/application/config/autoload.php	2008-11-15 03:56:09 UTC (rev 17)
@@ -39,7 +39,7 @@
 |	$autoload['libraries'] = array('database', 'session', 'xmlrpc');
 */
 
-$autoload['libraries'] = array();
+$autoload['libraries'] = array('database');
 
 
 /*

Modified: trunk/pintassilgo/system/application/controllers/feeds.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/feeds.php	2008-11-15 03:39:22 UTC (rev 16)
+++ trunk/pintassilgo/system/application/controllers/feeds.php	2008-11-15 03:56:09 UTC (rev 17)
@@ -3,7 +3,7 @@
 
     public function __construct() {
         parent::__construct();
-        $this->load->database();
+        $this->load->library('dbstatements');
     }
 
     function index() {
@@ -12,7 +12,7 @@
     }
 
     function more($id) {
-        $data = $this->db->query('SELECT body FROM content WHERE id = ' . $id)->row();
+        $data = $this->db->query($this->dbstatements->ps_get_feed_body, array($id))->row();
         $this->load->view("feed_body", array('data' => $data));
     }
 

Modified: trunk/pintassilgo/system/application/controllers/friends.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/friends.php	2008-11-15 03:39:22 UTC (rev 16)
+++ trunk/pintassilgo/system/application/controllers/friends.php	2008-11-15 03:56:09 UTC (rev 17)
@@ -13,7 +13,6 @@
 
     public function __construct() {
         parent::__construct();
-        $this->load->database();
         $this->load->library('dbstatements');
     }
 
@@ -24,8 +23,6 @@
     function add_friend($user, $friend_id) {
 
         if ( $user == $friend_id ) {
-            //$this->load->helper(url);
-            //redirect('/friends/');
             $this->index();
         }
 
@@ -35,15 +32,12 @@
 
         // Maybe it would be a good idea to add a friend to the list
         // and sort that list before inserting to DB
-
         $this->db->query($this->dbstatements->ps_add_friends, array($user, $users.';'.$friend_id));
-        
+
     }
 
     function remove_friend($user, $friend_id) {
         if ( $user == $friend_id ) {
-            //$this->load->helper(url);
-            //redirect('/friends/');
             $this->index();
         }
 
@@ -52,8 +46,6 @@
         $users = $result->row();
 
         $users = split(";",$users);
-
     }
-
 }
 ?>

Modified: trunk/pintassilgo/system/application/controllers/users.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 03:39:22 UTC (rev 16)
+++ trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 03:56:09 UTC (rev 17)
@@ -8,7 +8,6 @@
 		$data['title'] 		= "Pintassilgo - Agregador de Feeds";
 		$data['heading'] 	= "Pintassilgo - Ver users";
 		
-		$this->load->database();
 		$query = $this->db->query('SELECT * FROM `users` WHERE `active` = 1');
 		
 		$data['dados'] = $query->result_array() ;
@@ -58,7 +57,6 @@
 		$perms = $this->sessions->perms();
 		if(is_numeric($id) and $perms == 2)
 		{
-			$this->load->database();
 			$this->db->query('UPDATE `users` SET `active` = "0" WHERE `ID` = "'.$id.'" AND `active` = 1 LIMIT 1');
 			echo "Utilizador removido com sucesso.";
 		}
@@ -70,7 +68,6 @@
 	function perfil($id)
 	{
 		if(is_numeric($id)) {
-			$this->load->database();
 			$query = $this->db->query('SELECT * FROM `users` WHERE `ID` = "'.$id.'" AND `active` = 1 LIMIT 1');
 			$data['dados_pessoais'] = $query->result_array();
 			$data['title'] 		= "Pintassilgo - Agregador de Feeds";

Modified: trunk/pintassilgo/system/application/libraries/dbstatements.php
===================================================================
--- trunk/pintassilgo/system/application/libraries/dbstatements.php	2008-11-15 03:39:22 UTC (rev 16)
+++ trunk/pintassilgo/system/application/libraries/dbstatements.php	2008-11-15 03:56:09 UTC (rev 17)
@@ -1,8 +1,8 @@
 <?php
 
 class Dbstatements {
-    var $ps_add_friends = 'update users set friends = ? where ID = ?';
-    var $ps_consult_friends = 'select friends from users where ID = ?';
+    var $ps_add_friends = 'UPDATE users SET friends = ? WHERE id = ?';
+    var $ps_consult_friends = 'SELECT friends FROM users WHERE id = ?';
+    var $ps_get_feed_body = 'SELECT body FROM content WHERE id = ?';
 }
-
 ?>

Modified: trunk/pintassilgo/system/application/libraries/sessions.php
===================================================================
--- trunk/pintassilgo/system/application/libraries/sessions.php	2008-11-15 03:39:22 UTC (rev 16)
+++ trunk/pintassilgo/system/application/libraries/sessions.php	2008-11-15 03:56:09 UTC (rev 17)
@@ -5,7 +5,6 @@
 	{
 		/* verifica??o seguran?a */
 		$senha = md5($password);
-		$this->load->database();
 		$query = $this->db->query("SELECT * FROM `users` WHERE `mail` = '$email' AND `password` = '$senha' LIMIT 1");
 		
 		if($query->num_rows() > 0)
@@ -34,7 +33,6 @@
 			$login = $_SESSION["login_user"];
 			$pass = $_SESSION["password_user"];
 			
-			$this->load->database();
 			$query = $this->db->query("SELECT * FROM `users` WHERE `ID` = '$id' AND `nick` = '$login' AND `password` = '$pass' LIMIT 1");
 			
 			foreach($query->result_array() as $row)

Added: trunk/pintassilgo/system/application/views/submit_feed.php
===================================================================
--- trunk/pintassilgo/system/application/views/submit_feed.php	2008-11-15 03:39:22 UTC (rev 16)
+++ trunk/pintassilgo/system/application/views/submit_feed.php	2008-11-15 03:56:09 UTC (rev 17)
@@ -0,0 +1,26 @@
+<hml>
+    <head></head>
+    <body>
+        <?php
+        echo validation_errors();
+        
+        if($success == TRUE) {
+            echo 'submited';
+        } else {
+            echo form_open('feeds/submit');
+            echo form_label('T?tulo', 'source_name'),form_input('source_name');
+
+            echo '<br />';
+
+            echo form_label('URL:', 'url'), form_input('url');
+
+            echo '<br />';
+
+            echo form_hidden('user');
+
+            echo form_reset('clear', 'Limpar'), form_submit('submit', 'Submeter');
+            echo form_close();
+        }
+        ?>
+    </body>
+</hml>



From knitter at mail.berlios.de  Sat Nov 15 05:50:16 2008
From: knitter at mail.berlios.de (knitter at mail.berlios.de)
Date: Sat, 15 Nov 2008 05:50:16 +0100
Subject: [Pintassilgo-commits] r18 - in
	trunk/pintassilgo/system/application: controllers libraries views
Message-ID: <200811150450.mAF4oGE2019218@sheep.berlios.de>

Author: knitter
Date: 2008-11-15 05:50:14 +0100 (Sat, 15 Nov 2008)
New Revision: 18

Added:
   trunk/pintassilgo/system/application/controllers/admin.php
Modified:
   trunk/pintassilgo/system/application/controllers/feeds.php
   trunk/pintassilgo/system/application/libraries/dbstatements.php
   trunk/pintassilgo/system/application/views/feeds_view.php
   trunk/pintassilgo/system/application/views/submit_feed.php
Log:
Corrigido erro na submiss?\195?\163o de feeds

Added: trunk/pintassilgo/system/application/controllers/admin.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/admin.php	2008-11-15 03:56:09 UTC (rev 17)
+++ trunk/pintassilgo/system/application/controllers/admin.php	2008-11-15 04:50:14 UTC (rev 18)
@@ -0,0 +1,8 @@
+<?php
+class Admin extends Controller {
+
+    function index() {
+        
+    }
+}
+?>

Modified: trunk/pintassilgo/system/application/controllers/feeds.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/feeds.php	2008-11-15 03:56:09 UTC (rev 17)
+++ trunk/pintassilgo/system/application/controllers/feeds.php	2008-11-15 04:50:14 UTC (rev 18)
@@ -24,11 +24,17 @@
 
         $this->form_validation->set_rules('source_name', 'T?tulo', 'required');
         $this->form_validation->set_rules('url', 'URL', 'required');
+        $this->form_validation->set_rules('description', 'Descri??o da FEED', 'required');
 
         $success = FALSE;
-        if ($this->form_validation->run() != FALSE) {
+        $_POST['user'] = 4;//NOTA: para remover!
+        if($this->form_validation->run() != FALSE) {
+            $this->db->query($this->dbstatements->ps_insert_feed, array(
+                    $_POST['url'], $_POST['description'], $_POST['user'], $_POST['source_name']));
+
             $success = TRUE;
         }
+
         $this->load->view('submit_feed', array('success' => $success));
     }
 }

Modified: trunk/pintassilgo/system/application/libraries/dbstatements.php
===================================================================
--- trunk/pintassilgo/system/application/libraries/dbstatements.php	2008-11-15 03:56:09 UTC (rev 17)
+++ trunk/pintassilgo/system/application/libraries/dbstatements.php	2008-11-15 04:50:14 UTC (rev 18)
@@ -4,5 +4,6 @@
     var $ps_add_friends = 'UPDATE users SET friends = ? WHERE id = ?';
     var $ps_consult_friends = 'SELECT friends FROM users WHERE id = ?';
     var $ps_get_feed_body = 'SELECT body FROM content WHERE id = ?';
+    var $ps_insert_feed = 'INSERT INTO feed(url, description, user_id, source_name) VALUES (?, ?, ?, ?)';
 }
 ?>

Modified: trunk/pintassilgo/system/application/views/feeds_view.php
===================================================================
--- trunk/pintassilgo/system/application/views/feeds_view.php	2008-11-15 03:56:09 UTC (rev 17)
+++ trunk/pintassilgo/system/application/views/feeds_view.php	2008-11-15 04:50:14 UTC (rev 18)
@@ -14,7 +14,7 @@
         foreach($data as $row) {
             echo '<h1>'. $row->title . '</h1>';
             echo '<p>'. $row->summary . '</p>';
-            echo '<a href="feeds/more/'. $row->id .'">mais</a> ' .
+            echo '<a href="more/'. $row->id .'">mais</a> ' .
             'Escrito por <a href="#">autor</a> em <a href="' . $row->url . '">' . $row->content_date . '</a>';
         }?>
     </body>

Modified: trunk/pintassilgo/system/application/views/submit_feed.php
===================================================================
--- trunk/pintassilgo/system/application/views/submit_feed.php	2008-11-15 03:56:09 UTC (rev 17)
+++ trunk/pintassilgo/system/application/views/submit_feed.php	2008-11-15 04:50:14 UTC (rev 18)
@@ -3,24 +3,29 @@
     <body>
         <?php
         echo validation_errors();
-        
+
         if($success == TRUE) {
-            echo 'submited';
-        } else {
-            echo form_open('feeds/submit');
-            echo form_label('T?tulo', 'source_name'),form_input('source_name');
+            echo 'FEED submetida.';
+        }
+        echo form_open('feeds/submit');
+        echo form_label('T?tulo', 'source_name'),form_input('source_name');//, set_value('source_name','')
 
-            echo '<br />';
+        echo '<br />';
 
-            echo form_label('URL:', 'url'), form_input('url');
+        echo form_label('URL:', 'url'), form_input('url');//, set_value('url','')
 
-            echo '<br />';
+        echo '<br />';
 
-            echo form_hidden('user');
+        echo form_label('Descri??o da FEED:', 'description');
+        echo '<br />';
 
-            echo form_reset('clear', 'Limpar'), form_submit('submit', 'Submeter');
-            echo form_close();
-        }
+        echo form_textarea('description');
+
+        echo '<br />';
+        echo form_hidden('user');
+
+        echo form_reset('clear', 'Limpar'), form_submit('submit', 'Submeter');
+        echo form_close();
         ?>
     </body>
 </hml>



From xbrunox at mail.berlios.de  Sat Nov 15 03:49:42 2008
From: xbrunox at mail.berlios.de (xbrunox at mail.berlios.de)
Date: Sat, 15 Nov 2008 03:49:42 +0100
Subject: [Pintassilgo-commits] r14 - in trunk/pintassilgo: . nbproject
	system/application/controllers system/application/libraries
	system/application/views
Message-ID: <200811150249.mAF2ngo3032611@sheep.berlios.de>

Author: xbrunox
Date: 2008-11-15 03:49:35 +0100 (Sat, 15 Nov 2008)
New Revision: 14

Added:
   trunk/pintassilgo/nbproject/
   trunk/pintassilgo/nbproject/project.properties
   trunk/pintassilgo/nbproject/project.xml
   trunk/pintassilgo/system/application/controllers/friends.php
   trunk/pintassilgo/system/application/libraries/dbstatements.php
   trunk/pintassilgo/system/application/views/friends.php
Log:
Added some functionalities related to friends management. Not all methods are totally implemented.


Property changes on: trunk/pintassilgo/nbproject
___________________________________________________________________
Name: svn:ignore
   + private


Added: trunk/pintassilgo/nbproject/project.properties
===================================================================
--- trunk/pintassilgo/nbproject/project.properties	2008-11-15 02:45:29 UTC (rev 13)
+++ trunk/pintassilgo/nbproject/project.properties	2008-11-15 02:49:35 UTC (rev 14)
@@ -0,0 +1,6 @@
+include.path=${php.global.include.path}
+source.encoding=UTF-8
+src.dir=.
+tags.asp=false
+tags.short=true
+web.root=.

Added: trunk/pintassilgo/nbproject/project.xml
===================================================================
--- trunk/pintassilgo/nbproject/project.xml	2008-11-15 02:45:29 UTC (rev 13)
+++ trunk/pintassilgo/nbproject/project.xml	2008-11-15 02:49:35 UTC (rev 14)
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project xmlns="http://www.netbeans.org/ns/project/1">
+    <type>org.netbeans.modules.php.project</type>
+    <configuration>
+        <data xmlns="http://www.netbeans.org/ns/php-project/1">
+            <name>pintassilgo</name>
+        </data>
+    </configuration>
+</project>

Added: trunk/pintassilgo/system/application/controllers/friends.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/friends.php	2008-11-15 02:45:29 UTC (rev 13)
+++ trunk/pintassilgo/system/application/controllers/friends.php	2008-11-15 02:49:35 UTC (rev 14)
@@ -0,0 +1,59 @@
+<?php
+/* 
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+
+/**
+ * Description of Friends
+ *
+ * @author bruno
+ */
+class Friends extends Controller {
+
+    public function __construct() {
+        parent::__construct();
+        $this->load->database();
+        $this->load->library('dbstatements');
+    }
+
+    function index() {
+        $this->load->view("friends");
+    }
+
+    function add_friend($user, $friend_id) {
+
+        if ( $user == $friend_id ) {
+            //$this->load->helper(url);
+            //redirect('/friends/');
+            $this->index();
+        }
+
+        $result = $this->db->query($this->dbstatements->ps_consult_friends, array($user));
+
+        $users = $result->row();
+
+        // Maybe it would be a good idea to add a friend to the list
+        // and sort that list before inserting to DB
+
+        $this->db->query($this->dbstatements->ps_add_friends, array($user, $users.';'.$friend_id));
+        
+    }
+
+    function remove_friend($user, $friend_id) {
+        if ( $user == $friend_id ) {
+            //$this->load->helper(url);
+            //redirect('/friends/');
+            $this->index();
+        }
+
+        $result = $this->db->query($this->dbstatements->ps_consult_friends, array($user));
+
+        $users = $result->row();
+
+        $users = split(";",$users);
+
+    }
+
+}
+?>

Added: trunk/pintassilgo/system/application/libraries/dbstatements.php
===================================================================
--- trunk/pintassilgo/system/application/libraries/dbstatements.php	2008-11-15 02:45:29 UTC (rev 13)
+++ trunk/pintassilgo/system/application/libraries/dbstatements.php	2008-11-15 02:49:35 UTC (rev 14)
@@ -0,0 +1,8 @@
+<?php
+
+class Dbstatements {
+    var $ps_add_friends = 'update users set friends = ? where ID = ?';
+    var $ps_consult_friends = 'select friends from users where ID = ?';
+}
+
+?>

Added: trunk/pintassilgo/system/application/views/friends.php
===================================================================
--- trunk/pintassilgo/system/application/views/friends.php	2008-11-15 02:45:29 UTC (rev 13)
+++ trunk/pintassilgo/system/application/views/friends.php	2008-11-15 02:49:35 UTC (rev 14)
@@ -0,0 +1,16 @@
+<!--
+To change this template, choose Tools | Templates
+and open the template in the editor.
+-->
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
+<html>
+    <head>
+        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+        <title></title>
+    </head>
+    <body>
+        <?php
+        echo '<a href="index.php/friends/add_friend/2/3">add</a>';
+        ?>
+    </body>
+</html>



From joaopedro at mail.berlios.de  Sat Nov 15 00:26:39 2008
From: joaopedro at mail.berlios.de (joaopedro at mail.berlios.de)
Date: Sat, 15 Nov 2008 00:26:39 +0100
Subject: [Pintassilgo-commits] r7 - trunk/pintassilgo
Message-ID: <200811142326.mAENQdC1004177@sheep.berlios.de>

Author: joaopedro
Date: 2008-11-15 00:19:35 +0100 (Sat, 15 Nov 2008)
New Revision: 7

Modified:
   trunk/pintassilgo/index.php
Log:
New files: controler->users & view->users_all

Modified: trunk/pintassilgo/index.php
===================================================================
--- trunk/pintassilgo/index.php	2008-11-14 19:20:39 UTC (rev 6)
+++ trunk/pintassilgo/index.php	2008-11-14 23:19:35 UTC (rev 7)
@@ -1,4 +1,4 @@
-<?php
+<?php header("Content-Type: text/html; charset=utf-8");
 /*
 |---------------------------------------------------------------
 | PHP ERROR REPORTING LEVEL
@@ -115,4 +115,4 @@
 require_once BASEPATH.'codeigniter/CodeIgniter'.EXT;
 
 /* End of file index.php */
-/* Location: ./index.php */
\ No newline at end of file
+/* Location: ./index.php */



From joaopedro at mail.berlios.de  Sat Nov 15 00:43:00 2008
From: joaopedro at mail.berlios.de (joaopedro at mail.berlios.de)
Date: Sat, 15 Nov 2008 00:43:00 +0100
Subject: [Pintassilgo-commits] r8 - in trunk/pintassilgo/system/application:
	controllers views
Message-ID: <200811142343.mAENh09A019172@sheep.berlios.de>

Author: joaopedro
Date: 2008-11-15 00:42:51 +0100 (Sat, 15 Nov 2008)
New Revision: 8

Added:
   trunk/pintassilgo/system/application/controllers/users.php
   trunk/pintassilgo/system/application/views/users_all.php
Log:
New files: controler->users & view->users_all

Added: trunk/pintassilgo/system/application/controllers/users.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/users.php	2008-11-14 23:19:35 UTC (rev 7)
+++ trunk/pintassilgo/system/application/controllers/users.php	2008-11-14 23:42:51 UTC (rev 8)
@@ -0,0 +1,62 @@
+<?php
+class Users extends Controller {
+	
+	function index()
+	{
+		$data['title'] 		= "Pintassilgo";
+		$data['heading'] 	= "Pintassilgo - Ver users";
+		
+		$this->load->database();
+		$query = $this->db->query('SELECT * FROM `users`');
+		
+		$data['dados'] = $query->result_array() ;
+		
+		$this->load->library('pagination');
+
+		$config['base_url'] = 'index.php/users/';
+		$config['total_rows'] = $query->num_rows();
+		$config['per_page'] = '1';
+
+		$this->pagination->initialize($config); 
+
+		$data['pagination'] = $this->pagination->create_links();
+		$this->load->helper('html');
+		$this->load->view('users_all', $data);
+	}
+	
+	function new_user()
+	{
+		$this->user 		= $_POST['username'];
+		$this->nick 		= $_POST['nick'];
+		$this->pass1 		= $_POST['pass1'];
+		$this->pass2 		= $_POST['pass2'];
+		$this->mail 		= $_POST['mail'];
+		$this->blog_url 	= $_POST['blog'];
+		$this->data_nasc	= $_POST['dia'] ."-".$_POST['mes']."-".$_POST['ano'];
+		$this->areas 		= $_POST['areas'];
+		$this->data			= date('d-m-Y');
+
+		$query = $this->db->query("INSERT INTO `pintassilgo` (`ID`, `nick`, `password`, `mail`, `url`, `data_nasc`, `areas`)
+		VALUES (NULL, '".$this->nick."', '".$this->pass."', '".$this->mail."', '".$this->blog_url."', '".$this->data_nasc."', '".$this->areas."', '".$this->data."')");
+
+		$mensagem = "O utilizador ". $this->nick ." foi introduzido com sucesso na base de dados.";
+		
+		echo $mensagem;
+	}
+	
+	function remove_user($id)
+	{
+		/* necessita de sistema de permiss?es, verifica??o de existencia de id, de id eliminado, etc. */
+		
+		if(is_numeric($id))
+		{
+			$this->load->database();
+			$this->db->query('DELETE FROM `users` WHERE `ID` = "'.$id.'" LIMIT 1');
+			echo "Utilizador removido com sucesso.";
+		}
+		else
+			echo "Tipo de dados inv?lido";
+	}
+
+}
+?>

Added: trunk/pintassilgo/system/application/views/users_all.php
===================================================================
--- trunk/pintassilgo/system/application/views/users_all.php	2008-11-14 23:19:35 UTC (rev 7)
+++ trunk/pintassilgo/system/application/views/users_all.php	2008-11-14 23:42:51 UTC (rev 8)
@@ -0,0 +1,418 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+<meta http-equiv="content-type" content="text/html; charset=utf-8" />
+<title><?php echo $title;?></title>
+
+<style>body {
+ margin: 0;
+ padding: 0;
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 14px;
+ color: #4F5155;
+ background-color: #fff;
+}
+
+a {
+ color: #003399;
+ background-color: transparent;
+ text-decoration: none;
+ font-weight: normal;
+}
+a:visited {
+ color: #003399;
+ background-color: transparent;
+ text-decoration: none;
+}
+a:hover {
+ color: #000;
+ text-decoration: none;
+ background-color: transparent;
+}
+
+#nav {
+ background-color: #5d5d5d;
+ margin: 0;
+ padding: 0;
+}
+#nav2 {
+ background: #fff url(images/nav_bg.jpg) repeat-x left top;
+ padding: 0 240px 0 0;
+ margin: 0;
+ text-align: right;
+}
+#nav_inner {
+ background-color: transparent;
+ padding: 8px 12px 0 20px;
+ margin: 0;
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 11px;
+}
+
+#nav_inner h3 {
+ font-size: 12px;
+ color: #fff;
+ margin: 0;
+ padding: 0;
+}
+
+#nav_inner .td_sep {
+ background: transparent url(images/nav_separator.jpg) repeat-y left top;
+ width: 25%;
+ padding: 0 0 0 20px;
+}
+#nav_inner .td {
+ width: 25%;
+}
+#nav_inner p {
+ color: #eee;
+ background-color: transparent;
+ padding:0;
+ margin: 0 0 10px 0;
+}
+#nav_inner ul {
+ list-style-image: url(images/arrow.gif);
+ padding: 0 0 0 18px;
+ margin: 8px 0 12px 0;
+}
+#nav_inner li {
+ padding: 0;
+ margin: 0 0 4px 0;
+}
+
+#nav_inner a {
+ color: #eee;
+ background-color: transparent;
+ text-decoration: none;
+ font-weight: normal;
+}
+
+#nav_inner a:visited {
+ color: #eee;
+ background-color: transparent;
+ text-decoration: none;
+}
+
+#nav_inner a:hover {
+ color: #ccc;
+ text-decoration: none;
+ background-color: transparent;
+}
+
+#masthead {
+ margin: 0 40px 0 35px;
+ padding: 0 0 0 6px;
+ border-bottom: 1px solid #999;
+}
+
+#masthead h1 {
+background-color: transparent;
+color: #003399;
+font-size: 18px;
+font-weight: normal;
+margin: 0;
+padding: 0 0 6px 0;
+}
+
+#searchbox {
+ background-color: transparent;
+ padding: 6px 40px 0 0;
+ text-align: right;
+ font-size: 10px;
+ color: #666;
+}
+
+#img_welcome {
+ border-bottom: 1px solid #D0D0D0;
+ margin: 0 40px 0 40px;
+ padding: 0;
+ text-align: center;
+}
+
+#content {
+ margin: 20px 40px 0 40px;
+ padding: 0;
+}
+
+#content p {
+ margin: 10px 20px 12px 0;
+}
+
+#content h1 {
+color: #333;
+background-color: #efefef;
+font-weight: normal;
+font-size: 22px;
+margin: 0 0 15px 0;
+padding: 3px 2px 3px 10px;
+}
+
+#content h2 {
+ background-color: transparent;
+ border-bottom: 1px solid #D0D0D0;
+ color: #444;
+ font-size: 16px;
+ font-weight: bold;
+ margin: 24px 0 2px 0;
+ padding: 5px 0 6px 0;
+}
+
+#content h3 {
+ background-color: transparent;
+ color: #333;
+ font-size: 14px;
+ font-weight: bold;
+ margin: 22px 0 12px 0;
+ padding: 0 0 0 0;
+}
+
+#content h4 {
+ background-color: transparent;
+ color: #444;
+ font-size: 14px;
+ font-weight: bold;
+ margin: 22px 0 0 0;
+ padding: 0 0 0 0;
+}
+
+#content img {
+ margin: auto;
+ padding: 0;
+}
+
+#content code {
+ font-family: Monaco, Verdana, Sans-serif;
+ font-size: 12px;
+ background-color: #f9f9f9;
+ border: 1px solid #D0D0D0;
+ color: #002166;
+ display: block;
+ margin: 14px 0 14px 0;
+ padding: 12px 10px 12px 10px;
+}
+
+#content pre {
+ font-family: Monaco, Verdana, Sans-serif;
+ font-size: 12px;
+ background-color: #f9f9f9;
+ border: 1px solid #D0D0D0;
+ color: #002166;
+ display: block;
+ margin: 14px 0 14px 0;
+ padding: 12px 10px 12px 10px;
+}
+
+#content .path {
+ background-color: #EBF3EC;
+ border: 1px solid #99BC99;
+ color: #005702;
+ text-align: center;
+ margin: 0 0 14px 0;
+ padding: 5px 10px 5px 8px;
+}
+
+#content dfn {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ color: #00620C;
+ font-weight: bold;
+ font-style: normal;
+}
+#content var {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ color: #8F5B00;
+ font-weight: bold;
+ font-style: normal;
+}
+#content samp {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ color: #480091;
+ font-weight: bold;
+ font-style: normal;
+}
+#content kbd {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ color: #A70000;
+ font-weight: bold;
+ font-style: normal;
+}
+
+#content ul {
+ list-style-image: url(images/arrow.gif);
+ padding: 0 0 0 18px;
+ margin: 8px 0 12px 0;
+}
+
+#content li {
+ padding: 0;
+ margin: 0 0 6px 0;
+}
+
+#content li p {
+ margin-left: 0;
+ margin-right: 0;
+}
+
+#content .tableborder {
+ border: 1px solid #999;
+}
+#content th {
+ font-weight: bold;
+ text-align: left;
+ font-size: 12px;
+ background-color: #666;
+ color: #fff;
+ padding: 4px;
+}
+
+#content .td {
+ font-weight: normal;
+ font-size: 12px;
+ padding: 6px;
+ background-color: #f3f3f3;
+}
+
+#content .tdpackage {
+ font-weight: normal;
+ font-size: 12px;
+}
+
+#content .important {
+ background: #FBE6F2;
+ border: 1px solid #D893A1;
+ color: #333;
+ margin: 10px 0 5px 0;
+ padding: 10px;
+}
+
+#content .important p {
+ margin: 6px 0 8px 0;
+ padding: 0;
+}
+
+#content .important .leftpad {
+ margin: 6px 0 8px 0;
+ padding-left: 20px;
+}
+
+#content .critical {
+ background: #FBE6F2;
+ border: 1px solid #E68F8F;
+ color: #333;
+ margin: 10px 0 5px 0;
+ padding: 10px;
+}
+
+#content .critical p {
+ margin: 5px 0 6px 0;
+ padding: 0;
+}
+
+
+#footer {
+background-color: transparent;
+font-size: 10px;
+padding: 16px 0 15px 0;
+margin: 20px 0 0 0;
+text-align: center;
+}
+
+#footer p {
+ font-size: 10px;
+ color: #999;
+ text-align: center;
+}
+#footer address {
+ font-style: normal;
+}
+
+.center {
+ text-align: center;
+}
+
+img {
+ padding:0;
+ border: 0;
+ margin: 0;
+}
+
+.nopad {
+ padding:0;
+ border: 0;
+ margin: 0;
+}
+
+
+form {
+ margin: 0;
+ padding: 0;
+}
+
+.input {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 11px;
+ color: #333;
+ border: 1px solid #B3B4BD;
+ width: 100%;
+ font-size: 11px;
+ height: 1.5em;
+ padding: 0;
+ margin: 0;
+}
+
+.textarea {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 14px;
+ color: #143270;
+ background-color: #f9f9f9;
+ border: 1px solid #B3B4BD;
+ width: 100%;
+ padding: 0;
+ margin: 0;
+}
+
+.select {
+ background-color: #fff;
+ font-size:  11px;
+ font-weight: normal;
+ color: #333;
+ padding: 0;
+ margin: 0 0 3px 0;
+}
+
+.checkbox {
+ background-color: transparent;
+ padding: 0;
+ border: 0;
+}
+
+.submit {
+ background-color: #000;
+ color: #fff;
+ font-weight: normal;
+ font-size: 10px;
+ border: 1px solid #fff;
+ margin: 0;
+ padding: 1px 5px 2px 5px;
+}
+</style>
+
+</head>
+<body>
+<h1><? echo $heading; ?></h1>
+
+<div align='center'><table><tr>
+<td></td><td width='220px'>Username</td> <td width='220px'>Email</td> <td width='220px'>URL</td> <td>Data Registo</td></tr>
+<tr></tr><tr></tr>
+<?
+foreach ($dados as $row) {
+	echo "<td><a href='' target='self'>".img('images/no.gif')."</a></td>";
+    echo "<td>" .$row['nick']. "</td>";
+    echo "<td>" .$row['mail']. "</td>";
+    echo "<td>" .$row['url']. "</td>";
+    echo "<td>" .$row['data']. "</td>";    			
+}
+?>
+</table></div>
+<? echo $pagination; ?>
+</body>
+</html>



From joaopedro at mail.berlios.de  Sat Nov 15 00:55:41 2008
From: joaopedro at mail.berlios.de (joaopedro at mail.berlios.de)
Date: Sat, 15 Nov 2008 00:55:41 +0100
Subject: [Pintassilgo-commits] r9 - in trunk/pintassilgo/system/application:
	controllers views
Message-ID: <200811142355.mAENtfA5002495@sheep.berlios.de>

Author: joaopedro
Date: 2008-11-15 00:55:38 +0100 (Sat, 15 Nov 2008)
New Revision: 9

Modified:
   trunk/pintassilgo/system/application/controllers/users.php
   trunk/pintassilgo/system/application/views/users_all.php
Log:
Update controllers->users

Modified: trunk/pintassilgo/system/application/controllers/users.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/users.php	2008-11-14 23:42:51 UTC (rev 8)
+++ trunk/pintassilgo/system/application/controllers/users.php	2008-11-14 23:55:38 UTC (rev 9)
@@ -3,6 +3,8 @@
 	
 	function index()
 	{
+		/* trabalhar pagina??o */
+		
 		$data['title'] 		= "Pintassilgo";
 		$data['heading'] 	= "Pintassilgo - Ver users";
 		
@@ -15,17 +17,21 @@
 
 		$config['base_url'] = 'index.php/users/';
 		$config['total_rows'] = $query->num_rows();
-		$config['per_page'] = '1';
+		$config['per_page'] = '20';
 
 		$this->pagination->initialize($config); 
 
 		$data['pagination'] = $this->pagination->create_links();
+		
 		$this->load->helper('html');
+		
 		$this->load->view('users_all', $data);
 	}
 	
 	function new_user()
 	{
+		/* fazer valida??es de seguran?a */
+		
 		$this->user 		= $_POST['username'];
 		$this->nick 		= $_POST['nick'];
 		$this->pass1 		= $_POST['pass1'];

Modified: trunk/pintassilgo/system/application/views/users_all.php
===================================================================
--- trunk/pintassilgo/system/application/views/users_all.php	2008-11-14 23:42:51 UTC (rev 8)
+++ trunk/pintassilgo/system/application/views/users_all.php	2008-11-14 23:55:38 UTC (rev 9)
@@ -403,15 +403,15 @@
 <div align='center'><table><tr>
 <td></td><td width='220px'>Username</td> <td width='220px'>Email</td> <td width='220px'>URL</td> <td>Data Registo</td></tr>
 <tr></tr><tr></tr>
-<?
-foreach ($dados as $row) {
-	echo "<td><a href='' target='self'>".img('images/no.gif')."</a></td>";
+<? foreach ($dados as $row) {
+	echo "<tr>";
+	echo "<td><a href='index.php/users/remove_user/".$row['ID']."' target='self'>".img('images/no.gif')."</a></td>";
     echo "<td>" .$row['nick']. "</td>";
     echo "<td>" .$row['mail']. "</td>";
     echo "<td>" .$row['url']. "</td>";
-    echo "<td>" .$row['data']. "</td>";    			
-}
-?>
+    echo "<td>" .$row['data']. "</td>";
+    echo "</tr>";	
+} ?>
 </table></div>
 <? echo $pagination; ?>
 </body>



From joaopedro at mail.berlios.de  Sat Nov 15 02:18:51 2008
From: joaopedro at mail.berlios.de (joaopedro at mail.berlios.de)
Date: Sat, 15 Nov 2008 02:18:51 +0100
Subject: [Pintassilgo-commits] r12 - in
	trunk/pintassilgo/system/application: controllers views
Message-ID: <200811150118.mAF1IpU6014373@sheep.berlios.de>

Author: joaopedro
Date: 2008-11-15 02:18:48 +0100 (Sat, 15 Nov 2008)
New Revision: 12

Added:
   trunk/pintassilgo/system/application/views/perfil.php
Modified:
   trunk/pintassilgo/system/application/controllers/users.php
   trunk/pintassilgo/system/application/views/users_all.php
Log:
Update controllers->users / views->users_all / views->perfil

Modified: trunk/pintassilgo/system/application/controllers/users.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 01:02:42 UTC (rev 11)
+++ trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 01:18:48 UTC (rev 12)
@@ -5,7 +5,7 @@
 	{
 		/* trabalhar pagina??o */
 		
-		$data['title'] 		= "Pintassilgo";
+		$data['title'] 		= "Pintassilgo - Agregador de Feeds";
 		$data['heading'] 	= "Pintassilgo - Ver users";
 		
 		$this->load->database();
@@ -64,5 +64,27 @@
 			echo "Tipo de dados inv?lido";
 	}
 
+	function perfil($id)
+	{
+		if(is_numeric($id)) {
+			$this->load->database();
+			$query = $this->db->query('SELECT * FROM `users` WHERE `ID` = "'.$id.'" LIMIT 1');
+			$data['dados_pessoais'] = $query->result_array();
+			$data['title'] 		= "Pintassilgo - Agregador de Feeds";
+			
+			foreach($data['dados_pessoais'] as $row) $nick = $row['nick'];
+			$data['heading'] 	= "Pintassilgo - Perfil de " . $nick;
+			
+			$query = $this->db->query('SELECT * FROM `feed` WHERE `user_id` = "'.$id.'"');
+			
+			$data['dados_feeds'] = $query->result_array();
+			
+			$this->load->view('perfil', $data);
+		}
+	}
+			
+			
+	
+
 }
 ?>

Added: trunk/pintassilgo/system/application/views/perfil.php
===================================================================
--- trunk/pintassilgo/system/application/views/perfil.php	2008-11-15 01:02:42 UTC (rev 11)
+++ trunk/pintassilgo/system/application/views/perfil.php	2008-11-15 01:18:48 UTC (rev 12)
@@ -0,0 +1,438 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+<meta http-equiv="content-type" content="text/html; charset=utf-8" />
+<title><?php echo $title;?></title>
+
+<style>body {
+ margin: 0;
+ padding: 0;
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 14px;
+ color: #4F5155;
+ background-color: #fff;
+}
+
+a {
+ color: #003399;
+ background-color: transparent;
+ text-decoration: none;
+ font-weight: normal;
+}
+a:visited {
+ color: #003399;
+ background-color: transparent;
+ text-decoration: none;
+}
+a:hover {
+ color: #000;
+ text-decoration: none;
+ background-color: transparent;
+}
+
+#nav {
+ background-color: #5d5d5d;
+ margin: 0;
+ padding: 0;
+}
+#nav2 {
+ background: #fff url(images/nav_bg.jpg) repeat-x left top;
+ padding: 0 240px 0 0;
+ margin: 0;
+ text-align: right;
+}
+#nav_inner {
+ background-color: transparent;
+ padding: 8px 12px 0 20px;
+ margin: 0;
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 11px;
+}
+
+#nav_inner h3 {
+ font-size: 12px;
+ color: #fff;
+ margin: 0;
+ padding: 0;
+}
+
+#nav_inner .td_sep {
+ background: transparent url(images/nav_separator.jpg) repeat-y left top;
+ width: 25%;
+ padding: 0 0 0 20px;
+}
+#nav_inner .td {
+ width: 25%;
+}
+#nav_inner p {
+ color: #eee;
+ background-color: transparent;
+ padding:0;
+ margin: 0 0 10px 0;
+}
+#nav_inner ul {
+ list-style-image: url(images/arrow.gif);
+ padding: 0 0 0 18px;
+ margin: 8px 0 12px 0;
+}
+#nav_inner li {
+ padding: 0;
+ margin: 0 0 4px 0;
+}
+
+#nav_inner a {
+ color: #eee;
+ background-color: transparent;
+ text-decoration: none;
+ font-weight: normal;
+}
+
+#nav_inner a:visited {
+ color: #eee;
+ background-color: transparent;
+ text-decoration: none;
+}
+
+#nav_inner a:hover {
+ color: #ccc;
+ text-decoration: none;
+ background-color: transparent;
+}
+
+#masthead {
+ margin: 0 40px 0 35px;
+ padding: 0 0 0 6px;
+ border-bottom: 1px solid #999;
+}
+
+#masthead h1 {
+background-color: transparent;
+color: #003399;
+font-size: 18px;
+font-weight: normal;
+margin: 0;
+padding: 0 0 6px 0;
+}
+
+#searchbox {
+ background-color: transparent;
+ padding: 6px 40px 0 0;
+ text-align: right;
+ font-size: 10px;
+ color: #666;
+}
+
+#img_welcome {
+ border-bottom: 1px solid #D0D0D0;
+ margin: 0 40px 0 40px;
+ padding: 0;
+ text-align: center;
+}
+
+#content {
+ margin: 20px 40px 0 40px;
+ padding: 0;
+}
+
+#content p {
+ margin: 10px 20px 12px 0;
+}
+
+#content h1 {
+color: #333;
+background-color: #efefef;
+font-weight: normal;
+font-size: 22px;
+margin: 0 0 15px 0;
+padding: 3px 2px 3px 10px;
+}
+
+#content h2 {
+ background-color: transparent;
+ border-bottom: 1px solid #D0D0D0;
+ color: #444;
+ font-size: 16px;
+ font-weight: bold;
+ margin: 24px 0 2px 0;
+ padding: 5px 0 6px 0;
+}
+
+#content h3 {
+ background-color: transparent;
+ color: #333;
+ font-size: 14px;
+ font-weight: bold;
+ margin: 22px 0 12px 0;
+ padding: 0 0 0 0;
+}
+
+#content h4 {
+ background-color: transparent;
+ color: #444;
+ font-size: 14px;
+ font-weight: bold;
+ margin: 22px 0 0 0;
+ padding: 0 0 0 0;
+}
+
+#content img {
+ margin: auto;
+ padding: 0;
+}
+
+#content code {
+ font-family: Monaco, Verdana, Sans-serif;
+ font-size: 12px;
+ background-color: #f9f9f9;
+ border: 1px solid #D0D0D0;
+ color: #002166;
+ display: block;
+ margin: 14px 0 14px 0;
+ padding: 12px 10px 12px 10px;
+}
+
+#content pre {
+ font-family: Monaco, Verdana, Sans-serif;
+ font-size: 12px;
+ background-color: #f9f9f9;
+ border: 1px solid #D0D0D0;
+ color: #002166;
+ display: block;
+ margin: 14px 0 14px 0;
+ padding: 12px 10px 12px 10px;
+}
+
+#content .path {
+ background-color: #EBF3EC;
+ border: 1px solid #99BC99;
+ color: #005702;
+ text-align: center;
+ margin: 0 0 14px 0;
+ padding: 5px 10px 5px 8px;
+}
+
+#content dfn {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ color: #00620C;
+ font-weight: bold;
+ font-style: normal;
+}
+#content var {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ color: #8F5B00;
+ font-weight: bold;
+ font-style: normal;
+}
+#content samp {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ color: #480091;
+ font-weight: bold;
+ font-style: normal;
+}
+#content kbd {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ color: #A70000;
+ font-weight: bold;
+ font-style: normal;
+}
+
+#content ul {
+ list-style-image: url(images/arrow.gif);
+ padding: 0 0 0 18px;
+ margin: 8px 0 12px 0;
+}
+
+#content li {
+ padding: 0;
+ margin: 0 0 6px 0;
+}
+
+#content li p {
+ margin-left: 0;
+ margin-right: 0;
+}
+
+#content .tableborder {
+ border: 1px solid #999;
+}
+#content th {
+ font-weight: bold;
+ text-align: left;
+ font-size: 12px;
+ background-color: #666;
+ color: #fff;
+ padding: 4px;
+}
+
+#content .td {
+ font-weight: normal;
+ font-size: 12px;
+ padding: 6px;
+ background-color: #f3f3f3;
+}
+
+#content .tdpackage {
+ font-weight: normal;
+ font-size: 12px;
+}
+
+#content .important {
+ background: #FBE6F2;
+ border: 1px solid #D893A1;
+ color: #333;
+ margin: 10px 0 5px 0;
+ padding: 10px;
+}
+
+#content .important p {
+ margin: 6px 0 8px 0;
+ padding: 0;
+}
+
+#content .important .leftpad {
+ margin: 6px 0 8px 0;
+ padding-left: 20px;
+}
+
+#content .critical {
+ background: #FBE6F2;
+ border: 1px solid #E68F8F;
+ color: #333;
+ margin: 10px 0 5px 0;
+ padding: 10px;
+}
+
+#content .critical p {
+ margin: 5px 0 6px 0;
+ padding: 0;
+}
+
+
+#footer {
+background-color: transparent;
+font-size: 10px;
+padding: 16px 0 15px 0;
+margin: 20px 0 0 0;
+text-align: center;
+}
+
+#footer p {
+ font-size: 10px;
+ color: #999;
+ text-align: center;
+}
+#footer address {
+ font-style: normal;
+}
+
+.center {
+ text-align: center;
+}
+
+img {
+ padding:0;
+ border: 0;
+ margin: 0;
+}
+
+.nopad {
+ padding:0;
+ border: 0;
+ margin: 0;
+}
+
+
+form {
+ margin: 0;
+ padding: 0;
+}
+
+.input {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 11px;
+ color: #333;
+ border: 1px solid #B3B4BD;
+ width: 100%;
+ font-size: 11px;
+ height: 1.5em;
+ padding: 0;
+ margin: 0;
+}
+
+.textarea {
+ font-family: Lucida Grande, Verdana, Geneva, Sans-serif;
+ font-size: 14px;
+ color: #143270;
+ background-color: #f9f9f9;
+ border: 1px solid #B3B4BD;
+ width: 100%;
+ padding: 0;
+ margin: 0;
+}
+
+.select {
+ background-color: #fff;
+ font-size:  11px;
+ font-weight: normal;
+ color: #333;
+ padding: 0;
+ margin: 0 0 3px 0;
+}
+
+.checkbox {
+ background-color: transparent;
+ padding: 0;
+ border: 0;
+}
+
+.submit {
+ background-color: #000;
+ color: #fff;
+ font-weight: normal;
+ font-size: 10px;
+ border: 1px solid #fff;
+ margin: 0;
+ padding: 1px 5px 2px 5px;
+}
+</style>
+
+</head>
+<body>
+<h1><? echo $heading; ?></h1>
+
+<div align='center'><table><tr>
+
+<?
+echo "<h2>Dados Pessoais</h2>";
+foreach ($dados_pessoais as $row) {
+
+    echo "Nome de utilizador: ".$row['nick'] ."<br />";
+    echo "E-mail: ". $row['mail'] ."<br />";
+    echo "URL: ".$row['url'] ."<br />";
+    echo "Membro desde: ".$row['data'] ."<br />";
+}
+echo "<h2>Feeds Aprovadas</h2>";
+foreach ($dados_feeds as $row) {
+	echo "URL: " . $row['url'] . "<br />";
+	echo "Descri??o: " . $row['description'] . "<br />";
+	echo "Avalia??o: " . $row['rating'] . "<br />";
+	
+	echo "<br /><br />";
+}
+echo "<h2>Estatisticas Individuais</h2>";
+//foreach ($estatisticas as $row) {
+	echo "Feeds Preferidas: (m?dulo em constru??o)<br />";
+	echo "Interesses: (m?dulo em constru??o)<br />";
+	
+//}
+
+echo "<h2>Utilizadores com as mesmas prefer?ncias</h2>";
+//foreach ($user_likes as $row) {
+	echo "avatar1   avatar2   avatar3";
+	
+//}
+?>
+</table></div>
+
+</body>
+</html>

Modified: trunk/pintassilgo/system/application/views/users_all.php
===================================================================
--- trunk/pintassilgo/system/application/views/users_all.php	2008-11-15 01:02:42 UTC (rev 11)
+++ trunk/pintassilgo/system/application/views/users_all.php	2008-11-15 01:18:48 UTC (rev 12)
@@ -400,8 +400,8 @@
 <body>
 <h1><? echo $heading; ?></h1>
 
-<div align='center'><table><tr>
-<td></td><td width='220px'>Username</td> <td width='220px'>Email</td> <td width='220px'>URL</td> <td>Data Registo</td></tr>
+<div align='center'><table border="0" cellspacing="0" cellpadding="0"><tr>
+<td></td><td width='220px'>Username</td> <td width='220px'>Email</td> <td width='auto'>URL</td> <td>Data Registo</td></tr>
 <tr></tr><tr></tr>
 <? foreach ($dados as $row) {
 	echo "<tr>";



From joaopedro at mail.berlios.de  Sat Nov 15 03:45:34 2008
From: joaopedro at mail.berlios.de (joaopedro at mail.berlios.de)
Date: Sat, 15 Nov 2008 03:45:34 +0100
Subject: [Pintassilgo-commits] r13 - in
	trunk/pintassilgo/system/application: controllers libraries
Message-ID: <200811150245.mAF2jYgC032364@sheep.berlios.de>

Author: joaopedro
Date: 2008-11-15 03:45:29 +0100 (Sat, 15 Nov 2008)
New Revision: 13

Added:
   trunk/pintassilgo/system/application/libraries/sessions.php
Modified:
   trunk/pintassilgo/system/application/controllers/users.php
Log:
Actualiza?\195?\167?\195?\163o dos ficheiros + add libraries->sessions

Modified: trunk/pintassilgo/system/application/controllers/users.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 01:18:48 UTC (rev 12)
+++ trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 02:45:29 UTC (rev 13)
@@ -52,16 +52,19 @@
 	
 	function remove_user($id)
 	{
+
 		/* necessita de sistema de permiss?es, verifica??o de existencia de id, de id eliminado, etc. */
-		
-		if(is_numeric($id))
+		$this->load->library('sessions');
+		$perms = $this->sessions->perms();
+		if(is_numeric($id) and $perms == 1)
 		{
 			$this->load->database();
 			$this->db->query('DELETE FROM `users` WHERE `ID` = "'.$id.'" LIMIT 1');
 			echo "Utilizador removido com sucesso.";
 		}
 		else
-			echo "Tipo de dados inv?lido";
+			if(!is_numeric($id)) echo "Tipo de dados inv?lido.";
+			else echo "N?o tem permiss?es para realizar essa ac??o.";
 	}
 
 	function perfil($id)

Added: trunk/pintassilgo/system/application/libraries/sessions.php
===================================================================
--- trunk/pintassilgo/system/application/libraries/sessions.php	2008-11-15 01:18:48 UTC (rev 12)
+++ trunk/pintassilgo/system/application/libraries/sessions.php	2008-11-15 02:45:29 UTC (rev 13)
@@ -0,0 +1,52 @@
+<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed'); 
+
+class sessions {
+	function create($email, $password)
+	{
+		/* verifica??o seguran?a */
+		$senha = md5($password);
+		$this->load->database();
+		$query = $this->db->query("SELECT * FROM `users` WHERE `mail` = '$email' AND `password` = '$senha' LIMIT 1");
+		
+		if($query->num_rows() > 0)
+		{
+			$_SESSION["login_user"] = $login;
+			$_SESSION["password_user"] = $senha;
+			
+			$query = $this->db->query('SELECT `perms` FROM `users` LIMIT 1');
+			$row = $query->row();
+			$_SESSION["id_user"] = $row->perms;
+			
+			return true;
+		}
+		else
+		{
+			return false;
+		}
+	}
+
+	function perms()
+	{
+		/* verifica??o dos dados enviados atrav?s das sessions */
+		
+		if (isset($_SESSION["id_user"]) AND isset($_SESSION["password_user"]) AND isset($_SESSION["login_user"])) {
+			$id = $_SESSION["id_user"];
+			$login = $_SESSION["login_user"];
+			$pass = $_SESSION["password_user"];
+			
+			$this->load->database();
+			$query = $this->db->query("SELECT * FROM `users` WHERE `ID` = '$id' AND `nick` = '$login' AND `password` = '$pass' LIMIT 1");
+			
+			foreach($query->result_array() as $row)
+				$level = $row['perms'];
+			
+			return $level;
+		}
+		else
+			return '2';	
+	}
+
+
+
+}
+?>



From joaopedro at mail.berlios.de  Sat Nov 15 04:11:58 2008
From: joaopedro at mail.berlios.de (joaopedro at mail.berlios.de)
Date: Sat, 15 Nov 2008 04:11:58 +0100
Subject: [Pintassilgo-commits] r15 - in
	trunk/pintassilgo/system/application: controllers libraries
Message-ID: <200811150311.mAF3BwIr005467@sheep.berlios.de>

Author: joaopedro
Date: 2008-11-15 04:11:56 +0100 (Sat, 15 Nov 2008)
New Revision: 15

Modified:
   trunk/pintassilgo/system/application/controllers/users.php
   trunk/pintassilgo/system/application/libraries/sessions.php
Log:
Actualiza?\195?\167?\195?\163o dos ficheiros

Modified: trunk/pintassilgo/system/application/controllers/users.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 02:49:35 UTC (rev 14)
+++ trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 03:11:56 UTC (rev 15)
@@ -9,7 +9,7 @@
 		$data['heading'] 	= "Pintassilgo - Ver users";
 		
 		$this->load->database();
-		$query = $this->db->query('SELECT * FROM `users`');
+		$query = $this->db->query('SELECT * FROM `users` WHERE `active` = 1');
 		
 		$data['dados'] = $query->result_array() ;
 		
@@ -53,13 +53,13 @@
 	function remove_user($id)
 	{
 
-		/* necessita de sistema de permiss?es, verifica??o de existencia de id, de id eliminado, etc. */
+		/* verifica??o de existencia de id e de id eliminado, etc. */
 		$this->load->library('sessions');
 		$perms = $this->sessions->perms();
-		if(is_numeric($id) and $perms == 1)
+		if(is_numeric($id) and $perms == 2)
 		{
 			$this->load->database();
-			$this->db->query('DELETE FROM `users` WHERE `ID` = "'.$id.'" LIMIT 1');
+			$this->db->query('UPDATE `users` SET `active` = "0" WHERE `ID` = "'.$id.'" AND `active` = 1 LIMIT 1');
 			echo "Utilizador removido com sucesso.";
 		}
 		else
@@ -71,7 +71,7 @@
 	{
 		if(is_numeric($id)) {
 			$this->load->database();
-			$query = $this->db->query('SELECT * FROM `users` WHERE `ID` = "'.$id.'" LIMIT 1');
+			$query = $this->db->query('SELECT * FROM `users` WHERE `ID` = "'.$id.'" AND `active` = 1 LIMIT 1');
 			$data['dados_pessoais'] = $query->result_array();
 			$data['title'] 		= "Pintassilgo - Agregador de Feeds";
 			

Modified: trunk/pintassilgo/system/application/libraries/sessions.php
===================================================================
--- trunk/pintassilgo/system/application/libraries/sessions.php	2008-11-15 02:49:35 UTC (rev 14)
+++ trunk/pintassilgo/system/application/libraries/sessions.php	2008-11-15 03:11:56 UTC (rev 15)
@@ -38,7 +38,7 @@
 			$query = $this->db->query("SELECT * FROM `users` WHERE `ID` = '$id' AND `nick` = '$login' AND `password` = '$pass' LIMIT 1");
 			
 			foreach($query->result_array() as $row)
-				$level = $row['perms'];
+				$level = $row['admin'];
 			
 			return $level;
 		}



From joaopedro at mail.berlios.de  Sat Nov 15 05:55:46 2008
From: joaopedro at mail.berlios.de (joaopedro at mail.berlios.de)
Date: Sat, 15 Nov 2008 05:55:46 +0100
Subject: [Pintassilgo-commits] r19 - in
	trunk/pintassilgo/system/application: controllers libraries
Message-ID: <200811150455.mAF4tkjY019934@sheep.berlios.de>

Author: joaopedro
Date: 2008-11-15 05:55:44 +0100 (Sat, 15 Nov 2008)
New Revision: 19

Modified:
   trunk/pintassilgo/system/application/controllers/users.php
   trunk/pintassilgo/system/application/libraries/dbstatements.php
Log:
update dbstatements & users

Modified: trunk/pintassilgo/system/application/controllers/users.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 04:50:14 UTC (rev 18)
+++ trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 04:55:44 UTC (rev 19)
@@ -1,6 +1,12 @@
 <?php
 class Users extends Controller {
 	
+	public function __construct() {
+        parent::__construct();
+        $this->load->library('dbstatements');
+        $this->load->library('sessions');
+    }
+	
 	function index()
 	{
 		/* trabalhar pagina??o */
@@ -18,7 +24,7 @@
 		$config['total_rows'] = $query->num_rows();
 		$config['per_page'] = '20';
 
-		$this->pagination->initialize($config); 
+		$this->pagination->initialize($config);
 
 		$data['pagination'] = $this->pagination->create_links();
 		
@@ -53,11 +59,11 @@
 	{
 
 		/* verifica??o de existencia de id e de id eliminado, etc. */
-		$this->load->library('sessions');
+		
 		$perms = $this->sessions->perms();
-		if(is_numeric($id) and $perms == 2)
+		if(is_numeric($id) and $perms == 1)
 		{
-			$this->db->query('UPDATE `users` SET `active` = "0" WHERE `ID` = "'.$id.'" AND `active` = 1 LIMIT 1');
+			$this->db->query($this->dbstatements->ps_update_rem_user, array($id));
 			echo "Utilizador removido com sucesso.";
 		}
 		else
@@ -68,16 +74,15 @@
 	function perfil($id)
 	{
 		if(is_numeric($id)) {
-			$query = $this->db->query('SELECT * FROM `users` WHERE `ID` = "'.$id.'" AND `active` = 1 LIMIT 1');
-			$data['dados_pessoais'] = $query->result_array();
+			$data['dados_pessoais'] = $this->db->query($this->dbstatements->ps_get_by_userid, array($id))->result_array();
+			foreach($data['dados_pessoais'] as $row)
+				$nick = $row['nick'];
+				
 			$data['title'] 		= "Pintassilgo - Agregador de Feeds";
-			
-			foreach($data['dados_pessoais'] as $row) $nick = $row['nick'];
 			$data['heading'] 	= "Pintassilgo - Perfil de " . $nick;
 			
-			$query = $this->db->query('SELECT * FROM `feed` WHERE `user_id` = "'.$id.'"');
+			$data['dados_feeds'] = $this->db->query($this->dbstatements->ps_get_feed_by_userid, array($id))->result_array();
 			
-			$data['dados_feeds'] = $query->result_array();
 			
 			$this->load->view('perfil', $data);
 		}

Modified: trunk/pintassilgo/system/application/libraries/dbstatements.php
===================================================================
--- trunk/pintassilgo/system/application/libraries/dbstatements.php	2008-11-15 04:50:14 UTC (rev 18)
+++ trunk/pintassilgo/system/application/libraries/dbstatements.php	2008-11-15 04:55:44 UTC (rev 19)
@@ -4,6 +4,9 @@
     var $ps_add_friends = 'UPDATE users SET friends = ? WHERE id = ?';
     var $ps_consult_friends = 'SELECT friends FROM users WHERE id = ?';
     var $ps_get_feed_body = 'SELECT body FROM content WHERE id = ?';
+    var $ps_get_by_userid = 'SELECT * FROM `users` WHERE `ID` = ? AND `active` = 1 LIMIT 1';
+    var $ps_get_feed_by_userid = 'SELECT * FROM `feed` WHERE `user_id` = ?';
+    var $ps_update_rem_user = 'UPDATE `users` SET `active` = "0" WHERE `ID` = ? AND `active` = "1" LIMIT 1';
     var $ps_insert_feed = 'INSERT INTO feed(url, description, user_id, source_name) VALUES (?, ?, ?, ?)';
 }
 ?>



From joaopedro at mail.berlios.de  Sat Nov 15 06:37:10 2008
From: joaopedro at mail.berlios.de (joaopedro at mail.berlios.de)
Date: Sat, 15 Nov 2008 06:37:10 +0100
Subject: [Pintassilgo-commits] r20 - in
	trunk/pintassilgo/system/application: controllers libraries
Message-ID: <200811150537.mAF5bA2B008470@sheep.berlios.de>

Author: joaopedro
Date: 2008-11-15 06:37:03 +0100 (Sat, 15 Nov 2008)
New Revision: 20

Modified:
   trunk/pintassilgo/system/application/controllers/users.php
   trunk/pintassilgo/system/application/libraries/dbstatements.php
Log:
Update users & dbstatements

Modified: trunk/pintassilgo/system/application/controllers/users.php
===================================================================
--- trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 04:55:44 UTC (rev 19)
+++ trunk/pintassilgo/system/application/controllers/users.php	2008-11-15 05:37:03 UTC (rev 20)
@@ -46,10 +46,9 @@
 		$this->data_nasc	= $_POST['dia'] ."-".$_POST['mes']."-".$_POST['ano'];
 		$this->areas 		= $_POST['areas'];
 		$this->data			= date('d-m-Y');
+		
+		$query = $this->db->query($this->dbstatements->ps_insert_newuser, array($this->nick, $this->pass, $this->mail, $this->blog_url, $this->data_nasc, $this->areas, $this->data));
 
-		$query = $this->db->query("INSERT INTO `pintassilgo` (`ID`, `nick`, `password`, `mail`, `url`, `data_nasc`, `areas`)
-		VALUES (NULL, '".$this->nick."', '".$this->pass."', '".$this->mail."', '".$this->blog_url."', '".$this->data_nasc."', '".$this->areas."', '".$this->data."')");
-
 		$mensagem = "O utilizador ". $this->nick ." foi introduzido com sucesso na base de dados.";
 		
 		echo $mensagem;

Modified: trunk/pintassilgo/system/application/libraries/dbstatements.php
===================================================================
--- trunk/pintassilgo/system/application/libraries/dbstatements.php	2008-11-15 04:55:44 UTC (rev 19)
+++ trunk/pintassilgo/system/application/libraries/dbstatements.php	2008-11-15 05:37:03 UTC (rev 20)
@@ -8,5 +8,6 @@
     var $ps_get_feed_by_userid = 'SELECT * FROM `feed` WHERE `user_id` = ?';
     var $ps_update_rem_user = 'UPDATE `users` SET `active` = "0" WHERE `ID` = ? AND `active` = "1" LIMIT 1';
     var $ps_insert_feed = 'INSERT INTO feed(url, description, user_id, source_name) VALUES (?, ?, ?, ?)';
+    var $ps_insert_newuser = 'INSERT INTO `pintassilgo` (`ID`, `nick`, `password`, `mail`, `url`, `data_nasc`, `areas`) VALUES (NULL, ?, ?, ?, ?, ?, ?)';
 }
 ?>



From xbrunox at mail.berlios.de  Sat Nov 15 14:32:23 2008
From: xbrunox at mail.berlios.de (xbrunox at mail.berlios.de)
Date: Sat, 15 Nov 2008 14:32:23 +0100
Subject: [Pintassilgo-commits] r21 - in trunk: . nbproject nbproject/private
Message-ID: <200811151332.mAFDWNLi000764@sheep.berlios.de>

Author: xbrunox
Date: 2008-11-15 14:32:07 +0100 (Sat, 15 Nov 2008)
New Revision: 21

Added:
   trunk/nbproject/
   trunk/nbproject/private/
   trunk/nbproject/private/private.properties
   trunk/nbproject/project.properties
   trunk/nbproject/project.xml
Modified:
   trunk/
Log:
Added class utils


Property changes on: trunk
___________________________________________________________________
Name: svn:ignore
   + .nbproject


Added: trunk/nbproject/private/private.properties
===================================================================
--- trunk/nbproject/private/private.properties	2008-11-15 05:37:03 UTC (rev 20)
+++ trunk/nbproject/private/private.properties	2008-11-15 13:32:07 UTC (rev 21)
@@ -0,0 +1,5 @@
+copy.src.files=false
+copy.src.target=/var/www/pintassilgo
+index.file=pintassilgo/index.php
+run.as=LOCAL
+url=http://localhost/pintassilgo/pintassilgo/

Added: trunk/nbproject/project.properties
===================================================================
--- trunk/nbproject/project.properties	2008-11-15 05:37:03 UTC (rev 20)
+++ trunk/nbproject/project.properties	2008-11-15 13:32:07 UTC (rev 21)
@@ -0,0 +1,6 @@
+include.path=${php.global.include.path}
+source.encoding=UTF-8
+src.dir=.
+tags.asp=false
+tags.short=true
+web.root=.

Added: trunk/nbproject/project.xml
===================================================================
--- trunk/nbproject/project.xml	2008-11-15 05:37:03 UTC (rev 20)
+++ trunk/nbproject/project.xml	2008-11-15 13:32:07 UTC (rev 21)
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project xmlns="http://www.netbeans.org/ns/project/1">
+    <type>org.netbeans.modules.php.project</type>
+    <configuration>
+        <data xmlns="http://www.netbeans.org/ns/php-project/1">
+            <name>pintassilgo</name>
+        </data>
+    </configuration>
+</project>



From xbrunox at mail.berlios.de  Sat Nov 15 14:39:59 2008
From: xbrunox at mail.berlios.de (xbrunox at mail.berlios.de)
Date: Sat, 15 Nov 2008 14:39:59 +0100
Subject: [Pintassilgo-commits] r22 - trunk
Message-ID: <200811151339.mAFDdxIi001128@sheep.berlios.de>

Author: xbrunox
Date: 2008-11-15 14:39:57 +0100 (Sat, 15 Nov 2008)
New Revision: 22

Removed:
   trunk/nbproject/
Log:
Removed nbproject added by mistake, again...



From xbrunox at mail.berlios.de  Sat Nov 15 16:36:05 2008
From: xbrunox at mail.berlios.de (xbrunox at mail.berlios.de)
Date: Sat, 15 Nov 2008 16:36:05 +0100
Subject: [Pintassilgo-commits] r23 - in trunk: .
	pintassilgo/system/application/libraries
Message-ID: <200811151536.mAFFa59c010180@sheep.berlios.de>

Author: xbrunox
Date: 2008-11-15 16:36:03 +0100 (Sat, 15 Nov 2008)
New Revision: 23

Added:
   trunk/pintassilgo/system/application/libraries/utils.php
Modified:
   trunk/
Log:
Added utils.php library.


Property changes on: trunk
___________________________________________________________________
Name: svn:ignore
   - .nbproject

   + nbproject
.nbproject


Added: trunk/pintassilgo/system/application/libraries/utils.php
===================================================================
--- trunk/pintassilgo/system/application/libraries/utils.php	2008-11-15 13:39:57 UTC (rev 22)
+++ trunk/pintassilgo/system/application/libraries/utils.php	2008-11-15 15:36:03 UTC (rev 23)
@@ -0,0 +1,25 @@
+<?php
+/* 
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+
+/**
+ * Description of utils
+ *
+ * @author bruno
+ */
+class utils {
+
+    // I do not know off any function that does this, so i implemented it myself
+    function array_rem_elem($array, $element) {
+        foreach($array as $key => $value) {
+            if($value == $element) {
+                unset($array[$key]);
+                break;
+            }
+        }
+        return array_values($array);
+    }
+}
+?>



